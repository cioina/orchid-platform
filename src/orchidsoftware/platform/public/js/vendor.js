/*! For license information please see vendor.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e){},"0tw5":function(t,e,n){n("Fp/H")},"19Vz":function(t,e,n){!function(t){function e(t){t.state.placeholder&&(t.state.placeholder.parentNode.removeChild(t.state.placeholder),t.state.placeholder=null)}function n(t){e(t);var n=t.state.placeholder=document.createElement("pre");n.style.cssText="height: 0; overflow: visible",n.style.direction=t.getOption("direction"),n.className="CodeMirror-placeholder CodeMirror-line-like";var r=t.getOption("placeholder");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),t.display.lineSpace.insertBefore(n,t.display.lineSpace.firstChild)}function r(t){i(t)&&n(t)}function o(t){var r=t.getWrapperElement(),o=i(t);r.className=r.className.replace(" CodeMirror-empty","")+(o?" CodeMirror-empty":""),o?n(t):e(t)}function i(t){return 1===t.lineCount()&&""===t.getLine(0)}t.defineOption("placeholder","",(function(n,i,a){var s=a&&a!=t.Init;if(i&&!s)n.on("blur",r),n.on("change",o),n.on("swapDoc",o),o(n);else if(!i&&s){n.off("blur",r),n.off("change",o),n.off("swapDoc",o),e(n);var u=n.getWrapperElement();u.className=u.className.replace(" CodeMirror-empty","")}i&&!n.hasFocus()&&r(n)}))}(n("VrN/"))},"1eCo":function(t,e,n){!function(t){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",(function(r,o){var i,a,s=r.indentUnit,u={},l=o.htmlMode?e:n;for(var c in l)u[c]=l[c];for(var c in o)u[c]=o[c];function f(t,e){function n(n){return e.tokenize=n,n(t,e)}var r=t.next();return"<"==r?t.eat("!")?t.eat("[")?t.match("CDATA[")?n(h("atom","]]>")):null:t.match("--")?n(h("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),n(function t(e){return function(n,r){for(var o;null!=(o=n.next());){if("<"==o)return r.tokenize=t(e+1),r.tokenize(n,r);if(">"==o){if(1==e){r.tokenize=f;break}return r.tokenize=t(e-1),r.tokenize(n,r)}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),e.tokenize=h("meta","?>"),"meta"):(i=t.eat("/")?"closeTag":"openTag",e.tokenize=d,"tag bracket"):"&"==r?(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error":(t.eatWhile(/[^&<]/),null)}function d(t,e){var n,r,o=t.next();if(">"==o||"/"==o&&t.eat(">"))return e.tokenize=f,i=">"==o?"endTag":"selfcloseTag","tag bracket";if("="==o)return i="equals",null;if("<"==o){e.tokenize=f,e.state=v,e.tagName=e.tagStart=null;var a=e.tokenize(t,e);return a?a+" tag error":"tag error"}return/[\'\"]/.test(o)?(e.tokenize=(n=o,(r=function(t,e){for(;!t.eol();)if(t.next()==n){e.tokenize=d;break}return"string"}).isInAttribute=!0,r),e.stringStartCol=t.column(),e.tokenize(t,e)):(t.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(t,e){return function(n,r){for(;!n.eol();){if(n.match(e)){r.tokenize=f;break}n.next()}return t}}function p(t,e,n){this.prev=t.context,this.tagName=e,this.indent=t.indented,this.startOfLine=n,(u.doNotIndent.hasOwnProperty(e)||t.context&&t.context.noIndent)&&(this.noIndent=!0)}function m(t){t.context&&(t.context=t.context.prev)}function g(t,e){for(var n;;){if(!t.context)return;if(n=t.context.tagName,!u.contextGrabbers.hasOwnProperty(n)||!u.contextGrabbers[n].hasOwnProperty(e))return;m(t)}}function v(t,e,n){return"openTag"==t?(n.tagStart=e.column(),y):"closeTag"==t?b:v}function y(t,e,n){return"word"==t?(n.tagName=e.current(),a="tag",_):u.allowMissingTagName&&"endTag"==t?(a="tag bracket",_(t,0,n)):(a="error",y)}function b(t,e,n){if("word"==t){var r=e.current();return n.context&&n.context.tagName!=r&&u.implicitlyClosed.hasOwnProperty(n.context.tagName)&&m(n),n.context&&n.context.tagName==r||!1===u.matchClosing?(a="tag",w):(a="tag error",x)}return u.allowMissingTagName&&"endTag"==t?(a="tag bracket",w(t,0,n)):(a="error",x)}function w(t,e,n){return"endTag"!=t?(a="error",w):(m(n),v)}function x(t,e,n){return a="error",w(t,0,n)}function _(t,e,n){if("word"==t)return a="attribute",k;if("endTag"==t||"selfcloseTag"==t){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==t||u.autoSelfClosers.hasOwnProperty(r)?g(n,r):(g(n,r),n.context=new p(n,r,o==n.indented)),v}return a="error",_}function k(t,e,n){return"equals"==t?C:(u.allowMissing||(a="error"),_(t,0,n))}function C(t,e,n){return"string"==t?S:"word"==t&&u.allowUnquoted?(a="string",_):(a="error",_(t,0,n))}function S(t,e,n){return"string"==t?S:_(t,0,n)}return f.isInText=!0,{startState:function(t){var e={tokenize:f,state:v,indented:t||0,tagName:null,tagStart:null,context:null};return null!=t&&(e.baseIndent=t),e},token:function(t,e){if(!e.tagName&&t.sol()&&(e.indented=t.indentation()),t.eatSpace())return null;i=null;var n=e.tokenize(t,e);return(n||i)&&"comment"!=n&&(a=null,e.state=e.state(i||n,t,e),a&&(n="error"==a?n+" error":a)),n},indent:function(e,n,r){var o=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(o&&o.noIndent)return t.Pass;if(e.tokenize!=d&&e.tokenize!=f)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==u.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var i=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(i&&i[1])for(;o;){if(o.tagName==i[2]){o=o.prev;break}if(!u.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(i)for(;o;){var a=u.contextGrabbers[o.tagName];if(!a||!a.hasOwnProperty(i[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(t){t.state==C&&(t.state=_)},xmlCurrentTag:function(t){return t.tagName?{name:t.tagName,close:"closeTag"==t.type}:null},xmlCurrentContext:function(t){for(var e=[],n=t.context;n;n=n.prev)n.tagName&&e.push(n.tagName);return e.reverse()}}})),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})}(n("VrN/"))},2:function(t,e,n){n("Y5Mo"),n("M8vm"),n("SnIs"),n("EVdn"),n("8L3F"),n("SYky"),n("eeMe"),n("DjPg"),n("urRO"),n("mVcw"),n("I9E9"),n("6/sb"),n("5WJX"),n("vDqi"),n("4R65"),n("hKaO"),n("J1jt"),n("zwY0"),n("kzlf"),n("VrN/"),n("Sl0r"),t.exports=n("qkdH")},"27yB":function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");t.add("hr",(function(t){!function(t){t.addCommand("InsertHorizontalRule",(function(){t.execCommand("mceInsertContent",!1,"<hr />")}))}(t),function(t){t.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}}),t.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return t.execCommand("InsertHorizontalRule")}})}(t)}))}()},"2SVd":function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},"49sm":function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},"4R65":function(t,e,n){!function(t){"use strict";var e=Object.freeze;function n(t){var e,n,r,o;for(n=1,r=arguments.length;n<r;n++)for(e in o=arguments[n])t[e]=o[e];return t}Object.freeze=function(t){return t};var r=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function a(t){return t._leaflet_id=t._leaflet_id||++i,t._leaflet_id}function s(t,e,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function u(t,e,n){var r=e[1],o=e[0],i=r-o;return t===r&&n?t:((t-o)%i+i)%i+o}function l(){return!1}function c(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function f(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function d(t){return f(t).split(/\s+/)}function h(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?r(t.options):{}),e)t.options[n]=e[n];return t.options}function p(t,e,n){var r=[];for(var o in t)r.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(t,e){return t.replace(m,(function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r}))}var v=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function w(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var x=0;function _(t){var e=+new Date,n=Math.max(0,16-(e-x));return x=e+n,window.setTimeout(t,n)}var k=window.requestAnimationFrame||w("RequestAnimationFrame")||_,C=window.cancelAnimationFrame||w("CancelAnimationFrame")||w("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function S(t,e,n){if(!n||k!==_)return k.call(window,o(t,e));t.call(e)}function T(t){t&&C.call(window,t)}var E=(Object.freeze||Object)({freeze:e,extend:n,create:r,bind:o,lastId:i,stamp:a,throttle:s,wrapNum:u,falseFn:l,formatNum:c,trim:f,splitWords:d,setOptions:h,getParamString:p,template:g,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:k,cancelFn:C,requestAnimFrame:S,cancelAnimFrame:T});function O(){}O.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,i=r(o);for(var a in i.constructor=e,e.prototype=i,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(e[a]=this[a]);return t.statics&&(n(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=v(t)?t:[t];for(var e=0;e<t.length;e++)t[e],L.Mixin.Events}}(t.includes),n.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=n(r(i.options),t.options)),n(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},e},O.include=function(t){return n(this.prototype,t),this},O.mergeOptions=function(t){return n(this.prototype.options,t),this},O.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var A={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var o=0,i=(t=d(t)).length;o<i;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var o=0,i=(t=d(t)).length;o<i;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var o={fn:e,ctx:n},i=r,a=0,s=i.length;a<s;a++)if(i[a].fn===e&&i[a].ctx===n)return;i.push(o)},_off:function(t,e,n){var r,o,i;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(o=0,i=r.length;o<i;o++){var a=r[o];if(a.ctx===n&&a.fn===e)return a.fn=l,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(o,1)}}else{for(o=0,i=r.length;o<i;o++)r[o].fn=l;delete this._events[t]}},fire:function(t,e,r){if(!this.listens(t,r))return this;var o=n({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var i=this._events[t];if(i){this._firingCount=this._firingCount+1||1;for(var a=0,s=i.length;a<s;a++){var u=i[a];u.fn.call(u.ctx||this,o)}this._firingCount--}}return r&&this._propagateEvent(o),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var r in t)this.once(r,t[r],e);return this}var i=o((function(){this.off(t,e,n).off(t,i,n)}),this);return this.on(t,e,n).on(t,i,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[a(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[a(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,n({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var D=O.extend(A);function N(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var P=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function M(t,e,n){return t instanceof N?t:v(t)?new N(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new N(t.x,t.y):new N(t,e,n)}function R(t,e){if(t)for(var n=e?[t,e]:t,r=0,o=n.length;r<o;r++)this.extend(n[r])}function I(t,e){return!t||t instanceof R?t:new R(t,e)}function B(t,e){if(t)for(var n=e?[t,e]:t,r=0,o=n.length;r<o;r++)this.extend(n[r])}function F(t,e){return t instanceof B?t:new B(t,e)}function j(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function z(t,e,n){return t instanceof j?t:v(t)&&"object"!=typeof t[0]?3===t.length?new j(t[0],t[1],t[2]):2===t.length?new j(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new j(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new j(t,e,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(t){return this.clone()._add(M(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(M(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new N(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new N(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=P(this.x),this.y=P(this.y),this},distanceTo:function(t){var e=(t=M(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=M(t)).x===this.x&&t.y===this.y},contains:function(t){return t=M(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},R.prototype={extend:function(t){return t=M(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new N(this.min.x,this.max.y)},getTopRight:function(){return new N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof N?M(t):I(t))instanceof R?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=I(t);var e=this.min,n=this.max,r=t.min,o=t.max,i=o.x>=e.x&&r.x<=n.x,a=o.y>=e.y&&r.y<=n.y;return i&&a},overlaps:function(t){t=I(t);var e=this.min,n=this.max,r=t.min,o=t.max,i=o.x>e.x&&r.x<n.x,a=o.y>e.y&&r.y<n.y;return i&&a},isValid:function(){return!(!this.min||!this.max)}},B.prototype={extend:function(t){var e,n,r=this._southWest,o=this._northEast;if(t instanceof j)e=t,n=t;else{if(!(t instanceof B))return t?this.extend(z(t)||F(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||o?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new j(e.lat,e.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,o=Math.abs(e.lng-n.lng)*t;return new B(new j(e.lat-r,e.lng-o),new j(n.lat+r,n.lng+o))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof j||"lat"in t?z(t):F(t);var e,n,r=this._southWest,o=this._northEast;return t instanceof B?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=o.lat&&e.lng>=r.lng&&n.lng<=o.lng},intersects:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),i=o.lat>=e.lat&&r.lat<=n.lat,a=o.lng>=e.lng&&r.lng<=n.lng;return i&&a},overlaps:function(t){t=F(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),o=t.getNorthEast(),i=o.lat>e.lat&&r.lat<n.lat,a=o.lng>e.lng&&r.lng<n.lng;return i&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=F(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(t,e){return!!t&&(t=z(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return U.distance(this,z(t))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return F([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var H,q={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new R(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?u(t.lng,this.wrapLng,!0):t.lng;return new j(this.wrapLat?u(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,o=e.lng-n.lng;if(0===r&&0===o)return t;var i=t.getSouthWest(),a=t.getNorthEast();return new B(new j(i.lat-r,i.lng-o),new j(a.lat-r,a.lng-o))}},U=n({},q,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,o=e.lat*n,i=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=i*i+Math.cos(r)*Math.cos(o)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),W={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),o=Math.sin(r*e);return new N(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new j((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(H=6378137*Math.PI,new R([-H,-H],[H,H]))};function V(t,e,n,r){if(v(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function $(t,e,n,r){return new V(t,e,n,r)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new N((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var G=n({},U,{code:"EPSG:3857",projection:W,transformation:function(){var t=.5/(Math.PI*W.R);return $(t,.5,-t,.5)}()}),Y=n({},G,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Z(t,e){var n,r,o,i,a,s,u="";for(n=0,o=t.length;n<o;n++){for(r=0,i=(a=t[n]).length;r<i;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=e?Ot?"z":"x":""}return u||"M0 0"}var X=document.documentElement.style,J="ActiveXObject"in window,Q=J&&!document.addEventListener,tt="msLaunchUri"in navigator&&!("documentMode"in document),et=Dt("webkit"),nt=Dt("android"),rt=Dt("android 2")||Dt("android 3"),ot=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),it=nt&&Dt("Google")&&ot<537&&!("AudioNode"in window),at=!!window.opera,st=Dt("chrome"),ut=Dt("gecko")&&!et&&!at&&!J,lt=!st&&Dt("safari"),ct=Dt("phantom"),ft="OTransition"in X,dt=0===navigator.platform.indexOf("Win"),ht=J&&"transition"in X,pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,mt="MozPerspective"in X,gt=!window.L_DISABLE_3D&&(ht||pt||mt)&&!ft&&!ct,vt="undefined"!=typeof orientation||Dt("mobile"),yt=vt&&et,bt=vt&&pt,wt=!window.PointerEvent&&window.MSPointerEvent,xt=!(et||!window.PointerEvent&&!wt),_t=!window.L_NO_TOUCH&&(xt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),kt=vt&&at,Ct=vt&&ut,St=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",l,e),window.removeEventListener("testPassiveEventSupport",l,e)}catch(t){}return t},Et=!!document.createElement("canvas").getContext,Ot=!(!document.createElementNS||!K("svg").createSVGRect),At=!Ot&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Dt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Nt=(Object.freeze||Object)({ie:J,ielt9:Q,edge:tt,webkit:et,android:nt,android23:rt,androidStock:it,opera:at,chrome:st,gecko:ut,safari:lt,phantom:ct,opera12:ft,win:dt,ie3d:ht,webkit3d:pt,gecko3d:mt,any3d:gt,mobile:vt,mobileWebkit:yt,mobileWebkit3d:bt,msPointer:wt,pointer:xt,touch:_t,mobileOpera:kt,mobileGecko:Ct,retina:St,passiveEvents:Tt,canvas:Et,svg:Ot,vml:At}),Pt=wt?"MSPointerDown":"pointerdown",Mt=wt?"MSPointerMove":"pointermove",Lt=wt?"MSPointerUp":"pointerup",Rt=wt?"MSPointerCancel":"pointercancel",It=["INPUT","SELECT","OPTION"],Bt={},Ft=!1,jt=0;function zt(t,e,n,r){return"touchstart"===e?function(t,e,n){var r=o((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(It.indexOf(t.target.tagName)<0))return;Be(t)}Wt(t,e)}));t["_leaflet_touchstart"+n]=r,t.addEventListener(Pt,r,!1),Ft||(document.documentElement.addEventListener(Pt,Ht,!0),document.documentElement.addEventListener(Mt,qt,!0),document.documentElement.addEventListener(Lt,Ut,!0),document.documentElement.addEventListener(Rt,Ut,!0),Ft=!0)}(t,n,r):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Wt(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(Mt,r,!1)}(t,n,r):"touchend"===e&&function(t,e,n){var r=function(t){Wt(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Lt,r,!1),t.addEventListener(Rt,r,!1)}(t,n,r),this}function Ht(t){Bt[t.pointerId]=t,jt++}function qt(t){Bt[t.pointerId]&&(Bt[t.pointerId]=t)}function Ut(t){delete Bt[t.pointerId],jt--}function Wt(t,e){for(var n in t.touches=[],Bt)t.touches.push(Bt[n]);t.changedTouches=[t],e(t)}var Vt=wt?"MSPointerDown":xt?"pointerdown":"touchstart",$t=wt?"MSPointerUp":xt?"pointerup":"touchend",Gt="_leaflet_";function Yt(t,e,n){var r,o,i=!1;function a(t){var e;if(xt){if(!tt||"mouse"===t.pointerType)return;e=jt}else e=t.touches.length;if(!(e>1)){var n=Date.now(),a=n-(r||n);o=t.touches?t.touches[0]:t,i=a>0&&a<=250,r=n}}function s(t){if(i&&!o.cancelBubble){if(xt){if(!tt||"mouse"===t.pointerType)return;var n,a,s={};for(a in o)n=o[a],s[a]=n&&n.bind?n.bind(o):n;o=s}o.type="dblclick",o.button=0,e(o),r=null}}return t[Gt+Vt+n]=a,t[Gt+$t+n]=s,t[Gt+"dblclick"+n]=e,t.addEventListener(Vt,a,!!Tt&&{passive:!1}),t.addEventListener($t,s,!!Tt&&{passive:!1}),t.addEventListener("dblclick",e,!1),this}function Kt(t,e){var n=t[Gt+Vt+e],r=t[Gt+$t+e],o=t[Gt+"dblclick"+e];return t.removeEventListener(Vt,n,!!Tt&&{passive:!1}),t.removeEventListener($t,r,!!Tt&&{passive:!1}),tt||t.removeEventListener("dblclick",o,!1),this}var Zt,Xt,Jt,Qt,te,ee=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ne=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),re="webkitTransition"===ne||"OTransition"===ne?ne+"End":"transitionend";function oe(t){return"string"==typeof t?document.getElementById(t):t}function ie(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function ae(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function se(t){var e=t.parentNode;e&&e.removeChild(t)}function ue(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ce(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function fe(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=me(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function de(t,e){if(void 0!==t.classList)for(var n=d(e),r=0,o=n.length;r<o;r++)t.classList.add(n[r]);else if(!fe(t,e)){var i=me(t);pe(t,(i?i+" ":"")+e)}}function he(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,f((" "+me(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function ge(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ye(t,e,n){var r=e||new N(0,0);t.style[ee]=(ht?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function be(t,e){t._leaflet_pos=e,gt?ye(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function we(t){return t._leaflet_pos||new N(0,0)}if("onselectstart"in document)Zt=function(){Ae(window,"selectstart",Be)},Xt=function(){Ne(window,"selectstart",Be)};else{var xe=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Zt=function(){if(xe){var t=document.documentElement.style;Jt=t[xe],t[xe]="none"}},Xt=function(){xe&&(document.documentElement.style[xe]=Jt,Jt=void 0)}}function _e(){Ae(window,"dragstart",Be)}function ke(){Ne(window,"dragstart",Be)}function Ce(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Se(),Qt=t,te=t.style.outline,t.style.outline="none",Ae(window,"keydown",Se))}function Se(){Qt&&(Qt.style.outline=te,Qt=void 0,te=void 0,Ne(window,"keydown",Se))}function Te(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Ee(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Oe=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ne,TRANSITION_END:re,get:oe,getStyle:ie,create:ae,remove:se,empty:ue,toFront:le,toBack:ce,hasClass:fe,addClass:de,removeClass:he,setClass:pe,getClass:me,setOpacity:ge,testProp:ve,setTransform:ye,setPosition:be,getPosition:we,disableTextSelection:Zt,enableTextSelection:Xt,disableImageDrag:_e,enableImageDrag:ke,preventOutline:Ce,restoreOutline:Se,getSizedParentNode:Te,getScale:Ee});function Ae(t,e,n,r){if("object"==typeof e)for(var o in e)Pe(t,o,e[o],n);else for(var i=0,a=(e=d(e)).length;i<a;i++)Pe(t,e[i],n,r);return this}var De="_leaflet_events";function Ne(t,e,n,r){if("object"==typeof e)for(var o in e)Me(t,o,e[o],n);else if(e)for(var i=0,a=(e=d(e)).length;i<a;i++)Me(t,e[i],n,r);else{for(var s in t[De])Me(t,s,t[De][s]);delete t[De]}return this}function Pe(t,e,n,r){var o=e+a(n)+(r?"_"+a(r):"");if(t[De]&&t[De][o])return this;var i=function(e){return n.call(r||t,e||window.event)},s=i;xt&&0===e.indexOf("touch")?zt(t,e,i,o):!_t||"dblclick"!==e||!Yt||xt&&st?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",i,!!Tt&&{passive:!1}):"mouseenter"===e||"mouseleave"===e?(i=function(e){e=e||window.event,$e(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",i,!1)):("click"===e&&nt&&(i=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=qe&&n-qe;r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?Fe(t):(qe=n,e(t))}(t,s)}),t.addEventListener(e,i,!1)):"attachEvent"in t&&t.attachEvent("on"+e,i):Yt(t,i,o),t[De]=t[De]||{},t[De][o]=i}function Me(t,e,n,r){var o=e+a(n)+(r?"_"+a(r):""),i=t[De]&&t[De][o];if(!i)return this;xt&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(Pt,r,!1):"touchmove"===e?t.removeEventListener(Mt,r,!1):"touchend"===e&&(t.removeEventListener(Lt,r,!1),t.removeEventListener(Rt,r,!1))}(t,e,o):!_t||"dblclick"!==e||!Kt||xt&&st?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",i,!!Tt&&{passive:!1}):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,i,!1):"detachEvent"in t&&t.detachEvent("on"+e,i):Kt(t,o),t[De][o]=null}function Le(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ve(t),this}function Re(t){return Pe(t,"mousewheel",Le),this}function Ie(t){return Ae(t,"mousedown touchstart dblclick",Le),Pe(t,"click",We),this}function Be(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Fe(t){return Be(t),Le(t),this}function je(t,e){if(!e)return new N(t.clientX,t.clientY);var n=Ee(e),r=n.boundingClientRect;return new N((t.clientX-r.left)/n.x-e.clientLeft,(t.clientY-r.top)/n.y-e.clientTop)}var ze=dt&&st?2*window.devicePixelRatio:ut?window.devicePixelRatio:1;function He(t){return tt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var qe,Ue={};function We(t){Ue[t.type]=!0}function Ve(t){var e=Ue[t.type];return Ue[t.type]=!1,e}function $e(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var Ge=(Object.freeze||Object)({on:Ae,off:Ne,stopPropagation:Le,disableScrollPropagation:Re,disableClickPropagation:Ie,preventDefault:Be,stop:Fe,getMousePosition:je,getWheelDelta:He,fakeStop:We,skipped:Ve,isExternalTarget:$e,addListener:Ae,removeListener:Ne}),Ye=D.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=we(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),be(this._el,n),this.fire("step")},_complete:function(){T(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ke=D.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(z(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ne&&gt&&!kt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,re,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,r){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(z(t),e,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(gt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),o=this.getSize().divideBy(2),i=(t instanceof N?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/r),a=this.containerPointToLatLng(o.add(i));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():F(t);var n=M(e.paddingTopLeft||e.padding||[0,0]),r=M(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(r));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var i=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),o),s=this.project(t.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(i),o),zoom:o}},fitBounds:function(t,e){if(!(t=F(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=M(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){de(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){if(!1===(n=n||{}).animate||!gt)return this.setView(t,e,n);this._stop();var r=this.project(this.getCenter()),o=this.project(t),i=this.getSize(),a=this._zoom;t=z(t),e=void 0===e?a:e;var s=Math.max(i.x,i.y),u=s*this.getZoomScale(a,e),l=o.distanceTo(r)||1;function c(t){var e=(u*u-s*s+2.0164*(t?-1:1)*2.0164*l*l)/(2*(t?u:s)*2.0164*l),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function d(t){return(Math.exp(t)+Math.exp(-t))/2}var h=c(0);function p(t){return s*(d(h)*(f(e=h+1.42*t)/d(e))-f(h))/2.0164;var e}var m=Date.now(),g=(c(1)-h)/1.42,v=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0,n.noMoveStart),function n(){var i=(Date.now()-m)/v,u=function(t){return 1-Math.pow(1-t,1.5)}(i)*g;i<=1?(this._flyToFrame=S(n,this),this._move(this.unproject(r.add(o.subtract(r).multiplyBy(p(u)/l)),a),this.getScaleZoom(s/function(t){return s*(d(h)/d(h+1.42*t))}(u),a),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=F(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,F(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n=M((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=M(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),i=this.project(o),a=this.project(t),s=this.getPixelBounds(),u=s.getSize().divideBy(2),l=I([s.min.add(n),s.max.subtract(r)]);if(!l.contains(a)){this._enforcingBounds=!0;var c=i.subtract(a),f=M(a.x+c.x,a.y+c.y);(a.x<l.min.x||a.x>l.max.x)&&(f.x=i.x-c.x,c.x>0?f.x+=u.x-n.x:f.x-=u.x-r.x),(a.y<l.min.y||a.y>l.max.y)&&(f.y=i.y-c.y,c.y>0?f.y+=u.y-n.y:f.y-=u.y-r.y),this.panTo(this.unproject(f),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=n({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),i=e.divideBy(2).round(),a=r.divideBy(2).round(),s=i.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=n({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),r=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,r,t):navigator.geolocation.getCurrentPosition(e,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new j(t.coords.latitude,t.coords.longitude),n=e.toBounds(2*t.coords.accuracy),r=this._locateOptions;if(r.setView){var o=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(o,r.maxZoom):o)}var i={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(i[a]=t.coords[a]);this.fire("locationfound",i)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),se(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(T(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)se(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=ae("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new B(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=F(t),n=M(n||[0,0]);var r=this.getZoom()||0,o=this.getMinZoom(),i=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),l=I(this.project(s,r),this.project(a,r)).getSize(),c=gt?this.options.zoomSnap:1,f=u.x/l.x,d=u.y/l.y,h=e?Math.max(f,d):Math.min(f,d);return r=this.getScaleZoom(h,r),c&&(r=Math.round(r/(c/100))*(c/100),r=e?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(o,Math.min(i,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(z(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(M(t),e)},layerPointToLatLng:function(t){var e=M(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(z(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(F(t))},distance:function(t,e){return this.options.crs.distance(z(t),z(e))},containerPointToLayerPoint:function(t){return M(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return M(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(M(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return je(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");Ae(e,"scroll",this._onScroll,this),this._containerId=a(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&gt,de(t,"leaflet-container"+(_t?" leaflet-touch":"")+(St?" leaflet-retina":"")+(Q?" leaflet-oldie":"")+(lt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=ie(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(t.markerPane,"leaflet-zoom-hide"),de(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){be(this._mapPane,new N(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return T(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){be(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[a(this._container)]=this;var e=t?Ne:Ae;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),gt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){T(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,i=t.target||t.srcElement,s=!1;i;){if((n=this._targets[a(i)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!$e(i,t))break;if(r.push(n),o)break}if(i===this._container)break;i=i.parentNode}return r.length||s||o||!$e(i,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Ve(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||Ce(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,r){if("click"===t.type){var o=n({},t);o.type="preclick",this._fireDOMEvent(o,o.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,e))).length){var i=r[0];"contextmenu"===e&&i.listens(e,!0)&&Be(t);var a={originalEvent:t};if("keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type){var s=i.getLatLng&&(!i._radius||i._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(i.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?i.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(e,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return we(this._mapPane)||new N(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return I([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),o=this.getSize().divideBy(2),i=new R(r.subtract(o),r.add(o)),a=this._getBoundsOffset(i,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new R(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=I(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),o=r.min.subtract(t.min),i=r.max.subtract(t.max);return new N(this._rebound(o.x,-i.x),this._rebound(o.y,-i.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=gt?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){he(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=ae("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ee,n=this._proxy.style[e];ye(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){se(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ye(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(o)||(S((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&he(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),S((function(){this._moveEnd(!0)}),this))}}),Ze=O.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return de(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(se(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Xe=function(t){return new Ze(t)};Ke.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=ae("div",e+"control-container",this._container);function r(r,o){var i=e+r+" "+e+o;t[r+o]=ae("div",i,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)se(this._controlCorners[t]);se(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Je=Ze.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ze.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(a(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):he(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return he(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=ae("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Ie(e),Re(e);var r=this._section=ae("section",t+"-list");n&&(this._map.on("click",this.collapse,this),nt||Ae(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=ae("a",t+"-toggle",e);o.href="#",o.title="Layers",_t?(Ae(o,"click",Fe),Ae(o,"click",this.expand,this)):Ae(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=ae("div",t+"-base",r),this._separator=ae("div",t+"-separator",r),this._overlaysList=ae("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&a(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ue(this._baseLayersList),ue(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,o=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,o+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(a(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(e),e.layerId=a(t.layer),Ae(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var i=document.createElement("div");return n.appendChild(i),i.appendChild(e),i.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],o=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||o.push(e);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])&&this._map.removeLayer(o[i]);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])||this._map.addLayer(r[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qe=Ze.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=ae("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,o){var i=ae("a",n,r);return i.innerHTML=t,i.href="#",i.title=e,i.setAttribute("role","button"),i.setAttribute("aria-label",e),Ie(i),Ae(i,"click",Fe),Ae(i,"click",o,this),Ae(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";he(this._zoomInButton,e),he(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&de(this._zoomInButton,e)}});Ke.mergeOptions({zoomControl:!0}),Ke.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qe,this.addControl(this.zoomControl))}));var tn=Ze.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=ae("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=ae("div",e,n)),t.imperial&&(this._iScale=ae("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,o=3.2808399*t;o>5280?(e=o/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(o),this._updateScale(this._iScale,r+" ft",r/o))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),en=Ze.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=ae("div","leaflet-control-attribution"),Ie(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Ke.mergeOptions({attributionControl:!0}),Ke.addInitHook((function(){this.options.attributionControl&&(new en).addTo(this)})),Ze.Layers=Je,Ze.Zoom=Qe,Ze.Scale=tn,Ze.Attribution=en,Xe.layers=function(t,e,n){return new Je(t,e,n)},Xe.zoom=function(t){return new Qe(t)},Xe.scale=function(t){return new tn(t)},Xe.attribution=function(t){return new en(t)};var nn=O.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});nn.addTo=function(t,e){return t.addHandler(e,this),this};var rn,on={Events:A},an=_t?"touchstart mousedown":"mousedown",sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},un={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ln=D.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){h(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(Ae(this._dragStartTarget,an,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(),Ne(this._dragStartTarget,an,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!fe(this._element,"leaflet-zoom-anim")&&!(ln._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(ln._dragging=this,this._preventOutline&&Ce(this._element),_e(),Zt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,n=Te(this._element);this._startPoint=new N(e.clientX,e.clientY),this._parentScale=Ee(n),Ae(document,un[t.type],this._onMove,this),Ae(document,sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new N(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Be(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=we(this._element).subtract(n),de(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,T(this._animRequest),this._lastEvent=t,this._animRequest=S(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),be(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in he(document.body,"leaflet-dragging"),this._lastTarget&&(he(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),un)Ne(document,un[t],this._onMove,this),Ne(document,sn[t],this._onUp,this);ke(),Xt(),this._moved&&this._moving&&(T(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ln._dragging=!1}});function cn(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,o,i){var a,s,u,l=0;for(s=o+1;s<=i-1;s++)(u=mn(e[s],e[o],e[i],!0))>l&&(a=s,l=u);l>r&&(n[a]=1,t(e,n,r,o,a),t(e,n,r,a,i))}(t,r,e,0,n-1);var o,i=[];for(o=0;o<n;o++)r[o]&&i.push(t[o]);return i}(t=function(t,e){for(var n=[t[0]],r=1,o=0,i=t.length;r<i;r++)a=t[r],s=t[o],u=void 0,l=void 0,u=s.x-a.x,l=s.y-a.y,u*u+l*l>e&&(n.push(t[r]),o=r);var a,s,u,l;return o<i-1&&n.push(t[i-1]),n}(t,n),n)}function fn(t,e,n){return Math.sqrt(mn(t,e,n,!0))}function dn(t,e,n,r,o){var i,a,s,u=r?rn:pn(t,n),l=pn(e,n);for(rn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;s=pn(a=hn(t,e,i=u||l,n,o),n),i===u?(t=a,u=s):(e=a,l=s)}}function hn(t,e,n,r,o){var i,a,s=e.x-t.x,u=e.y-t.y,l=r.min,c=r.max;return 8&n?(i=t.x+s*(c.y-t.y)/u,a=c.y):4&n?(i=t.x+s*(l.y-t.y)/u,a=l.y):2&n?(i=c.x,a=t.y+u*(c.x-t.x)/s):1&n&&(i=l.x,a=t.y+u*(l.x-t.x)/s),new N(i,a,o)}function pn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function mn(t,e,n,r){var o,i=e.x,a=e.y,s=n.x-i,u=n.y-a,l=s*s+u*u;return l>0&&((o=((t.x-i)*s+(t.y-a)*u)/l)>1?(i=n.x,a=n.y):o>0&&(i+=s*o,a+=u*o)),s=t.x-i,u=t.y-a,r?s*s+u*u:new N(i,a)}function gn(t){return!v(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function vn(t){return gn(t)}var yn=(Object.freeze||Object)({simplify:cn,pointToSegmentDistance:fn,closestPointOnSegment:function(t,e,n){return mn(t,e,n)},clipSegment:dn,_getEdgeIntersection:hn,_getBitCode:pn,_sqClosestPointOnSegment:mn,isFlat:gn,_flat:vn});function bn(t,e,n){var r,o,i,a,s,u,l,c,f,d=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=pn(t[o],e);for(a=0;a<4;a++){for(c=d[a],r=[],o=0,i=(l=t.length)-1;o<l;i=o++)s=t[o],u=t[i],s._code&c?u._code&c||((f=hn(u,s,c,e,n))._code=pn(f,e),r.push(f)):(u._code&c&&((f=hn(u,s,c,e,n))._code=pn(f,e),r.push(f)),r.push(s));t=r}return t}var wn=(Object.freeze||Object)({clipPolygon:bn}),xn={project:function(t){return new N(t.lng,t.lat)},unproject:function(t){return new j(t.y,t.x)},bounds:new R([-180,-90],[180,90])},_n={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,o=this.R_MINOR/n,i=Math.sqrt(1-o*o),a=i*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),i/2);return r=-n*Math.log(Math.max(s,1e-10)),new N(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,o=this.R_MINOR/r,i=Math.sqrt(1-o*o),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=i*Math.sin(s),e=Math.pow((1-e)/(1+e),i/2),s+=l=Math.PI/2-2*Math.atan(a*e)-s;return new j(s*n,t.x*n/r)}},kn=(Object.freeze||Object)({LonLat:xn,Mercator:_n,SphericalMercator:W}),Cn=n({},U,{code:"EPSG:3395",projection:_n,transformation:function(){var t=.5/(Math.PI*_n.R);return $(t,.5,-t,.5)}()}),Sn=n({},U,{code:"EPSG:4326",projection:xn,transformation:$(1/180,1,-1/180,.5)}),Tn=n({},q,{projection:xn,transformation:$(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});q.Earth=U,q.EPSG3395=Cn,q.EPSG3857=G,q.EPSG900913=Y,q.EPSG4326=Sn,q.Simple=Tn;var En=D.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[a(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[a(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",(function(){e.off(n,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Ke.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=a(t);return this._layers[e]||(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this},removeLayer:function(t){var e=a(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&a(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?v(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[a(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=a(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var o=this._zoomBoundLayers[r].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var On=En.extend({initialize:function(t,e){var n,r;if(h(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return a(t)}}),An=On.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),On.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),On.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new B;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Dn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var o=M(r),i=M("shadow"===e&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return St&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Nn=Dn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Nn.imagePath||(Nn.imagePath=this._detectIconPath()),(this.options.imagePath||Nn.imagePath)+Dn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=ae("div","leaflet-default-icon-path",document.body),e=ie(t,"background-image")||ie(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Pn=nn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ln(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&he(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,i=we(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=I(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!u.contains(i)){var l=M((Math.max(u.max.x,i.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,i.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,i.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,i.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),be(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=S(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(T(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=we(e._icon),o=e._map.layerPointToLatLng(r);n&&be(n,r),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){T(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Mn=En.extend({options:{icon:new Nn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),de(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),i=!1;o!==this._shadow&&(this._removeShadow(),i=!0),o&&(de(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&i&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),se(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&se(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&be(this._icon,t),this._shadow&&be(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&ge(this._icon,t),this._shadow&&ge(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ln=En.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&t.hasOwnProperty("weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),Rn=Ln.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ln.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),In=Rn.extend({initialize:function(t,e,r){if("number"==typeof e&&(e=n({},r,{radius:e})),h(this,e),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ln.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var o=Math.PI/180,i=this._mRadius/U.R/o,a=n.project([e+i,t]),s=n.project([e-i,t]),u=a.add(s).divideBy(2),l=n.unproject(u).lat,c=Math.acos((Math.cos(i*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(c)||0===c)&&(c=i/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:u.x-n.project([l,t-c]).x,this._radiusY=u.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}}),Bn=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,o=null,i=mn,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],l=1,c=u.length;l<c;l++){var f=i(t,e=u[l-1],n=u[l],!0);f<r&&(r=f,o=i(t,e,n))}return o&&(o.distance=Math.sqrt(r)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,o,i,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(o=s[t],i=s[t+1],(r+=n=o.distanceTo(i))>e)return a=(r-e)/n,this._map.layerPointToLatLng([i.x-a*(i.x-o.x),i.y-a*(i.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=z(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new B,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return gn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=gn(t),r=0,o=t.length;r<o;r++)n?(e[r]=z(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new N(t,t);this._pxBounds=new R([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)])},_projectLatlngs:function(t,e,n){var r,o,i=t[0]instanceof j,a=t.length;if(i){for(o=[],r=0;r<a;r++)o[r]=this._map.latLngToLayerPoint(t[r]),n.extend(o[r]);e.push(o)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,o,i,a,s,u=this._parts;for(e=0,r=0,o=this._rings.length;e<o;e++)for(n=0,i=(s=this._rings[e]).length;n<i-1;n++)(a=dn(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==i-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=cn(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,o,i,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,i=this._parts.length;n<i;n++)for(r=0,o=(a=(s=this._parts[n]).length)-1;r<a;o=r++)if((e||0!==r)&&fn(t,s[o],s[r])<=u)return!0;return!1}});Bn._flat=vn;var Fn=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,o,i,a,s,u,l=this._rings[0],c=l.length;if(!c)return null;for(i=a=s=0,t=0,e=c-1;t<c;e=t++)n=l[t],r=l[e],o=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*o,s+=(n.y+r.y)*o,i+=3*o;return u=0===i?l[0]:[a/i,s/i],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Bn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof j&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Bn.prototype._setLatLngs.call(this,t),gn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return gn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new N(e,e);if(t=new R(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,o=0,i=this._rings.length;o<i;o++)(r=bn(this._rings[o],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,o,i,a,s,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,s=this._parts.length;o<s;o++)for(i=0,a=(u=(e=this._parts[o]).length)-1;i<u;a=i++)n=e[i],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(l=!l);return l||Bn.prototype._containsPoint.call(this,t,!0)}}),jn=An.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,o=v(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((r=o[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var i=this.options;if(i.filter&&!i.filter(t))return this;var a=zn(t,i);return a?(a.feature=Gn(t),a.defaultOptions=a.options,this.resetStyle(a),i.onEachFeature&&i.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=n({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function zn(t,e){var n,r,o,i,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],l=e&&e.pointToLayer,c=e&&e.coordsToLatLng||qn;if(!s&&!a)return null;switch(a.type){case"Point":return Hn(l,t,n=c(s),e);case"MultiPoint":for(o=0,i=s.length;o<i;o++)n=c(s[o]),u.push(Hn(l,t,n,e));return new An(u);case"LineString":case"MultiLineString":return r=Un(s,"LineString"===a.type?0:1,c),new Bn(r,e);case"Polygon":case"MultiPolygon":return r=Un(s,"Polygon"===a.type?1:2,c),new Fn(r,e);case"GeometryCollection":for(o=0,i=a.geometries.length;o<i;o++){var f=zn({geometry:a.geometries[o],type:"Feature",properties:t.properties},e);f&&u.push(f)}return new An(u);default:throw new Error("Invalid GeoJSON object.")}}function Hn(t,e,n,r){return t?t(e,n):new Mn(n,r&&r.markersInheritOptions&&r)}function qn(t){return new j(t[1],t[0],t[2])}function Un(t,e,n){for(var r,o=[],i=0,a=t.length;i<a;i++)r=e?Un(t[i],e-1,n):(n||qn)(t[i]),o.push(r);return o}function Wn(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Vn(t,e,n,r){for(var o=[],i=0,a=t.length;i<a;i++)o.push(e?Vn(t[i],e-1,n,r):Wn(t[i],r));return!e&&n&&o.push(o[0]),o}function $n(t,e){return t.feature?n({},t.feature,{geometry:e}):Gn(e)}function Gn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Yn={toGeoJSON:function(t){return $n(this,{type:"Point",coordinates:Wn(this.getLatLng(),t)})}};function Kn(t,e){return new jn(t,e)}Mn.include(Yn),In.include(Yn),Rn.include(Yn),Bn.include({toGeoJSON:function(t){var e=!gn(this._latlngs);return $n(this,{type:(e?"Multi":"")+"LineString",coordinates:Vn(this._latlngs,e?1:0,!1,t)})}}),Fn.include({toGeoJSON:function(t){var e=!gn(this._latlngs),n=e&&!gn(this._latlngs[0]),r=Vn(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),$n(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),On.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(n){e.push(n.toGeoJSON(t).geometry.coordinates)})),$n(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(n)r.push(o.geometry);else{var i=Gn(o);"FeatureCollection"===i.type?r.push.apply(r,i.features):r.push(i)}}})),n?$n(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Zn=Kn,Xn=En.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=F(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){se(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ce(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=F(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:ae("img");de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),this.options.className&&de(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ye(this._image,n,e)},_reset:function(){var t=this._image,e=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();be(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){ge(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Jn=Xn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:ae("video");if(de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),this.options.className&&de(e,this.options.className),e.onselectstart=l,e.onmousemove=l,e.onloadeddata=o(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),r=[],i=0;i<n.length;i++)r.push(n[i].src);this._url=n.length>0?r:[e.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&e.style.hasOwnProperty("objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=ae("source");s.src=this._url[a],e.appendChild(s)}}}}),Qn=Xn.extend({_initImage:function(){var t=this._image=this._url;de(t,"leaflet-image-layer"),this._zoomAnimated&&de(t,"leaflet-zoom-animated"),this.options.className&&de(t,this.options.className),t.onselectstart=l,t.onmousemove=l}}),tr=En.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){h(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&ge(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&ge(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(ge(this._container,0),this._removeTimeout=setTimeout(o(se,void 0,this._container),200)):se(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ce(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof En||(n=e,e=t),e instanceof An)for(var r in t._layers){e=t._layers[r];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?be(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),er=tr.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){tr.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",Le))},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",Le))},getEvents:function(){var t=tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=ae("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ae("div",t+"-content-wrapper",e);if(this._contentNode=ae("div",t+"-content",n),Ie(n),Re(this._contentNode),Ae(n,"contextmenu",Le),this._tipContainer=ae("div",t+"-tip-container",e),this._tip=ae("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ae("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",Ae(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,o=this.options.maxHeight;o&&r>o?(e.height=o+"px",de(t,"leaflet-popup-scrolled")):he(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();be(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(ie(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,o=new N(this._containerLeft,-n-this._containerBottom);o._add(we(this._container));var i=t.layerPointToContainerPoint(o),a=M(this.options.autoPanPadding),s=M(this.options.autoPanPaddingTopLeft||a),u=M(this.options.autoPanPaddingBottomRight||a),l=t.getSize(),c=0,f=0;i.x+r+u.x>l.x&&(c=i.x+r-l.x+u.x),i.x-c-s.x<0&&(c=i.x-s.x),i.y+n+u.y>l.y&&(f=i.y+n-l.y+u.y),i.y-f-s.y<0&&(f=i.y-s.y),(c||f)&&t.fire("autopanstart").panBy([c,f])}},_onCloseButtonClick:function(t){this._close(),Fe(t)},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ke.mergeOptions({closePopupOnClick:!0}),Ke.include({openPopup:function(t,e,n){return t instanceof er||(t=new er(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),En.include({bindPopup:function(t,e){return t instanceof er?(h(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new er(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(Fe(t),e instanceof Ln?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var nr=tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){tr.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){tr.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=tr.prototype.getEvents.call(this);return _t&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ae("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),i=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=M(this.options.offset),l=this._getAnchor();"top"===i?t=t.add(M(-a/2+u.x,-s+u.y+l.y,!0)):"bottom"===i?t=t.subtract(M(a/2-u.x,-u.y,!0)):"center"===i?t=t.subtract(M(a/2+u.x,s/2-l.y+u.y,!0)):"right"===i||"auto"===i&&o.x<r.x?(i="right",t=t.add(M(u.x+l.x,l.y-s/2+u.y,!0))):(i="left",t=t.subtract(M(a+l.x-u.x,s/2-l.y-u.y,!0))),he(n,"leaflet-tooltip-right"),he(n,"leaflet-tooltip-left"),he(n,"leaflet-tooltip-top"),he(n,"leaflet-tooltip-bottom"),de(n,"leaflet-tooltip-"+i),be(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&ge(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ke.include({openTooltip:function(t,e,n){return t instanceof nr||(t=new nr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),En.include({bindTooltip:function(t,e){return t instanceof nr?(h(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new nr(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),_t&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(he(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var rr=Dn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(n.html instanceof Element?(ue(e),e.appendChild(n.html)):e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Dn.Default=Nn;var or=En.extend({options:{tileSize:256,opacity:1,updateWhenIdle:vt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),se(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ce(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof N?t:new N(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),o=0,i=n.length;o<i;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Q){ge(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var o=this._tiles[r];if(o.current&&o.loaded){var i=Math.min(1,(t-o.loaded)/200);ge(o.el,i),i<1?e=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=ae("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(se(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],o=this._map;return r||((r=this._levels[t]={}).el=ae("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,o.getCenter(),o.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)se(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var o=Math.floor(t/2),i=Math.floor(e/2),a=n-1,s=new N(+o,+i);s.z=+a;var u=this._tileCoordsToKey(s),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),a>r&&this._retainParent(o,i,a,r))},_retainChildren:function(t,e,n,r){for(var o=2*t;o<2*t+2;o++)for(var i=2*e;i<2*e+2;i++){var a=new N(o,i);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(o,i,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var i=this.options.updateWhenZooming&&o!==this._tileZoom;r&&!i||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),o=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();gt?ye(t.el,o,r):be(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),o=e.project(t,this._tileZoom).floor(),i=e.getSize().divideBy(2*r);return new R(o.subtract(i),o.add(i))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(r),i=o.getCenter(),a=[],s=this.options.keepBuffer,u=new R(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var c=this._tiles[l].coords;c.z===this._tileZoom&&u.contains(new N(c.x,c.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var f=o.min.y;f<=o.max.y;f++)for(var d=o.min.x;d<=o.max.x;d++){var h=new N(d,f);if(h.z=this._tileZoom,this._isValidTile(h)){var p=this._tiles[this._tileCoordsToKey(h)];p?p.current=!0:a.push(h)}}if(a.sort((function(t,e){return t.distanceTo(i)-e.distanceTo(i)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return F(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),o=r.add(n);return[e.unproject(r,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new B(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new N(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(se(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){de(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=l,t.onmousemove=l,Q&&this.options.opacity<1&&ge(t,this.options.opacity),nt&&!rt&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),r=this._tileCoordsToKey(t),i=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(i),this.createTile.length<2&&S(o(this._tileReady,this,t,null,i)),be(i,n),this._tiles[r]={el:i,coords:t,current:!0},e.appendChild(i),this.fire("tileloadstart",{tile:i,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var r=this._tileCoordsToKey(t);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ge(n.el,0),T(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(de(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Q||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new N(this._wrapX?u(t.x,this._wrapX):t.x,this._wrapY?u(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new R(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ir=or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=h(this,e)).detectRetina&&St&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return Ae(n,"load",o(this._tileOnLoad,this,e,n)),Ae(n,"error",o(this._tileOnError,this,e,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:St?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=r),e["-y"]=r}return g(this._url,n(e,this.options))},_tileOnLoad:function(t,e){Q?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=l,e.onerror=l,e.complete||(e.src=b,se(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return it||e.el.setAttribute("src",b),or.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==b))return or.prototype._tileReady.call(this,t,e,n)}});function ar(t,e){return new ir(t,e)}var sr=ir.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var r=n({},this.defaultWmsParams);for(var o in e)o in this.options||(r[o]=e[o]);var i=(e=h(this,e)).detectRetina&&St?2:1,a=this.getTileSize();r.width=a.x*i,r.height=a.y*i,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ir.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=I(n.project(e[0]),n.project(e[1])),o=r.min,i=r.max,a=(this._wmsVersion>=1.3&&this._crs===Sn?[o.y,o.x,i.y,i.x]:[o.x,o.y,i.x,i.y]).join(","),s=ir.prototype.getTileUrl.call(this,t);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,e){return n(this.wmsParams,t),e||this.redraw(),this}});ir.WMS=sr,ar.wms=function(t,e){return new sr(t,e)};var ur=En.extend({options:{padding:.1,tolerance:0},initialize:function(t){h(this,t),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=we(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,e),a=this._map.project(t,e).subtract(i),s=o.multiplyBy(-n).add(r).add(o).subtract(a);gt?ye(this._container,s,n):be(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new R(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),lr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ur.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ae(t,"mousemove",this._onMouseMove,this),Ae(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){T(this._redrawRequest),delete this._ctx,se(this._container),Ne(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=St?2:1;be(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",St&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ur.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[a(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[a(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,n,r=t.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<r.length;n++){if(e=Number(r[n]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,o,i,a=t._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,o=a[n].length;r<o;r++)i=a[n][r],u[r?"lineTo":"moveTo"](i.x,i.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||r)/r;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,r,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(r)&&!this._map._draggableMoved(e)&&(n=e);n&&(We(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(he(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(de(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(L.bind((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function cr(t){return Et?new lr(t):null}var fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),dr={_initContainer:function(){this._container=ae("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ur.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=fr("shape");de(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=fr("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;se(e),t.removeInteractiveTarget(e),delete this._layers[a(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,o=t._container;o.stroked=!!r.stroke,o.filled=!!r.fill,r.stroke?(e||(e=t._stroke=fr("stroke")),o.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(o.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=fr("fill")),o.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ce(t._container)}},hr=At?fr:K,pr=ur.extend({getEvents:function(){var t=ur.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=hr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){se(this._container),Ne(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ur.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),be(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=hr("path");t.options.className&&de(e,t.options.className),t.options.interactive&&de(e,"leaflet-interactive"),this._updateStyle(t),this._layers[a(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){se(t._path),t.removeInteractiveTarget(t._path),delete this._layers[a(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,Z(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ce(t._path)}});function mr(t){return Ot||At?new pr(t):null}At&&pr.include(dr),Ke.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&cr(t)||mr(t)}});var gr=Fn.extend({initialize:function(t,e){Fn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=F(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});pr.create=hr,pr.pointsToPath=Z,jn.geometryToLayer=zn,jn.coordsToLatLng=qn,jn.coordsToLatLngs=Un,jn.latLngToCoords=Wn,jn.latLngsToCoords=Vn,jn.getFeature=$n,jn.asFeature=Gn,Ke.mergeOptions({boxZoom:!0});var vr=nn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){se(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Zt(),_e(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ae(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=ae("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new R(this._point,this._startPoint),n=e.getSize();be(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(se(this._box),he(this._container,"leaflet-crosshair")),Xt(),ke(),Ne(document,{contextmenu:Fe,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Ke.addInitHook("addHandler","boxZoom",vr),Ke.mergeOptions({doubleClickZoom:!0});var yr=nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,o=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Ke.addInitHook("addHandler","doubleClickZoom",yr),Ke.mergeOptions({dragging:!0,inertia:!rt,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var br=nn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ln(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){he(this._map._container,"leaflet-grab"),he(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=F(this._map.options.maxBounds);this._offsetLimit=I(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,o=(r-e+n)%t+e-n,i=(r+e+n)%t-e-n,a=Math.abs(o+n)<Math.abs(i+n)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/i),u=s.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),c=s.multiplyBy(l/u),f=l/(n.inertiaDeceleration*a),d=c.multiplyBy(-f/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),S((function(){e.panBy(d,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Ke.addInitHook("addHandler","dragging",br),Ke.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wr=nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ae(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ne(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},o=this.keyCodes;for(e=0,n=o.left.length;e<n;e++)r[o.left[e]]=[-1*t,0];for(e=0,n=o.right.length;e<n;e++)r[o.right[e]]=[t,0];for(e=0,n=o.down.length;e<n;e++)r[o.down[e]]=[0,t];for(e=0,n=o.up.length;e<n;e++)r[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},o=this.keyCodes;for(e=0,n=o.zoomIn.length;e<n;e++)r[o.zoomIn[e]]=t;for(e=0,n=o.zoomOut.length;e<n;e++)r[o.zoomOut[e]]=-t},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=M(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Fe(t)}}});Ke.addInitHook("addHandler","keyboard",wr),Ke.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var xr=nn.extend({addHooks:function(){Ae(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ne(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=He(t),n=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),r),Fe(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,i=n?Math.ceil(o/n)*n:o,a=t._limitZoom(e+(this._delta>0?i:-i))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});Ke.addInitHook("addHandler","scrollWheelZoom",xr),Ke.mergeOptions({tap:!0,tapTolerance:15});var _r=nn.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Be(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],n=e.target;this._startPos=this._newPos=new N(e.clientX,e.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&de(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),Ae(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ne(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&he(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new N(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});_t&&!xt&&Ke.addInitHook("addHandler","tap",_r),Ke.mergeOptions({touchZoom:_t&&!rt,bounceAtZoomLimits:!0});var kr=nn.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){he(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend",this._onTouchEnd,this),Be(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),i=n.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(i,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&i<1||this._zoom>e.getMaxZoom()&&i>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),T(this._animRequest);var s=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(s,this,!0),Be(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,T(this._animRequest),Ne(document,"touchmove",this._onTouchMove),Ne(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ke.addInitHook("addHandler","touchZoom",kr),Ke.BoxZoom=vr,Ke.DoubleClickZoom=yr,Ke.Drag=br,Ke.Keyboard=wr,Ke.ScrollWheelZoom=xr,Ke.Tap=_r,Ke.TouchZoom=kr,Object.freeze=e,t.version="1.6.0",t.Control=Ze,t.control=Xe,t.Browser=Nt,t.Evented=D,t.Mixin=on,t.Util=E,t.Class=O,t.Handler=nn,t.extend=n,t.bind=o,t.stamp=a,t.setOptions=h,t.DomEvent=Ge,t.DomUtil=Oe,t.PosAnimation=Ye,t.Draggable=ln,t.LineUtil=yn,t.PolyUtil=wn,t.Point=N,t.point=M,t.Bounds=R,t.bounds=I,t.Transformation=V,t.transformation=$,t.Projection=kn,t.LatLng=j,t.latLng=z,t.LatLngBounds=B,t.latLngBounds=F,t.CRS=q,t.GeoJSON=jn,t.geoJSON=Kn,t.geoJson=Zn,t.Layer=En,t.LayerGroup=On,t.layerGroup=function(t,e){return new On(t,e)},t.FeatureGroup=An,t.featureGroup=function(t){return new An(t)},t.ImageOverlay=Xn,t.imageOverlay=function(t,e,n){return new Xn(t,e,n)},t.VideoOverlay=Jn,t.videoOverlay=function(t,e,n){return new Jn(t,e,n)},t.SVGOverlay=Qn,t.svgOverlay=function(t,e,n){return new Qn(t,e,n)},t.DivOverlay=tr,t.Popup=er,t.popup=function(t,e){return new er(t,e)},t.Tooltip=nr,t.tooltip=function(t,e){return new nr(t,e)},t.Icon=Dn,t.icon=function(t){return new Dn(t)},t.DivIcon=rr,t.divIcon=function(t){return new rr(t)},t.Marker=Mn,t.marker=function(t,e){return new Mn(t,e)},t.TileLayer=ir,t.tileLayer=ar,t.GridLayer=or,t.gridLayer=function(t){return new or(t)},t.SVG=pr,t.svg=mr,t.Renderer=ur,t.Canvas=lr,t.canvas=cr,t.Path=Ln,t.CircleMarker=Rn,t.circleMarker=function(t,e){return new Rn(t,e)},t.Circle=In,t.circle=function(t,e,n){return new In(t,e,n)},t.Polyline=Bn,t.polyline=function(t,e){return new Bn(t,e)},t.Polygon=Fn,t.polygon=function(t,e){return new Fn(t,e)},t.Rectangle=gr,t.rectangle=function(t,e){return new gr(t,e)},t.Map=Ke,t.map=function(t,e){return new Ke(t,e)};var Cr=window.L;t.noConflict=function(){return window.L=Cr,this},window.L=t}(e)},"4tak":function(t,e){!function(t){"use strict";var e,n,r,o=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(t,e){var n,r=t.dom,o=t.selection.getSelectedBlocks();o.length&&(n=r.getAttrib(o[0],"dir"),i.each(o,(function(t){r.getParent(t.parentNode,'*[dir="'+e+'"]',r.getRoot())||r.setAttrib(t,"dir",n!==e?e:null)})),t.nodeChanged())},s=function(){},u=function(t){return function(){return t}},l=u(!1),c=u(!0),f=function(){return d},d=(e=function(t){return t.isNone()},{fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:u(null),getOrUndefined:u(void 0),or:r,orThunk:n,map:f,each:s,bind:f,exists:l,forall:c,filter:f,equals:e,equals_:e,toArray:function(){return[]},toString:u("none()")}),h=function(t){var e=u(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return o},p={some:h,none:f,from:function(t){return null==t?d:h(t)}},m=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:u(t)}},g={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return m(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return m(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return m(r)},fromDom:m,fromPoint:function(t,e,n){var r=t.dom();return p.from(r.elementFromPoint(e,n)).map(m)}},v=function(t){return function(e){return typeof e===t}}("function"),y=(void 0!==t.window?t.window:Function("return this;")(),function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}}),b=y(3),w=y(9),x=y(11),_=v(t.Element.prototype.attachShadow)&&v(t.Node.prototype.getRootNode)?function(t){return g.fromDom(t.dom().getRootNode())}:function(t){return w(t)?t:(e=t,g.fromDom(e.dom().ownerDocument));var e},k=function(t){var e=_(t);return x(e)?p.some(e):p.none()},C=function(t){return g.fromDom(t.dom().host)},S=function(t){var e,n,r=b(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&k(g.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=S,n=C,function(t){return e(n(t))}))},T=function(t,e){return function(t){return void 0!==t.style&&v(t.style.getPropertyValue)}(t)?t.style.getPropertyValue(e):""},E=function(e){return"rtl"===function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n);return""!==o||S(e)?o:T(r,n)}(e,"direction")?"rtl":"ltr"},O=function(t,e){return function(n){var r=function(t){var r=g.fromDom(t.element);n.setActive(E(r)===e)};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}};o.add("directionality",(function(t){!function(t){t.addCommand("mceDirectionLTR",(function(){a(t,"ltr")})),t.addCommand("mceDirectionRTL",(function(){a(t,"rtl")}))}(t),function(t){t.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return t.execCommand("mceDirectionLTR")},onSetup:O(t,"ltr")}),t.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return t.execCommand("mceDirectionRTL")},onSetup:O(t,"rtl")})}(t)}))}(window)},"5WJX":function(t,e,n){(function(e){!function(n){"use strict";var r=function(t){if(null===t)return"null";if(void 0===t)return"undefined";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},o=function(t){return{eq:t}},i=o((function(t,e){return t===e})),a=function(t){return o((function(e,n){if(e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t.eq(e[o],n[o]))return!1;return!0}))},s=function(t,e){return function(t,e){return o((function(n,r){return t.eq(e(n),e(r))}))}(a(t),(function(t){return function(t,e){return Array.prototype.slice.call(t).sort(e)}(t,e)}))},u=function(t){return o((function(e,n){var r=Object.keys(e),o=Object.keys(n);if(!s(i).eq(r,o))return!1;for(var a=r.length,u=0;u<a;u++){var l=r[u];if(!t.eq(e[l],n[l]))return!1}return!0}))},l=o((function(t,e){if(t===e)return!0;var n=r(t);return n===r(e)&&(function(t){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(t)}(n)?t===e:"array"===n?a(l).eq(t,e):"object"===n&&u(l).eq(t,e))})),c=function(){},f=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},d=function(t){return function(){return t}},h=function(t){return t};function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var m=function(t){return function(e){return!t(e)}},g=function(t){return function(){throw new Error(t)}},v=d(!1),y=d(!0),b=function(){return w},w=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:v,isSome:v,isNone:y,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:n,orThunk:e,map:b,each:c,bind:b,exists:v,forall:y,filter:b,equals:t,equals_:t,toArray:function(){return[]},toString:d("none()")}}(),x=function(t){var e=d(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:y,isNone:v,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return x(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:w},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(v,(function(e){return n(t,e)}))}};return o},_={some:x,none:b,from:function(t){return null==t?w:x(t)}},k=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},C=function(t){return function(e){return typeof e===t}},S=function(t){return function(e){return t===e}},T=k("string"),E=k("object"),O=k("array"),A=S(null),D=C("boolean"),N=S(void 0),P=C("function"),M=C("number"),L=Array.prototype.slice,R=Array.prototype.indexOf,I=Array.prototype.push,B=function(t,e){return R.call(t,e)},F=function(t,e){return B(t,e)>-1},j=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},z=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},H=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},q=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}},U=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},W=function(t,e,n){return q(t,(function(t){n=e(n,t)})),n},V=function(t,e,n){return H(t,(function(t){n=e(n,t)})),n},$=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return _.some(i);if(n(i,r))break}return _.none()}(t,e,v)},G=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return _.some(n)}return _.none()},Y=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!O(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);I.apply(e,t[n])}return e}(z(t,e))},K=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},Z=function(t){var e=L.call(t,0);return e.reverse(),e},X=function(t,e){return U(t,(function(t){return!F(e,t)}))},J=function(t){return 0===t.length?_.none():_.some(t[0])},Q=function(t){return 0===t.length?_.none():_.some(t[t.length-1])},tt=P(Array.from)?Array.from:function(t){return L.call(t)},et=Object.keys,nt=Object.hasOwnProperty,rt=function(t,e){for(var n=et(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},ot=function(t,e){return it(t,(function(t,n){return{k:n,v:e(t,n)}}))},it=function(t,e){var n={};return rt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},at=function(t){return function(e,n){t[n]=e}},st=function(t,e,n,r){return rt(t,(function(t,o){(e(t,o)?n:r)(t,o)})),{}},ut=function(t,e){var n={},r={};return st(t,e,at(n),at(r)),{t:n,f:r}},lt=function(t,e){var n={};return st(t,e,at(n),c),n},ct=function(t){return function(t,e){var n=[];return rt(t,(function(t,r){n.push(e(t,r))})),n}(t,(function(t){return t}))},ft=function(t,e){return dt(t,e)?_.from(t[e]):_.none()},dt=function(t,e){return nt.call(t,e)},ht=Array.isArray,pt=function(t,e,n){var r,o;if(!t)return 0;if(n=n||t,void 0!==t.length){for(r=0,o=t.length;r<o;r++)if(!1===e.call(n,t[r],r,t))return 0}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return 0;return 1},mt=function(t,e){var n=[];return pt(t,(function(r,o){n.push(e(r,o,t))})),n},gt=function(t,e){var n=[];return pt(t,(function(r,o){e&&!e(r,o,t)||n.push(r)})),n},vt=function(t,e){var n,r;if(t)for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},yt=function(t,e,n,r){var o=0;for(arguments.length<3&&(n=t[0]);o<t.length;o++)n=e.call(r,n,t[o],o);return n},bt=function(t,e,n){var r,o;for(r=0,o=t.length;r<o;r++)if(e.call(n,t[r],r,t))return r;return-1},wt=function(t){return t[t.length-1]},xt=function(){return(xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _t(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var kt=function(){return Ct(0,0)},Ct=function(t,e){return{major:t,minor:e}},St={nu:Ct,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?kt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Ct(r(1),r(2))}(t,n)},unknown:kt},Tt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Et={unknown:function(){return Tt({current:void 0,version:St.unknown()})},nu:Tt,edge:d("Edge"),chrome:d("Chrome"),ie:d("IE"),opera:d("Opera"),firefox:d("Firefox"),safari:d("Safari")},Ot=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},At={unknown:function(){return Ot({current:void 0,version:St.unknown()})},nu:Ot,windows:d("Windows"),ios:d("iOS"),android:d("Android"),linux:d("Linux"),osx:d("OSX"),solaris:d("Solaris"),freebsd:d("FreeBSD"),chromeos:d("ChromeOS")},Dt=function(t,e){var n=String(e).toLowerCase();return $(t,(function(t){return t.search(n)}))},Nt=function(t,e){return Dt(t,e).map((function(t){var n=St.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Pt=function(t,e){return Dt(t,e).map((function(t){var n=St.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Mt=function(t,e){return-1!==t.indexOf(e)},Lt=function(t,e){return function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}(t,e,0)},Rt=function(t){return function(e){return e.replace(t,"")}},It=Rt(/^\s+|\s+$/g),Bt=Rt(/^\s+/g),Ft=Rt(/\s+$/g),jt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zt=function(t){return function(e){return Mt(e,t)}},Ht=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Mt(t,"edge/")&&Mt(t,"chrome")&&Mt(t,"safari")&&Mt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,jt],search:function(t){return Mt(t,"chrome")&&!Mt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Mt(t,"msie")||Mt(t,"trident")}},{name:"Opera",versionRegexes:[jt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zt("firefox")},{name:"Safari",versionRegexes:[jt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Mt(t,"safari")||Mt(t,"mobile/"))&&Mt(t,"applewebkit")}}],qt=[{name:"Windows",search:zt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Mt(t,"iphone")||Mt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zt("linux"),versionRegexes:[]},{name:"Solaris",search:zt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:zt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ut={browsers:d(Ht),oses:d(qt)},Wt=function(t,e){var n=Ut.browsers(),r=Ut.oses(),o=Nt(n,t).fold(Et.unknown,Et.nu),i=Pt(r,t).fold(At.unknown,At.nu),a=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),s=a||r("(pointer:coarse)"),u=o||!i&&a&&r("(min-device-width:768px)"),l=i||a&&!u,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),f=!l&&!u&&!c;return{isiPad:d(o),isiPhone:d(i),isTablet:d(u),isPhone:d(l),isTouch:d(s),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:d(c),isDesktop:d(f)}}(i,o,t,e);return{browser:o,os:i,deviceType:a}},Vt=function(t){return n.window.matchMedia(t).matches},$t=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}}((function(){return Wt(n.navigator.userAgent,Vt)})),Gt=function(){return $t()},Yt=n.navigator.userAgent,Kt=Gt(),Zt=Kt.browser,Xt=Kt.os,Jt=Kt.deviceType,Qt=/WebKit/.test(Yt)&&!Zt.isEdge(),te="FormData"in n.window&&"FileReader"in n.window&&"URL"in n.window&&!!n.URL.createObjectURL,ee=-1!==Yt.indexOf("Windows Phone"),ne={opera:Zt.isOpera(),webkit:Qt,ie:!(!Zt.isIE()&&!Zt.isEdge())&&Zt.version.major,gecko:Zt.isFirefox(),mac:Xt.isOSX()||Xt.isiOS(),iOS:Jt.isiPad()||Jt.isiPhone(),android:Xt.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:n.window.getSelection&&"Range"in n.window,documentMode:Zt.isIE()?n.document.documentMode||7:10,fileApi:te,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Zt.isIE(),desktop:Jt.isDesktop(),windowsPhone:ee,browser:{current:Zt.current,version:Zt.version,isChrome:Zt.isChrome,isEdge:Zt.isEdge,isFirefox:Zt.isFirefox,isIE:Zt.isIE,isOpera:Zt.isOpera,isSafari:Zt.isSafari},os:{current:Xt.current,version:Xt.version,isAndroid:Xt.isAndroid,isChromeOS:Xt.isChromeOS,isFreeBSD:Xt.isFreeBSD,isiOS:Xt.isiOS,isLinux:Xt.isLinux,isOSX:Xt.isOSX,isSolaris:Xt.isSolaris,isWindows:Xt.isWindows},deviceType:{isDesktop:Jt.isDesktop,isiPad:Jt.isiPad,isiPhone:Jt.isiPhone,isPhone:Jt.isPhone,isTablet:Jt.isTablet,isTouch:Jt.isTouch,isWebView:Jt.isWebView}},re=/^\s*|\s*$/g,oe=function(t){return null==t?"":(""+t).replace(re,"")},ie=function(t,e){return e?!("array"!==e||!ht(t))||typeof t===e:void 0!==t},ae=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),pt(t,(function(t,o){if(!1===e.call(r,t,o,n))return!1;ae(t,e,n,r)})))},se={trim:oe,isArray:ht,is:ie,toArray:function(t){var e,n,r=t;if(!ht(t))for(r=[],e=0,n=t.length;e<n;e++)r[e]=t[e];return r},makeMap:function(t,e,n){var r;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},r=t.length;r--;)n[t[r]]={};return n},each:pt,map:mt,grep:gt,inArray:vt,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0;r<e.length;r++){var o=e[r];for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];void 0!==a&&(t[i]=a)}}return t},create:function(t,e,n){var r,o,i,a=0,s=(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2],u=this.createNS(t[3].replace(/\.\w+$/,""),n);if(!u[s]){if("static"===t[2])return u[s]=e,void(this.onCreate&&this.onCreate(t[2],t[3],u[s]));e[s]||(e[s]=function(){},a=1),u[s]=e[s],this.extend(u[s].prototype,e),t[5]&&(r=this.resolve(t[5]).prototype,o=t[5].match(/\.(\w+)$/i)[1],i=u[s],u[s]=a?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},u[s].prototype[s]=u[s],this.each(r,(function(t,e){u[s].prototype[e]=r[e]})),this.each(e,(function(t,e){r[e]?u[s].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==s&&(u[s].prototype[e]=t)}))),this.each(e.static,(function(t,e){u[s][e]=t}))}},walk:ae,createNS:function(t,e){var r,o;for(e=e||n.window,t=t.split("."),r=0;r<t.length;r++)e[o=t[r]]||(e[o]={}),e=e[o];return e},resolve:function(t,e){var r,o;for(e=e||n.window,r=0,o=(t=t.split(".")).length;r<o&&(e=e[t[r]]);r++);return e},explode:function(t,e){return!t||ie(t,"array")?t:mt(t.split(e||","),oe)},_addCacheSuffix:function(t){var e=ne.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},ue=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:d(t)}},le={fromHtml:function(t,e){var r=(e||n.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw n.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ue(r.childNodes[0])},fromTag:function(t,e){var r=(e||n.document).createElement(t);return ue(r)},fromText:function(t,e){var r=(e||n.document).createTextNode(t);return ue(r)},fromDom:ue,fromPoint:function(t,e,n){var r=t.dom();return _.from(r.elementFromPoint(e,n)).map(ue)}},ce=(void 0!==n.window?n.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),fe=function(t){return t.dom().nodeType},de=function(t){return function(e){return fe(e)===t}},he=de(1),pe=de(3),me=de(9),ge=de(11),ve=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do{o=o.bind(r)}while(o.isSome());return n},ye=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},be=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},we=function(t,e){return t.dom()===e.dom()},xe=function(t,e){return r=t.dom(),o=e.dom(),function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(r,o,n.Node.DOCUMENT_POSITION_CONTAINED_BY);var r,o},_e=function(t,e){return Gt().browser.isIE()?xe(t,e):function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)}(t,e)},ke=function(t){return le.fromDom(t.dom().ownerDocument)},Ce=function(t){return me(t)?t:ke(t)},Se=function(t){return le.fromDom(t.dom().ownerDocument.defaultView)},Te=function(t){return _.from(t.dom().parentNode).map(le.fromDom)},Ee=function(t){return _.from(t.dom().previousSibling).map(le.fromDom)},Oe=function(t){return _.from(t.dom().nextSibling).map(le.fromDom)},Ae=function(t){return Z(ve(t,Ee))},De=function(t){return ve(t,Oe)},Ne=function(t){return z(t.dom().childNodes,le.fromDom)},Pe=function(t,e){var n=t.dom().childNodes;return _.from(n[e]).map(le.fromDom)},Me=function(t){return Pe(t,0)},Le=function(t){return Pe(t,t.dom().childNodes.length-1)},Re=function(t){return ge(t)},Ie=P(n.Element.prototype.attachShadow)&&P(n.Node.prototype.getRootNode)?function(t){return le.fromDom(t.dom().getRootNode())}:Ce,Be=function(t){return Re(t)?t:function(t){var e=t.dom().head;if(null==e)throw new Error("Head is not available yet");return le.fromDom(e)}(Ce(t))},Fe=function(t){return le.fromDom(t.dom().host)},je=function(t,e){Te(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},ze=function(t,e){Oe(t).fold((function(){Te(t).each((function(t){qe(t,e)}))}),(function(t){je(t,e)}))},He=function(t,e){Me(t).fold((function(){qe(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},qe=function(t,e){t.dom().appendChild(e.dom())},Ue=function(t,e){H(e,(function(e){qe(t,e)}))},We=function(t){t.dom().textContent="",H(Ne(t),(function(t){Ve(t)}))},Ve=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},$e=function(t){var e,n=Ne(t);n.length>0&&(e=t,H(n,(function(t){je(e,t)}))),Ve(t)},Ge=function(t){var e,n,r=pe(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&function(t){var e=Ie(t);return Re(e)?_.some(e):_.none()}(le.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=Ge,n=Fe,function(t){return e(n(t))}))},Ye=function(t,e){return{left:d(t),top:d(e),translate:function(n,r){return Ye(t+n,e+r)}}},Ke=Ye,Ze=function(t,e){return void 0!==t?t:void 0!==e?e:0},Xe=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?Ke(n.offsetLeft,n.offsetTop):Ge(t)?function(t){var e=t.getBoundingClientRect();return Ke(e.left,e.top)}(e):Ke(0,0)},Je=function(t){var e=void 0!==t?t.dom():n.document,r=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop;return Ke(r,o)},Qe=function(t,e,r){(void 0!==r?r.dom():n.document).defaultView.scrollTo(t,e)},tn=function(t,e){Gt().browser.isSafari()&&P(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},en=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},nn=function(t){var e=void 0===t?n.window:t,r=e.document,o=Je(le.fromDom(r));return function(t){var e=void 0===t?n.window:t;return _.from(e.visualViewport)}(e).fold((function(){var t=e.document.documentElement,n=t.clientWidth,r=t.clientHeight;return en(o.left(),o.top(),n,r)}),(function(t){return en(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},rn=function(t){return function(e){return!!e&&e.nodeType===t}},on=function(t){return!!t&&!Object.getPrototypeOf(t)},an=rn(1),sn=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return F(e,n)}return!1}},un=function(t,e){var n=e.toLowerCase().split(" ");return function(e){var r;if(an(e))for(r=0;r<n.length;r++){var o=e.ownerDocument.defaultView.getComputedStyle(e,null);if((o?o.getPropertyValue(t):null)===n[r])return!0}return!1}},ln=function(t){return function(e){return an(e)&&e.hasAttribute(t)}},cn=function(t){return an(t)&&t.hasAttribute("data-mce-bogus")},fn=function(t){return an(t)&&"TABLE"===t.tagName},dn=function(t){return function(e){if(an(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},hn=sn(["textarea","input"]),pn=rn(3),mn=rn(8),gn=rn(9),vn=rn(11),yn=sn(["br"]),bn=dn("true"),wn=dn("false"),xn=function(t){return void 0!==t.style&&P(t.style.getPropertyValue)},_n=function(t,e,r){if(!(T(r)||D(r)||M(r)))throw n.console.error("Invalid call to Attr.set. Key ",e,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,r+"")},kn=function(t,e,n){_n(t.dom(),e,n)},Cn=function(t,e){var n=t.dom();rt(e,(function(t,e){_n(n,e,t)}))},Sn=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Tn=function(t,e){t.dom().removeAttribute(e)},En=function(t,e){var r=t.dom(),o=n.window.getComputedStyle(r).getPropertyValue(e);return""!==o||Ge(t)?o:On(r,e)},On=function(t,e){return xn(t)?t.style.getPropertyValue(e):""},An=function(t,e){var n=t.dom(),r=On(n,e);return _.from(r).filter((function(t){return t.length>0}))},Dn=Gt().browser,Nn=function(t){return $(t,he)},Pn=function(t,e){return t.children&&F(t.children,e)},Mn=function(t,e,n){var r,o,i=0,a=0,s=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===En(le.fromDom(t),"position"))return{x:i=(o=e.getBoundingClientRect()).left+(s.documentElement.scrollLeft||t.scrollLeft)-s.documentElement.clientLeft,y:a=o.top+(s.documentElement.scrollTop||t.scrollTop)-s.documentElement.clientTop};for(r=e;r&&r!==n&&r.nodeType&&!Pn(r,n);)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!==n&&r.nodeType&&!Pn(r,n);)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=function(t){return Dn.isFirefox()&&"table"===ce(t)?Nn(Ne(t)).filter((function(t){return"caption"===ce(t)})).bind((function(t){return Nn(De(t)).map((function(e){var n=e.dom().offsetTop,r=t.dom().offsetTop,o=t.dom().offsetHeight;return n<=r?-o:0}))})).getOr(0):0}(le.fromDom(e))}return{x:i,y:a}},Ln=function(t){var e;return function(n){return(e=e||function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n}(t,d(!0))).hasOwnProperty(ce(n))}},Rn=Ln(["h1","h2","h3","h4","h5","h6"]),In=Ln(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Bn=function(t){return he(t)&&!In(t)},Fn=function(t){return he(t)&&"br"===ce(t)},jn=Ln(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),zn=Ln(["ul","ol","dl"]),Hn=Ln(["li","dd","dt"]),qn=Ln(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),Un=Ln(["thead","tbody","tfoot"]),Wn=Ln(["td","th"]),Vn=Ln(["pre","script","textarea","style"]),$n=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Gn=function(t,e){var n,r=e.childNodes;if(!an(e)||!$n(e)){for(n=r.length-1;n>=0;n--)Gn(t,r[n]);if(!1===gn(e)){if(pn(e)&&e.nodeValue.length>0){var o=se.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||o>0)return;if(0===o&&function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n}(e))return}else if(an(e)&&(1===(r=e.childNodes).length&&$n(r[0])&&e.parentNode.insertBefore(r[0],e),r.length||qn(le.fromDom(e))))return;t.remove(e)}return e}},Yn=se.makeMap,Kn=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zn=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xn=/[<>&\"\']/g,Jn=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qn={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},tr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},er={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},nr=function(t,e){var n,r,o,i={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),tr[r]||(o="&"+t[n+1]+";",i[r]=o,i[o]=r);return i}},rr=nr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),or=function(t,e){return t.replace(e?Kn:Zn,(function(t){return tr[t]||t}))},ir=function(t,e){return t.replace(e?Kn:Zn,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":tr[t]||"&#"+t.charCodeAt(0)+";"}))},ar=function(t,e,n){return n=n||rr,t.replace(e?Kn:Zn,(function(t){return tr[t]||n[t]||t}))},sr={encodeRaw:or,encodeAllRaw:function(t){return(""+t).replace(Xn,(function(t){return tr[t]||t}))},encodeNumeric:ir,encodeNamed:ar,getEncodeFunc:function(t,e){var n=nr(e)||rr,r=Yn(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Kn:Zn,(function(t){return void 0!==tr[t]?tr[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return ar(t,e,n)}:ar:r.numeric?ir:or},decode:function(t){return t.replace(Jn,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Qn[e]||String.fromCharCode(e):er[t]||rr[t]||function(t){var e=le.fromTag("div").dom();return e.innerHTML=t,e.textContent||e.innerText||t}(t)}))}},ur={},lr={},cr=se.makeMap,fr=se.each,dr=se.extend,hr=se.explode,pr=se.inArray,mr=function(t,e){return(t=se.trim(t))?t.split(e||" "):[]},gr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),fr(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?cr(t,/[, ]/):hr(t,/[, ]/)}))),n};function vr(t){var e={},n={},r=[],o={},i={},a=function(e,n,r){var o=t[e];return o?o=cr(o,/[, ]/,cr(o.toUpperCase(),/[, ]/)):(o=ur[e])||(o=cr(n," ",cr(n.toUpperCase()," ")),o=dr(o,r),ur[e]=o),o},s=function(t){var e,n,r,o,i,a,s={},u=function(t,n,r){var o,i,a,u=function(t,e){var n,r,o={};for(n=0,r=t.length;n<r;n++)o[t[n]]=e||{};return o};for(n=n||"","string"==typeof(r=r||[])&&(r=mr(r)),o=(t=mr(t)).length;o--;)a={attributes:u(i=mr([e,n].join(" "))),attributesOrder:i,children:u(r,lr)},s[t[o]]=a},l=function(t,e){var n,r,o,i;for(n=(t=mr(t)).length,e=mr(e);n--;)for(r=s[t[n]],o=0,i=e.length;o<i;o++)r.attributes[e[o]]={},r.attributesOrder.push(e[o])};return ur[t]?ur[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),fr(mr(a),(function(t){u(t,"",r)})),n=[n,i="center dir isindex noframes"].join(" "),o=[n,r].join(" "),fr(mr(i),(function(t){u(t,"",o)}))),o=o||[n,r].join(" "),u("html","manifest","head body"),u("head","","base command link meta noscript script style title"),u("title hr noscript br"),u("base","href target"),u("link","href rel media hreflang type sizes hreflang"),u("meta","name http-equiv content charset"),u("style","media type scoped"),u("script","src async defer type charset"),u("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),u("address dt dd div caption","",o),u("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),u("blockquote","cite",o),u("ol","reversed start type","li"),u("ul","","li"),u("li","value",o),u("dl","","dt dd"),u("a","href target rel media hreflang type",r),u("q","cite",r),u("ins del","cite datetime",o),u("img","src sizes srcset alt usemap ismap width height"),u("iframe","src name width height",o),u("embed","src type width height"),u("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),u("param","name value"),u("map","name",[o,"area"].join(" ")),u("area","alt coords shape href target rel media hreflang type"),u("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),u("colgroup","span","col"),u("col","span"),u("tbody thead tfoot","","tr"),u("tr","","td th"),u("td","colspan rowspan headers",o),u("th","colspan rowspan headers scope abbr",o),u("form","accept-charset action autocomplete enctype method name novalidate target",o),u("fieldset","disabled form name",[o,"legend"].join(" ")),u("label","form for",r),u("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),u("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?o:r),u("select","disabled form multiple name required size","option optgroup"),u("optgroup","disabled label","option"),u("option","disabled label selected value"),u("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),u("menu","type label",[o,"li"].join(" ")),u("noscript","",o),"html4"!==t&&(u("wbr"),u("ruby","",[r,"rt rp"].join(" ")),u("figcaption","",o),u("mark rt rp summary bdi","",r),u("canvas","width height",o),u("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),u("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),u("picture","","img source"),u("source","src srcset type media sizes"),u("track","kind src srclang label default"),u("datalist","",[r,"option"].join(" ")),u("article section nav aside main header footer","",o),u("hgroup","","h1 h2 h3 h4 h5 h6"),u("figure","",[o,"figcaption"].join(" ")),u("time","datetime",r),u("dialog","open",o),u("command","type label icon disabled checked radiogroup command"),u("output","for form name",r),u("progress","value max",r),u("meter","value min max low high optimum",r),u("details","open",[o,"summary"].join(" ")),u("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed","align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li","type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink")),"html4"!==t&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("img","loading"),l("iframe","sandbox seamless allowfullscreen loading")),fr(mr("a form meter progress dfn"),(function(t){s[t]&&delete s[t].children[t]})),delete s.caption.children.table,delete s.script,ur[t]=s,s)}((t=t||{}).schema);!1===t.verify_html&&(t.valid_elements="*[*]");var u=gr(t.valid_styles),l=gr(t.invalid_styles,"map"),c=gr(t.valid_classes,"map"),f=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=a("non_empty_elements","td th iframe video audio object script pre code",h),g=a("move_caret_before_on_enter_elements","table",m),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),y=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),b=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");fr((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),(function(t){i[t]=new RegExp("</"+t+"[^>]*>","gi")}));var w=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},x=function(t){var n,o,i,a,s,u,l,c,f,d,h,p,m,g,v,y,b,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,C=/[*?+]/;if(t)for(t=mr(t,","),e["@"]&&(y=e["@"].attributes,b=e["@"].attributesOrder),n=0,o=t.length;n<o;n++)if(s=_.exec(t[n])){if(g=s[1],f=s[2],v=s[3],c=s[5],u={attributes:p={},attributesOrder:m=[]},"#"===g&&(u.paddEmpty=!0),"-"===g&&(u.removeEmpty=!0),"!"===s[4]&&(u.removeEmptyAttrs=!0),y&&(rt(y,(function(t,e){p[e]=t})),m.push.apply(m,b)),c)for(i=0,a=(c=mr(c,"|")).length;i<a;i++)if(s=k.exec(c[i])){if(l={},h=s[1],d=s[2].replace(/[\\:]:/g,":"),g=s[3],x=s[4],"!"===h&&(u.attributesRequired=u.attributesRequired||[],u.attributesRequired.push(d),l.required=!0),"-"===h){delete p[d],m.splice(pr(m,d),1);continue}g&&("="===g&&(u.attributesDefault=u.attributesDefault||[],u.attributesDefault.push({name:d,value:x}),l.defaultValue=x),":"===g&&(u.attributesForced=u.attributesForced||[],u.attributesForced.push({name:d,value:x}),l.forcedValue=x),"<"===g&&(l.validValues=cr(x,"?"))),C.test(d)?(u.attributePatterns=u.attributePatterns||[],l.pattern=w(d),u.attributePatterns.push(l)):(p[d]||m.push(d),p[d]=l)}y||"@"!==f||(y=p,b=m),v&&(u.outputName=f,e[v]=u),C.test(f)?(u.pattern=w(f),r.push(u)):e[f]=u}},_=function(t){e={},r=[],x(t),fr(s,(function(t,e){n[e]=t.children}))},k=function(t){var r=/^(~)?(.+)$/;t&&(ur.text_block_elements=ur.block_elements=null,fr(mr(t,","),(function(t){var i=r.exec(t),a="~"===i[1],s=a?"span":"div",u=i[2];if(n[u]=n[s],o[u]=s,a||(y[u.toUpperCase()]={},y[u]={}),!e[u]){var l=e[s];delete(l=dr({},l)).removeEmptyAttrs,delete l.removeEmpty,e[u]=l}fr(n,(function(t,e){t[s]&&(n[e]=t=dr({},n[e]),t[u]=t[s])}))})))},C=function(e){var r=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;ur[t.schema]=null,e&&fr(mr(e,","),(function(t){var e,o,i=r.exec(t);i&&(o=i[1],e=o?n[i[2]]:n[i[2]]={"#comment":{}},e=n[i[2]],fr(mr(i[3],"|"),(function(t){"-"===o?delete e[t]:e[t]={}})))}))},S=function(t){var n,o=e[t];if(o)return o;for(n=r.length;n--;)if((o=r[n]).pattern.test(t))return o};t.valid_elements?_(t.valid_elements):(fr(s,(function(t,r){e[r]={attributes:t.attributes,attributesOrder:t.attributesOrder},n[r]=t.children})),"html5"!==t.schema&&fr(mr("strong/b em/i"),(function(t){t=mr(t,"/"),e[t[1]].outputName=t[0]})),fr(mr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){e[t]&&(e[t].removeEmpty=!0)})),fr(mr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){e[t].paddEmpty=!0})),fr(mr("span"),(function(t){e[t].removeEmptyAttrs=!0}))),k(t.custom_elements),C(t.valid_children),x(t.extended_valid_elements),C("+ol[ul|ol],+ul[ul|ol]"),fr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,n){e[n]&&(e[n].parentsRequired=mr(t))})),t.invalid_elements&&fr(hr(t.invalid_elements),(function(t){e[t]&&delete e[t]})),S("span")||x("span[!data-mce-type|*]");return{children:n,elements:e,getValidStyles:function(){return u},getValidClasses:function(){return c},getBlockElements:function(){return y},getInvalidStyles:function(){return l},getShortEndedElements:function(){return h},getTextBlockElements:function(){return v},getTextInlineElements:function(){return b},getBoolAttrs:function(){return p},getElementRule:S,getSelfClosingElements:function(){return d},getNonEmptyElements:function(){return m},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return f},getSpecialElements:function(){return i},isValidChild:function(t,e){var r=n[t.toLowerCase()];return!(!r||!r[e.toLowerCase()])},isValid:function(t,e){var n,r,o=S(t);if(o){if(!e)return!0;if(o.attributes[e])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(t))return!0}return!1},getCustomElements:function(){return o},addValidElements:x,setValidElements:_,addCustomElements:k,addValidChildren:C}}var yr,br,wr,xr,_r,kr,Cr,Sr,Tr,Er,Or,Ar,Dr,Nr,Pr,Mr,Lr,Rr=function(t,e,n,r){var o=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+o(e)+o(n)+o(r)},Ir=function(t,e){var n,r,o,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,l={};t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles());var c="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(n=0;n<c.length;n++)l[c[n]]="\ufeff"+n,l["\ufeff"+n]=c[n];return{toHex:function(t){return t.replace(i,Rr)},parse:function(e){var r,o,c,f,d,h,p,m,g={},v=t.url_converter,y=t.url_converter_scope||this,b=function(t,e,r){var o=g[t+"-top"+e];if(o){var i=g[t+"-right"+e];if(i){var a=g[t+"-bottom"+e];if(a){var s=g[t+"-left"+e];if(s){var u=[o,i,a,s];for(n=u.length-1;n--&&u[n]===u[n+1];);n>-1&&r||(g[t+e]=-1===n?u[0]:u.join(" "),delete g[t+"-top"+e],delete g[t+"-right"+e],delete g[t+"-bottom"+e],delete g[t+"-left"+e])}}}}},w=function(t){var e,n=g[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return g[t]=n[0],!0}},x=function(t){return f=!0,l[t]},_=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return l[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},k=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},C=function(t){return t.replace(/\\[0-9a-f]+/gi,k)},S=function(e,n,r,o,i,a){if(i=i||a)return"'"+(i=_(i)).replace(/\'/g,"\\'")+"'";if(n=_(n||r||o),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return v&&(n=v.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,x).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,x)}));r=s.exec(e);)if(s.lastIndex=r.index+r[0].length,o=r[1].replace(u,"").toLowerCase(),c=r[2].replace(u,""),o&&c){if(o=C(o),c=C(c),-1!==o.indexOf("\ufeff")||-1!==o.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(c)))continue;"font-weight"===o&&"700"===c?c="bold":"color"!==o&&"background-color"!==o||(c=c.toLowerCase()),c=(c=c.replace(i,Rr)).replace(a,S),g[o]=f?_(c,!0):c}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),d="border",p="border-style",m="border-color",w(h="border-width")&&w(p)&&w(m)&&(g[d]=g[h]+" "+g[p]+" "+g[m],delete g[h],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(t,e){var n="",i=function(e){var o,i=r[e];if(i)for(var a=0,s=i.length;a<s;a++)e=i[a],(o=t[e])&&(n+=(n.length>0?" ":"")+e+": "+o+";")};return e&&r?(i("*"),i(e)):rt(t,(function(t,r){!t||o&&!function(t,e){var n=o["*"];return(!n||!n[t])&&!((n=o[e])&&n[t])}(r,e)||(n+=(n.length>0?" ":"")+r+": "+t+";")})),n}}},Br=/^(?:mouse|contextmenu)|click/,Fr={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},jr=function(){return!1},zr=function(){return!0},Hr=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},qr=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Ur=function(t,e){var r,o=e||{};for(r in t)Fr[r]||(o[r]=t[r]);if(o.target||(o.target=o.srcElement||n.document),ne.experimentalShadowDom&&(o.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&n.length>0)return n[0]}return e}(t,o.target)),t&&Br.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var i=o.target.ownerDocument||n.document,a=i.documentElement,s=i.body;o.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),o.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=zr,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=zr,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=zr,o.stopPropagation()},!1===function(t){return t.isDefaultPrevented===zr||t.isDefaultPrevented===jr}(o)&&(o.isDefaultPrevented=jr,o.isPropagationStopped=jr,o.isImmediatePropagationStopped=jr),void 0===o.metaKey&&(o.metaKey=!1),o},Wr=function(t,e,n){var r=t.document,o={type:"ready"};if(n.domLoaded)e(o);else{var i=function(){qr(t,"DOMContentLoaded",i),qr(t,"load",i),n.domLoaded||(n.domLoaded=!0,e(o))};"complete"===r.readyState||"interactive"===r.readyState&&r.body?i():Hr(t,"DOMContentLoaded",i),Hr(t,"load",i)}},Vr=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in n.document.documentElement,this.hasFocusIn="onfocusin"in n.document.documentElement,this.count=1}return t.prototype.bind=function(t,e,r,o){var i,a,s,u,l,c,f,d=this,h=n.window,p=function(t){d.executeHandlers(Ur(t||h.event),i)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[d.expando]?i=t[d.expando]:(i=d.count++,t[d.expando]=i,d.events[i]={}),o=o||t;var m=e.split(" ");for(s=m.length;s--;)c=p,l=f=!1,"DOMContentLoaded"===(u=m[s])&&(u="ready"),d.domLoaded&&"ready"===u&&"complete"===t.readyState?r.call(o,Ur({type:u})):(d.hasMouseEnterLeave||(l=d.mouseEnterLeave[u])&&(c=function(t){var e=t.currentTarget,n=t.relatedTarget;if(n&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Ur(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,d.executeHandlers(t,i))}),d.hasFocusIn||"focusin"!==u&&"focusout"!==u||(f=!0,l="focusin"===u?"focus":"blur",c=function(t){(t=Ur(t||h.event)).type="focus"===t.type?"focusin":"focusout",d.executeHandlers(t,i)}),(a=d.events[i][u])?"ready"===u&&d.domLoaded?r(Ur({type:u})):a.push({func:r,scope:o}):(d.events[i][u]=a=[{func:r,scope:o}],a.fakeName=l,a.capture=f,a.nativeHandler=c,"ready"===u?Wr(t,c,d):Hr(t,l||u,c,f)));return t=a=0,r}},t.prototype.unbind=function(t,e,n){var r,o,i,a,s;if(!t||3===t.nodeType||8===t.nodeType)return this;var u=t[this.expando];if(u){if(s=this.events[u],e){var l=e.split(" ");for(o=l.length;o--;)if(r=s[a=l[o]]){if(n)for(i=r.length;i--;)if(r[i].func===n){var c=r.nativeHandler,f=r.fakeName,d=r.capture;(r=r.slice(0,i).concat(r.slice(i+1))).nativeHandler=c,r.fakeName=f,r.capture=d,s[a]=r}n&&0!==r.length||(delete s[a],qr(t,r.fakeName||a,r.nativeHandler,r.capture))}}else rt(s,(function(e,n){qr(t,e.fakeName||n,e.nativeHandler,e.capture)})),s={};for(a in s)if(dt(s,a))return this;delete this.events[u];try{delete t[this.expando]}catch(e){t[this.expando]=null}}return this},t.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var o=Ur(null,n);o.type=e,o.target=t;do{(r=t[this.expando])&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this},t.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(t,e){var n=this.events[e],r=n&&n[t.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}},t.Event=new t,t}(),$r="sizzle"+-new Date,Gr=n.window.document,Yr=0,Kr=0,Zr=Oo(),Xr=Oo(),Jr=Oo(),Qr=function(t,e){return t===e&&(Er=!0),0},to={}.hasOwnProperty,eo=[],no=eo.pop,ro=eo.push,oo=eo.push,io=eo.slice,ao=eo.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},so="[\\x20\\t\\r\\n\\f]",uo="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",lo="\\["+so+"*("+uo+")(?:"+so+"*([*^$|!~]?=)"+so+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+uo+"))|)"+so+"*\\]",co=":("+uo+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+lo+")*)|.*)\\)|)",fo=new RegExp("^"+so+"+|((?:^|[^\\\\])(?:\\\\.)*)"+so+"+$","g"),ho=new RegExp("^"+so+"*,"+so+"*"),po=new RegExp("^"+so+"*([>+~]|"+so+")"+so+"*"),mo=new RegExp("="+so+"*([^\\]'\"]*?)"+so+"*\\]","g"),go=new RegExp(co),vo=new RegExp("^"+uo+"$"),yo={ID:new RegExp("^#("+uo+")"),CLASS:new RegExp("^\\.("+uo+")"),TAG:new RegExp("^("+uo+"|[*])"),ATTR:new RegExp("^"+lo),PSEUDO:new RegExp("^"+co),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+so+"*(even|odd|(([+-]|)(\\d*)n|)"+so+"*(?:([+-]|)"+so+"*(\\d+)|))"+so+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+so+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+so+"*((?:-\\d)?\\d*)"+so+"*\\)|)(?=[^-]|$)","i")},bo=/^(?:input|select|textarea|button)$/i,wo=/^h\d$/i,xo=/^[^{]+\{\s*\[native \w/,_o=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ko=/[+~]/,Co=/'|\\/g,So=new RegExp("\\\\([\\da-f]{1,6}"+so+"?|("+so+")|.)","ig"),To=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{oo.apply(eo=io.call(Gr.childNodes),Gr.childNodes),eo[Gr.childNodes.length].nodeType}catch(t){oo={apply:eo.length?function(t,e){ro.apply(t,io.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}var Eo=function(t,e,n,r){var o,i,a,s,u,l,c,f,d,h;if((e?e.ownerDocument||e:Gr)!==Ar&&Or(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||Ar).nodeType)&&9!==s)return[];if(Nr&&!r){if(o=_o.exec(t))if(a=o[1]){if(9===s){if(!(i=e.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&Lr(e,i)&&i.id===a)return n.push(i),n}else{if(o[2])return oo.apply(n,e.getElementsByTagName(t)),n;if((a=o[3])&&yr.getElementsByClassName)return oo.apply(n,e.getElementsByClassName(a)),n}if(yr.qsa&&(!Pr||!Pr.test(t))){if(f=c=$r,d=e,h=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=_r(t),(c=e.getAttribute("id"))?f=c.replace(Co,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",u=l.length;u--;)l[u]=f+Lo(l[u]);d=ko.test(t)&&Po(e.parentNode)||e,h=l.join(",")}if(h)try{return oo.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return Cr(t.replace(fo,"$1"),e,n,r)};function Oo(){var t=[];return function e(n,r){return t.push(n+" ")>br.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function Ao(t){return t[$r]=!0,t}function Do(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function No(t){return Ao((function(e){return e=+e,Ao((function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function Po(t){return t&&void 0!==t.getElementsByTagName&&t}function Mo(){}function Lo(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Ro(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=Kr++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,a){var s,u,l=[Yr,i];if(a){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||o){if((s=(u=e[$r]||(e[$r]={}))[r])&&s[0]===Yr&&s[1]===i)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function Io(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function Bo(t,e,n,r,o){for(var i,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),l&&e.push(s)));return a}function Fo(t,e,n,r,o,i){return r&&!r[$r]&&(r=Fo(r)),o&&!o[$r]&&(o=Fo(o,i)),Ao((function(i,a,s,u){var l,c,f,d=[],h=[],p=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)Eo(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!i&&e?m:Bo(m,d,t,s,u),v=n?o||(i?t:p||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=Bo(v,h),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[h[c]]=!(g[h[c]]=f));if(i){if(o||t){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(g[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?ao.call(i,f):d[c])>-1&&(i[l]=!(a[l]=f))}}else v=Bo(v===a?v.splice(p,v.length):v),o?o(null,a,v,u):oo.apply(a,v)}))}function jo(t){for(var e,n,r,o=t.length,i=br.relative[t[0].type],a=i||br.relative[" "],s=i?1:0,u=Ro((function(t){return t===e}),a,!0),l=Ro((function(t){return ao.call(e,t)>-1}),a,!0),c=[function(t,n,r){return!i&&(r||n!==Sr)||((e=n).nodeType?u(t,n,r):l(t,n,r))}];s<o;s++)if(n=br.relative[t[s].type])c=[Ro(Io(c),n)];else{if((n=br.filter[t[s].type].apply(null,t[s].matches))[$r]){for(r=++s;r<o&&!br.relative[t[r].type];r++);return Fo(s>1&&Io(c),s>1&&Lo(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(fo,"$1"),n,s<r&&jo(t.slice(s,r)),r<o&&jo(t=t.slice(r)),r<o&&Lo(t))}c.push(n)}return Io(c)}yr=Eo.support={},xr=Eo.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},Or=Eo.setDocument=function(t){var e,n=t?t.ownerDocument||t:Gr,r=n.defaultView;return n!==Ar&&9===n.nodeType&&n.documentElement?(Ar=n,Dr=n.documentElement,Nr=!xr(n),r&&r!==function(t){try{return t.top}catch(t){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){Or()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){Or()}))),yr.attributes=!0,yr.getElementsByTagName=!0,yr.getElementsByClassName=xo.test(n.getElementsByClassName),yr.getById=!0,br.find.ID=function(t,e){if(void 0!==e.getElementById&&Nr){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},br.filter.ID=function(t){var e=t.replace(So,To);return function(t){return t.getAttribute("id")===e}},br.find.TAG=yr.getElementsByTagName?function(t,e){if(void 0!==e.getElementsByTagName)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},br.find.CLASS=yr.getElementsByClassName&&function(t,e){if(Nr)return e.getElementsByClassName(t)},Mr=[],Pr=[],yr.disconnectedMatch=!0,Pr=Pr.length&&new RegExp(Pr.join("|")),Mr=Mr.length&&new RegExp(Mr.join("|")),e=xo.test(Dr.compareDocumentPosition),Lr=e||xo.test(Dr.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Qr=e?function(t,e){if(t===e)return Er=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!yr.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===Gr&&Lr(Gr,t)?-1:e===n||e.ownerDocument===Gr&&Lr(Gr,e)?1:Tr?ao.call(Tr,t)-ao.call(Tr,e):0:4&r?-1:1)}:function(t,e){if(t===e)return Er=!0,0;var r,o=0,i=t.parentNode,a=e.parentNode,s=[t],u=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:Tr?ao.call(Tr,t)-ao.call(Tr,e):0;if(i===a)return Do(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)u.unshift(r);for(;s[o]===u[o];)o++;return o?Do(s[o],u[o]):s[o]===Gr?-1:u[o]===Gr?1:0},n):Ar},Eo.matches=function(t,e){return Eo(t,null,null,e)},Eo.matchesSelector=function(t,e){if((t.ownerDocument||t)!==Ar&&Or(t),e=e.replace(mo,"='$1']"),yr.matchesSelector&&Nr&&(!Mr||!Mr.test(e))&&(!Pr||!Pr.test(e)))try{var n=(void 0).call(t,e);if(n||yr.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return Eo(e,Ar,null,[t]).length>0},Eo.contains=function(t,e){return(t.ownerDocument||t)!==Ar&&Or(t),Lr(t,e)},Eo.attr=function(t,e){(t.ownerDocument||t)!==Ar&&Or(t);var n=br.attrHandle[e.toLowerCase()],r=n&&to.call(br.attrHandle,e.toLowerCase())?n(t,e,!Nr):void 0;return void 0!==r?r:yr.attributes||!Nr?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},Eo.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Eo.uniqueSort=function(t){var e,n=[],r=0,o=0;if(Er=!yr.detectDuplicates,Tr=!yr.sortStable&&t.slice(0),t.sort(Qr),Er){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return Tr=null,t},wr=Eo.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=wr(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=wr(e);return n},(br=Eo.selectors={cacheLength:50,createPseudo:Ao,match:yo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(So,To),t[3]=(t[3]||t[4]||t[5]||"").replace(So,To),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Eo.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Eo.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return yo.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&go.test(n)&&(e=_r(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(So,To).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Zr[t+" "];return e||(e=new RegExp("(^|"+so+")"+t+"("+so+"|$)"))&&Zr(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=Eo.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(g){if(i){for(;m;){for(f=e;f=f[m];)if(s?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(h=(l=(c=g[$r]||(g[$r]={}))[t]||[])[0]===Yr&&l[1],d=l[0]===Yr&&l[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===e){c[t]=[Yr,h,d];break}}else if(y&&(l=(e[$r]||(e[$r]={}))[t])&&l[0]===Yr)d=l[1];else for(;(f=++h&&f&&f[m]||(d=h=0)||p.pop())&&((s?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[$r]||(f[$r]={}))[t]=[Yr,d]),f!==e)););return(d-=o)===r||d%r==0&&d/r>=0}}},PSEUDO:function(t,e){var n,r=br.pseudos[t]||br.setFilters[t.toLowerCase()]||Eo.error("unsupported pseudo: "+t);return r[$r]?r(e):r.length>1?(n=[t,t,"",e],br.setFilters.hasOwnProperty(t.toLowerCase())?Ao((function(t,n){for(var o,i=r(t,e),a=i.length;a--;)t[o=ao.call(t,i[a])]=!(n[o]=i[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:Ao((function(t){var e=[],n=[],r=kr(t.replace(fo,"$1"));return r[$r]?Ao((function(t,e,n,o){for(var i,a=r(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),!n.pop()}})),has:Ao((function(t){return function(e){return Eo(t,e).length>0}})),contains:Ao((function(t){return t=t.replace(So,To),function(e){return(e.textContent||e.innerText||wr(e)).indexOf(t)>-1}})),lang:Ao((function(t){return vo.test(t||"")||Eo.error("unsupported lang: "+t),t=t.replace(So,To).toLowerCase(),function(e){var n;do{if(n=Nr?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=n.window.location&&n.window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===Dr},focus:function(t){return t===Ar.activeElement&&(!Ar.hasFocus||Ar.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!br.pseudos.empty(t)},header:function(t){return wo.test(t.nodeName)},input:function(t){return bo.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:No((function(){return[0]})),last:No((function(t,e){return[e-1]})),eq:No((function(t,e,n){return[n<0?n+e:n]})),even:No((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:No((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:No((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:No((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=br.pseudos.eq,H(["radio","checkbox","file","password","image"],(function(t){br.pseudos[t]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(t)})),H(["submit","reset"],(function(t){br.pseudos[t]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(t)})),Mo.prototype=br.filters=br.pseudos,br.setFilters=new Mo,_r=Eo.tokenize=function(t,e){var n,r,o,i,a,s,u,l=Xr[t+" "];if(l)return e?0:l.slice(0);for(a=t,s=[],u=br.preFilter;a;){for(i in n&&!(r=ho.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=po.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(fo," ")}),a=a.slice(n.length)),br.filter)br.filter.hasOwnProperty(i)&&(!(r=yo[i].exec(a))||u[i]&&!(r=u[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?Eo.error(t):Xr(t,s).slice(0)},kr=Eo.compile=function(t,e){var n,r=[],o=[],i=Jr[t+" "];if(!i){for(e||(e=_r(t)),n=e.length;n--;)(i=jo(e[n]))[$r]?r.push(i):o.push(i);(i=Jr(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,i,a,s,u){var l,c,f,d=0,h="0",p=o&&[],m=[],g=Sr,v=o||r&&br.find.TAG("*",u),y=Yr+=null==g?1:Math.random()||.1,b=v.length;for(u&&(Sr=i!==Ar&&i);h!==b&&null!=(l=v[h]);h++){if(r&&l){for(c=0;f=t[c++];)if(f(l,i,a)){s.push(l);break}u&&(Yr=y)}n&&((l=!f&&l)&&d--,o&&p.push(l))}if(d+=h,n&&h!==d){for(c=0;f=e[c++];)f(p,m,i,a);if(o){if(d>0)for(;h--;)p[h]||m[h]||(m[h]=no.call(s));m=Bo(m)}oo.apply(s,m),u&&!o&&m.length>0&&d+e.length>1&&Eo.uniqueSort(s)}return u&&(Yr=y,Sr=g),p};return n?Ao(o):o}(o,r))).selector=t}return i},Cr=Eo.select=function(t,e,n,r){var o,i,a,s,u,l="function"==typeof t&&t,c=!r&&_r(t=l.selector||t);if(n=n||[],1===c.length){if((i=c[0]=c[0].slice(0)).length>2&&"ID"===(a=i[0]).type&&yr.getById&&9===e.nodeType&&Nr&&br.relative[i[1].type]){if(!(e=(br.find.ID(a.matches[0].replace(So,To),e)||[])[0]))return n;l&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=yo.needsContext.test(t)?0:i.length;o--&&(a=i[o],!br.relative[s=a.type]);)if((u=br.find[s])&&(r=u(a.matches[0].replace(So,To),ko.test(i[0].type)&&Po(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&Lo(i)))return oo.apply(n,r),n;break}}return(l||kr(t,c))(r,e,!Nr,n,ko.test(t)&&Po(e.parentNode)||e),n},yr.sortStable=$r.split("").sort(Qr).join("")===$r,yr.detectDuplicates=!!Er,Or(),yr.sortDetached=!0;var zo=n.document,Ho=Array.prototype.push,qo=Array.prototype.slice,Uo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Wo=Vr.Event,Vo=se.makeMap("children,contents,next,prev"),$o=function(t){return void 0!==t},Go=function(t){return"string"==typeof t},Yo=function(t,e){var n,r=(e=e||zo).createElement("div"),o=e.createDocumentFragment();for(r.innerHTML=t;n=r.firstChild;)o.appendChild(n);return o},Ko=function(t,e,n,r){var o;if(Go(e))e=Yo(e,li(t[0]));else if(e.length&&!e.nodeType){if(e=hi.makeArray(e),r)for(o=e.length-1;o>=0;o--)Ko(t,e[o],n,r);else for(o=0;o<e.length;o++)Ko(t,e[o],n,r);return t}if(e.nodeType)for(o=t.length;o--;)n.call(t[o],e);return t},Zo=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Xo=function(t,e,n){var r,o;return e=hi(e)[0],t.each((function(){n&&r===this.parentNode||(r=this.parentNode,o=e.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)})),t},Jo=se.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Qo=se.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ti={for:"htmlFor",class:"className",readonly:"readOnly"},ei={float:"cssFloat"},ni={},ri={},oi=function(t,e){return new hi.fn.init(t,e)},ii=/^\s*|\s*$/g,ai=function(t){return null==t?"":(""+t).replace(ii,"")},si=function(t,e){var n,r,o,i;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(i=t[r],!1===e.call(i,r,i)))break}else for(o=0;o<n&&(i=t[o],!1!==e.call(i,o,i));o++);return t},ui=function(t,e){var n=[];return si(t,(function(t,r){e(r,t)&&n.push(r)})),n},li=function(t){return t?9===t.nodeType?t:t.ownerDocument:zo};oi.fn=oi.prototype={constructor:oi,selector:"",context:null,length:0,init:function(t,e){var r,o;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(e&&e.nodeType)this.context=e;else{if(e)return hi(t).attr(e);this.context=e=n.document}if(Go(t)){if(this.selector=t,!(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Uo.exec(t)))return hi(e).find(t);if(r[1])for(o=Yo(t,li(e)).firstChild;o;)Ho.call(this,o),o=o.nextSibling;else{if(!(o=li(e).getElementById(r[2])))return this;if(o.id!==r[2])return this.find(t);this.length=1,this[0]=o}}else this.add(t,!1);return this},toArray:function(){return se.toArray(this)},add:function(t,e){var n,r;if(Go(t))return this.add(hi(t));if(!1!==e)for(n=hi.unique(this.toArray().concat(hi.makeArray(t))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else Ho.apply(this,hi.makeArray(t));return this},attr:function(t,e){var n,r=this;if("object"==typeof t)si(t,(function(t,e){r.attr(t,e)}));else{if(!$o(e)){if(r[0]&&1===r[0].nodeType){if((n=ni[t])&&n.get)return n.get(r[0],t);if(Qo[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=ni[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=ti[t]||t))si(t,(function(t,e){n.prop(t,e)}));else{if(!$o(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,r,o=this,i=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},a=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)si(t,(function(t,e){o.css(t,e)}));else if($o(e))t=i(t),"number"!=typeof e||Jo[t]||(e=e.toString()+"px"),o.each((function(){var n=this.style;if((r=ri[t])&&r.set)r.set(this,e);else{try{this.style[ei[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))}}));else{if(n=o[0],(r=ri[t])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(t))}catch(t){return}}return o},remove:function(){for(var t,e=this.length;e--;)t=this[e],Wo.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if($o(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){hi(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if($o(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return Ko(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return Ko(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?Ko(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?Ko(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return hi(t).append(this),this},prependTo:function(t){return hi(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Xo(this,t)},wrapAll:function(t){return Xo(this,t,!0)},wrapInner:function(t){return this.each((function(){hi(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){hi(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),hi(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?si(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,r){var o=Zo(r,t);if(o!==e){var i=r.className;o?r.className=ai((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t}}))),n},hasClass:function(t){return Zo(this[0],t)},each:function(t){return si(this,t)},on:function(t,e){return this.each((function(){Wo.bind(this,t,e)}))},off:function(t,e){return this.each((function(){Wo.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?Wo.fire(this,t.type,t):Wo.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new hi(qo.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)hi.find(t,this[e],r);return hi(r)},filter:function(t){return hi("function"==typeof t?ui(this.toArray(),(function(e,n){return t(n,e)})):hi.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof hi&&(t=t[0]),this.each((function(n,r){for(;r;){if("string"==typeof t&&hi(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}})),hi(e)},offset:function(t){var e,n,r,o,i=0,a=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(i=(o=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Ho,sort:Array.prototype.sort,splice:Array.prototype.splice},se.extend(oi,{extend:se.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:se.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:se.isArray,each:si,trim:ai,grep:ui,find:Eo,expr:Eo.selectors,unique:Eo.uniqueSort,text:Eo.getText,contains:Eo.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return e=1===e.length?hi.find.matchesSelector(e[0],t)?[e[0]]:[]:hi.find.matches(t,e)}});var ci=function(t,e,n){var r=[],o=t[e];for("string"!=typeof n&&n instanceof hi&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&hi(o).is(n))break}1===o.nodeType&&r.push(o),o=o[e]}return r},fi=function(t,e,n,r){var o=[];for(r instanceof hi&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"==typeof r&&hi(t).is(r))break}o.push(t)}return o},di=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};si({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ci(t,"parentNode")},next:function(t){return di(t,"nextSibling",1)},prev:function(t){return di(t,"previousSibling",1)},children:function(t){return fi(t.firstChild,"nextSibling",1)},contents:function(t){return se.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){oi.fn[t]=function(n){var r=[];this.each((function(){var t=e.call(r,this,n,r);t&&(hi.isArray(t)?r.push.apply(r,t):r.push(t))})),this.length>1&&(Vo[t]||(r=hi.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var o=hi(r);return n?o.filter(n):o}})),si({parentsUntil:function(t,e){return ci(t,"parentNode",e)},nextUntil:function(t,e){return fi(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return fi(t,"previousSibling",1,e).slice(1)}},(function(t,e){oi.fn[t]=function(n,r){var o=[];this.each((function(){var t=e.call(o,this,n,o);t&&(hi.isArray(t)?o.push.apply(o,t):o.push(t))})),this.length>1&&(o=hi.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse()));var i=hi(o);return r?i.filter(r):i}})),oi.fn.is=function(t){return!!t&&this.filter(t).length>0},oi.fn.init.prototype=oi.fn,oi.overrideDefaults=function(t){var e,n=function(r,o){return e=e||t(),0===arguments.length&&(r=e.element),o||(o=e.context),new n.fn.init(r,o)};return hi.extend(n,this),n},oi.attrHooks=ni,oi.cssHooks=ri;var hi=oi,pi=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var o,i;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(o=t[n])return o;for(i=t.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},t.prototype.findPreviousNode=function(t,e,n,r){var o,i,a;if(t){if(o=t[n],this.rootNode&&o===this.rootNode)return;if(o){if(!r)for(a=o[e];a;a=a[e])if(!a[e])return a;return o}if((i=t.parentNode)&&i!==this.rootNode)return i}},t}(),mi={},gi={exports:mi};!function(t,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof t&&t.amd)t([],o);else{("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof o&&o;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,(function(t){return i(e[s][1][t]||t)}),f,f.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var l,c=[],f=!1,d=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var r,o}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new c(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,o((function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,mi,gi,void 0);var vi,yi=gi.exports.boltExport,bi=function(t){var e=_.none(),r=[],o=function(t){i()?s(t):r.push(t)},i=function(){return e.isSome()},a=function(t){H(t,s)},s=function(t){e.each((function(e){n.setTimeout((function(){t(e)}),0)}))};return t((function(t){i()||(e=_.some(t),a(r),r=[])})),{get:o,map:function(t){return bi((function(e){o((function(n){e(t(n))}))}))},isReady:i}},wi={nu:bi,pure:function(t){return bi((function(e){e(t)}))}},xi=function(t){n.setTimeout((function(){throw t}),0)},_i=function(t){var e=function(e){t().then(e,xi)};return{map:function(e){return _i((function(){return t().then(e)}))},bind:function(e){return _i((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return _i((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return wi.nu(e)},toCached:function(){var e=null;return _i((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},ki=function(t){return _i((function(){return new yi(t)}))},Ci=function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):H(t,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=t.length&&e(n)}}(i))}))}))},Si=function(t){return{is:function(e){return t===e},isValue:y,isError:v,getOr:d(t),getOrThunk:d(t),getOrDie:d(t),or:function(e){return Si(t)},orThunk:function(e){return Si(t)},fold:function(e,n){return n(t)},map:function(e){return Si(e(t))},mapError:function(e){return Si(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return _.some(t)}}},Ti=function(t){return{is:v,isValue:v,isError:y,getOr:h,getOrThunk:function(t){return t()},getOrDie:function(){return g(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Ti(t)},mapError:function(e){return Ti(e(t))},each:c,bind:function(e){return Ti(t)},exists:v,forall:y,toOption:_.none}},Ei={value:Si,error:Ti,fromOption:function(t,e){return t.fold((function(){return Ti(e)}),Si)}},Oi=function(t){if(!O(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],r={};return H(t,(function(o,i){var a=et(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!O(u))throw new Error("case arguments must be an array");e.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var l=function(t){var n=et(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!K(e,(function(t){return F(n,t)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:l,log:function(t){n.console.log(t,{constructors:e,constructor:s,params:o})}}}})),r},Ai=(Oi([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){return t.fold(h,h)}),Di=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}var e=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(a,this),t(s,this))},o=r.immediateFn||"function"==typeof n.setImmediate&&n.setImmediate||function(t){n.setTimeout(t,1)};function i(t){var e=this;null!==this._state?o((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(a,this),t(s,this))}this._state=!0,this._value=e,u.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)i.call(this,this._deferreds[t]);this._deferreds=null}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}return r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r((function(r,o){i.call(n,new l(t,e,r,o))}))},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&e(arguments[0])?arguments[0]:arguments);return new r((function(e,n){if(0===t.length)return e([]);var r=t.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),n)}t[i]=a,0==--r&&e(t)}catch(t){n(t)}}for(var i=0;i<t.length;i++)o(i,t[i])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},r}(),Ni=function(t,e){return"number"!=typeof e&&(e=0),n.setTimeout(t,e)},Pi=function(t,e){return"number"!=typeof e&&(e=1),n.setInterval(t,e)},Mi=function(t,e){var r,o=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];n.clearTimeout(r),r=Ni((function(){t.apply(this,o)}),e)};return o.stop=function(){n.clearTimeout(r)},o},Li={requestAnimationFrame:function(t,e){vi?vi.then(t):vi=new Di((function(t){e||(e=n.document.body),function(t,e){var r,o=n.window.requestAnimationFrame,i=["ms","moz","webkit"];for(r=0;r<i.length&&!o;r++)o=n.window[i[r]+"RequestAnimationFrame"];o||(o=function(t){n.window.setTimeout(t,0)}),o(t,e)}(t,e)})).then(t)},setTimeout:Ni,setInterval:Pi,setEditorTimeout:function(t,e,n){return Ni((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,r){var o=Pi((function(){t.removed?n.clearInterval(o):e()}),r);return o},debounce:Mi,throttle:Mi,clearInterval:function(t){return n.clearInterval(t)},clearTimeout:function(t){return n.clearTimeout(t)}};function Ri(t,e){void 0===e&&(e={});var r=0,o={},i=le.fromDom(t),a=Ce(i),s=e.maxLoadTime||5e3,u=function(t){qe(Be(i),t)},l=function(i,l,c){var f,d,h,p=function(t){h.status=t,h.passed=[],h.failed=[],f&&(f.onload=null,f.onerror=null,f=null)},m=function(){for(var t=h.passed,e=t.length;e--;)t[e]();p(2)},g=function(){for(var t=h.failed,e=t.length;e--;)t[e]();p(3)},v=function(t,e){t()||((new Date).getTime()-x<s?Li.setTimeout(e):g())},y=function(){v((function(){for(var e,n,r=t.styleSheets,o=r.length;o--;)if((n=(e=r[o]).ownerNode?e.ownerNode:e.owningElement)&&n.id===f.id)return m(),!0}),y)},b=function(){v((function(){try{var t=d.sheet.cssRules;return m(),!!t}catch(t){}}),b)};if(i=se._addCacheSuffix(i),o[i]?h=o[i]:(h={passed:[],failed:[]},o[i]=h),l&&h.passed.push(l),c&&h.failed.push(c),1!==h.status)if(2!==h.status)if(3!==h.status){h.status=1,(f=a.dom().createElement("link")).rel="stylesheet",f.type="text/css",f.id="u"+r++,f.async=!1,f.defer=!1;var w,x=(new Date).getTime();if(e.contentCssCors&&(f.crossOrigin="anonymous"),e.referrerPolicy&&kn(le.fromDom(f),"referrerpolicy",e.referrerPolicy),!("onload"in f)||(w=n.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(w[1],10)<536){if(n.navigator.userAgent.indexOf("Firefox")>0)return(d=a.dom().createElement("style")).textContent='@import "'+i+'"',b(),void u(le.fromDom(d));y()}else f.onload=y,f.onerror=g;u(le.fromDom(f)),f.href=i}else g();else m()},c=function(t){return ki((function(e){l(t,f(e,d(Ei.value(t))),f(e,d(Ei.error(t))))}))};return{load:l,loadAll:function(t,e,n){var r;(r=z(t,c),Ci(r,ki)).get((function(t){var r=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}}(t,(function(t){return t.isValue()}));r.fail.length>0?n(r.fail.map(Ai)):e(r.pass.map(Ai))}))},_setReferrerPolicy:function(t){e.referrerPolicy=t}}}var Ii=function(){var t=new WeakMap;return{forElement:function(e,n){var r=Ie(e).dom();return _.from(t.get(r)).getOrThunk((function(){var e=Ri(r,n);return t.set(r,e),e}))}}}(),Bi=se.each,Fi=se.grep,ji=ne.ie,zi=/^([a-z0-9],?)+$/i,Hi=/^[ \t\r\n]*$/,qi=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},Ui=function(t,e){var n,r,o=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(o++,n=r);return o};function Wi(t,e){var r=this;void 0===e&&(e={});var o={},i=n.window,a={},s=0,u=Ii.forElement(le.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),l=[],c=e.schema?e.schema:vr({}),f=Ir({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),d=e.ownEvents?new Vr:Vr.Event,h=c.getBlockElements(),p=hi.overrideDefaults((function(){return{context:t,element:q.getRoot()}})),m=function(e){return e&&t&&T(e)?t.getElementById(e):e},g=function(t){return p("string"==typeof t?m(t):t)},v=function(t,e,n){var r,o,i=g(t);return i.length&&(o=(r=U[e])&&r.get?r.get(i,e):i.attr(e)),void 0===o&&(o=n||""),o},y=function(t){var e=m(t);return e?e.attributes:[]},b=function(t,n,r){""===r&&(r=null);var o=g(t),i=o.attr(n);if(o.length){var a=U[n];a&&a.set?a.set(o,r,n):o.attr(n,r),i!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:o,attrName:n,attrValue:r})}},w=function(){return e.root_element||t.body},x=function(e,n){return Mn(t.body,m(e),n)},_=function(t,e,n){var r=g(t);return n?r.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=ne.browser.isIE()?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},k=function(t){var e,n;return t=m(t),e=_(t,"width"),n=_(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},C=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(zi.test(e)){var r=e.toLowerCase().split(/,/),o=t.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var i=Array.isArray(t)?t:[t];return Eo(e,i[0].ownerDocument||i[0],null,i).length>0},S=function(t,e,n,r){var o,i=[],a=m(t);for(r=void 0===r,n=n||("BODY"!==w().nodeName?w().parentNode:null),se.is(e,"string")&&(o=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return C(t,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},E=function(t,e,n){var r=e;if(t)for("string"==typeof e&&(r=function(t){return C(t,e)}),t=t[n];t;t=t[n])if("function"==typeof r&&r(t))return t;return null},O=function(t,e,n){var o,i="string"==typeof t?m(t):t;if(!i)return!1;if(se.isArray(i)&&(i.length||0===i.length))return o=[],Bi(i,(function(t,r){t&&("string"==typeof t&&(t=m(t)),o.push(e.call(n,t,r)))})),o;var a=n||r;return e.call(a,i)},A=function(t,e){g(t).each((function(t,n){Bi(e,(function(t,e){b(n,e,t)}))}))},D=function(t,e){var n=g(t);ji?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){hi("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},N=function(e,n,r,o,i){return O(e,(function(e){var a="string"==typeof n?t.createElement(n):n;return A(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&D(a,o)),i?a:e.appendChild(a)}))},P=function(e,n,r){return N(t.createElement(e),e,n,r,!0)},M=sr.encodeAllRaw,L=function(t,e){var n=g(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},R=function(t,e,n){g(t).toggleClass(e,n).each((function(){""===this.className&&hi(this).attr("class",null)}))},I=function(t,e,n){return O(e,(function(e){return se.is(e,"array")&&(t=t.cloneNode(!0)),n&&Bi(Fi(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},B=function(t){if(an(t)){var e="a"===t.nodeName.toLowerCase()&&!v(t,"href")&&v(t,"id");if(v(t,"name")||v(t,"data-mce-bookmark")||e)return!0}return!1},F=function(){return t.createRange()},j=function(n,r,o,a){if(se.isArray(n)){for(var s=n.length,u=[];s--;)u[s]=j(n[s],r,o,a);return u}return!e.collect||n!==t&&n!==i||l.push([n,r,o,a]),d.bind(n,r,o,a||q)},z=function(e,n,r){var o;if(se.isArray(e)){o=e.length;for(var a=[];o--;)a[o]=z(e[o],n,r);return a}if(l.length>0&&(e===t||e===i))for(o=l.length;o--;){var s=l[o];e!==s[0]||n&&n!==s[1]||r&&r!==s[2]||d.unbind(s[0],s[1],s[2])}return d.unbind(e,n,r)},H=function(t){if(t&&an(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},q={doc:t,settings:e,win:i,files:a,stdMode:!0,boxModel:!0,styleSheetLoader:u,boundEvents:l,styles:f,schema:c,events:d,isBlock:function(t){if("string"==typeof t)return!!h[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!h[t.nodeName])}return!1},$:p,$$:g,root:null,clone:function(e,n){if(!ji||1!==e.nodeType||n)return e.cloneNode(n);var r=t.createElement(e.nodeName);return Bi(y(e),(function(t){b(r,t.nodeName,v(e,t.nodeName))})),r},getRoot:w,getViewPort:function(t){var e=nn(t);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(t){t=m(t);var e=x(t),n=k(t);return{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:k,getParent:function(t,e,n){var r=S(t,e,n,!1);return r&&r.length>0?r[0]:null},getParents:S,get:m,getNext:function(t,e){return E(t,e,"nextSibling")},getPrev:function(t,e){return E(t,e,"previousSibling")},select:function(n,r){return Eo(n,m(r)||e.root_element||t,[])},is:C,add:N,create:P,createHTML:function(t,e,n){var r,o="";for(r in o+="<"+t,e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&(o+=" "+r+'="'+M(e[r])+'"');return void 0!==n?o+">"+n+"</"+t+">":o+" />"},createFragment:function(e){var n,r=t.createElement("div"),o=t.createDocumentFragment();for(o.appendChild(r),e&&(r.innerHTML=e);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},remove:L,setStyle:function(t,n,r){var o=T(n)?g(t).css(n,r):g(t).css(n);e.update_styles&&qi(f,o)},getStyle:_,setStyles:function(t,n){var r=g(t).css(n);e.update_styles&&qi(f,r)},removeAllAttribs:function(t){return O(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:b,setAttribs:A,getAttrib:v,getPos:x,parseStyle:function(t){return f.parse(t)},serializeStyle:function(t,e){return f.serialize(t,e)},addStyle:function(e){var r,i;if(q!==Wi.DOM&&t===n.document){if(o[e])return;o[e]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=t.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(t.createTextNode(e))},loadCSS:function(r){if(q===Wi.DOM||t!==n.document){r||(r="");var o=t.getElementsByTagName("head")[0];Bi(r.split(","),(function(t){if(t=se._addCacheSuffix(t),!a[t]){a[t]=!0;var n=P("link",xt(xt({rel:"stylesheet",type:"text/css",href:t},e.contentCssCors?{crossOrigin:"anonymous"}:{}),e.referrerPolicy?{referrerPolicy:e.referrerPolicy}:{}));o.appendChild(n)}}))}else Wi.DOM.loadCSS(r)},addClass:function(t,e){g(t).addClass(e)},removeClass:function(t,e){R(t,e,!1)},hasClass:function(t,e){return g(t).hasClass(e)},toggleClass:R,show:function(t){g(t).show()},hide:function(t){g(t).hide()},isHidden:function(t){return"none"===g(t).css("display")},uniqueId:function(t){return(t||"mce_")+s++},setHTML:D,getOuterHTML:function(t){var e="string"==typeof t?m(t):t;return an(e)?e.outerHTML:hi("<div></div>").append(hi(e).clone()).html()},setOuterHTML:function(t,e){g(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}L(hi(this).html(e),!0)}))},decode:sr.decode,encode:M,insertAfter:function(t,e){var n=m(e);return O(t,(function(t){var e=n.parentNode,r=n.nextSibling;return r?e.insertBefore(t,r):e.appendChild(t),t}))},replace:I,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=P(e),Bi(y(t),(function(e){b(n,e.nodeName,v(t,e.nodeName))})),I(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,r=t;r;){for(n=e;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},toHex:function(t){return f.toHex(se.trim(t))},run:O,getAttribs:y,isEmpty:function(t,e){var n,r,o=0;if(B(t))return!1;if(t=t.firstChild){var i=new pi(t,t.parentNode),a=c?c.getWhiteSpaceElements():{};e=e||(c?c.getNonEmptyElements():null);do{if(n=t.nodeType,an(t)){var s=t.getAttribute("data-mce-bogus");if(s){t=i.next("all"===s);continue}if(r=t.nodeName.toLowerCase(),e&&e[r]){if("br"===r){o++,t=i.next();continue}return!1}if(B(t))return!1}if(8===n)return!1;if(3===n&&!Hi.test(t.nodeValue))return!1;if(3===n&&t.parentNode&&a[t.parentNode.nodeName]&&Hi.test(t.nodeValue))return!1;t=i.next()}while(t)}return o<=1},createRng:F,nodeIndex:Ui,split:function(t,e,n){var r,o,i,a=F();if(t&&e)return a.setStart(t.parentNode,Ui(t)),a.setEnd(e.parentNode,Ui(e)),r=a.extractContents(),(a=F()).setStart(e.parentNode,Ui(e)+1),a.setEnd(t.parentNode,Ui(t)+1),o=a.extractContents(),(i=t.parentNode).insertBefore(Gn(q,r),t),n?i.insertBefore(n,t):i.insertBefore(e,t),i.insertBefore(Gn(q,o),t),L(t),n||e},bind:j,unbind:z,fire:function(t,e,n){return d.fire(t,e,n)},getContentEditable:H,getContentEditableParent:function(t){for(var e=w(),n=null;t&&t!==e&&null===(n=H(t));t=t.parentNode);return n},destroy:function(){if(l.length>0)for(var t=l.length;t--;){var e=l[t];d.unbind(e[0],e[1],e[2])}Eo.setDocument&&Eo.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}},U=function(t,e,n){var r=e.keep_values,o={set:function(t,r,o){e.url_converter&&(r=e.url_converter.call(e.url_converter_scope||n(),r,o,t[0])),t.attr("data-mce-"+o,r).attr(o,r)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(e,n){null===n||"object"!=typeof n?(r&&e.attr("data-mce-style",n),null!==n&&"string"==typeof n?(e.removeAttr("style"),e.css(t.parse(n))):e.attr("style",n)):e.css(n)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}};return r&&(i.href=i.src=o),i}(f,e,(function(){return q}));return q}!function(t){t.DOM=t(n.document),t.nodeIndex=Ui}(Wi||(Wi={}));var Vi=Wi,$i=Vi.DOM,Gi=se.each,Yi=se.grep,Ki=function(){function t(t){void 0===t&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}return t.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},t.prototype.loadScript=function(t,e,r){var o,i=$i,a=i.uniqueId();(o=n.document.createElement("script")).id=a,o.type="text/javascript",o.src=se._addCacheSuffix(t),this.settings.referrerPolicy&&i.setAttrib(o,"referrerpolicy",this.settings.referrerPolicy),o.onload=function(){i.remove(a),o&&(o.onreadystatechange=o.onload=o=null),e()},o.onerror=function(){P(r)?r():void 0!==n.console&&n.console.log&&n.console.log("Failed to load script: "+t)},(n.document.getElementsByTagName("head")[0]||n.document.body).appendChild(o)},t.prototype.isDone=function(t){return 2===this.states[t]},t.prototype.markDone=function(t){this.states[t]=2},t.prototype.add=function(t,e,n,r){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},t.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},t.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},t.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},t.prototype.loadScripts=function(t,e,n,r){var o=this,i=[],a=function(t,e){Gi(o.scriptLoadedCallbacks[e],(function(e){P(e[t])&&e[t].call(e.scope)})),o.scriptLoadedCallbacks[e]=void 0};o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this});var s=function(){var e=Yi(t);if(t.length=0,Gi(e,(function(t){2!==o.states[t]?3!==o.states[t]?1!==o.states[t]&&(o.states[t]=1,o.loading++,o.loadScript(t,(function(){o.states[t]=2,o.loading--,a("success",t),s()}),(function(){o.states[t]=3,o.loading--,i.push(t),a("failure",t),s()}))):a("failure",t):a("success",t)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Gi(n,(function(t){0===i.length?P(t.success)&&t.success.call(t.scope):P(t.failure)&&t.failure.call(t.scope,i)}))}};s()},t.ScriptLoader=new t,t}(),Zi=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},Xi={},Ji=Zi("en"),Qi=function(){return ft(Xi,Ji.get())},ta={getData:function(){return ot(Xi,(function(t){return xt({},t)}))},setCode:function(t){t&&Ji.set(t)},getCode:function(){return Ji.get()},add:function(t,e){var n=Xi[t];n||(Xi[t]=n={}),rt(e,(function(t,e){n[e.toLowerCase()]=t}))},translate:function(t){var e,n=Qi().getOr({}),r=function(t){return P(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},i=function(t){var e=r(t);return ft(n,e.toLowerCase()).map(r).getOr(e)},a=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(E(e=t)&&dt(e,"raw"))return r(t.raw);if(function(t){return O(t)&&t.length>1}(t)){var s=t.slice(1);return a(i(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return dt(s,e)?r(s[e]):t})))}return a(i(t))},isRtl:function(){return Qi().bind((function(t){return ft(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return dt(Xi,t)}};function ea(){var t=this,e=[],n={},r={},o=[],i=function(t,e){var n=U(o,(function(n){return n.name===t&&n.state===e}));H(n,(function(t){return t.callback()}))},a=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},s=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},u=function(t,e,o,l,c){if(!n[t]){var f="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==f.indexOf("/")&&-1===f.indexOf("://")&&(f=ea.baseURL+"/"+f),n[t]=f.substring(0,f.lastIndexOf("/"));var d=function(){i(t,"loaded"),function(t,e,n,r){var o=a(t);H(o,(function(t){var n=s(e,t);u(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Ki))}(t,e,o,l)};r[t]?d():Ki.ScriptLoader.add(f,d,l,c)}},l=function(t,e,i){void 0===i&&(i="added"),dt(r,t)&&"added"===i||dt(n,t)&&"loaded"===i?e():o.push({name:t,state:i,callback:e})};return{items:e,urls:n,lookup:r,_listeners:o,get:function(t){if(r[t])return r[t].instance},dependencies:a,requireLangPack:function(t,e){!1!==ea.languageLoad&&l(t,(function(){var r=ta.getCode();!r||e&&-1===(","+(e||"")+",").indexOf(","+r+",")||Ki.ScriptLoader.add(n[t]+"/langs/"+r+".js")}),"loaded")},add:function(t,n,o){var a=n;return e.push(a),r[t]={instance:a,dependencies:o},i(t,"added"),a},remove:function(t){delete n[t],delete r[t]},createUrl:s,addComponents:function(e,n){var r=t.urls[e];H(n,(function(t){Ki.ScriptLoader.add(r+"/"+t)}))},load:u,waitFor:l}}!function(t){t.PluginManager=t(),t.ThemeManager=t()}(ea||(ea={}));var na=ea,ra=function(t,e){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=n.setTimeout((function(){t.apply(null,o),r=null}),e))}}},oa=function(t,e){var r=null;return{cancel:function(){null!==r&&(n.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&n.clearTimeout(r),r=n.setTimeout((function(){t.apply(null,o),r=null}),e)}}},ia=function(t,e){var n=Sn(t,e);return void 0===n||""===n?[]:n.split(" ")},aa=function(t){return void 0!==t.dom().classList},sa=function(t,e){return function(t,e,n){var r=ia(t,e).concat([n]);return kn(t,e,r.join(" ")),!0}(t,"class",e)},ua=function(t,e){return function(t,e,n){var r=U(ia(t,e),(function(t){return t!==n}));return r.length>0?kn(t,e,r.join(" ")):Tn(t,e),!1}(t,"class",e)},la=function(t,e){aa(t)?t.dom().classList.add(e):sa(t,e)},ca=function(t){0===(aa(t)?t.dom().classList:function(t){return ia(t,"class")}(t)).length&&Tn(t,"class")},fa=function(t,e){return aa(t)&&t.dom().classList.contains(e)},da=function(t,e){var n=[];return H(Ne(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(da(t,e))})),n},ha=function(t,e){return function(t,e){var r=void 0===e?n.document:e.dom();return be(r)?[]:z(r.querySelectorAll(t),le.fromDom)}(e,t)};function pa(t,e,n,r,o){return t(n,r)?_.some(n):P(o)&&o(n)?_.none():e(n,r,o)}var ma=function(t,e,n){for(var r=t.dom(),o=P(n)?n:d(!1);r.parentNode;){r=r.parentNode;var i=le.fromDom(r);if(e(i))return _.some(i);if(o(i))break}return _.none()},ga=function(t,e,n){return pa((function(t,e){return e(t)}),ma,t,e,n)},va=function(t,e,n){return ma(t,(function(t){return ye(t,e)}),n)},ya=function(t,e){return function(t,e){var r=void 0===e?n.document:e.dom();return be(r)?_.none():_.from(r.querySelector(t)).map(le.fromDom)}(e,t)},ba=function(t,e,n){return pa((function(t,e){return ye(t,e)}),va,t,e,n)},wa=d("mce-annotation"),xa=d("data-mce-annotation"),_a=d("data-mce-annotation-uid"),ka=function(t,e){var n=t.selection.getRng(),r=le.fromDom(n.startContainer),o=le.fromDom(t.getBody()),i=e.fold((function(){return"."+wa()}),(function(t){return"["+xa()+'="'+t+'"]'})),a=Pe(r,n.startOffset).getOr(r),s=ba(a,i,(function(t){return we(t,o)})),u=function(t,e){return function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)}(t,e)?_.some(Sn(t,e)):_.none()};return s.bind((function(e){return u(e,""+_a()).bind((function(n){return u(e,""+xa()).map((function(e){var r=Ca(t,n);return{uid:n,name:e,elements:r}}))}))}))},Ca=function(t,e){var n=le.fromDom(t.getBody());return ha(n,"["+_a()+'="'+e+'"]')},Sa=function(t,e){var n=Zi({}),r=function(t,e){o(t,(function(t){return e(t),t}))},o=function(t,e){var r=n.get(),o=e(r.hasOwnProperty(t)?r[t]:{listeners:[],previous:Zi(_.none())});r[t]=o,n.set(r)},i=oa((function(){var e,i,a,s=n.get(),u=(e=et(s),(a=L.call(e,0)).sort(i),a);H(u,(function(e){o(e,(function(n){var o=n.previous.get();return ka(t,_.some(e)).fold((function(){o.isSome()&&(!function(t){r(t,(function(e){H(e.listeners,(function(e){return e(!1,t)}))}))}(e),n.previous.set(_.none()))}),(function(t){var e=t.uid,i=t.name,a=t.elements;o.is(e)||(!function(t,e,n){r(t,(function(r){H(r.listeners,(function(r){return r(!0,t,{uid:e,nodes:z(n,(function(t){return t.dom()}))})}))}))}(i,e,a),n.previous.set(_.some(e)))})),{previous:n.previous,listeners:n.listeners}}))}))}),30);t.on("remove",(function(){i.cancel()})),t.on("NodeChange",(function(){i.throttle()}));return{addListener:function(t,e){o(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}},Ta=function(t,e){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){H(t,(function(t){(function(t){return _.from(t.attr(xa())).bind(e.lookup)})(t).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))},Ea=0,Oa=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Ea+String(e)},Aa=function(t,e){var r,o,i=ke(t).dom(),a=le.fromDom(i.createDocumentFragment()),s=(r=e,(o=(i||n.document).createElement("div")).innerHTML=r,Ne(le.fromDom(o)));Ue(a,s),We(t),qe(t,a)},Da=function(t,e){return le.fromDom(t.dom().cloneNode(e))},Na=function(t){return Da(t,!1)},Pa=function(t){return Da(t,!0)},Ma=function(t,e,n){void 0===n&&(n=v);var r=new pi(t,e),o=function(t){var e;do{e=r[t]()}while(e&&!pn(e)&&!n(e));return _.from(e).filter(pn)};return{current:function(){return _.from(r.current()).filter(pn)},next:function(){return o("next")},prev:function(){return o("prev")},prev2:function(){return o("prev2")}}},La=function(t,e){var n=e||function(e){return t.isBlock(e)||yn(e)||wn(e)},r=function(t,e,n,o){if(pn(t)){var i=o(t,e,t.data);if(-1!==i)return _.some({container:t,offset:i})}return n().bind((function(t){return r(t.container,t.offset,n,o)}))};return{backwards:function(t,e,o,i){var a=Ma(t,i,n);return r(t,e,(function(){return a.prev().map((function(t){return{container:t,offset:t.length}}))}),o).getOrNull()},forwards:function(t,e,o,i){var a=Ma(t,i,n);return r(t,e,(function(){return a.next().map((function(t){return{container:t,offset:0}}))}),o).getOrNull()}}},Ra=function(t){return"\ufeff"===t},Ia=function(t){return t.replace(/\uFEFF/g,"")},Ba=an,Fa=pn,ja=function(t){return Fa(t)&&(t=t.parentNode),Ba(t)&&t.hasAttribute("data-mce-caret")},za=function(t){return Fa(t)&&Ra(t.data)},Ha=function(t){return ja(t)||za(t)},qa=function(t){return t.firstChild!==t.lastChild||!yn(t.firstChild)},Ua=function(t){var e=t.container();return!(!t||!pn(e))&&("\ufeff"===e.data.charAt(t.offset())||t.isAtStart()&&za(e.previousSibling))},Wa=function(t){var e=t.container();return!(!t||!pn(e))&&("\ufeff"===e.data.charAt(t.offset()-1)||t.isAtEnd()&&za(e.nextSibling))},Va=function(t,e,r){var o,i=e.ownerDocument.createElement(t);i.setAttribute("data-mce-caret",r?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=n.document.createElement("br")).setAttribute("data-mce-bogus","1"),o));var a=e.parentNode;return r?a.insertBefore(i,e):e.nextSibling?a.insertBefore(i,e.nextSibling):a.appendChild(i),i},$a=function(t){return Fa(t)&&"\ufeff"===t.data[0]},Ga=function(t){return Fa(t)&&"\ufeff"===t.data[t.data.length-1]},Ya=function(t){return t&&t.hasAttribute("data-mce-caret")?(e=t.getElementsByTagName("br"),n=e[e.length-1],cn(n)&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},Ka=function(t,e,n){return t.isSome()&&e.isSome()?_.some(n(t.getOrDie(),e.getOrDie())):_.none()},Za=Math.round,Xa=function(t){return t?{left:Za(t.left),top:Za(t.top),bottom:Za(t.bottom),right:Za(t.right),width:Za(t.width),height:Za(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ja=function(t,e){return t=Xa(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Qa=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},ts=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Qa(e.top-t.bottom,t,e)},es=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Qa(e.bottom-t.top,t,e)},ns=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},rs=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},os=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},is=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),as=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&is.test(t)},ss=bn,us=wn,ls=yn,cs=pn,fs=sn(["script","style","textarea"]),ds=sn(["img","input","textarea","hr","iframe","video","audio","object"]),hs=sn(["table"]),ps=Ha,ms=function(t){return!ps(t)&&(cs(t)?!fs(t.parentNode):ds(t)||ls(t)||hs(t)||gs(t))},gs=function(t){return!1===function(t){return an(t)&&"true"===t.getAttribute("unselectable")}(t)&&us(t)},vs=function(t,e){return ms(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(gs(t))return!1;if(ss(t))return!0}return!0}(t,e)},ys=an,bs=ms,ws=un("display","block table"),xs=un("float","left right"),_s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}(ys,bs,m(xs)),ks=m(un("white-space","pre pre-line pre-wrap")),Cs=pn,Ss=yn,Ts=Vi.nodeIndex,Es=os,Os=function(t){return"createRange"in t?t.createRange():Vi.DOM.createRng()},As=function(t){return t&&/[\r\n\t ]/.test(t)},Ds=function(t){return!!t.setStart&&!!t.setEnd},Ns=function(t){var e,n=t.startContainer,r=t.startOffset;return!!(As(t.toString())&&ks(n.parentNode)&&pn(n)&&(e=n.data,As(e[r-1])||As(e[r+1])))},Ps=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},Ms=function(t){var e,n=t.getClientRects();return e=n.length>0?Xa(n[0]):Xa(t.getBoundingClientRect()),!Ds(t)&&Ss(t)&&Ps(e)?function(t){var e=t.ownerDocument,n=Os(e),r=e.createTextNode(" "),o=t.parentNode;o.insertBefore(r,t),n.setStart(r,0),n.setEnd(r,1);var i=Xa(n.getBoundingClientRect());return o.removeChild(r),i}(t):Ps(e)&&Ds(t)?function(t){var e=t.startContainer,n=t.endContainer,r=t.startOffset,o=t.endOffset;if(e===n&&pn(n)&&0===r&&1===o){var i=t.cloneRange();return i.setEndAfter(n),Ms(i)}return null}(t):e},Ls=function(t,e){var n=Ja(t,e);return n.width=1,n.right=n.left+1,n},Rs=function(t){var e,n,r=[],o=function(t){var e,n;0!==t.height&&(r.length>0&&(e=t,n=r[r.length-1],e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right)||r.push(t))},i=function(t,e){var n=Os(t.ownerDocument);if(e<t.data.length){if(as(t.data[e]))return r;if(as(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!Ns(n)))return o(Ls(Ms(n),!1)),r}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),Ns(n)||o(Ls(Ms(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),Ns(n)||o(Ls(Ms(n),!0)))};if(Cs(t.container()))return i(t.container(),t.offset()),r;if(ys(t.container()))if(t.isAtEnd())n=Es(t.container(),t.offset()),Cs(n)&&i(n,n.data.length),_s(n)&&!Ss(n)&&o(Ls(Ms(n),!1));else{if(n=Es(t.container(),t.offset()),Cs(n)&&i(n,0),_s(n)&&t.isAtEnd())return o(Ls(Ms(n),!1)),r;e=Es(t.container(),t.offset()-1),_s(e)&&!Ss(e)&&(ws(e)||ws(n)||!_s(n))&&o(Ls(Ms(e),!1)),_s(n)&&o(Ls(Ms(n),!0))}return r};function Is(t,e,n){var r=function(){return n||(n=Rs(Is(t,e))),n};return{container:d(t),offset:d(e),toRange:function(){var n=Os(t.ownerDocument);return n.setStart(t,e),n.setEnd(t,e),n},getClientRects:r,isVisible:function(){return r().length>0},isAtStart:function(){return Cs(t),0===e},isAtEnd:function(){return Cs(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return Es(t,n?e-1:e)}}}!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,Ts(e)+1)},t.before=function(e){return t(e.parentNode,Ts(e))},t.isAbove=function(t,e){return Ka(J(e.getClientRects()),Q(t.getClientRects()),ts).getOr(!1)},t.isBelow=function(t,e){return Ka(Q(e.getClientRects()),J(t.getClientRects()),es).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&pn(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(Is||(Is={}));var Bs,Fs=Is,js=function(t,e){pn(e)&&0===e.data.length&&t.remove(e)},zs=function(t,e,n){vn(n)?function(t,e,n){var r=_.from(n.firstChild),o=_.from(n.lastChild);e.insertNode(n),r.each((function(e){return js(t,e.previousSibling)})),o.each((function(e){return js(t,e.nextSibling)}))}(t,e,n):function(t,e,n){e.insertNode(n),js(t,n.previousSibling),js(t,n.nextSibling)}(t,e,n)},Hs=pn,qs=cn,Us=Vi.nodeIndex,Ws=function(t){var e=t.parentNode;return qs(e)?Ws(e):e},Vs=function(t){return t?yt(t.childNodes,(function(t,e){return qs(e)&&"BR"!==e.nodeName?t=t.concat(Vs(e)):t.push(e),t}),[]):[]},$s=function(t){return function(e){return t===e}},Gs=function(t){return(Hs(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n;e=Vs(Ws(t)),n=bt(e,$s(t),t),e=e.slice(0,n+1);var r=yt(e,(function(t,n,r){return Hs(n)&&Hs(e[r-1])&&t++,t}),0);return e=gt(e,sn([t.nodeName])),(n=bt(e,$s(t),t))-r}(t)+"]"},Ys=function(t,e){var n,r,o,i,a,s=[];return n=e.container(),r=e.offset(),Hs(n)?o=function(t,e){for(;(t=t.previousSibling)&&Hs(t);)e+=t.data.length;return e}(n,r):(r>=(i=n.childNodes).length?(o="after",r=i.length-1):o="before",n=i[r]),s.push(Gs(n)),a=function(t,e,n){var r=[];for(e=e.parentNode;e!==t&&(!n||!n(e));e=e.parentNode)r.push(e);return r}(t,n),a=gt(a,m(cn)),(s=s.concat(mt(a,(function(t){return Gs(t)})))).reverse().join("/")+","+o},Ks=function(t,e){var n;if(!e)return null;var r=e.split(","),o=r[0].split("/");n=r.length>1?r[1]:"before";var i=yt(o,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var r=Vs(t);return r=gt(r,(function(t,e){return!Hs(t)||!Hs(r[e-1])})),(r=gt(r,sn([e])))[n]}(t,e[1],parseInt(e[2],10))):null}),t);return i?Hs(i)?function(t,e){for(var n,r=t,o=0;Hs(r);){if(n=r.data.length,e>=o&&e<=o+n){t=r,e-=o;break}if(!Hs(r.nextSibling)){t=r,e=n;break}o+=n,r=r.nextSibling}return Hs(t)&&e>t.data.length&&(e=t.data.length),Fs(t,e)}(i,parseInt(n,10)):(n="after"===n?Us(i)+1:Us(i),Fs(i.parentNode,n)):null},Zs=wn,Xs=function(t,e,n,r,o){var i,a=r[o?"startContainer":"endContainer"],s=r[o?"startOffset":"endOffset"],u=[],l=0,c=t.getRoot();for(pn(a)?u.push(n?function(t,e,n){var r,o;for(o=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&pn(r);r=r.previousSibling)o+=t(r.data).length;return o}(e,a,s):s):(s>=(i=a.childNodes).length&&i.length&&(l=1,s=Math.max(0,i.length-1)),u.push(t.nodeIndex(i[s],n)+l));a&&a!==c;a=a.parentNode)u.push(t.nodeIndex(a,n));return u},Js=function(t,e,n){var r=0;return se.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++})),r},Qs=function(t,e){var n,r,o,i=e?"start":"end";n=t[i+"Container"],r=t[i+"Offset"],an(n)&&"TR"===n.nodeName&&(n=(o=n.childNodes)[Math.min(e?r:r-1,o.length-1)])&&(r=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,r))},tu=function(t){return Qs(t,!0),Qs(t,!1),t},eu=function(t,e){var n;if(an(t)&&(t=os(t,e),Zs(t)))return t;if(Ha(t)){if(pn(t)&&ja(t)&&(t=t.parentNode),n=t.previousSibling,Zs(n))return n;if(n=t.nextSibling,Zs(n))return n}},nu=function(t,e,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Zs(r)||"IMG"===o)return{name:o,index:Js(n.dom,o,r)};var a=function(t){return eu(t.startContainer,t.startOffset)||eu(t.endContainer,t.endOffset)}(i);return a?{name:o=a.tagName,index:Js(n.dom,o,a)}:function(t,e,n,r){var o=e.dom,i={};return i.start=Xs(o,t,n,r,!0),e.isCollapsed()||(i.end=Xs(o,t,n,r,!1)),i}(t,n,e,i)},ru=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},ou=function(t,e){var n=t.dom,r=t.getRng(),o=n.uniqueId(),i=t.isCollapsed(),a=t.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Js(n,s,a)};var u=tu(r.cloneRange());if(!i){u.collapse(!1);var l=ru(n,o+"_end",e);zs(n,u,l)}(r=tu(r)).collapse(!0);var c=ru(n,o+"_start",e);return zs(n,r,c),t.moveToBookmark({id:o,keep:!0}),{id:o}},iu=function(t,e,n){return 2===e?nu(Ia,n,t):3===e?function(t){var e=t.getRng();return{start:Ys(t.dom.getRoot(),Fs.fromRangeStart(e)),end:Ys(t.dom.getRoot(),Fs.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):ou(t,!1)},au=p(nu,h,!0),su=Vi.DOM,uu=function(t,e,n){var r=t.getParam(e,n);if(-1!==r.indexOf("=")){var o=t.getParam(e,"","hash");return o.hasOwnProperty(t.id)?o[t.id]:n}return r},lu=function(t){return t.getParam("content_security_policy","")},cu=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},fu=function(t){return t.getParam("forced_root_block_attrs",{})},du=function(t){return t.getParam("automatic_uploads",!0,"boolean")},hu=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},pu=function(t){return t.getParam("icons","","string")},mu=function(t){return t.getParam("images_upload_url","","string")},gu=function(t){return t.getParam("images_upload_base_path","","string")},vu=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},yu=function(t){return t.getParam("images_upload_handler",null,"function")},bu=function(t){return t.getParam("content_css_cors",!1,"boolean")},wu=function(t){return t.getParam("referrer_policy","","string")},xu=function(t){return t.getParam("language","en","string")},_u=function(t){return t.getParam("indent_use_margin",!1)},ku=function(t){return t.getParam("object_resizing")},Cu=function(t){return t.getParam("event_root")},Su=function(t){return t.getParam("theme")},Tu=function(t){return t.getParam("validate")},Eu=function(t){return!1!==t.getParam("inline_boundaries")},Ou=function(t){return t.getParam("content_css_cors")},Au=function(t){return t.getParam("plugins")},Du=an,Nu=pn,Pu=function(t){var e=t.parentNode;e&&e.removeChild(t)},Mu=function(t,e){0===e.length?Pu(t):t.nodeValue=e},Lu=function(t){var e=Ia(t);return{count:t.length-e.length,text:e}},Ru=function(t,e){return ju(t),e},Iu=function(t,e){var n=e.container(),r=function(t,e){var n=B(t,e);return-1===n?_.none():_.some(n)}(tt(n.childNodes),t).map((function(t){return t<e.offset()?Fs(n,e.offset()-1):e})).getOr(e);return ju(t),r},Bu=function(t,e){return Nu(t)&&e.container()===t?function(t,e){var n=Lu(t.data.substr(0,e.offset())),r=Lu(t.data.substr(e.offset())),o=n.text+r.text;return o.length>0?(Mu(t,o),Fs(t,e.offset()-n.count)):e}(t,e):Ru(t,e)},Fu=function(t,e){return Fs.isTextPosition(e)?Bu(t,e):function(t,e){return e.container()===t.parentNode?Iu(t,e):Ru(t,e)}(t,e)},ju=function(t){if(Du(t)&&Ha(t)&&(qa(t)?t.removeAttribute("data-mce-caret"):Pu(t)),Nu(t)){var e=Ia(function(t){try{return t.nodeValue}catch(t){return""}}(t));Mu(t,e)}},zu=Gt().browser,Hu=wn,qu=function(t,e,n){var r,o,i,a,s,u=Ja(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(r=t.ownerDocument.documentElement,o=t.scrollLeft||r.scrollLeft,i=t.scrollTop||r.scrollTop):(s=t.getBoundingClientRect(),o=t.scrollLeft-s.left,i=t.scrollTop-s.top),u.left+=o,u.right+=o,u.top+=i,u.bottom+=i,u.width=1,(a=e.offsetWidth-e.clientWidth)>0&&(n&&(a*=-1),u.left+=a,u.right+=a),u},Uu=function(t,e,n,r){var o,i,a=Zi(_.none()),s=cu(t),u=s.length>0?s:"p",l=function(){!function(t){var e,n,r,o,i=ha(le.fromDom(t),"*[contentEditable=false]");for(r=0;r<i.length;r++)n=(e=i[r].dom()).previousSibling,Ga(n)&&(1===(o=n.data).length?n.parentNode.removeChild(n):n.deleteData(o.length-1,1)),n=e.nextSibling,$a(n)&&(1===(o=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1))}(e),i&&(ju(i),i=null),a.get().each((function(t){hi(t.caret).remove(),a.set(_.none())})),o&&(Li.clearInterval(o),o=null)},c=function(){o=Li.setInterval((function(){r()?hi("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):hi("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500)};return{show:function(t,r){var o,s,f;if(l(),an(f=r)&&/^(TD|TH)$/i.test(f.tagName))return null;if(!n(r))return i=function(t,e){var n,r=t.ownerDocument.createTextNode("\ufeff"),o=t.parentNode;if(e){if(n=t.previousSibling,Fa(n)){if(Ha(n))return n;if(Ga(n))return n.splitText(n.data.length-1)}o.insertBefore(r,t)}else{if(n=t.nextSibling,Fa(n)){if(Ha(n))return n;if($a(n))return n.splitText(1),n}t.nextSibling?o.insertBefore(r,t.nextSibling):o.appendChild(r)}return r}(r,t),s=r.ownerDocument.createRange(),Hu(i.nextSibling)?(s.setStart(i,0),s.setEnd(i,0)):(s.setStart(i,1),s.setEnd(i,1)),s;i=Va(u,r,t),o=qu(e,r,t),hi(i).css("top",o.top);var d=hi('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(o).appendTo(e)[0];return a.set(_.some({caret:d,element:r,before:t})),a.get().each((function(e){t&&hi(e.caret).addClass("mce-visual-caret-before")})),c(),(s=r.ownerDocument.createRange()).setStart(i,0),s.setEnd(i,0),s},hide:l,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(t){var n=qu(e,t.element,t.before);hi(t.caret).css(xt({},n))}))},destroy:function(){return Li.clearInterval(o)}}},Wu=function(){return zu.isIE()||zu.isEdge()||zu.isFirefox()},Vu=function(t){return Hu(t)||fn(t)&&Wu()},$u=wn,Gu=un("display","block table table-cell table-caption list-item"),Yu=Ha,Ku=ja,Zu=an,Xu=ms,Ju=function(t){return t>0},Qu=function(t){return t<0},tl=function(t,e){for(var n;n=t(e);)if(!Ku(n))return n;return null},el=function(t,e,n,r,o){var i=new pi(t,r);if(Qu(e)){if(($u(t)||Ku(t))&&n(t=tl(i.prev,!0)))return t;for(;t=tl(i.prev,o);)if(n(t))return t}if(Ju(e)){if(($u(t)||Ku(t))&&n(t=tl(i.next,!0)))return t;for(;t=tl(i.next,o);)if(n(t))return t}return null},nl=function(t,e){for(;t&&t!==e;){if(Gu(t))return t;t=t.parentNode}return null},rl=function(t,e,n){return nl(t.container(),n)===nl(e.container(),n)},ol=function(t,e){if(!e)return null;var n=e.container(),r=e.offset();return Zu(n)?n.childNodes[r+t]:null},il=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},al=function(t,e,n){return nl(e,t)===nl(n,t)},sl=function(t,e,n){var r,o;for(o=t?"previousSibling":"nextSibling";n&&n!==e;){if(r=n[o],Yu(r)&&(r=r[o]),$u(r)){if(al(e,r,n))return r;break}if(Xu(r))break;n=n.parentNode}return null},ul=p(il,!0),ll=p(il,!1),cl=function(t,e,n){var r,o,i,a=p(sl,!0,e),s=p(sl,!1,e);o=n.startContainer;var u=n.startOffset;if(ja(o)){if(Zu(o)||(o=o.parentNode),"before"===(i=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,Vu(r)))return ul(r);if("after"===i&&(r=o.previousSibling,Vu(r)))return ll(r)}if(!n.collapsed)return n;if(pn(o)){if(Yu(o)){if(1===t){if(r=s(o))return ul(r);if(r=a(o))return ll(r)}if(-1===t){if(r=a(o))return ll(r);if(r=s(o))return ul(r)}return n}if(Ga(o)&&u>=o.data.length-1)return 1===t&&(r=s(o))?ul(r):n;if($a(o)&&u<=1)return-1===t&&(r=a(o))?ll(r):n;if(u===o.data.length)return(r=s(o))?ul(r):n;if(0===u)return(r=a(o))?ll(r):n}return n},fl=function(t,e){return _.from(ol(t?0:-1,e)).filter($u)},dl=function(t,e,n){var r=cl(t,e,n);return-1===t?Is.fromRangeStart(r):Is.fromRangeEnd(r)},hl=function(t){return _.from(t.getNode()).map(le.fromDom)},pl=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},ml=function(t,e){var n=rl(t,e);return!(n||!yn(t.getNode()))||n};!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(Bs||(Bs={}));var gl,vl=wn,yl=pn,bl=an,wl=yn,xl=ms,_l=function(t){return ds(t)||function(t){return!!gs(t)&&!0!==V(tt(t.getElementsByTagName("*")),(function(t,e){return t||ss(e)}),!1)}(t)},kl=vs,Cl=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Sl=function(t,e){if(Ju(t)){if(xl(e.previousSibling)&&!yl(e.previousSibling))return Fs.before(e);if(yl(e))return Fs(e,0)}if(Qu(t)){if(xl(e.nextSibling)&&!yl(e.nextSibling))return Fs.after(e);if(yl(e))return Fs(e,e.data.length)}return Qu(t)?wl(e)?Fs.before(e):Fs.after(e):Fs.before(e)},Tl=function(t,e,n){var r,o,i,a;if(!bl(n)||!e)return null;if(e.isEqual(Fs.after(n))&&n.lastChild){if(a=Fs.after(n.lastChild),Qu(t)&&xl(n.lastChild)&&bl(n.lastChild))return wl(n.lastChild)?Fs.before(n.lastChild):a}else a=e;var s=a.container(),u=a.offset();if(yl(s)){if(Qu(t)&&u>0)return Fs(s,--u);if(Ju(t)&&u<s.length)return Fs(s,++u);r=s}else{if(Qu(t)&&u>0&&(o=Cl(s,u-1),xl(o)))return!_l(o)&&(i=el(o,t,kl,o))?yl(i)?Fs(i,i.data.length):Fs.after(i):yl(o)?Fs(o,o.data.length):Fs.before(o);if(Ju(t)&&u<s.childNodes.length&&(o=Cl(s,u),xl(o)))return wl(o)?function(t,e){var n=e.nextSibling;return n&&xl(n)?yl(n)?Fs(n,0):Fs.before(n):Tl(Bs.Forwards,Fs.after(e),t)}(n,o):!_l(o)&&(i=el(o,t,kl,o))?yl(i)?Fs(i,0):Fs.before(i):yl(o)?Fs(o,0):Fs.after(o);r=o||a.getNode()}if((Ju(t)&&a.isAtEnd()||Qu(t)&&a.isAtStart())&&(r=el(r,t,d(!0),n,!0),kl(r,n)))return Sl(t,r);o=el(r,t,kl,n);var l=wt(U(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(s,n),vl));return!l||o&&l.contains(o)?o?Sl(t,o):null:a=Ju(t)?Fs.after(l):Fs.before(l)},El=function(t){return{next:function(e){return Tl(Bs.Forwards,e,t)},prev:function(e){return Tl(Bs.Backwards,e,t)}}},Ol=function(t){return Fs.isTextPosition(t)?0===t.offset():ms(t.getNode())},Al=function(t){if(Fs.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return ms(t.getNode(!0))},Dl=function(t,e){return!Fs.isTextPosition(t)&&!Fs.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Nl=function(t,e,n){return t?!Dl(e,n)&&(r=e,!(!Fs.isTextPosition(r)&&yn(r.getNode())))&&Al(e)&&Ol(n):!Dl(n,e)&&Ol(e)&&Al(n);var r},Pl=function(t,e,n){var r=El(e);return _.from(t?r.next(n):r.prev(n))},Ml=function(t,e,n){return Pl(t,e,n).bind((function(r){return rl(n,r,e)&&Nl(t,n,r)?Pl(t,e,r):_.some(r)}))},Ll=function(t,e,n,r){return Ml(t,e,n).bind((function(n){return r(n)?Ll(t,e,n,r):_.some(n)}))},Rl=function(t,e){var n,r=t?e.firstChild:e.lastChild;return pn(r)?_.some(Fs(r,t?0:r.data.length)):r?ms(r)?_.some(t?Fs.before(r):yn(n=r)?Fs.before(n):Fs.after(n)):function(t,e,n){var r=t?Fs.before(n):Fs.after(n);return Pl(t,e,r)}(t,e,r):_.none()},Il=p(Pl,!0),Bl=p(Pl,!1),Fl=p(Rl,!0),jl=p(Rl,!1),zl=function(t){return an(t)&&"_mce_caret"===t.id},Hl=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},ql=function(t,e){return an(e)&&t.isBlock(e)&&!e.innerHTML&&!ne.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},Ul=function(t,e){return jl(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},Wl=function(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!Hl(t,e))&&(function(t,e){var n=t.ownerDocument.createTextNode("\ufeff");t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),!0)},Vl=function(t,e,n,r){var o,i,a,s,u=n[e?"start":"end"],l=t.getRoot();if(u){for(a=u[0],i=l,o=u.length-1;o>=1;o--){if(s=i.childNodes,Wl(l,i,r))return!0;if(u[o]>s.length-1)return!!Wl(l,i,r)||Ul(i,r);i=s[u[o]]}3===i.nodeType&&(a=Math.min(u[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(u[0],i.childNodes.length)),e?r.setStart(i,a):r.setEnd(i,a)}return!0},$l=function(t){return pn(t)&&t.data.length>0},Gl=function(t,e,n){var r,o,i,a,s,u,l=t.get(n.id+"_"+e),c=n.keep;if(l){if(r=l.parentNode,"start"===e?(c?l.hasChildNodes()?(r=l.firstChild,o=1):$l(l.nextSibling)?(r=l.nextSibling,o=0):$l(l.previousSibling)?(r=l.previousSibling,o=l.previousSibling.data.length):(r=l.parentNode,o=t.nodeIndex(l)+1):o=t.nodeIndex(l),s=r,u=o):(c?l.hasChildNodes()?(r=l.firstChild,o=1):$l(l.previousSibling)?(r=l.previousSibling,o=l.previousSibling.data.length):(r=l.parentNode,o=t.nodeIndex(l)):o=t.nodeIndex(l),s=r,u=o),!c){for(a=l.previousSibling,i=l.nextSibling,se.each(se.grep(l.childNodes),(function(t){pn(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));l=t.get(n.id+"_"+e);)t.remove(l,!0);a&&i&&a.nodeType===i.nodeType&&pn(a)&&!ne.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),t.remove(i),s=a,u=o)}return _.some(Fs(s,u))}return _.none()},Yl=function(t,e){var n=t.dom;if(e){if(function(t){return se.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return Vl(t,!0,e,n)&&Vl(t,!1,e,n)?_.some(n):_.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return _.some(function(t,e){var n,r=t.createRng();return n=Ks(t.getRoot(),e.start),r.setStart(n.container(),n.offset()),n=Ks(t.getRoot(),e.end),r.setEnd(n.container(),n.offset()),r}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n=Gl(t,"start",e),r=Gl(t,"end",e);return Ka(n,r.or(n),(function(e,n){var r=t.createRng();return r.setStart(ql(t,e.container()),e.offset()),r.setEnd(ql(t,n.container()),n.offset()),r}))}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return _.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return _.some(e.rng)}return _.none()},Kl=function(t,e,n){return iu(t,e,n)},Zl=function(t,e){Yl(t,e).each((function(e){t.setRng(e)}))},Xl=function(t){return an(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Jl=(gl=" ",function(t){return gl===t}),Ql=function(t){return""!==t&&-1!==" \f\n\r\t\v".indexOf(t)},tc=function(t){return!Ql(t)&&!Jl(t)},ec=function(t){return!!t.nodeType},nc=function(t,e,n){var r,o,i,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!function(t){return t&&/^(IMG)$/.test(t.nodeName)}(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(i=s.childNodes).length?(s=i[a],r=new pi(s,t.getParent(s,t.isBlock))):(s=i[i.length-1],(r=new pi(s,t.getParent(s,t.isBlock))).next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!ac(o))return n.setStart(o,0),void e.setRng(n)},rc=function(t,e,n){if(t){var r=e?"nextSibling":"previousSibling";for(t=n?t:t[r];t;t=t[r])if(1===t.nodeType||!ac(t))return t}},oc=function(t,e){return ec(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},ic=function(t,e,n){return t.schema.isValidChild(e,n)},ac=function(t){return t&&pn(t)&&/^([\t \r\n]+|)$/.test(t.nodeValue)},sc=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},uc=function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},lc=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},cc=function(t,e,n){return lc(t,t.getStyle(e,n),n)},fc=function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},dc=function(t,e,n){return t.getParents(e,n,t.getRoot())},hc=function(t,e,n){var r=["inline","block","selector","attributes","styles","classes"],o=function(t){return lt(t,(function(t,e){return j(r,(function(t){return t===e}))}))};return j(t.formatter.get(e),(function(e){var r=o(e);return j(t.formatter.get(n),(function(t){var e=o(t);return function(t,e,n){return void 0===n&&(n=l),u(n).eq(t,e)}(r,e)}))}))},pc=Xl,mc=dc,gc=ac,vc=oc,yc=function(t,e){for(var n=e;n;){if(an(n)&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},bc=function(t,e,n,r){for(var o=e.data,i=n;t?i>=0:i<o.length;t?i--:i++)if(r(o.charAt(i)))return t?i+1:i;return-1},wc=function(t,e,n){return bc(t,e,n,(function(t){return Jl(t)||Ql(t)}))},xc=function(t,e,n){return bc(t,e,n,tc)},_c=function(t,e,n,r,o,i){var a,s=t.getParent(n,t.isBlock)||e,u=function(e,n,r){var i=La(t),u=o?i.backwards:i.forwards;return _.from(u(e,n,(function(t,e){return pc(t.parentNode)?-1:(a=t,r(o,t,e))}),s))};return u(n,r,wc).bind((function(t){return i?u(t.container,t.offset+(o?-1:0),xc):_.some(t)})).orThunk((function(){return a?_.some({container:a,offset:o?0:a.length}):_.none()}))},kc=function(t,e,n,r,o){pn(r)&&0===r.nodeValue.length&&r[o]&&(r=r[o]);for(var i=mc(t,r),a=0;a<i.length;a++)for(var s=0;s<e.length;s++){var u=e[s];if((!("collapsed"in u)||u.collapsed===n.collapsed)&&t.is(i[a],u.selector))return i[a]}return r},Cc=function(t,e,n,r){var o,i=t.dom,a=i.getRoot();if(e[0].wrapper||(o=i.getParent(n,e[0].block,a)),!o){var s=i.getParent(n,"LI,TD,TH");o=i.getParent(pn(n)?n.parentNode:n,(function(e){return e!==a&&vc(t,e)}),s)}if(o&&e[0].wrapper&&(o=mc(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!uc(o,"br")););return o||n},Sc=function(t,e,n,r,o,i,a){var s,u,l;s=u=a?n:o;var c,f=a?"previousSibling":"nextSibling",d=t.getRoot();if(pn(s)&&!gc(s)&&(a?r>0:i<s.nodeValue.length))return s;for(;;){if(!e[0].block_expand&&t.isBlock(u))return u;for(l=u[f];l;l=l[f])if(!pc(l)&&!gc(l)&&("BR"!==(c=l).nodeName||!c.getAttribute("data-mce-bogus")||c.nextSibling))return u;if(u===d||u.parentNode===d){s=u;break}u=u.parentNode}return s},Tc=function(t,e,n,r){void 0===r&&(r=!1);var o=e.startContainer,i=e.startOffset,a=e.endContainer,s=e.endOffset,u=t.dom;(an(o)&&o.hasChildNodes()&&(o=os(o,i),pn(o)&&(i=0)),an(a)&&a.hasChildNodes()&&(a=os(a,e.collapsed?s:s-1),pn(a)&&(s=a.nodeValue.length)),o=yc(u,o),a=yc(u,a),(pc(o.parentNode)||pc(o))&&(o=pc(o)?o:o.parentNode,o=e.collapsed?o.previousSibling||o:o.nextSibling||o,pn(o)&&(i=e.collapsed?o.length:0)),(pc(a.parentNode)||pc(a))&&(a=pc(a)?a:a.parentNode,a=e.collapsed?a.nextSibling||a:a.previousSibling||a,pn(a)&&(s=e.collapsed?0:a.length)),e.collapsed)&&(_c(u,t.getBody(),o,i,!0,r).each((function(t){var e=t.container,n=t.offset;o=e,i=n})),_c(u,t.getBody(),a,s,!1,r).each((function(t){var e=t.container,n=t.offset;a=e,s=n})));return(n[0].inline||n[0].block_expand)&&(n[0].inline&&pn(o)&&0!==i||(o=Sc(u,n,o,i,a,s,!0)),n[0].inline&&pn(a)&&s!==a.nodeValue.length||(a=Sc(u,n,o,i,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=kc(u,n,e,o,"previousSibling"),a=kc(u,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Cc(t,n,o,"previousSibling"),a=Cc(t,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=Sc(u,n,o,i,a,s,!0)),u.isBlock(a)||(a=Sc(u,n,o,i,a,s,!1)))),an(o)&&(i=u.nodeIndex(o),o=o.parentNode),an(a)&&(s=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:s}},Ec=function(t,e){var n=t.childNodes;return e>=n.length?e=n.length-1:e<0&&(e=0),n[e]||t},Oc=function(t,e,n){var r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,s=function(t){var e;return 3===(e=t[0]).nodeType&&e===r&&o>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===a&&t.length>0&&e===i&&3===e.nodeType&&t.splice(t.length-1,1),t},u=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},l=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},c=function(t,e,r){for(var o=r?"nextSibling":"previousSibling",i=t,a=i.parentNode;i&&i!==e;i=a){a=i.parentNode;var l=u(i===t?i:i[o],o);l.length&&(r||l.reverse(),n(s(l)))}};if(1===r.nodeType&&r.hasChildNodes()&&(r=Ec(r,o)),1===i.nodeType&&i.hasChildNodes()&&(i=Ec(i,a-1)),r===i)return n(s([r]));for(var f=t.findCommonAncestor(r,i),d=r;d;d=d.parentNode){if(d===i)return c(r,f,!0);if(d===f)break}for(d=i;d;d=d.parentNode){if(d===r)return c(i,f);if(d===f)break}var h=l(r,f)||r,p=l(i,f)||i;c(r,h,!0);var m=u(h===r?h:h.nextSibling,"nextSibling",p===i?p.nextSibling:p);m.length&&n(s(m)),c(i,p)},Ac=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},Dc=function(t){return U(function(t){return Y(t,(function(t){var e=rs(t);return e?[le.fromDom(e)]:[]}))}(t),Wn)},Nc=function(t,e){var n=ha(e,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:Dc(t)},Pc=function(t){return Nc(Ac(t.selection.getSel()),le.fromDom(t.getBody()))},Mc=function(t){return Me(t).fold(d([t]),(function(e){return[t].concat(Mc(e))}))},Lc=function(t){return Le(t).fold(d([t]),(function(e){return"br"===ce(e)?Ee(e).map((function(e){return[t].concat(Lc(e))})).getOr([]):[t].concat(Lc(e))}))},Rc=function(t,e){return Ka(function(t){var e=t.startContainer,n=t.startOffset;return pn(e)?0===n?_.some(le.fromDom(e)):_.none():_.from(e.childNodes[n]).map(le.fromDom)}(e),function(t){var e=t.endContainer,n=t.endOffset;return pn(e)?n===e.data.length?_.some(le.fromDom(e)):_.none():_.from(e.childNodes[n-1]).map(le.fromDom)}(e),(function(e,n){var r=$(Mc(t),p(we,e)),o=$(Lc(t),p(we,n));return r.isSome()&&o.isSome()})).getOr(!1)},Ic=function(t,e,n,r){var o=n,i=new pi(n,o),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==se.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?e.setStart(o,0):e.setEnd(o,o.childNodes.length))},Bc=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Fc=function(t,e){var n=Pc(t);n.length>0?H(n,(function(n){var r=n.dom(),o=t.dom.createRng();o.setStartBefore(r),o.setEndAfter(r),e(o,!0)})):e(t.selection.getRng(),!1)},jc=function(t,e,n){var r=ou(t,e);n(r),t.moveToBookmark(r)};var zc=function(t,e){var n=function(e){return t(e)?_.from(e.dom().nodeValue):_.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(pe,"text"),Hc=function(t){return zc.get(t)},qc=function(t,e,n,r){return Te(e).fold((function(){return"skipping"}),(function(o){return"br"===r||function(t){return pe(t)&&"\ufeff"===Hc(t)}(e)?"valid":function(t){return he(t)&&fa(t,wa())}(e)?"existing":zl(e)?"caret":ic(t,n,r)&&ic(t,ce(o),n)?"valid":"invalid-child"}))},Uc=function(t,e,n,r){var o=e.uid,i=void 0===o?Oa("mce-annotation"):o,a=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(e,["uid"]),s=le.fromTag("span",t);la(s,wa()),kn(s,""+_a(),i),kn(s,""+xa(),n);var u=r(i,a),l=u.attributes,c=void 0===l?{}:l,f=u.classes,d=void 0===f?[]:f;return Cn(s,c),function(t,e){H(e,(function(e){la(t,e)}))}(s,d),s},Wc=function(t,e,n,r,o){var i=[],a=Uc(t.getDoc(),o,n,r),s=Zi(_.none()),u=function(){s.set(_.none())},l=function(t){H(t,c)},c=function(e){switch(qc(t,e,"span",ce(e))){case"invalid-child":u();var n=Ne(e);l(n),u();break;case"valid":!function(t,e){je(t,e),qe(e,t)}(e,s.get().getOrThunk((function(){var t=Na(a);return i.push(t),s.set(_.some(t)),t})))}};return Oc(t.dom,e,(function(t){u(),function(t){var e=z(t,le.fromDom);l(e)}(t)})),i},Vc=function(t,e,n,r){t.undoManager.transact((function(){var o=t.selection,i=o.getRng(),a=Pc(t).length>0;if(i.collapsed&&!a&&function(t,e){var n=Tc(t,e,[{inline:!0}]);e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),t.selection.setRng(e)}(t,i),o.getRng().collapsed&&!a){var s=Uc(t.getDoc(),r,e,n.decorate);Aa(s," "),o.getRng().insertNode(s.dom()),o.select(s.dom())}else jc(o,!1,(function(){Fc(t,(function(o){Wc(t,o,e,n.decorate,r)}))}))}))},$c=function(t){var e,n=(e={},{register:function(t,n){e[t]={name:t,settings:n}},lookup:function(t){return e.hasOwnProperty(t)?_.from(e[t]).map((function(t){return t.settings})):_.none()}});Ta(t,n);var r=Sa(t);return{register:function(t,e){n.register(t,e)},annotate:function(e,r){n.lookup(e).each((function(n){Vc(t,e,n,r)}))},annotationChanged:function(t,e){r.addListener(t,e)},remove:function(e){ka(t,_.some(e)).each((function(t){var e=t.elements;H(e,$e)}))},getAll:function(e){var n=function(t,e){var n=le.fromDom(t.getBody()),r=ha(n,"["+xa()+'="'+e+'"]'),o={};return H(r,(function(t){var e=Sn(t,_a()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o}(t,e);return ot(n,(function(t){return z(t,(function(t){return t.dom()}))}))}}},Gc=/^[ \t\r\n]*$/,Yc={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Kc=function(t,e,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(t[r])return t[r];if(t!==e){var i=t[o];if(i)return i;for(var a=t.parent;a&&a!==e;a=a.parent)if(i=a[o])return i}},Zc=function(t){if(!Gc.test(t.value))return!1;var e=t.parent;return!e||"span"===e.name&&!e.attr("style")||!/^[ ]+$/.test(t.value)},Xc=function(t){var e="a"===t.name&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},Jc=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,Yc[e]||1);return n&&rt(n,(function(t,e){r.attr(e,t)})),r},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n,r=this;if("string"!=typeof t)return null!=t&&rt(t,(function(t,e){r.attr(e,t)})),r;if(n=r.attributes){if(void 0!==e){if(null===e){if(t in n.map){delete n.map[t];for(var o=n.length;o--;)if(n[o].name===t)return n.splice(o,1),r}return r}if(t in n.map){for(o=n.length;o--;)if(n[o].name===t){n[o].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,r}return n.map[t]}},t.prototype.clone=function(){var e,n=new t(this.name,this.type);if(e=this.attributes){var r=[];r.map={};for(var o=0,i=e.length;o<i;o++){var a=e[o];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e,e&&(e.prev=null)):n.next=e,t.lastChild===this?(t.lastChild=n,n&&(n.next=null)):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?(e.next=t,t.prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Kc(n,this))n.name===t&&e.push(n);return e},t.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Kc(e,this))t.push(e);for(var n=t.length;n--;){(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(Xc(this))return!1;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;if(Xc(r))return!1}if(8===r.type)return!1;if(3===r.type&&!Zc(r))return!1;if(3===r.type&&r.parent&&e[r.parent.name]&&Gc.test(r.value))return!1;if(n&&n(r))return!1}while(r=Kc(r,this));return!0},t.prototype.walk=function(t){return Kc(this,null,t)},t}(),Qc=se.makeMap,tf=function(t){var e=[],n=(t=t||{}).indent,r=Qc(t.indent_before||""),o=Qc(t.indent_after||""),i=sr.getEncodeFunc(t.entity_encoding||"raw",t.entities),a="html"===t.element_format;return{start:function(t,s,u){var l,c,f,d;if(n&&r[t]&&e.length>0&&(d=e[e.length-1]).length>0&&"\n"!==d&&e.push("\n"),e.push("<",t),s)for(l=0,c=s.length;l<c;l++)f=s[l],e.push(" ",f.name,'="',i(f.value,!0),'"');e[e.length]=!u||a?">":" />",u&&n&&o[t]&&e.length>0&&(d=e[e.length-1]).length>0&&"\n"!==d&&e.push("\n")},end:function(t){var r;e.push("</",t,">"),n&&o[t]&&e.length>0&&(r=e[e.length-1]).length>0&&"\n"!==r&&e.push("\n")},text:function(t,n){t.length>0&&(e[e.length]=n?t:i(t))},cdata:function(t){e.push("<![CDATA[",t,"]]>")},comment:function(t){e.push("\x3c!--",t,"--\x3e")},pi:function(t,r){r?e.push("<?",t," ",i(r),"?>"):e.push("<?",t,"?>"),n&&e.push("\n")},doctype:function(t){e.push("<!DOCTYPE",t,">",n?"\n":"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},ef=function(t,e){void 0===e&&(e=vr());var n=tf(t);(t=t||{}).validate=!("validate"in t)||t.validate;return{serialize:function(r){var o=t.validate,i={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{a(t)}while(t=t.next)}};n.reset();var a=function(t){var r,s,u,l,c,f,d,h,p,m=i[t.type];if(m)m(t);else{if(r=t.name,s=t.shortEnded,u=t.attributes,o&&u&&u.length>1&&((f=[]).map={},p=e.getElementRule(t.name))){for(d=0,h=p.attributesOrder.length;d<h;d++)(l=p.attributesOrder[d])in u.map&&(c=u.map[l],f.map[l]=c,f.push({name:l,value:c}));for(d=0,h=u.length;d<h;d++)(l=u[d].name)in f.map||(c=u.map[l],f.map[l]=c,f.push({name:l,value:c}));u=f}if(n.start(t.name,u,s),!s){if(t=t.firstChild)do{a(t)}while(t=t.next);n.end(r)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()}}},nf=function(t,e){return t.replace(new RegExp(e.prefix+"_[0-9]+","g"),(function(t){return ft(e.uris,t).getOr(t)}))},rf=function(t,e,n){var r,o,i=1,a=t.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(s.lastIndex=r=n;o=s.exec(e);){if(r=s.lastIndex,"/"===o[1])i--;else if(!o[1]){if(o[2]in a)continue;i++}if(0===i)break}return r},of=function(t,e){var n=t.exec(e);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};function af(t,e){void 0===e&&(e=vr());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var r=t.comment?t.comment:n,o=t.cdata?t.cdata:n,i=t.text?t.text:n,a=t.start?t.start:n,s=t.end?t.end:n,u=t.pi?t.pi:n,l=t.doctype?t.doctype:n,c=function(n,c){void 0===c&&(c="html");for(var f,d,h,p,m,g,v,y,b,w,x,_,k,C,S,T,E,O,A,D=n.html,N=0,P=[],M=0,L=sr.decode,R=se.makeMap("src,href,data,background,formaction,poster,xlink:href"),I=/((java|vb)script|mhtml):/i,B="html"===c?0:1,F=function(t){var e,n;for(e=P.length;e--&&P[e].name!==t;);if(e>=0){for(n=P.length-1;n>=e;n--)(t=P[n]).valid&&s(t.name);P.length=e}},j=function(t,e){return i(nf(t,n),e)},z=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),t.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),r(nf(e,n)))},H=function(t,e){var n=t||"",r=!Lt(n,"--"),o=function(t,e,n){void 0===n&&(n=0);var r=t.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))}(r,n)){var o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(e){var i=r.indexOf(">",n);return-1!==i?i:r.length}var a=/--!?>/;a.lastIndex=n;var s=a.exec(t);return s?s.index+s[0].length:r.length}(D,r,e);return t=D.substr(e,o-e),z(r?n+t:t),o+1},q=function(e,r,o,i,a){var s,u;if(o=function(t){return ft(n.uris,t).getOr(t)}((r=r.toLowerCase())in G?r:L(o||i||a||"")),Y&&!y&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(r)){if(!(s=C[r])&&S){for(u=S.length;u--&&!(s=S[u]).pattern.test(r););-1===u&&(s=null)}if(!s)return;if(s.validValues&&!(o in s.validValues))return}if(R[r]&&!t.allow_script_urls){var l=o.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(t){l=unescape(l)}if(I.test(l))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,l))return}y&&(r in R||0===r.indexOf("on"))||(p.map[r]=o,p.push({name:r,value:o}))},U=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),W=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,V=e.getShortEndedElements(),$=t.self_closing_elements||e.getSelfClosingElements(),G=e.getBoolAttrs(),Y=t.validate,K=t.remove_internals,Z=t.fix_self_closing,X=e.getSpecialElements(),J=D+">";f=U.exec(J);){var Q=f[0];if(N<f.index&&j(L(D.substr(N,f.index-N))),d=f[7])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),F(d);else if(d=f[8]){if(f.index+Q.length>D.length){j(L(D.substr(f.index))),N=f.index+Q.length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),b=d in V,Z&&$[d]&&P.length>0&&P[P.length-1].name===d&&F(d);var tt=of(W,f[9]);if(null!==tt){if("all"===tt){N=rf(e,D,U.lastIndex),U.lastIndex=N;continue}x=!1}if(!Y||(w=e.getElementRule(d))){if(x=!0,Y&&(C=w.attributes,S=w.attributePatterns),(k=f[9])?((y=-1!==k.indexOf("data-mce-type"))&&K&&(x=!1),(p=[]).map={},k.replace(W,q)):(p=[]).map={},Y&&!y){if(T=w.attributesRequired,E=w.attributesDefault,O=w.attributesForced,w.removeEmptyAttrs&&!p.length&&(x=!1),O)for(m=O.length;m--;)v=(_=O[m]).name,"{$uid}"===(A=_.value)&&(A="mce_"+M++),p.map[v]=A,p.push({name:v,value:A});if(E)for(m=E.length;m--;)(v=(_=E[m]).name)in p.map||("{$uid}"===(A=_.value)&&(A="mce_"+M++),p.map[v]=A,p.push({name:v,value:A}));if(T){for(m=T.length;m--&&!(T[m]in p.map););-1===m&&(x=!1)}if(_=p.map["data-mce-bogus"]){if("all"===_){N=rf(e,D,U.lastIndex),U.lastIndex=N;continue}x=!1}}x&&a(d,p,b)}else x=!1;if(h=X[d]){h.lastIndex=N=f.index+Q.length,(f=h.exec(D))?(x&&(g=D.substr(N,f.index-N)),N=f.index+f[0].length):(g=D.substr(N),N=D.length),x&&(g.length>0&&j(g,!0),s(d)),U.lastIndex=N;continue}b||(k&&k.indexOf("/")===k.length-1?x&&s(d):P.push({name:d,valid:x}))}else if(d=f[1])z(d);else if(d=f[2]){if(!(1===B||t.preserve_cdata||P.length>0&&e.isValidChild(P[P.length-1].name,"#cdata"))){N=H("",f.index+2),U.lastIndex=N;continue}o(d)}else if(d=f[3])l(d);else{if((d=f[4])||"<!"===Q){N=H(d,f.index+Q.length),U.lastIndex=N;continue}if(d=f[5]){if(1!==B){N=H("?",f.index+2),U.lastIndex=N;continue}u(d,f[6])}}N=f.index+Q.length}for(N<D.length&&j(L(D.substr(N))),m=P.length-1;m>=0;m--)(d=P[m]).valid&&s(d.name)};return{parse:function(t,e){void 0===e&&(e="html"),c(function(t){for(var e,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],o={},i=Oa("img"),a=0,s=0;e=n.exec(t);){var u=e[0],l=i+"_"+s++;o[l]=u,a<e.index&&r.push(t.substr(a,e.index-a)),r.push(l),a=e.index+u.length}return 0===a?{prefix:i,uris:o,html:t}:(a<t.length&&r.push(t.substr(a)),{prefix:i,uris:o,html:r.join("")})}(t),e)}}}!function(t){t.findEndTag=rf}(af||(af={}));var sf,uf,lf,cf=af,ff=function(t,e){var n,r,o,i,a=e,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;a=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),a);for(var l=u.getShortEndedElements();i=s.exec(a);)r=s.lastIndex,o=i[0].length,n=l[i[1]]?r:cf.findEndTag(u,a,r),a=a.substring(0,r-o)+a.substring(n),s.lastIndex=r-o;return Ia(a)},df=ff,hf=function(t,e,n,r){var o;if(e.format=n,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)o=se.trim(df(t.serializer,r.innerHTML));else if("text"===e.format)o=Ia(r.innerText||r.textContent);else{if("tree"===e.format)return t.serializer.serialize(r,e);o=function(t,e){var n=cu(t),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(r,"")}(t,t.serializer.serialize(r,e))}return"text"===e.format||Vn(le.fromDom(r))?e.content=o:e.content=se.trim(o),e.no_events||t.fire("GetContent",e),e.content},pf=se.each,mf=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return pf(t.getAttribs(e),(function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=t.getAttrib(e,o))})),n},o=function(t,e){var n,r;for(r in t)if(t.hasOwnProperty(r)){if(void 0===(n=e[r]))return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(e.hasOwnProperty(r))return!1;return!0};return!!o(r(e),r(n))&&(!!o(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))&&(!Xl(e)&&!Xl(n)))}},gf=function(t,e,n){return _.from(n.container()).filter(pn).exists((function(r){var o=t?0:-1;return e(r.data.charAt(n.offset()+o))}))},vf=p(gf,!0,Ql),yf=p(gf,!1,Ql),bf=function(t){var e=t.container();return pn(e)&&0===e.data.length},wf=function(t,e){return function(n){return _.from(ol(t?0:-1,n)).filter(e).isSome()}},xf=function(t){return"IMG"===t.nodeName&&"block"===En(le.fromDom(t),"display")},_f=function(t){return wn(t)&&!function(t){return an(t)&&"all"===t.getAttribute("data-mce-bogus")}(t)},kf=wf(!0,xf),Cf=wf(!1,xf),Sf=wf(!0,fn),Tf=wf(!1,fn),Ef=wf(!0,_f),Of=wf(!1,_f),Af=function(t,e){var n,r,o,i=le.fromDom(t),a=le.fromDom(e);return n=a,r="pre,code",o=p(we,i),va(n,r,o).isSome()},Df=function(t,e){return ms(e)&&!1===function(t,e){return pn(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===Af(t,e)}(t,e)||function(t){return an(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||Nf(e)},Nf=ln("data-mce-bookmark"),Pf=ln("data-mce-bogus"),Mf=(sf="data-mce-bogus",uf="all",function(t){return an(t)&&t.getAttribute(sf)===uf}),Lf=function(t,e){return void 0===e&&(e=!0),function(t,e){var n,r=0;if(Df(t,t))return!1;if(!(n=t.firstChild))return!0;var o=new pi(n,t);do{if(e){if(Mf(n)){n=o.next(!0);continue}if(Pf(n)){n=o.next();continue}}if(yn(n))r++,n=o.next();else{if(Df(t,n))return!1;n=o.next()}}while(n);return r<=1}(t.dom(),e)},Rf=function(t){var e=ha(t,"br"),n=U(function(t){for(var e=[],n=t.dom();n;)e.push(le.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),Fn);e.length===n.length&&H(n,Ve)},If=function(t){We(t),qe(t,le.fromHtml('<br data-mce-bogus="1">'))},Bf=function(t){Le(t).each((function(e){Ee(e).each((function(n){In(t)&&Fn(e)&&In(n)&&Ve(e)}))}))},Ff=function(t,e,n){return _e(e,t)?function(t,e){for(var n=P(e)?e:v,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=le.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(t,(function(t){return n(t)||we(t,e)})).slice(0,-1):[]},jf=function(t,e){return Ff(t,e,d(!1))},zf=function(t,e){return[t].concat(jf(t,e))},Hf=function(t,e,n){if(0!==n){var r=t.data.slice(e,e+n),o=e+n>=t.data.length,i=0===e;t.replaceData(e,n,function(t,e,n){return V(t,(function(r,o){return Ql(o)||Jl(o)?r.previousCharIsSpace||""===r.str&&e||r.str.length===t.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}}),{previousCharIsSpace:!1,str:""}).str}(r,i,o))}},qf=function(t,e){var n=t.data.slice(e),r=n.length-Bt(n).length;return Hf(t,e,r)},Uf=function(t,e){return function(t,e){var n=t.container(),r=t.offset();return!1===Fs.isTextPosition(t)&&n===e.parentNode&&r>Fs.before(e).offset()}(e,t)?Fs(e.container(),e.offset()-1):e},Wf=function(t){return ms(t.previousSibling)?_.some((e=t.previousSibling,pn(e)?Fs(e,e.data.length):Fs.after(e))):t.previousSibling?jl(t.previousSibling):_.none();var e},Vf=function(t){return ms(t.nextSibling)?_.some((e=t.nextSibling,pn(e)?Fs(e,0):Fs.before(e))):t.nextSibling?Fl(t.nextSibling):_.none();var e},$f=function(t,e){return Wf(e).orThunk((function(){return Vf(e)})).orThunk((function(){return function(t,e){var n=Fs.before(e.previousSibling?e.previousSibling:e.parentNode);return Bl(t,n).fold((function(){return Il(t,Fs.after(e))}),_.some)}(t,e)}))},Gf=function(t,e){return Vf(e).orThunk((function(){return Wf(e)})).orThunk((function(){return function(t,e){return Il(t,Fs.after(e)).fold((function(){return Bl(t,Fs.before(e))}),_.some)}(t,e)}))},Yf=function(t,e,n){return function(t,e,n){return t?Gf(e,n):$f(e,n)}(t,e,n).map(p(Uf,n))},Kf=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},Zf=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(ce(e))},Xf=function(t){if(Lf(t)){var e=le.fromHtml('<br data-mce-bogus="1">');return We(t),qe(t,e),_.some(Fs.before(e.dom()))}return _.none()},Jf=function(t,e,n){var r,o,i,a,s=Ee(t).filter(pe),u=Oe(t).filter(pe);return Ve(t),(r=s,o=u,i=e,a=function(t,e,r){var o=t.dom(),i=e.dom(),a=o.data.length;return function(t,e,n){var r=Ft(t.data).length;t.appendData(e.data),Ve(le.fromDom(e)),n&&qf(t,r)}(o,i,n),r.container()===i?Fs(o,a):r},r.isSome()&&o.isSome()&&i.isSome()?_.some(a(r.getOrDie(),o.getOrDie(),i.getOrDie())):_.none()).orThunk((function(){return n&&(s.each((function(t){return e=t.dom(),n=t.dom().length,r=e.data.slice(0,n),o=r.length-Ft(r).length,Hf(e,n-o,o);var e,n,r,o})),u.each((function(t){return qf(t.dom(),0)}))),e}))},Qf=function(t,e,n,r){void 0===r&&(r=!0);var o,i=Yf(e,t.getBody(),n.dom()),a=ma(n,p(Zf,t),(o=t.getBody(),function(t){return t.dom()===o})),s=Jf(n,i,function(t,e){return dt(t.schema.getTextInlineElements(),ce(e))}(t,n));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(Xf).fold((function(){r&&Kf(t,e,s)}),(function(n){r&&Kf(t,e,_.some(n))}))},td=function(t,e){return{start:t,end:e}},ed=Oi([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),nd=function(t,e){return ba(le.fromDom(t),"td,th",e)},rd=function(t,e){return va(t,"table",e)},od=function(t){return!we(t.start,t.end)},id=function(t,e){return rd(t.start,e).bind((function(n){return rd(t.end,e).bind((function(t){return e=we(n,t),r=n,e?_.some(r):_.none();var e,r}))}))},ad=function(t){return ha(t,"td,th")},sd=function(t,e){var n=nd(e.startContainer,t),r=nd(e.endContainer,t);return e.collapsed?_.none():Ka(n,r,td).fold((function(){return n.fold((function(){return r.bind((function(e){return rd(e,t).bind((function(t){return J(ad(t)).map((function(t){return td(t,e)}))}))}))}),(function(e){return rd(e,t).bind((function(t){return Q(ad(t)).map((function(t){return td(e,t)}))}))}))}),(function(e){return ud(t,e)?_.none():function(t,e){return rd(t.start,e).bind((function(e){return Q(ad(e)).map((function(e){return td(t.start,e)}))}))}(e,t)}))},ud=function(t,e){return id(e,t).isSome()},ld=function(t,e,n){return t.filter((function(t){return od(t)&&ud(n,t)})).orThunk((function(){return sd(n,e)})).bind((function(t){return function(t,e){return id(t,e).map((function(e){return function(t,e,n){return{rng:t,table:e,cells:n}}(t,e,ad(e))}))}(t,n)}))},cd=function(t,e){return G(t,(function(t){return we(t,e)}))},fd=function(t,e,n){return t.filter((function(t){return function(t,e){return!od(t)&&id(t,e).exists((function(t){var e=t.dom().rows;return 1===e.length&&1===e[0].cells.length}))}(t,n)&&Rc(t.start,e)})).map((function(t){return t.start}))},dd=function(t){return function(t){return Ka(cd(t.cells,t.rng.start),cd(t.cells,t.rng.end),(function(e,n){return t.cells.slice(e,n+1)}))}(t).map((function(e){var n=t.cells;return e.length===n.length?ed.removeTable(t.table):ed.emptyCells(e)}))},hd=function(t,e){var n=function(t){return function(e){return we(t,e)}}(t),r=function(t,e){var n=nd(t.startContainer,e),r=nd(t.endContainer,e);return Ka(n,r,td)}(e,n);return fd(r,e,n).map((function(t){return ed.deleteCellSelection(e,t)})).orThunk((function(){return ld(r,e,n).bind(dd)}))},pd=function(t){var e;return(8===fe(e=t)||"#comment"===ce(e)?Ee(t):Le(t)).bind(pd).orThunk((function(){return _.some(t)}))},md=function(t,e){return H(e,If),t.selection.setCursorLocation(e[0].dom(),0),!0},gd=function(t,e,n){e.deleteContents();var r,o=pd(n).getOr(n),i=le.fromDom(t.dom.getParent(o.dom(),t.dom.isBlock));if(Lf(i)&&(If(i),t.selection.setCursorLocation(i.dom(),0)),!we(n,i)){var a=Te(i).is(n)?[]:Te(r=i).map(Ne).map((function(t){return U(t,(function(t){return!we(r,t)}))})).getOr([]);H(a.concat(Ne(n)),(function(t){we(t,i)||_e(t,i)||Ve(t)}))}return!0},vd=function(t,e){return Qf(t,!1,e),!0},yd=function(t,e,n,r){return wd(e,r).fold((function(){return function(t,e,n){return hd(e,n).map((function(e){return e.fold(p(vd,t),p(md,t),p(gd,t))}))}(t,e,n)}),(function(e){return function(t,e){return xd(t,e)}(t,e)})).getOr(!1)},bd=function(t,e){return $(zf(e,t),Wn)},wd=function(t,e){return $(zf(e,t),(function(t){return"caption"===ce(t)}))},xd=function(t,e){return If(e),t.selection.setCursorLocation(e.dom(),0),_.some(!0)},_d=function(t,e,n,r,o){return Ml(n,t.getBody(),o).bind((function(i){return function(t,e,n,r){return Fl(t.dom()).bind((function(o){return jl(t.dom()).map((function(t){return e?n.isEqual(o)&&r.isEqual(t):n.isEqual(t)&&r.isEqual(o)}))})).getOr(!0)}(r,n,o,i)?function(t,e){return xd(t,e)}(t,r):function(t,e,n){return wd(t,le.fromDom(n.getNode())).map((function(t){return!1===we(t,e)}))}(e,r,i)})).or(_.some(!0))},kd=function(t,e,n,r){var o=Fs.fromRangeStart(t.selection.getRng());return bd(n,r).bind((function(r){return Lf(r)?xd(t,r):function(t,e,n,r,o){return Ml(n,t.getBody(),o).bind((function(t){return bd(e,le.fromDom(t.getNode())).map((function(t){return!1===we(t,r)}))}))}(t,n,e,r,o)})).getOr(!1)},Cd=function(t,e){return t?Sf(e):Tf(e)},Sd=function(t,e,n){var r=le.fromDom(t.getBody());return wd(r,n).fold((function(){return kd(t,e,r,n)||function(t,e){var n=Fs.fromRangeStart(t.selection.getRng());return Cd(e,n)||Pl(e,t.getBody(),n).map((function(t){return Cd(e,t)})).getOr(!1)}(t,e)}),(function(n){return function(t,e,n,r){var o=Fs.fromRangeStart(t.selection.getRng());return Lf(r)?xd(t,r):_d(t,n,e,r,o)}(t,e,r,n).getOr(!1)}))},Td=function(t,e){var n=le.fromDom(t.selection.getStart(!0)),r=Pc(t);return t.selection.isCollapsed()&&0===r.length?Sd(t,e,n):function(t,e){var n=le.fromDom(t.getBody()),r=t.selection.getRng(),o=Pc(t);return 0!==o.length?md(t,o):yd(t,n,r,e)}(t,n)},Ed=function(t){var e=Fs.fromRangeStart(t),r=Fs.fromRangeEnd(t),o=t.commonAncestorContainer;return Pl(!1,o,r).map((function(i){return!rl(e,r,o)&&rl(e,i,o)?function(t,e,r,o){var i=n.document.createRange();return i.setStart(t,e),i.setEnd(r,o),i}(e.container(),e.offset(),i.container(),i.offset()):t})).getOr(t)},Od=function(t){return t.collapsed?t:Ed(t)},Ad=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return" "===t.data||yn(t)}(t.firstChild)},Dd=function(t){return t.length>0&&(!(e=t[t.length-1]).firstChild||Ad(e))?t.slice(0,-1):t;var e},Nd=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Pd=function(t,e){var n=Fs.after(t),r=El(e).prev(n);return r?r.toRange():null},Md=function(t,e,n){var r=t.parentNode;return se.each(e,(function(e){r.insertBefore(e,t)})),function(t,e){var n=Fs.before(t),r=El(e).next(n);return r?r.toRange():null}(t,n)},Ld=function(t,e,n,r){var o,i=function(t,e,n){var r=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(r))}(e,t,r),a=Nd(e,n.startContainer),s=Dd((o=i.firstChild,se.grep(o.childNodes,(function(t){return"LI"===t.nodeName})))),u=e.getRoot(),l=function(t){var r=Fs.fromRangeStart(n),o=El(e.getRoot()),i=1===t?o.prev(r):o.next(r);return!i||Nd(e,i.getNode())!==a};return l(1)?Md(a,s,u):l(2)?function(t,e,n,r){return r.insertAfter(e.reverse(),t),Pd(e[0],n)}(a,s,u,e):function(t,e,n,r){var o=function(t,e){var n=e.cloneRange(),r=e.cloneRange();return n.setStartBefore(t),r.setEndAfter(t),[n.cloneContents(),r.cloneContents()]}(t,r),i=t.parentNode;return i.insertBefore(o[0],t),se.each(e,(function(e){i.insertBefore(e,t)})),i.insertBefore(o[1],t),i.removeChild(t),Pd(e[e.length-1],n)}(a,s,u,n)},Rd=sn(["td","th"]),Id=function(t,e){var n=t.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&function(t,e){return pn(t)&&" "===t.nodeValue[e-1]}(r,o)&&pn(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),t.selection.setRng(n)),t.selection.setContent(e)},Bd=function(t){var e=t.dom,n=Od(t.selection.getRng());t.selection.setRng(n);var r=e.getParent(n.startContainer,Rd);!function(t,e,n){return null!==n&&(n===t.getParent(e.endContainer,Rd)&&Rc(le.fromDom(n),e))}(e,n,r)?t.getDoc().execCommand("Delete",!1,null):gd(t,n,le.fromDom(r))},Fd=function(t,e,n){var r,o,i,a,s,u,l=t.selection,c=t.dom;/^ | $/.test(e)&&(e=function(t,e){var n=t.startContainer,r=t.startOffset,o=function(t){return n[t]&&3===n[t].nodeType};return pn(n)&&(r>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(l.getRng(),e));var f=t.parser,d=n.merge,h=ef({validate:Tu(t)},t.schema),p='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(i={content:e,format:"html",selection:!0,paste:n.paste},(i=t.fire("BeforeSetContent",i)).isDefaultPrevented())t.fire("SetContent",{content:i.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=i.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,p);var m=(s=l.getRng()).startContainer||(s.parentElement?s.parentElement():null),g=t.getBody();m===g&&l.isCollapsed()&&c.isBlock(g.firstChild)&&function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(t,g.firstChild)&&c.isEmpty(g.firstChild)&&((s=c.createRng()).setStart(g.firstChild,0),s.setEnd(g.firstChild,0),l.setRng(s)),l.isCollapsed()||(Bd(t),e=function(t,e){var n=t.startContainer,r=t.startOffset;return pn(n)&&t.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(e)||(e+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e))),e}(t.selection.getRng(),e));var v,y={context:(r=l.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},b=f.parse(e,y);if(!0===n.paste&&function(t,e){var n=e.firstChild,r=e.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||" "===t.value}(e.firstChild)}(t,e))}(t,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)}(t.schema,b)&&function(t,e){return!!Nd(t,e)}(c,r))return s=Ld(h,c,t.selection.getRng(),b),t.selection.setRng(s),void t.fire("SetContent",i);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(b),"mce_marker"===(u=b.lastChild).attr("id"))for(a=u,u=u.prev;u;u=u.walk(!0))if(3===u.type||!c.isBlock(u.name)){t.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(a,u,"br"===u.name);break}if(t._selectionOverrides.showBlockCaretContainer(r),y.invalid){for(Id(t,p),r=l.getNode(),o=t.getBody(),9===r.nodeType?r=u=o:u=r;u!==o;)r=u,u=u.parentNode;e=r===o?o.innerHTML:c.getOuterHTML(r),e=h.serialize(f.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return h.serialize(b)})))),r===o?c.setHTML(o,e):c.setOuterHTML(r,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?t.dom.setHTML(n,e):Id(t,e)}}(t,e=h.serialize(b),r);!function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var o=t.getBody(),i=new mf(r);se.each(r.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==o;e=e.parentNode)n[t.nodeName.toLowerCase()]&&i.compare(e,t)&&r.remove(t,!0)}))}}(t,d),function(t,e){var n,r,o=t.dom,i=t.selection;if(e){t.selection.scrollIntoView(e);var a=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e);if(a)return o.remove(e),void i.select(a);var s=o.createRng(),u=e.previousSibling;u&&3===u.nodeType?(s.setStart(u,u.nodeValue.length),ne.ie||(r=e.nextSibling)&&3===r.nodeType&&(u.appendData(r.data),r.parentNode.removeChild(r))):(s.setStartBefore(e),s.setEndBefore(e));var l=o.getParent(e,o.isBlock);o.remove(e),l&&o.isEmpty(l)&&(t.$(l).empty(),s.setStart(l,0),s.setEnd(l,0),Rd(l)||function(t){return!!t.getAttribute("data-mce-fragment")}(l)||!(n=function(e){var n=Fs.fromRangeStart(e);if(n=El(t.getBody()).next(n))return n.toRange()}(s))?o.add(l,o.create("br",{"data-mce-bogus":"1"})):(s=n,o.remove(l))),i.setRng(s)}}(t,c.get("mce_marker")),v=t.getBody(),se.each(v.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){_.from(t.getParent(e,"td,th")).map(le.fromDom).each(Bf)}(t.dom,t.selection.getStart()),t.fire("SetContent",i),t.addVisual()}},jd=function(t){var e=Ie(t).dom();return t.dom()===e.activeElement},zd=function(t){return void 0===t&&(t=le.fromDom(n.document)),_.from(t.dom().activeElement).map(le.fromDom)},Hd=function(t,e,n,r){return{start:d(t),soffset:d(e),finish:d(n),foffset:d(r)}},qd=Oi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ud=(qd.before,qd.on,qd.after,function(t){return t.fold(h,h,h)}),Wd=Oi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vd={domRange:Wd.domRange,relative:Wd.relative,exact:Wd.exact,exactFromRange:function(t){return Wd.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return le.fromDom(t.startContainer)},relative:function(t,e){return Ud(t)},exact:function(t,e,n,r){return t}})}(t);return Se(e)},range:Hd},$d=Gt().browser,Gd=function(t,e){var n=pe(e)?Hc(e).length:Ne(e).length+1;return t>n?n:t<0?0:t},Yd=function(t){return Vd.range(t.start(),Gd(t.soffset(),t.start()),t.finish(),Gd(t.foffset(),t.finish()))},Kd=function(t,e){return!on(e.dom())&&(_e(t,e)||we(t,e))},Zd=function(t){return function(e){return Kd(t,e.start())&&Kd(t,e.finish())}},Xd=function(t){return!0===t.inline||$d.isIE()},Jd=function(t){return Vd.range(le.fromDom(t.startContainer),t.startOffset,le.fromDom(t.endContainer),t.endOffset)},Qd=function(t){return function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?_.from(e.getRangeAt(0)):_.none()).map(Jd)}(Se(t).dom()).filter(Zd(t))},th=function(t){var e=n.document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),_.some(e)}catch(t){return _.none()}},eh=function(t){var e=Xd(t)?Qd(le.fromDom(t.getBody())):_.none();t.bookmark=e.isSome()?e:t.bookmark},nh=function(t){return(t.bookmark?t.bookmark:_.none()).bind((function(e){return function(t,e){return _.from(e).filter(Zd(t)).map(Yd)}(le.fromDom(t.getBody()),e)})).bind(th)},rh={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},oh=function(t,e){Gt().browser.isIE()?function(t){t.on("focusout",(function(){eh(t)}))}(t):function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))}(t,e),t.on("keyup NodeChange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||eh(t)}))},ih=function(t){var e=ra((function(){eh(t)}),0);t.on("init",(function(){t.inline&&function(t,e){var r=function(){e.throttle()};Vi.DOM.bind(n.document,"mouseup",r),t.on("remove",(function(){Vi.DOM.unbind(n.document,"mouseup",r)}))}(t,e),oh(t,e)})),t.on("remove",(function(){e.cancel()}))},ah=Vi.DOM,sh=function(t,e){var n=function(t){return t.getParam("custom_ui_selector","","string")}(t);return null!==ah.getParent(e,(function(e){return function(t){return rh.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}))},uh=function(t,e){var r=e.editor;ih(r),r.on("focusin",(function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),t.focusedEditor=this,this.fire("focus",{blurredEditor:e}),this.focus(!0))})),r.on("focusout",(function(){var e=this;Li.setEditorTimeout(e,(function(){var r=t.focusedEditor;sh(e,function(){try{return n.document.activeElement}catch(t){return n.document.body}}())||r!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),lf||(lf=function(e){var r=t.activeEditor,o=e.target;r&&o.ownerDocument===n.document&&(o===n.document.body||sh(r,o)||t.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},ah.bind(n.document,"focusin",lf))},lh=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(ah.unbind(n.document,"focusin",lf),lf=null)},ch=function(t,e){return function(t){return t.collapsed?_.from(os(t.startContainer,t.startOffset)).map(le.fromDom):_.none()}(e).bind((function(e){return Un(e)?_.some(e):!1===_e(t,e)?_.some(t):_.none()}))},fh=function(t,e){ch(le.fromDom(t.getBody()),e).bind((function(t){return Fl(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},dh=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},hh=function(t){return jd(t)||(e=t,zd(Ie(e)).filter((function(t){return e.dom().contains(t.dom())}))).isSome();var e},ph=function(t){return t.inline?function(t){var e=t.getBody();return e&&hh(le.fromDom(e))}(t):function(t){return t.iframeElement&&jd(le.fromDom(t.iframeElement))}(t)},mh=function(t){return ph(t)||function(t){return zd().filter((function(e){return n=e.dom(),!(void 0!==(r=n.classList)&&(r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body")))&&sh(t,e.dom());var n,r})).isSome()}(t)},gh=function(t){return t.editorManager.setActive(t)},vh=function(t,e){t.removed||(e?gh(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===ph(t)&&nh(t).each((function(e){t.selection.setRng(e),r=e}));var o=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(t.$.contains(n,o))return dh(o),fh(t,r),void gh(t);t.inline||(ne.opera||dh(n),t.getWin().focus()),(ne.gecko||t.inline)&&(dh(n),fh(t,r)),gh(t)}(t))},yh=function(t,e){e(t),t.firstChild&&yh(t.firstChild,e),t.next&&yh(t.next,e)},bh=function(t,e,n){var r=function(t,e,n){var r={},o={},i=[];for(var a in n.firstChild&&yh(n.firstChild,(function(n){H(t,(function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})),H(e,(function(t){"string"==typeof n.attr(t.name)&&(o[t.name]?o[t.name].nodes.push(n):o[t.name]={filter:t,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&i.push(r[a]);for(var s in o)o.hasOwnProperty(s)&&i.push(o[s]);return i}(t,e,n);H(r,(function(t){H(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))},wh=function(t){return t instanceof Jc},xh=function(t,e){t.dom.setHTML(t.getBody(),e),function(t){ph(t)&&Fl(t.getBody()).each((function(e){var n=e.getNode(),r=fn(n)?Fl(n).getOr(e):e;t.selection.setRng(r.toRange())}))}(t)},_h=function(t,e,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=wh(e)?"":e,wh(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),_.from(t.getBody()).fold(d(e),(function(r){return wh(e)?function(t,e,n,r){bh(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var o=ef({validate:t.validate},t.schema).serialize(n);return r.content=Vn(le.fromDom(e))?o:se.trim(o),xh(t,r.content),r.no_events||t.fire("SetContent",r),n}(t,r,e,n):function(t,e,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+i+"</li>"),(o=cu(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=t.dom.createHTML(o,fu(t),n)):n||(n='<br data-mce-bogus="1">'),xh(t,n),t.fire("SetContent",r)):("raw"!==r.format&&(n=ef({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Vn(le.fromDom(e))?n:se.trim(n),xh(t,r.content),r.no_events||t.fire("SetContent",r)),r.content}(t,r,e,n)}))},kh=function(t,e){return t.splitText(e)},Ch=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,o=t.endOffset;return e===r&&pn(e)?n>0&&n<e.nodeValue.length&&(e=(r=kh(e,n)).previousSibling,o>n?(e=r=kh(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(pn(e)&&n>0&&n<e.nodeValue.length&&(e=kh(e,n),n=0),pn(r)&&o>0&&o<r.nodeValue.length&&(o=(r=kh(r,o).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:o}},Sh=uc,Th=function(t,e,n){var r=t.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(!1===r[o].inherit&&t.dom.is(e,r[o].selector))return!0;return!1},Eh=function(t,e,n,r){var o=t.dom.getRoot();return e!==o&&(e=t.dom.getParent(e,(function(e){return!!Th(t,e,n)||(e.parentNode===o||!!Dh(t,e,n,r,!0))})),Dh(t,e,n,r))},Oh=function(t,e,n){return!!Sh(e,n.inline)||(!!Sh(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0))},Ah=function(t,e,n,r,o,i){var a,s,u,l=n[r];if(n.onmatch)return n.onmatch(e,n,r);if(l)if(void 0===l.length){for(a in l)if(l.hasOwnProperty(a)){if(s="attributes"===r?t.getAttrib(e,a):cc(t,e,a),o&&!s&&!n.exact)return;if((!o||n.exact)&&!Sh(s,lc(t,sc(l[a],i),a)))return}}else for(u=0;u<l.length;u++)if("attributes"===r?t.getAttrib(e,l[u]):cc(t,e,l[u]))return n;return n},Dh=function(t,e,n,r,o){var i,a,s,u,l=t.formatter.get(n),c=t.dom;if(l&&e)for(a=0;a<l.length;a++)if(i=l[a],Oh(t.dom,e,i)&&Ah(c,e,i,"attributes",o,r)&&Ah(c,e,i,"styles",o,r)){if(u=i.classes)for(s=0;s<u.length;s++)if(!t.dom.hasClass(e,u[s]))return;return i}},Nh=function(t,e,n,r){if(r)return Eh(t,r,e,n);if(r=t.selection.getNode(),Eh(t,r,e,n))return!0;var o=t.selection.getStart();return!(o===r||!Eh(t,o,e,n))},Ph=function(t,e,n){var r=[],o={},i=t.selection.getStart();return t.dom.getParent(i,(function(i){for(var a=0;a<e.length;a++){var s=e[a];!o[s]&&Dh(t,i,s,n)&&(o[s]=!0,r.push(s))}}),t.dom.getRoot()),r},Mh=function(t,e){var n,r,o,i,a,s=t.formatter.get(e),u=t.dom;if(s)for(n=t.selection.getStart(),r=dc(u,n),i=s.length-1;i>=0;i--){if(!(a=s[i].selector)||s[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(u.is(r[o],a))return!0}return!1},Lh=function(t,e,n){return V(n,(function(n,r){var o=function(t,e){return j(t.formatter.get(e),(function(t){var e=function(t){return t.length>1&&"%"===t.charAt(0)};return j(["styles","attributes"],(function(n){return ft(t,n).exists((function(t){var n=O(t)?t:ct(t);return j(n,e)}))}))}))}(t,r);return t.formatter.matchNode(e,r,{},o)?n.concat([r]):n}),[])},Rh=function(t){return function(t){for(var e=[];t;){if(3===t.nodeType&&"\ufeff"!==t.nodeValue||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length>0},Ih=function(t){if(t){var e=new pi(t,t);for(t=e.current();t;t=e.next())if(pn(t))return t}return null},Bh=function(t){var e=le.fromTag("span");return Cn(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&qe(e,le.fromText("\ufeff")),e},Fh=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(Rh(e))Qf(t,!1,le.fromDom(e),n);else{var i=o.getRng(),a=r.getParent(e,r.isBlock),s=i.startContainer,u=i.startOffset,l=i.endContainer,c=i.endOffset,f=function(t){var e=Ih(t);return e&&"\ufeff"===e.nodeValue.charAt(0)&&e.deleteData(0,1),e}(e);r.remove(e,!0),s===f&&u>0&&i.setStart(f,u-1),l===f&&c>0&&i.setEnd(f,c-1),a&&r.isEmpty(a)&&If(le.fromDom(a)),o.setRng(i)}},jh=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,o=t.selection;if(e)Fh(t,e,n);else if(!(e=Hl(t.getBody(),o.getStart())))for(;e=r.get("_mce_caret");)Fh(t,e,!1)},zh=function(t,e){return t.appendChild(e),e},Hh=function(t,e){var n=W(t,(function(t,e){return zh(t,e.cloneNode(!1))}),e);return zh(n,n.ownerDocument.createTextNode("\ufeff"))},qh=function(t,e,n,r){var o,i,a,s=t.dom,u=t.selection,l=[],c=u.getRng(),f=c.startContainer,d=c.startOffset;for(i=f,3===f.nodeType&&(d!==f.nodeValue.length&&(o=!0),i=i.parentNode);i;){if(Dh(t,i,e,n,r)){a=i;break}i.nextSibling&&(o=!0),l.push(i),i=i.parentNode}if(a)if(o){var h=u.getBookmark();c.collapse(!0);var m=Tc(t,c,t.formatter.get(e),!0);m=Ch(m),t.formatter.remove(e,n,m,r),u.moveToBookmark(h)}else{var g=Hl(t.getBody(),a),v=Bh(!1).dom();!function(t,e,n){var r=t.dom,o=r.getParent(n,p(oc,t));o&&r.isEmpty(o)?n.parentNode.replaceChild(e,n):(Rf(le.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))}(t,v,null!==g?g:a);var y=function(t,e,n,r,o,i){var a=t.formatter,s=t.dom,u=U(et(a.get()),(function(t){return"removeformat"!==t&&t!==r})),l=Lh(t,n,u);if(U(l,(function(e){return!hc(t,e,r)})).length>0){var c=n.cloneNode(!1);return s.add(e,c),a.remove(r,o,c,i),s.remove(c),_.some(c)}return _.none()}(t,v,a,e,n,r),b=Hh(l.concat(y.toArray()),v);Fh(t,g,!1),u.setCursorLocation(b,1),s.isEmpty(a)&&s.remove(a)}},Uh=function(t){t.on("mouseup keydown",(function(e){!function(t,e){var n=t.selection,r=t.getBody();jh(t,null,!1),8!==e&&46!==e||!n.isCollapsed()||"\ufeff"!==n.getStart().innerHTML||jh(t,Hl(r,n.getStart())),37!==e&&39!==e||jh(t,Hl(r,n.getStart()))}(t,e.keyCode)}))},Wh=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(ce(e))&&!zl(e.dom())&&!cn(e.dom())},Vh={},$h=gt,Gh=pt;!function(t,e){Vh[t]||(Vh[t]=[]),Vh[t].push(e)}("pre",(function(t){var e,n=t.selection.getRng(),r=sn(["pre"]);n.collapsed||(e=t.selection.getSelectedBlocks(),Gh($h($h(e,r),(function(t){return r(t.previousSibling)&&-1!==vt(e,t.previousSibling)})),(function(t){var e,n;e=t.previousSibling,hi(n=t).remove(),hi(e).append("<br><br>").append(n.childNodes)})))}));var Yh,Kh,Zh=/^(src|href|style)$/,Xh=se.each,Jh=uc,Qh=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},tp=function(t,e,n){var r,o;if(r=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],an(r)){var i=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>i?i:o]}return pn(r)&&n&&o>=r.nodeValue.length&&(r=new pi(r,t.getBody()).next()||r),pn(r)&&!n&&0===o&&(r=new pi(r,t.getBody()).prev()||r),r},ep=function(t,e){var n=e?"firstChild":"lastChild";if(function(t){return/^(TR|TH|TD)$/.test(t.nodeName)}(t)&&t[n]){var r=t[n];return"TR"===t.nodeName&&r[n]||r}return t},np=function(t,e,n,r){var o=t.create(n,r);return e.parentNode.insertBefore(o,e),o.appendChild(e),o},rp=function(t,e,n,r,o){var i=le.fromDom(e),a=le.fromDom(t.create(r,o)),s=n?De(i):Ae(i);return Ue(a,s),n?(je(i,a),He(a,i)):(ze(i,a),qe(a,i)),a.dom()},op=function(t,e,n,r){return!(e=rc(e,n,r))||"BR"===e.nodeName||t.isBlock(e)},ip=function(t,e,n,r,o){var i,a=t.dom;if(!function(t,e,n){return!!Jh(e,n.inline)||(!!Jh(e,n.block)||(n.selector?an(e)&&t.is(e,n.selector):void 0))}(a,r,e)&&!function(t,e){return e.links&&"A"===t.nodeName}(r,e))return!1;var s=r;if(e.inline&&"all"===e.remove&&O(e.preserve_attributes)){var u=U(a.getAttribs(s),(function(t){return F(e.preserve_attributes,t.name.toLowerCase())}));if(a.removeAllAttribs(s),H(u,(function(t){return a.setAttrib(s,t.name,t.value)})),u.length>0)return t.dom.rename(r,"span"),!0}if("all"!==e.remove){Xh(e.styles,(function(t,r){t=lc(a,sc(t,n),r),"number"==typeof r&&(r=t,o=null),(e.remove_similar||!o||Jh(cc(a,o,r),t))&&a.setStyle(s,r,""),i=!0})),i&&""===a.getAttrib(s,"style")&&(s.removeAttribute("style"),s.removeAttribute("data-mce-style")),Xh(e.attributes,(function(t,r){var i;if(t=sc(t,n),"number"==typeof r&&(r=t,o=null),e.remove_similar||!o||Jh(a.getAttrib(o,r),t)){if("class"===r&&(t=a.getAttrib(s,r))&&(i="",H(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(i+=(i?" ":"")+t)})),i))return void a.setAttrib(s,r,i);"class"===r&&s.removeAttribute("className"),Zh.test(r)&&s.removeAttribute("data-mce-"+r),s.removeAttribute(r)}})),Xh(e.classes,(function(t){t=sc(t,n),o&&!a.hasClass(o,t)||a.removeClass(s,t)}));for(var l=a.getAttribs(s),c=0;c<l.length;c++){var f=l[c].nodeName;if(0!==f.indexOf("_")&&0!==f.indexOf("data-"))return!1}}return"none"!==e.remove?(function(t,e,n){var r,o=e.parentNode,i=t.dom,a=cu(t);n.block&&(a?o===i.getRoot()&&(n.list_block&&Jh(e,n.list_block)||H(tt(e.childNodes),(function(e){ic(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=np(i,e,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=0}))):i.isBlock(e)&&!i.isBlock(o)&&(op(i,e,!1)||op(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),op(i,e,!0)||op(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),n.selector&&n.inline&&!Jh(n.inline,e)||i.remove(e,!0)}(t,s,e),!0):void 0},ap=function(t,e,n,r,o){var i=t.formatter.get(e),a=i[0],s=!0,u=t.dom,l=t.selection,c=function(r){var s=function(t,e,n,r,o){var i;return H(dc(t.dom,e.parentNode).reverse(),(function(e){if(!i&&"_start"!==e.id&&"_end"!==e.id){var a=Dh(t,e,n,r,o);a&&!1!==a.split&&(i=e)}})),i}(t,r,e,n,o);return function(t,e,n,r,o,i,a,s){var u,l,c,f=t.dom;if(n){for(var d=n.parentNode,h=r.parentNode;h&&h!==d;h=h.parentNode){u=f.clone(h,!1);for(var p=0;p<e.length;p++)if(ip(t,e[p],s,u,u)){u=0;break}u&&(l&&u.appendChild(l),c||(c=u),l=u)}!i||a.mixed&&f.isBlock(n)||(r=f.split(n,r)),l&&(o.parentNode.insertBefore(l,o),c.appendChild(o))}return r}(t,i,s,r,r,!0,a,n)},f=function(e){var r,o;an(e)&&u.getContentEditable(e)&&(r=s,s="true"===u.getContentEditable(e),o=!0);var l=tt(e.childNodes);if(s&&!o)for(var c=0;c<i.length&&!ip(t,i[c],n,e,e);c++);if(a.deep&&l.length){for(c=0;c<l.length;c++)f(l[c]);o&&(s=r)}},d=function(t){var e=u.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return function(t){return Xl(t)&&an(t)&&("_start"===t.id||"_end"===t.id)}(n)&&(n=n[t?"firstChild":"lastChild"]),pn(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),u.remove(e,!0),n},h=function(e){var n,r,o=Tc(t,e,i,!0);if(a.split){if(o=Ch(o),(n=tp(t,o,!0))!==(r=tp(t,o))){if(n=ep(n,!0),r=ep(r,!1),Qh(u,n,r)){var s=_.from(n.firstChild).getOr(n);return c(rp(u,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void d(!0)}if(Qh(u,r,n)){s=_.from(r.lastChild).getOr(r);return c(rp(u,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void d(!1)}n=np(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=np(u,r,"span",{id:"_end","data-mce-type":"bookmark"});var l=u.createRng();l.setStartAfter(n),l.setEndBefore(r),Oc(u,l,(function(t){H(t,(function(t){Xl(t)||Xl(t.parentNode)||c(t)}))})),c(n),c(r),n=d(!0),r=d()}else n=r=c(n);o.startContainer=n.parentNode?n.parentNode:n,o.startOffset=u.nodeIndex(n),o.endContainer=r.parentNode?r.parentNode:r,o.endOffset=u.nodeIndex(r)+1}Oc(u,o,(function(e){H(e,(function(e){f(e);H(["underline","line-through","overline"],(function(n){an(e)&&t.dom.getStyle(e,"text-decoration")===n&&e.parentNode&&fc(u,e.parentNode)===n&&ip(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,e)}))}))}))};if(r)if(ec(r)){var p=u.createRng();p.setStartBefore(r),p.setEndAfter(r),h(p)}else h(r);else if("false"!==u.getContentEditable(l.getNode()))l.isCollapsed()&&a.inline&&!Pc(t).length?qh(t,e,n,o):(jc(l,!0,(function(){Fc(t,h)})),a.inline&&Nh(t,e,n,l.getStart())&&nc(u,l,l.getRng()),t.nodeChanged());else{r=l.getNode();for(var m=0;m<i.length&&(!i[m].ceFalseOverride||!ip(t,i[m],n,r,r));m++);}},sp=se.each,up=function(t){return an(t)&&!Xl(t)&&!zl(t)&&!cn(t)},lp=function(t,e){var n;for(n=t;n;n=n[e]){if(pn(n)&&0!==n.nodeValue.length)return t;if(an(n)&&!Xl(n))return n}return t},cp=function(t,e,n){var r,o,i=new mf(t);if(e&&n&&(e=lp(e,"previousSibling"),n=lp(n,"nextSibling"),i.compare(e,n))){for(r=e.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,e.appendChild(o);return t.remove(n),se.each(se.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},fp=function(t,e,n){sp(t.childNodes,(function(t){up(t)&&(e(t)&&n(t),t.hasChildNodes()&&fp(t,e,n))}))},dp=function(t,e){return function(n){return!(!n||!cc(t,n,e))}},hp=function(t,e,n){return function(r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),pp(t,r)}},pp=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},mp=function(t,e,n,r){sp(e,(function(e){sp(t.dom.select(e.inline,r),(function(r){up(r)&&ip(t,e,n,r,e.exact?r:null)})),function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";sp(t.select(r,n),(function(n){up(n)&&sp(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}}(t.dom,e,r)}))},gp=se.each,vp=function(t,e,n,r){var o,i=t.formatter.get(e),a=i[0],s=!r&&t.selection.isCollapsed(),u=t.dom,l=t.selection,c=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,r),gp(e.styles,(function(e,r){u.setStyle(t,r,sc(e,n))})),e.styles){var o=u.getAttrib(t,"style");o&&u.setAttrib(t,"data-mce-style",o)}gp(e.attributes,(function(e,r){u.setAttrib(t,r,sc(e,n))})),gp(e.classes,(function(e){e=sc(e,n),u.hasClass(t,e)||u.addClass(t,e)}))}},f=function(t,e){var n=!1;return!!a.selector&&(gp(t,(function(t){if(!("collapsed"in t)||t.collapsed===s)return u.is(e,t.selector)&&!zl(e)?(c(e,t),n=!0,!1):void 0})),n)},d=function(r,o,s,u){var l=[],d=!0,h=a.inline||a.block,p=r.create(h);c(p),Oc(r,o,(function(o){var s,m=function(o){var g=!1,v=d,y=o.nodeName.toLowerCase(),b=o.parentNode.nodeName.toLowerCase();if(an(o)&&r.getContentEditable(o)&&(v=d,d="true"===r.getContentEditable(o),g=!0),uc(y,"br"))return s=0,void(a.block&&r.remove(o));if(a.wrapper&&Dh(t,o,e,n))s=0;else{if(d&&!g&&a.block&&!a.wrapper&&oc(t,y)&&ic(t,b,h))return o=r.rename(o,h),c(o),l.push(o),void(s=0);if(a.selector){var w=f(i,o);if(!a.inline||w)return void(s=0)}!d||g||!ic(t,h,y)||!ic(t,b,h)||!u&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||zl(o)||a.inline&&r.isBlock(o)?(s=0,gp(se.grep(o.childNodes),m),g&&(d=v),s=0):(s||(s=r.clone(p,!1),o.parentNode.insertBefore(s,o),l.push(s)),s.appendChild(o))}};gp(o,m)})),!0===a.links&&gp(l,(function(t){var e=function(t){"A"===t.nodeName&&c(t,a),gp(se.grep(t.childNodes),e)};e(t)})),gp(l,(function(o){var s=function(t){var e=!1;return gp(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!Xl(t)&&!zl(t)&&!cn(t)}(t))return e=t,!1})),e},u=function(t){var e=0;return gp(t.childNodes,(function(t){(function(t){return t&&pn(t)&&0===t.length})(t)||Xl(t)||e++})),e}(o);!(l.length>1)&&r.isBlock(o)||0!==u?(a.inline||a.wrapper)&&(a.exact||1!==u||(o=function(t){var e,n=s(t);return n&&!Xl(n)&&Oh(r,n,a)&&(e=r.clone(n,!1),c(e),r.replace(e,t,!0),r.remove(n,!0)),e||t}(o)),mp(t,i,n,o),function(t,e,n,r,o){Dh(t,o.parentNode,n,r)&&ip(t,e,r,o)||e.merge_with_parents&&t.dom.getParent(o.parentNode,(function(i){if(Dh(t,i,n,r))return ip(t,e,r,o),!0}))}(t,a,e,n,o),function(t,e,n,r){e.styles&&e.styles.backgroundColor&&fp(r,dp(t,"fontSize"),hp(t,"backgroundColor",sc(e.styles.backgroundColor,n)))}(r,a,n,o),function(t,e,n,r){var o=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var n=fc(t,e.parentNode);t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(se.walk(r,o,"childNodes"),o(r))}(r,a,0,o),function(t,e,n,r){"sub"!==e.inline&&"sup"!==e.inline||(fp(r,dp(t,"fontSize"),hp(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))}(r,a,0,o),function(t,e,n,r){r&&!1!==e.merge_siblings&&(r=cp(t,rc(r),r),r=cp(t,r,rc(r,!0)))}(r,a,0,o)):r.remove(o,!0)}))};if("false"!==u.getContentEditable(l.getNode())){if(a){if(r)ec(r)?f(i,r)||((o=u.createRng()).setStartBefore(r),o.setEndAfter(r),d(u,Tc(t,o,i),0,!0)):d(u,r,0,!0);else if(s&&a.inline&&!Pc(t).length)!function(t,e,n){var r,o,i=t.selection,a=i.getRng(),s=a.startOffset,u=a.startContainer.nodeValue;(r=Hl(t.getBody(),i.getStart()))&&(o=Ih(r));var l,c,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(u&&s>0&&s<u.length&&f.test(u.charAt(s))&&f.test(u.charAt(s-1))){var d=i.getBookmark();a.collapse(!0);var h=Tc(t,a,t.formatter.get(e));h=Ch(h),t.formatter.apply(e,n,h),i.moveToBookmark(d)}else r&&"\ufeff"===o.nodeValue||(l=t.getDoc(),c=Bh(!0).dom(),o=(r=l.importNode(c,!0)).firstChild,a.insertNode(r),s=1),t.formatter.apply(e,n,r),i.setCursorLocation(o,s)}(t,e,n);else{var h=l.getNode();t.settings.forced_root_block||!i[0].defaultBlock||u.getParent(h,u.isBlock)||vp(t,i[0].defaultBlock),l.setRng(Od(l.getRng())),jc(l,!0,(function(e){Fc(t,(function(e,n){var r=n?e:Tc(t,e,i);d(u,r)}))})),nc(u,l,l.getRng()),t.nodeChanged()}!function(t,e){Gh(Vh[t],(function(t){t(e)}))}(e,t)}}else{r=l.getNode();for(var p=0,m=i.length;p<m;p++)if(i[p].ceFalseOverride&&u.is(r,i[p].selector))return void c(r,i[p])}},yp=function(t,e){return z(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},bp=function(t,e){var r=(e||n.document).createDocumentFragment();return H(t,(function(t){r.appendChild(t.dom())})),le.fromDom(r)},wp=function(t,e,n){return{element:d(t),width:d(e),rows:d(n)}},xp=function(t,e){return{element:d(t),cells:d(e)}},_p=function(t,e){return{x:d(t),y:d(e)}},kp=function(t,e){var n=parseInt(Sn(t,e),10);return isNaN(n)?1:n},Cp=function(t,e,n){var r=t.rows();return!!(r[n]?r[n].cells():[])[e]},Sp=function(t){return V(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},Tp=function(t,e){for(var n=t.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(we(o[i],e))return _.some(_p(i,r));return _.none()},Ep=function(t,e,n,r,o){for(var i=[],a=t.rows(),s=n;s<=o;s++){var u=a[s].cells(),l=e<r?u.slice(e,r+1):u.slice(r,e+1);i.push(xp(a[s].element(),l))}return i},Op=function(t){var e=wp(Na(t),0,[]);return H(ha(t,"tr"),(function(t,n){H(ha(t,"td,th"),(function(r,o){!function(t,e,n,r,o){for(var i=kp(o,"rowspan"),a=kp(o,"colspan"),s=t.rows(),u=n;u<n+i;u++){s[u]||(s[u]=xp(Pa(r),[]));for(var l=e;l<e+a;l++){s[u].cells()[l]=u===n&&l===e?o:Na(o)}}}(e,function(t,e,n){for(;Cp(t,e,n);)e++;return e}(e,o,n),n,t,r)}))})),wp(e.element(),Sp(e.rows()),e.rows())},Ap=function(t){return function(t,e){var n=Na(t.element()),r=le.fromTag("tbody");return Ue(r,e),qe(n,r),n}(t,function(t){return z(t.rows(),(function(t){var e=z(t.cells(),(function(t){var e=Pa(t);return Tn(e,"colspan"),Tn(e,"rowspan"),e})),n=Na(t.element());return Ue(n,e),n}))}(t))},Dp=function(t,e,n){return Tp(t,e).bind((function(e){return Tp(t,n).map((function(n){return function(t,e,n){var r=e.x(),o=e.y(),i=n.x(),a=n.y(),s=o<a?Ep(t,r,o,i,a):Ep(t,r,a,i,o);return wp(t.element(),Sp(s),s)}(t,e,n)}))}))},Np=function(t,e){return $(t,(function(t){return"li"===ce(t)&&Rc(t,e)})).fold(d([]),(function(e){return function(t){return $(t,(function(t){return"ul"===ce(t)||"ol"===ce(t)}))}(t).map((function(t){return[le.fromTag("li"),le.fromTag(ce(t))]})).getOr([])}))},Pp=function(t,e){var n=le.fromDom(e.commonAncestorContainer),r=zf(n,t),o=U(r,(function(t){return Bn(t)||Rn(t)})),i=Np(r,e),a=o.concat(i.length?i:function(t){return Hn(t)?Te(t).filter(zn).fold(d([]),(function(e){return[t,e]})):zn(t)?[t]:[]}(n));return z(a,Na)},Mp=function(){return bp([])},Lp=function(t,e){return n=le.fromDom(e.cloneContents()),r=Pp(t,e),o=V(r,(function(t,e){return qe(e,t),e}),n),r.length>0?bp([o]):o;var n,r,o},Rp=function(t,e){return(n=t,r=e[0],va(r,"table",p(we,n))).bind((function(t){var n=e[0],r=e[e.length-1],o=Op(t);return Dp(o,n,r).map((function(t){return bp([Ap(t)])}))})).getOrThunk(Mp);var n,r},Ip=function(t,e){var n=Nc(e,t);return n.length>0?Rp(t,n):function(t,e){return e.length>0&&e[0].collapsed?Mp():Lp(t,e[0])}(t,e)},Bp=function(t,e){return e>=0&&e<t.length&&Ql(t.charAt(e))},Fp=function(t){var e=Ia(t.innerText);return ne.browser.isIE()?function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")}(e):e},jp=function(t,e,n){if(void 0===n&&(n={}),n.get=!0,n.format=e,n.selection=!0,(n=t.fire("BeforeGetContent",n)).isDefaultPrevented())return t.fire("GetContent",n),n.content;if("text"===n.format)return function(t){return _.from(t.selection.getRng()).map((function(e){var n=t.dom.add(t.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),r=Fp(n),o=Ia(n.textContent);if(t.dom.remove(n),Bp(o,0)||Bp(o,o.length-1)){var i=t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock),a=Fp(i),s=a.indexOf(r);return-1!==s?(Bp(a,s-1)?" ":"")+r+(Bp(a,s+r.length)?" ":""):r}return r})).getOr("")}(t);n.getInner=!0;var r=function(t,e){var n=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),i=yp(t,Ac(o)),a=e.contextual?Ip(le.fromDom(t.getBody()),i).dom():n.cloneContents();return a&&r.appendChild(a),t.selection.serializer.serialize(r,e)}(t,n);return"tree"===n.format?r:(n.content=t.selection.isCollapsed()?"":r,t.fire("GetContent",n),n.content)},zp=function(t){return an(t)?t.outerHTML:pn(t)?sr.encodeRaw(t.data,!1):mn(t)?"\x3c!--"+t.data+"--\x3e":""},Hp=function(t,e,r){var o=function(t){var e,r=n.document.createElement("div"),o=n.document.createDocumentFragment();for(t&&(r.innerHTML=t);e=r.firstChild;)o.appendChild(e);return o}(e);if(t.hasChildNodes()&&r<t.childNodes.length){var i=t.childNodes[r];i.parentNode.insertBefore(o,i)}else t.appendChild(o)},qp=function(t,e){var n,r,o,i,a,s,u,l,c,f=z(tt(e.childNodes),zp);return function(t,e){var n=0;H(t,(function(t){0===t[0]?n++:1===t[0]?(Hp(e,t[1],n),n++):2===t[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(e,n)}))}((r=t,o=(n=f).length+r.length+2,i=new Array(o),a=new Array(o),s=function(t,e,o,i,a){var u=l(t,e,o,i);if(null===u||u.start===e&&u.diag===e-i||u.end===t&&u.diag===t-o)for(var c=t,f=o;c<e||f<i;)c<e&&f<i&&n[c]===r[f]?(a.push([0,n[c]]),++c,++f):e-t>i-o?(a.push([2,n[c]]),++c):(a.push([1,r[f]]),++f);else{s(t,u.start,o,u.start-u.diag,a);for(var d=u.start;d<u.end;++d)a.push([0,n[d]]);s(u.end,e,u.end-u.diag,i,a)}},u=function(t,e,o,i){for(var a=t;a-e<i&&a<o&&n[a]===r[a-e];)++a;return function(t,e,n){return{start:t,end:e,diag:n}}(t,a,e)},l=function(t,e,o,s){var l=e-t,c=s-o;if(0===l||0===c)return null;var f,d,h,p,m,g=l-c,v=c+l,y=(v%2==0?v:v+1)/2;for(i[1+y]=t,a[1+y]=e+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){for(h=d+y,d===-f||d!==f&&i[h-1]<i[h+1]?i[h]=i[h+1]:i[h]=i[h-1]+1,m=(p=i[h])-t+o-d;p<e&&m<s&&n[p]===r[m];)i[h]=++p,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&a[h-g]<=i[h])return u(a[h-g],d+t-o,e,s)}for(d=g-f;d<=g+f;d+=2){for(h=d+y-g,d===g-f||d!==g+f&&a[h+1]<=a[h-1]?a[h]=a[h+1]-1:a[h]=a[h-1],m=(p=a[h]-1)-t+o-d;p>=t&&m>=o&&n[p]===r[m];)a[h]=p--,m--;if(g%2==0&&-f<=d&&d<=f&&a[h]<=i[h+g])return u(a[h],d+t-o,e,s)}}},c=[],s(0,n.length,0,r.length,c),c),e),e},Up=Zi(_.none()),Wp=function(t){var e,n=(e=t.getBody(),U(z(tt(e.childNodes),zp),(function(t){return t.length>0}))),r=Y(n,(function(e){var n=ff(t.serializer,e);return n.length>0?[n]:[]})),o=r.join("");return-1!==o.indexOf("</iframe>")?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(o)},Vp=function(t,e,n){"fragmented"===e.type?qp(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},$p=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Gp=function(t){var e=le.fromTag("body",Up.get().getOrThunk((function(){var t=n.document.implementation.createHTMLDocument("undo");return Up.set(_.some(t)),t})));return Aa(e,$p(t)),H(ha(e,"*[data-mce-bogus]"),$e),e.dom().innerHTML},Yp=function(t,e){return!(!t||!e)&&(!!function(t,e){return $p(t)===$p(e)}(t,e)||function(t,e){return Gp(t)===Gp(e)}(t,e))},Kp=function(t){return 0===t.get()},Zp=function(t,e,n){Kp(n)&&(t.typing=e)},Xp=function(t,e){t.typing&&(Zp(t,!1,e),t.add())},Jp=function(t){return t instanceof Jc},Qp=function(t,e){bh(t.serializer.getNodeFilters(),t.serializer.getAttributeFilters(),e)},tm=function(t){return{undoManager:{beforeChange:function(e,n){return function(t,e,n){Kp(e)&&n.set(_.some(au(t.selection)))}(t,e,n)},addUndoLevel:function(e,n,r,o,i,a){return function(t,e,n,r,o,i,a){var s=Wp(t);if(i=i||{},i=se.extend(i,s),!1===Kp(r)||t.removed)return null;var u=e.data[n.get()];if(t.fire("BeforeAddUndo",{level:i,lastLevel:u,originalEvent:a}).isDefaultPrevented())return null;if(u&&Yp(u,i))return null;e.data[n.get()]&&o.get().each((function(t){e.data[n.get()].beforeBookmark=t}));var l=function(t){return t.getParam("custom_undo_redo_levels",0,"number")}(t);if(l&&e.data.length>l){for(var c=0;c<e.data.length-1;c++)e.data[c]=e.data[c+1];e.data.length--,n.set(e.data.length)}i.bookmark=au(t.selection),n.get()<e.data.length-1&&(e.data.length=n.get()+1),e.data.push(i),n.set(e.data.length-1);var f={level:i,lastLevel:u,originalEvent:a};return t.fire("AddUndo",f),n.get()>0&&(t.setDirty(!0),t.fire("change",f)),i}(t,e,n,r,o,i,a)},undo:function(e,n,r){return function(t,e,n,r){var o;return e.typing&&(e.add(),e.typing=!1,Zp(e,!1,n)),r.get()>0&&(r.set(r.get()-1),o=e.data[r.get()],Vp(t,o,!0),t.setDirty(!0),t.fire("Undo",{level:o})),o}(t,e,n,r)},redo:function(e,n){return function(t,e,n){var r;return e.get()<n.length-1&&(e.set(e.get()+1),r=n[e.get()],Vp(t,r,!1),t.setDirty(!0),t.fire("Redo",{level:r})),r}(t,e,n)},clear:function(e,n){return function(t,e,n){e.data=[],n.set(0),e.typing=!1,t.fire("ClearUndos")}(t,e,n)},reset:function(t){return function(t){t.clear(),t.add()}(t)},hasUndo:function(e,n){return function(t,e,n){return n.get()>0||e.typing&&e.data[0]&&!Yp(Wp(t),e.data[0])}(t,e,n)},hasRedo:function(t,e){return function(t,e){return e.get()<t.data.length-1&&!t.typing}(t,e)},transact:function(t,e,n){return function(t,e,n){return Xp(t,e),t.beforeChange(),t.ignore(n),t.add()}(t,e,n)},ignore:function(t,e){return function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}}(t,e)},extra:function(e,n,r,o){return function(t,e,n,r,o){if(e.transact(r)){var i=e.data[n.get()].bookmark,a=e.data[n.get()-1];Vp(t,a,!0),e.transact(o)&&(e.data[n.get()-1].beforeBookmark=i)}}(t,e,n,r,o)}},formatter:{apply:function(e,n,r){return vp(t,e,n,r)},remove:function(e,n,r,o){return ap(t,e,n,r,o)},toggle:function(e,n,r){return function(t,e,n,r){var o=t.formatter.get(e);!Nh(t,e,n,r)||"toggle"in o[0]&&!o[0].toggle?vp(t,e,n,r):ap(t,e,n,r)}(t,e,n,r)}},editor:{getContent:function(e,n){return function(t,e,n){return _.from(t.getBody()).fold(d("tree"===e.format?new Jc("body",11):""),(function(r){return hf(t,e,n,r)}))}(t,e,n)},setContent:function(e,n){return _h(t,e,n)},insertContent:function(e,n){return Fd(t,e,n)}},selection:{getContent:function(e,n){return jp(t,e,n)}},raw:{getModel:function(){return _.none()}}}},em=function(t){return dt(t.plugins,"rtc")},nm=function(t){var e=t;return ft(t.plugins,"rtc").fold((function(){return e.rtcInstance=tm(t),_.none()}),(function(n){return _.some(n.setup().then((function(n){return e.rtcInstance=function(t,e){var n=function(t){return E(t)?t:{}},r=g("Unimplemented feature for rtc");return{undoManager:{beforeChange:c,addUndoLevel:r,undo:function(){return e.undo(),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},redo:function(){return e.redo(),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},clear:r,reset:r,hasUndo:function(){return e.hasUndo()},hasRedo:function(){return e.hasRedo()},transact:function(t,n,r){return e.transact(r),{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},ignore:r,extra:r},formatter:{apply:function(t,r,o){return e.applyFormat(t,n(r))},remove:function(t,r,o,i){return e.removeFormat(t,n(r))},toggle:function(t,r,o){return e.toggleFormat(t,n(r))}},editor:{getContent:function(n,r){if("html"===r||"tree"===r){var o=e.getContent(),i=ef({inner:!0});return Qp(t,o),"tree"===r?o:i.serialize(o)}return tm(t).editor.getContent(n,r)},setContent:function(n,r){var o=Jp(n)?n:t.parser.parse(n,{isRootContent:!0,insert:!0});return e.setContent(o),n},insertContent:function(n,r){var o=Jp(n)?n:t.parser.parse(n,{insert:!0});e.insertContent(o)}},selection:{getContent:function(n,r){if("html"===n||"tree"===n){var o=e.getSelectedContent(),i=ef({});return Qp(t,o),"tree"===n?o:i.serialize(o)}return tm(t).selection.getContent(n,r)}},raw:{getModel:function(){return _.some(e.getRawModel())}}}}(t,n),n.isRemote})))}))},rm=function(t){return t.rtcInstance?t.rtcInstance:tm(t)},om=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},im=function(t,e){return void 0===e&&(e={}),function(t,e,n){return rm(t).editor.getContent(e,n)}(t,e,e.format?e.format:"html")},am=function(t,e,n){return void 0===n&&(n={}),function(t,e,n){return rm(t).editor.setContent(e,n)}(t,e,n)},sm=Vi.DOM,um=function(t){return _.from(t).each((function(t){return t.destroy()}))},lm=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),o=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&o&&sm.remove(o.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&function(t){sm.setStyle(t.id,"display",t.orgDisplay)}(t),function(t){t.fire("detach")}(t),sm.remove(t.getContainer()),um(e),um(n),t.destroy()}},cm=function(t,e){var n=t.selection,r=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),um(n),um(r)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),sm.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())},fm=Object.prototype.hasOwnProperty,dm=(Yh=function(t,e){return E(t)&&E(e)?dm(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<t.length;r++){var o=t[r];for(var i in o)fm.call(o,i)&&(n[i]=Yh(n[i],o[i]))}return n}),hm=Gt().deviceType,pm=hm.isTouch(),mm=hm.isPhone(),gm=hm.isTablet(),vm=["lists","autolink","autosave"],ym={table_grid:!1,object_resizing:!1,resize:!1},bm=function(t){var e=O(t)?t.join(" "):t,n=z(T(e)?e.split(" "):[],It);return U(n,(function(t){return t.length>0}))},wm=function(t,e){var n=ut(e,(function(e,n){return F(t,n)}));return function(t,e){return{sections:d(t),settings:d(e)}}(n.t,n.f)},xm=function(t,e){return t.sections().hasOwnProperty(e)},_m=function(t,e){return ft(t,"toolbar_mode").orThunk((function(){return ft(t,"toolbar_drawer").map((function(t){return!1===t?"wrap":t}))})).getOr(e)},km=function(t,e){var n={resize:!1,toolbar_mode:_m(t,"scrolling"),toolbar_sticky:!1};return xt(xt(xt({},ym),n),e?{menubar:!1}:{})},Cm=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?se.extend({},t.external_plugins,n):n},Sm=function(t,e,n,r){var o=bm(n.forced_plugins),i=bm(r.plugins),a=function(t,e){return xm(t,e)?t.sections()[e]:{}}(e,"mobile"),s=a.plugins?bm(a.plugins):i,u=function(t,e){return[].concat(bm(t)).concat(bm(e))}(o,t&&function(t,e,n){var r=t.sections();return xm(t,e)&&r[e].theme===n}(e,"mobile","mobile")?U(s,p(F,vm)):t&&xm(e,"mobile")?s:i);return se.extend(r,{plugins:u.join(" ")})},Tm=function(t,e,n,r,o){var i=t?{mobile:km(o.mobile||{},e)}:{},a=wm(["mobile"],dm(i,o)),s=se.extend(n,r,a.settings(),function(t,e){return t&&xm(e,"mobile")}(t,a)?function(t,e,n){void 0===n&&(n={});var r=t.sections(),o=r.hasOwnProperty(e)?r[e]:{};return se.extend({},n,o)}(a,"mobile"):{},{validate:!0,external_plugins:Cm(r,a.settings())});return Sm(t,a,r,s)},Em=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i={id:e,theme:"silver",toolbar_mode:_m(t,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return xt(xt({},i),r?ym:{})}(o,e,n,pm,t);return Tm(mm||gm,mm,i,r,o)},Om=function(t,e,n){return _.from(e.settings[n]).filter(t)},Am=function(t,e,n,r){var o,i=e in t.settings?t.settings[e]:n;return"hash"===r?function(t){var e={};return"string"==typeof t?H(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");n.length>1?e[se.trim(n[0])]=se.trim(n[1]):e[se.trim(n[0])]=se.trim(n[0])})):e=t,e}(i):"string"===r?Om(T,t,e).getOr(n):"number"===r?Om(M,t,e).getOr(n):"boolean"===r?Om(D,t,e).getOr(n):"object"===r?Om(E,t,e).getOr(n):"array"===r?Om(O,t,e).getOr(n):"string[]"===r?Om((o=T,function(t){return O(t)&&K(t,o)}),t,e).getOr(n):"function"===r?Om(P,t,e).getOr(n):i},Dm=(Kh={},{add:function(t,e){Kh[t]=e},get:function(t){return Kh[t]?Kh[t]:{icons:{}}},has:function(t){return dt(Kh,t)}}),Nm=function(t,e){return e.dom()[t]},Pm=function(t,e){return parseInt(En(e,t),10)},Mm=p(Nm,"clientWidth"),Lm=p(Nm,"clientHeight"),Rm=p(Pm,"margin-top"),Im=p(Pm,"margin-left"),Bm=function(t,e,n){var r,o=le.fromDom(t.getBody()),i=t.inline?o:(r=o,le.fromDom(r.dom().ownerDocument.documentElement)),a=function(t,e,n,r){var o=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?o.left+e.dom().clientLeft+Im(e):0),y:r-(t?o.top+e.dom().clientTop+Rm(e):0)}}(t.inline,i,e,n);return function(t,e,n){var r=Mm(t),o=Lm(t);return e>=0&&n>=0&&e<=r&&n<=o}(i,a.x,a.y)},Fm=function(t){var e,n=t.inline?t.getBody():t.getContentAreaContainer();return(e=n,_.from(e).map(le.fromDom)).map((function(t){return _e(ke(t),t)})).getOr(!1)};function jm(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},r=function(){e.length>0&&n().reposition(e)},o=function(t){G(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},i=function(i){if(!t.removed&&Fm(t))return $(e,(function(t){return e=n().getArgs(t),r=i,!(e.type!==r.type||e.text!==r.text||e.progressBar||e.timeout||r.progressBar||r.timeout);var e,r})).getOrThunk((function(){t.editorManager.setActive(t);var a=n().open(i,(function(){o(a),r()}));return function(t){e.push(t)}(a),r(),a}))};return function(t){t.on("SkinLoaded",(function(){var e=function(t){return t.getParam("service_message")}(t);e&&i({text:e,type:"warning",timeout:0})})),t.on("ResizeEditor ResizeWindow NodeChange",(function(){Li.requestAnimationFrame(r)})),t.on("remove",(function(){H(e.slice(),(function(t){n().close(t)}))}))}(t),{open:i,close:function(){_.from(e[0]).each((function(t){n().close(t),o(t),r()}))},getNotifications:function(){return e}}}var zm=na.PluginManager,Hm=na.ThemeManager;var qm=function(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}},r=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},o=function(n){e.push(n),function(e){t.fire("OpenWindow",{dialog:e})}(n)},i=function(n){!function(e){t.fire("CloseWindow",{dialog:e})}(n),0===(e=U(e,(function(t){return t!==n}))).length&&t.focus()},a=function(e){t.editorManager.setActive(t),eh(t);var n=e();return o(n),n};return t.on("remove",(function(){H(e,(function(t){n().close(t)}))})),{open:function(t,e){return a((function(){return n().open(t,e,i)}))},openUrl:function(t){return a((function(){return n().openUrl(t,i)}))},alert:function(t,e,o){n().alert(t,r(o||this,e))},confirm:function(t,e,o){n().confirm(t,r(o||this,e))},close:function(){_.from(e[e.length-1]).each((function(t){n().close(t),i(t)}))}}},Um=function(t,e){t.notificationManager.open({type:"error",text:e})},Wm=function(t,e){t._skinLoaded?Um(t,e):t.on("SkinLoaded",(function(){Um(t,e)}))},Vm=function(t,e,r){!function(t,e,n){t.fire(e,n)}(t,e,{message:r}),n.console.error(r)},$m=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},Gm=function(t,e,n){Vm(t,"PluginLoadError",$m("plugin",e,n))},Ym=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var o=n.window.console;o&&(o.error?o.error.apply(o,_t([t],e)):o.log.apply(o,_t([t],e)))},Km=function(t){var e=function(t){var e=t.getParam("content_css");return T(e)?z(e.split(","),It):O(e)?e:!1===e||t.inline?[]:["default"]}(t),n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return z(e,(function(e){return function(t){return/^[a-z0-9\-]+$/i.test(t)}(e)&&!o?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)}))};var Zm=function(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=En(n,t);return parseFloat(o)||0}return r},r=function(t,e){return V(e,(function(e,n){var r=En(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!M(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();xn(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}("height",(function(t){var e=t.dom();return Ge(t)?e.getBoundingClientRect().height:e.offsetHeight})),Xm=function(t,e){return t.view(e).fold(d([]),(function(e){var n=t.owner(e),r=Xm(t,n);return[e].concat(r)}))},Jm=Object.freeze({__proto__:null,view:function(t){return(t.dom()===n.document?_.none():_.from(t.dom().defaultView.frameElement)).map(le.fromDom)},owner:function(t){return ke(t)}}),Qm=function(t){var e=le.fromDom(n.document),r=Je(e),o=function(t,e){var n=e.owner(t);return Xm(e,n)}(t,Jm),i=Xe(t),a=W(o,(function(t,e){var n=Xe(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return Ke(a.left+i.left()+r.left(),a.top+i.top()+r.top())},tg=function(t){return"textarea"===ce(t)},eg=function(t,e){var n=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return Ke(n.offsetLeft,n.offsetTop);var i=Ze(r.pageYOffset,o.scrollTop),a=Ze(r.pageXOffset,o.scrollLeft),s=Ze(o.clientTop,n.clientTop),u=Ze(o.clientLeft,n.clientLeft);return Xe(t).translate(a-u,i-s)}(t),r=function(t){return Zm.get(t)}(t);return{element:t,bottom:n.top()+r,height:r,pos:n,cleanup:e}},ng=function(t,e){var n=function(t,e){var n=Ne(t);if(0===n.length||tg(t))return{element:t,offset:e};if(e<n.length&&!tg(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return tg(r)?{element:t,offset:e}:"img"===ce(r)?{element:r,offset:1}:pe(r)?{element:r,offset:Hc(r).length}:{element:r,offset:Ne(r).length}}(t,e),r=le.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return je(n.element,r),eg(r,(function(){return Ve(r)}))},rg=function(t,e,n,r){sg(t,(function(o,i){return ig(t,e,n,r)}),n)},og=function(t,e,n,r,o){var i={elm:r.element.dom(),alignToTop:o};(function(t,e){return t.fire("ScrollIntoView",e).isDefaultPrevented()})(t,i)||(n(e,Je(e).top(),r,o),function(t,e){t.fire("AfterScrollIntoView",e)}(t,i))},ig=function(t,e,n,r){var o=le.fromDom(t.getBody()),i=le.fromDom(t.getDoc());o.dom().offsetWidth;var a=ng(le.fromDom(n.startContainer),n.startOffset);og(t,i,e,a,r),a.cleanup()},ag=function(t,e,n,r){var o=le.fromDom(t.getDoc());og(t,o,n,function(t){return eg(le.fromDom(t),c)}(e),r)},sg=function(t,e,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;e(le.fromDom(r),le.fromDom(i));var s=t.dom.createRng();s.setStart(r,o),s.setEnd(i,a),t.selection.setRng(n)},ug=function(t,e,n,r){var o=t.pos;if(n)Qe(o.left(),o.top(),r);else{var i=o.top()-e+t.height;Qe(o.left(),i,r)}},lg=function(t,e,n,r,o){var i=n+e,a=r.pos.top(),s=r.bottom,u=s-a>=n;if(a<e)ug(r,n,!1!==o,t);else if(a>i){ug(r,n,u?!1!==o:!0===o,t)}else s>i&&!u&&ug(r,n,!0===o,t)},cg=function(t,e,n,r){var o=t.dom().defaultView.innerHeight;lg(t,e,o,n,r)},fg=function(t,e,r,o){var i=t.dom().defaultView.innerHeight;lg(t,e,i,r,o);var a=Qm(r.element),s=nn(n.window);a.top()<s.y?tn(r.element,!1!==o):a.top()>s.bottom&&tn(r.element,!0===o)},dg=function(t,e,n){return rg(t,cg,e,n)},hg=function(t,e,n){return ag(t,e,cg,n)},pg=function(t,e,n){return rg(t,fg,e,n)},mg=function(t,e,n){return ag(t,e,fg,n)},gg=function(t,e,n){(t.inline?dg:pg)(t,e,n)},vg=function(t){return bn(t)||wn(t)},yg=function(t,e,n){var r,o,i=n;if(i.caretPositionFromPoint)(o=i.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(t,e);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(o){r=function(t,e,n){var r,o=n.elementFromPoint(t,e),i=n.body.createTextRange();if(o&&"HTML"!==o.tagName||(o=n.body),i.moveToElementText(o),(r=(r=se.toArray(i.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))}))).length>0){e=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(t){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return wn(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,vg))?null:t}(r,n.body)}return r},bg=function(t,e,n,r,o){var i=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return _.from(i).map(le.fromDom).map((function(t){return r&&e.collapsed?t:Pe(t,o(t,a)).getOr(t)})).bind((function(t){return he(t)?_.some(t):Te(t).filter(he)})).map((function(t){return t.dom()})).getOr(t)},wg=function(t,e,n){return bg(t,e,!0,n,(function(t,e){return Math.min(t.dom().childNodes.length,e)}))},xg=function(t,e,n){return bg(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},_g=function(t,e){for(var n=t;t&&pn(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},kg=function(t,e){return void 0===e&&(e={}),function(t,e,n){return om(t).selection.getContent(e,n)}(t,e.format?e.format:"html",e)},Cg=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Sg=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},Tg=function(t,e,n){return Sg(t,e,(function(t){return t.nodeName===n}))},Eg=function(t){return t&&"TABLE"===t.nodeName},Og=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Ag=function(t,e){return Ha(t)&&!1===Sg(t,e,zl)},Dg=function(t,e,n){for(var r=new pi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(yn(e))return!0},Ng=function(t,e,n,r,o){var i,a,s=t.getRoot(),u=t.schema.getNonEmptyElements(),l=t.getParent(o.parentNode,t.isBlock)||s;if(r&&yn(o)&&e&&t.isEmpty(l))return _.some(Is(o.parentNode,t.nodeIndex(o)));for(var c=new pi(o,l);a=c[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||Ag(a,s))return _.none();if(pn(a)&&a.nodeValue.length>0)return!1===Tg(a,s,"A")?_.some(Is(a,r?a.nodeValue.length:0)):_.none();if(t.isBlock(a)||u[a.nodeName.toLowerCase()])return _.none();i=a}return n&&i?_.some(Is(i,0)):_.none()},Pg=function(t,e,n,r){var o,i,a,s,u=t.getRoot(),l=!1;o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"];var c=an(o)&&i===o.childNodes.length,f=t.schema.getNonEmptyElements();if(s=n,Ha(o))return _.none();if(an(o)&&i>o.childNodes.length-1&&(s=!1),gn(o)&&(o=u,i=0),o===u){if(s&&(a=o.childNodes[i>0?i-1:0])){if(Ha(a))return _.none();if(f[a.nodeName]||Eg(a))return _.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=pn(o)&&c?o.data.length:0,!e&&o===u.lastChild&&Eg(o))return _.none();if(function(t,e){for(;e&&e!==t;){if(wn(e))return!0;e=e.parentNode}return!1}(u,o)||Ha(o))return _.none();if(o.hasChildNodes()&&!1===Eg(o)){a=o;var d=new pi(o,u);do{if(wn(a)||Ha(a)){l=!1;break}if(pn(a)&&a.nodeValue.length>0){i=s?0:a.nodeValue.length,o=a,l=!0;break}if(f[a.nodeName.toLowerCase()]&&!Og(a)){i=t.nodeIndex(a),o=a.parentNode,s||i++,l=!0;break}}while(a=s?d.next():d.prev())}}}return e&&(pn(o)&&0===i&&Ng(t,c,e,!0,o).each((function(t){o=t.container(),i=t.offset(),l=!0})),an(o)&&((a=o.childNodes[i])||(a=o.childNodes[i-1]),!a||!yn(a)||function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e}(a,"A")||Dg(t,a,!1)||Dg(t,a,!0)||Ng(t,c,e,!0,a).each((function(t){o=t.container(),i=t.offset(),l=!0})))),s&&!e&&pn(o)&&i===o.nodeValue.length&&Ng(t,c,e,!1,o).each((function(t){o=t.container(),i=t.offset(),l=!0})),l?_.some(Is(o,i)):_.none()},Mg=function(t,e){var n=e.collapsed,r=e.cloneRange(),o=Is.fromRangeStart(e);return Pg(t,n,!0,r).each((function(t){n&&Is.isAbove(o,t)||r.setStart(t.container(),t.offset())})),n||Pg(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),Cg(e,r)?_.none():_.some(r)},Lg=function(t){return 0===t.dom().length?(Ve(t),_.none()):_.some(t)},Rg=function(t,e,n){void 0===n&&(n={});var r=function(t,e){return xt(xt({format:"html"},t),{set:!0,selection:!0,content:e})}(n,e);if(r.no_events||!(r=t.fire("BeforeSetContent",r)).isDefaultPrevented()){n.content=function(t,e){if("raw"!==e.format){var n=t.parser.parse(e.content,xt({isRootContent:!0,forced_root_block:!1},e));return ef({validate:t.validate},t.schema).serialize(n)}return e.content}(t,r);var o=t.selection.getRng();!function(t,e){var n=_.from(e.firstChild).map(le.fromDom),r=_.from(e.lastChild).map(le.fromDom);t.deleteContents(),t.insertNode(e);var o=n.bind(Ee).filter(pe).bind(Lg),i=r.bind(Oe).filter(pe).bind(Lg);Ka(o,n.filter(pe),(function(t,e){!function(t,e){t.insertData(0,e)}(e.dom(),t.dom().data),Ve(t)})),Ka(i,r.filter(pe),(function(e,n){var r=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),r),Ve(e)})),t.collapse(!1)}(o,o.createContextualFragment(n.content)),t.selection.setRng(o),gg(t,o),r.no_events||t.fire("SetContent",r)}else t.fire("SetContent",r)};function Ig(t){return{getBookmark:p(Kl,t),moveToBookmark:p(Zl,t)}}!function(t){t.isBookmarkNode=Xl}(Ig||(Ig={}));var Bg=Ig,Fg=function(t,e,n){if(n.collapsed)return!1;if(ne.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(an(r))return j(r.getClientRects(),(function(n){return ns(n,t,e)}))}return j(n.getClientRects(),(function(n){return ns(n,t,e)}))},jg={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return ne.mac?t.metaKey:t.ctrlKey&&!t.altKey}},zg=wn,Hg=bn,qg=function(t,e){var r,o,i,a,s,u,l,c,f,d,h,p,m,g,v=e.dom,y=se.each,b=e.getDoc(),w=n.document,x=Math.abs,_=Math.round,k=e.getBody(),C={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},S=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},T=function(t){var n=t.target;(function(t,e){if("longpress"===t.type||0===t.type.indexOf("touch")){var n=t.touches[0];return S(t.target)&&!Fg(n.clientX,n.clientY,e)}return S(t.target)&&!Fg(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&e.selection.select(n)},E=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},O=function(t){var n=ku(e);return!1!==n&&!ne.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!==e.getBody()&&ye(le.fromDom(t),n)))},A=function(t,e,n){v.setStyles(E(t),{width:e,height:n})},D=function(t){var n,y,b,w;n=t.screenX-s,y=t.screenY-u,h=n*a[2]+l,p=y*a[3]+c,h=h<5?5:h,p=p<5?5:p,(S(r)&&!1!==function(t){return t.getParam("resize_img_proportional",!0,"boolean")}(e)?!jg.modifierPressed(t):jg.modifierPressed(t))&&(x(n)>x(y)?(p=_(h*f),h=_(p/f)):(h=_(p/f),p=_(h*f))),A(o,h,p),b=(b=a.startPos.x+n)>0?b:0,w=(w=a.startPos.y+y)>0?w:0,v.setStyles(i,{left:b,top:w,display:"block"}),i.innerHTML=h+" &times; "+p,a[2]<0&&o.clientWidth<=h&&v.setStyle(o,"left",void 0+(l-h)),a[3]<0&&o.clientHeight<=p&&v.setStyle(o,"top",void 0+(c-p)),(n=k.scrollWidth-m)+(y=k.scrollHeight-g)!==0&&v.setStyles(i,{left:b-n,top:w-y}),d||(!function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})}(e,r,l,c),d=!0)},N=function(){var t=d;d=!1;var n=function(t,n){n&&(r.style[t]||!e.schema.isValid(r.nodeName.toLowerCase(),t)?v.setStyle(E(r),t,n):v.setAttrib(E(r),t,""+n))};t&&(n("width",h),n("height",p)),v.unbind(b,"mousemove",D),v.unbind(b,"mouseup",N),w!==b&&(v.unbind(w,"mousemove",D),v.unbind(w,"mouseup",N)),v.remove(o),v.remove(i),P(r),t&&(!function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})}(e,r,h,p),v.setAttrib(r,"style",v.getAttrib(r,"style"))),e.nodeChanged()},P=function(t){M(),I();var n=v.getPos(t,k),d=n.x,x=n.y,_=t.getBoundingClientRect(),S=_.width||_.right-_.left,T=_.height||_.bottom-_.top;r!==t&&(r=t,h=p=0);var P=e.fire("ObjectSelected",{target:t});O(t)&&!P.isDefaultPrevented()?y(C,(function(t,e){var n;(n=v.get("mceResizeHandle"+e))&&v.remove(n),n=v.add(k,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===ne.ie&&(n.contentEditable=!1),v.bind(n,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){s=e.screenX,u=e.screenY,l=E(r).clientWidth,c=E(r).clientHeight,f=c/l,a=t,t.startPos={x:S*t[0]+d,y:T*t[1]+x},m=k.scrollWidth,g=k.scrollHeight,o=r.cloneNode(!0),v.addClass(o,"mce-clonedresizable"),v.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,v.setStyles(o,{left:d,top:x,margin:0}),A(o,S,T),o.removeAttribute("data-mce-selected"),k.appendChild(o),v.bind(b,"mousemove",D),v.bind(b,"mouseup",N),w!==b&&(v.bind(w,"mousemove",D),v.bind(w,"mouseup",N)),i=v.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},l+" &times; "+c)}(e)})),t.elm=n,v.setStyles(n,{left:S*t[0]+d-n.offsetWidth/2,top:T*t[1]+x-n.offsetHeight/2})})):M(),r.setAttribute("data-mce-selected","1")},M=function(){I(),r&&r.removeAttribute("data-mce-selected"),rt(C,(function(t,e){var n=v.get("mceResizeHandle"+e);n&&(v.unbind(n),v.remove(n))}))},L=function(n){var r,o=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};d||e.removed||(y(v.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===n.type?n.target:t.getNode(),o(r=v.$(r).closest("table,img,figure.image,hr")[0],k)&&(B(),o(t.getStart(!0),r)&&o(t.getEnd(!0),r))?P(r):M())},R=function(t){return zg(function(t,e){for(;e&&e!==t;){if(Hg(e)||zg(e))return e;e=e.parentNode}return null}(e.getBody(),t))},I=function(){rt(C,(function(t){t.elm&&(v.unbind(t.elm),delete t.elm)}))},B=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};e.on("init",(function(){if(B(),ne.browser.isIE()||ne.browser.isEdge()){e.on("mousedown click",(function(t){var n=t.target,r=n.nodeName;d||!/^(TABLE|IMG|HR)$/.test(r)||R(n)||(2!==t.button&&e.selection.select(n,"TABLE"===r),"mousedown"===t.type&&e.nodeChanged())}));var t=function(t){var n=function(t){Li.setEditorTimeout(e,(function(){return e.selection.select(t)}))};if(R(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))};v.bind(k,"mscontrolselect",t),e.on("remove",(function(){return v.unbind(k,"mscontrolselect",t)}))}var n=Li.throttle((function(t){e.composing||L(t)}));e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",n),e.on("keyup compositionend",(function(t){r&&"TABLE"===r.nodeName&&n(t)})),e.on("hide blur",M),e.on("contextmenu longpress",T,!0)})),e.on("remove",I);return{isResizable:O,showResizeRect:P,hideResizeRect:M,updateResizeRect:L,destroy:function(){r=o=null}}},Ug=function(t,e,n){if(t&&t.hasOwnProperty(e)){var r=U(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}};var Wg=function(t){return!!t.select},Vg=function(t){return!(!t||!t.ownerDocument)&&_e(le.fromDom(t.ownerDocument),le.fromDom(t))},$g=function(t,e,n,r){var o,i,a=function(t,e){var n,r;return{selectorChangedWithUnbind:function(o,i){return n||(n={},r={},e.on("NodeChange",(function(e){var o=e.element,i=t.getParents(o,null,t.getRoot()),a={};se.each(n,(function(e,n){se.each(i,(function(o){if(t.is(o,n))return r[n]||(se.each(e,(function(t){t(!0,{node:o,selector:n,parents:i})})),r[n]=e),a[n]=e,!1}))})),se.each(r,(function(t,e){a[e]||(delete r[e],se.each(t,(function(t){t(!1,{node:o,selector:e,parents:i})})))}))}))),n[o]||(n[o]=[]),n[o].push(i),{unbind:function(){Ug(n,o,i),Ug(r,o,i)}}}}}(t,r).selectorChangedWithUnbind,s=function(t,e){return Rg(r,t,e)},u=function(t){var e=c();e.collapse(!!t),f(e)},l=function(){return e.getSelection?e.getSelection():e.document.selection},c=function(){var n,a,s,u=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;var c=e.document;if(null==c)return null;if(void 0!==r.bookmark&&!1===ph(r)){var f=nh(r);if(f.isSome())return f.map((function(t){return yp(r,[t])[0]})).getOr(c.createRange())}try{(n=l())&&!on(n.anchorNode)&&(a=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(t){}return(a=yp(r,[a])[0])||(a=c.createRange?c.createRange():c.body.createTextRange()),a.setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=t.getRoot(),a.setStart(s,0),a.setEnd(s,0)),o&&i&&(0===u(a.START_TO_START,a,o)&&0===u(a.END_TO_END,a,o)?a=i:(o=null,i=null)),a},f=function(t,e){var n;if(function(t){return!!t&&(!!Wg(t)||Vg(t.startContainer)&&Vg(t.endContainer))}(t)){var a=Wg(t)?t:null;if(a){i=null;try{a.select()}catch(t){}}else{var s=l();if(t=r.fire("SetSelectionRange",{range:t,forward:e}).range,s){i=t;try{s.removeAllRanges(),s.addRange(t)}catch(t){}!1===e&&s.extend&&(s.collapse(t.endContainer,t.endOffset),s.extend(t.startContainer,t.startOffset)),o=s.rangeCount>0?s.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!s.setBaseAndExtent||ne.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(n=t.startContainer.childNodes[t.startOffset])&&"IMG"===n.tagName&&(s.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),s.anchorNode===t.startContainer&&s.focusNode===t.endContainer||s.setBaseAndExtent(n,0,n,1)),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},d=function(){var e=l();if(!e||!e.anchorNode||!e.focusNode)return!0;var n=t.createRng();n.setStart(e.anchorNode,e.anchorOffset),n.collapse(!0);var r=t.createRng();return r.setStart(e.focusNode,e.focusOffset),r.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,r)<=0},h={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:u,setCursorLocation:function(e,n){var o=t.createRng();e?(o.setStart(e,n),o.setEnd(e,n),f(o),u(!1)):(Ic(t,o,r.getBody(),!0),f(o))},getContent:function(t){return kg(r,t)},setContent:s,getBookmark:function(t,e){return p.getBookmark(t,e)},moveToBookmark:function(t){return p.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return _.from(e).map((function(e){var r=t.nodeIndex(e),o=t.createRng();return o.setStart(e.parentNode,r),o.setEnd(e.parentNode,r+1),n&&(Ic(t,o,e,!0),Ic(t,o,e,!1)),o}))}(t,e,n).each(f),e},isCollapsed:function(){var t=c(),e=l();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:d,setNode:function(e){return s(t.getOuterHTML(e)),e},getNode:function(){return function(t,e){var n,r,o;if(!e)return t;r=e.startContainer,o=e.endContainer;var i=e.startOffset,a=e.endOffset;return n=e.commonAncestorContainer,!e.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?_g(r.nextSibling,!0):r.parentNode,o=0===a?_g(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n}(r.getBody(),c())},getSel:l,setRng:f,getRng:c,getStart:function(t){return wg(r.getBody(),c(),t)},getEnd:function(t){return xg(r.getBody(),c(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var o,i=[],a=t.getRoot();if(n=t.getParent(n||wg(a,e,e.collapsed),t.isBlock),r=t.getParent(r||xg(a,e,e.collapsed),t.isBlock),n&&n!==a&&i.push(n),n&&r&&n!==r){o=n;for(var s=new pi(n,a);(o=s.next())&&o!==r;)t.isBlock(o)&&i.push(o)}return r&&n!==r&&r!==a&&i.push(r),i}(t,c(),e,n)},normalize:function(){var e=c(),n=l();if(!(Ac(n).length>1)&&Bc(r)){var o=Mg(t,e);return o.each((function(t){f(t,d())})),o.getOr(e)}return e},selectorChanged:function(t,e){return a(t,e),h},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return function(t,e,n){(t.inline?hg:mg)(t,e,n)}(r,t,e)},placeCaretAt:function(t,e){return f(yg(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=c();return t.collapsed?Fs.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=o=i=null,m.destroy()}},p=Bg(h),m=qg(h,r);return h.bookmarkManager=p,h.controlSelection=m,h},Gg=function(t,e,n){t.addNodeFilter("font",(function(t){H(t,(function(t){var r=e.parse(t.attr("style")),o=t.attr("color"),i=t.attr("face"),a=t.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(r)),function(t,e){H(e,(function(e){t.attr(e,null)}))}(t,["color","face","size"])}))}))},Yg=function(t,e){var n=Ir();e.convert_fonts_to_spans&&Gg(t,n,se.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",(function(t){H(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))}(t,n)},Kg=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},Zg=function(t,e){var r;try{r=n.atob(e)}catch(t){return _.none()}for(var o=new Uint8Array(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);return _.some(new n.Blob([o],{type:t}))},Xg=function(t){return 0===t.indexOf("blob:")?function(t){return new Di((function(e,r){var o=function(){r("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var i=new n.XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200===this.status?e(this.response):o()},i.onerror=o,i.send()}catch(t){o()}}))}(t):0===t.indexOf("data:")?(e=t,new Di((function(t){var r=Kg(e),o=r.type,i=r.data;Zg(o,i).fold((function(){return t(new n.Blob([]))}),t)}))):null;var e},Jg=0,Qg=function(t){return(t||"blobid")+Jg++},tv=function(t,e,r,o){var i,a;if(0!==e.src.indexOf("blob:")){var s=Kg(e.src),u=s.data,l=s.type;i=u,(a=t.getByData(i,l))?r({image:e,blobInfo:a}):Xg(e.src).then((function(n){a=t.create(Qg(),n,i),t.add(a),r({image:e,blobInfo:a})}),(function(t){o(t)}))}else(a=t.getByUri(e.src))?r({image:e,blobInfo:a}):Xg(e.src).then((function(o){(function(t){return new Di((function(e){var r=new n.FileReader;r.onloadend=function(){e(r.result)},r.readAsDataURL(t)}))})(o).then((function(n){i=Kg(n).data,a=t.create(Qg(),o,i),t.add(a),r({image:e,blobInfo:a})}))}),(function(t){o(t)}))};function ev(t,e){var n={};return{findAll:function(r,o){o||(o=d(!0));var i=U(function(t){return t?tt(t.getElementsByTagName("img")):[]}(r),(function(e){var n=e.src;return!!ne.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!n||n===ne.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n)&&o(e):0===n.indexOf("data:")&&o(e)))))})),a=z(i,(function(t){if(void 0!==n[t.src])return new Di((function(e){n[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var r=new Di((function(n,r){tv(e,t,n,r)})).then((function(t){return delete n[t.image.src],t})).catch((function(e){return delete n[t.src],e}));return n[t.src]=r,r}));return Di.all(a)}}}var nv=function(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new Jc("br",1)).shortEnded=!0:r.empty().append(new Jc("#text",3)).value=" "},rv=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},ov=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)}))},iv=function(t,e){var r=e.blob_cache,o=function(t){var o=t.attr("src");(function(t){return t.attr("src")===ne.transparentSrc||t.attr("data-mce-placeholder")})(t)||function(t){return t.attr("data-mce-bogus")}(t)||function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return e?_.some({type:e[1],data:decodeURIComponent(e[2])}):_.none()}(o).filter((function(){return function(t,e){if(e.images_dataimg_filter){var r=new n.Image;return r.src=t.attr("src"),rt(t.attributes.map,(function(t,e){r.setAttribute(e,t)})),e.images_dataimg_filter(r)}return!0}(t,e)})).bind((function(t){var e=t.type,n=t.data;return _.from(r.getByData(n,e)).orThunk((function(){return Zg(e,n).map((function(t){var e=r.create(Qg(),t,n);return r.add(e),e}))}))})).each((function(e){t.attr("src",e.blobUri())}))};r&&t.addAttributeFilter("src",(function(t){return H(t,o)}))},av=se.makeMap,sv=se.each,uv=se.explode,lv=se.extend,cv=function(t,e){void 0===e&&(e=vr());var n={},r=[],o={},i={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a=function(t){var e,a,s;(a=t.name)in n&&((s=o[a])?s.push(t):o[a]=[t]),e=r.length;for(;e--;)(a=r[e].name)in t.attributes.map&&((s=i[a])?s.push(t):i[a]=[t]);return t},s={schema:e,addAttributeFilter:function(t,e){sv(uv(t),(function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(t,e){sv(uv(t),(function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:a,parse:function(s,u){var l,c,f,d,h,p,m,g,v,y=[];u=u||{},o={},i={};var b=lv(av("script,style,head,html,body,title,meta,param"),e.getBlockElements()),w=e.getNonEmptyElements(),x=e.children,_=t.validate,k=function(t){return!1===t?"":!0===t?"p":t}("forced_root_block"in u?u.forced_root_block:t.forced_root_block),C=e.getWhiteSpaceElements(),S=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,O=/^[ \t\r\n]+$/;g=C.hasOwnProperty(u.context)||C.hasOwnProperty(t.root_name);var A=function(t,e){var r,i=new Jc(t,e);return t in n&&((r=o[t])?r.push(i):o[t]=[i]),i},D=function(t){var n,r,o,i,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((o=n.value.replace(T,"")).length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},N=cf({validate:_,allow_html_data_urls:t.allow_html_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){v.append(A("#cdata",4)).value=t},text:function(t,e){var n;g||(t=t.replace(E," "),function(t,e){return t&&(e[t.name]||"br"===t.name)}(v.lastChild,b)&&(t=t.replace(S,""))),0!==t.length&&((n=A("#text",3)).raw=!!e,v.append(n).value=t)},comment:function(t){v.append(A("#comment",8)).value=t},pi:function(t,e){v.append(A(t,7)).value=e,D(v)},doctype:function(t){v.append(A("#doctype",10)).value=t,D(v)},start:function(t,n,o){var a,s,u,l,c=_?e.getElementRule(t):{};if(c){for((a=A(c.outputName||t,1)).attributes=n,a.shortEnded=o,v.append(a),(l=x[v.name])&&x[a.name]&&!l[a.name]&&y.push(a),s=r.length;s--;)(u=r[s].name)in n.map&&((p=i[u])?p.push(a):i[u]=[a]);b[t]&&D(a),o||(v=a),!g&&C[t]&&(g=!0)}},end:function(n){var r,o,i,a,s=_?e.getElementRule(n):{};if(s){if(b[n]&&!g){if((r=v.firstChild)&&3===r.type)if((o=r.value.replace(S,"")).length>0)r.value=o,r=r.next;else for(i=r.next,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.next,(0===o.length||O.test(o))&&(r.remove(),r=i),r=i;if((r=v.lastChild)&&3===r.type)if((o=r.value.replace(T,"")).length>0)r.value=o,r=r.prev;else for(i=r.prev,r.remove(),r=i;r&&3===r.type;)o=r.value,i=r.prev,(0===o.length||O.test(o))&&(r.remove(),r=i),r=i}if(g&&C[n]&&(g=!1),s.removeEmpty&&ov(e,w,C,v))return a=v.parent,b[v.name]?v.empty().remove():v.unwrap(),void(v=a);s.paddEmpty&&(function(t){return rv(t,"#text")&&" "===t.firstChild.value}(v)||ov(e,w,C,v))&&nv(t,u,b,v),v=v.parent}}},e),P=v=new Jc(u.context||t.root_name,11);if(N.parse(s,u.format),_&&y.length&&(u.context?u.invalid=!0:function(t){var n,r,o,i,s,u,l,c,f,d,h,p=av("tr,td,th,tbody,thead,tfoot,table"),m=e.getNonEmptyElements(),g=e.getWhiteSpaceElements(),v=e.getTextBlockElements(),y=e.getSpecialElements();for(n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(v[r.name]&&"li"===r.parent.name){for(d=r.next;d&&v[d.name];)d.name="li",d.fixed=!0,r.parent.insert(d,r.parent),d=d.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!e.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),s=u=a(i[0].clone()),f=0;f<i.length-1;f++){for(e.isValidChild(u.name,i[f].name)?(l=a(i[f].clone()),u.append(l)):l=u,c=i[f].firstChild;c&&c!==i[f+1];)h=c.next,l.append(c),c=h;u=l}ov(e,m,g,s)?o.insert(r,i[0],!0):(o.insert(s,i[0],!0),o.insert(r,s)),o=i[0],(ov(e,m,g,o)||rv(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if((d=r.prev)&&("ul"===d.name||"ul"===d.name)){d.append(r);continue}if((d=r.next)&&("ul"===d.name||"ul"===d.name)){d.insert(r,d.firstChild,!0);continue}r.wrap(a(new Jc("ul",1)));continue}e.isValidChild(r.parent.name,"div")&&e.isValidChild("div",r.name)?r.wrap(a(new Jc("div",1))):y[r.name]?r.empty().remove():r.unwrap()}}}(y)),k&&("body"===P.name||u.isRootContent)&&function(){var n,r,o=P.firstChild,i=function(t){t&&((o=t.firstChild)&&3===o.type&&(o.value=o.value.replace(S,"")),(o=t.lastChild)&&3===o.type&&(o.value=o.value.replace(T,"")))};if(e.isValidChild(P.name,k.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!b[o.name]&&!o.attr("data-mce-type")?(r||((r=A(k,1)).attr(t.forced_root_block_attrs),P.insert(r,o)),r.append(o)):(i(r),r=null),o=n;i(r)}}(),!u.invalid){for(m in o)if(o.hasOwnProperty(m)){for(p=n[m],d=(l=o[m]).length;d--;)l[d].parent||l.splice(d,1);for(c=0,f=p.length;c<f;c++)p[c](l,m,u)}for(c=0,f=r.length;c<f;c++)if((p=r[c]).name in i){for(d=(l=i[p.name]).length;d--;)l[d].parent||l.splice(d,1);for(d=0,h=p.callbacks.length;d<h;d++)p.callbacks[d](l,p.name,u)}}return P}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,r,o){var i,a,s,u,l,c,f,d,h=t.length,p=se.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getWhiteSpaceElements();for(p.body=1,i=0;i<h;i++)if(s=(a=t[i]).parent,p[a.parent.name]&&a===s.lastChild){for(l=a.prev;l;){if("span"!==(c=l.name)||"bookmark"!==l.attr("data-mce-type")){if("br"!==c)break;if("br"===c){a=null;break}}l=l.prev}a&&(a.remove(),ov(n,m,g,s)&&(f=n.getElementRule(s.name))&&(f.removeEmpty?s.remove():f.paddEmpty&&nv(e,o,p,s)))}else{for(u=a;s&&s.firstChild===u&&s.lastChild===u&&(u=s,!p[s.name]);)s=s.parent;u===s&&!0!==e.padd_empty_with_br&&((d=new Jc("#text",3)).value=" ",a.replace(d))}})),t.addAttributeFilter("href",(function(t){var n,r,o=t.length;if(!e.allow_unsafe_link_target)for(;o--;){var i=t[o];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",(n=i.attr("rel"),r=void 0,r=n?se.trim(n):"",/\b(noopener)\b/g.test(r)?r:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(r)))}})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,r,o,i=t.length;i--;)if("a"===(o=t[i]).name&&o.firstChild&&!o.attr("href")){r=o.parent,e=o.lastChild;do{n=e.prev,r.insert(e,o),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if("ul"===(n=(e=t[r]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var o=new Jc("li",1);o.attr("style","list-style-type: none"),e.wrap(o)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,r,o,i,a,s,u,l=t.length,c=n.getValidClasses();l--;){for(r=(e=t[l]).attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],u=!1,(s=c["*"])&&s[i]&&(u=!0),s=c[e.name],!u&&s&&s[i]&&(u=!0),u&&(a&&(a+=" "),a+=i);a.length||(a=null),e.attr("class",a)}})),iv(t,e)}(s,t),function(t,e){e.inline_styles&&Yg(t,e)}(s,t),s},fv=function(t,e,r){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,r)?function(t,e,r){var o,i,a=t.dom;e=e.cloneNode(!0);var s=n.document.implementation;return s.createHTMLDocument&&(o=s.createHTMLDocument(""),se.each("BODY"===e.nodeName?e.childNodes:[e],(function(t){o.body.appendChild(o.importNode(t,!0))})),e="BODY"!==e.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),function(t,e){t.fire("PreProcess",e)}(t,xt(xt({},r),{node:e})),i&&(a.doc=i),e}(t,e,r):e},dv=function(t,e,n){-1===se.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},hv=function(t,e,n,r,o){return function(t,e,n){return!e.no_events&&t?function(t,e){return t.fire("PostProcess",e)}(t,xt(xt({},e),{content:n})).content:n}(t,o,function(t,e,n){return ef(t,e).serialize(n)}(e,n,r))},pv=function(t,e){var n=["data-mce-selected"],r=e&&e.dom?e.dom:Vi.DOM,o=e&&e.schema?e.schema:vr(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var i=cv(t,o);!function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,r=t.length;r--;)(n=t[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,r){for(var o,i,a=t.length,s="data-mce-"+r,u=e.url_converter,l=e.url_converter_scope;a--;)void 0!==(i=(o=t[a]).attr(s))?(o.attr(r,i.length>0?i:null),o.attr(s,null)):(i=o.attr(r),"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):u&&(i=u.call(l,i,r,o.name)),o.attr(r,i.length>0?i:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)(n=(e=t[r]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r,o=t.length;o--;){if("bookmark"===(r=t[o]).attr("data-mce-type")&&!n.cleanup)_.from(r.firstChild).exists((function(t){return!Ra(t.value)}))?r.unwrap():r.remove()}})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=sr.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var r,o,i,a=t.length,s=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)o=(r=t[a]).firstChild?r.firstChild.value:"","script"===n?((i=r.attr("type"))&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+s(o)+"\n// ]]>")):"xhtml"===e.element_format&&o.length>0&&(r.firstChild.value="\x3c!--\n"+s(o)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var r,o=t.length;o--;)r=t[o],e.preserve_cdata&&0===r.value.indexOf("[CDATA[")?(r.name="#cdata",r.type=4,r.value=n.decode(r.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===r.value.indexOf("mce:protected ")&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(r.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,r=t.length;r--;)7===(n=t[r]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){H(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))}(i,t,r);return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:function(n,a){void 0===a&&(a={});var s=xt({format:"html"},a),u=fv(e,n,s),l=function(t,e,n){var r=Ia(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||Vn(le.fromDom(e))?r:se.trim(r)}(r,u,s),c=function(t,e,n){var r=n.selection?xt({forced_root_block:!1},n):n,o=t.parse(e,r);return function(t){var e=function(t){return t&&"br"===t.name},n=t.lastChild;if(e(n)){var r=n.prev;e(r)&&(n.remove(),r.remove())}}(o),o}(i,l,s);return"tree"===s.format?c:hv(e,t,o,c,s)},addRules:function(t){o.addValidElements(t)},setRules:function(t){o.setValidElements(t)},addTempAttr:p(dv,i,n),getTempAttrs:function(){return n},getNodeFilters:i.getNodeFilters,getAttributeFilters:i.getAttributeFilters}},mv=function(t,e){var n=pv(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}};function gv(t,e){var r={},o=function(t,r,o,i){var a=new n.XMLHttpRequest;a.open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var t,n,i=JSON.parse(a.responseText);if(i&&"string"==typeof i.location)r((t=e.basePath,n=i.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n));else o("Invalid JSON: "+a.responseText)}};var s=new n.FormData;s.append("file",t.blob(),t.filename()),a.send(s)},i=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},s=function(t,e){se.each(r[t],(function(t){t(e)})),delete r[t]},u=function(n,o){return n=se.grep(n,(function(e){return!t.isUploaded(e.blobUri())})),Di.all(se.map(n,(function(n){return t.isPending(n.blobUri())?function(t){var e=t.blobUri();return new Di((function(t){r[e]=r[e]||[],r[e].push(t)}))}(n):function(e,n,r){return t.markPending(e.blobUri()),new Di((function(o){var u,l=function(){};try{var c=function(){u&&(u.close(),l)};n(e,(function(n){c(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),i(e,n)),o(i(e,n))}),(function(n){c(),t.removeFailed(e.blobUri()),s(e.blobUri(),a(e,n)),o(a(e,n))}),(function(t){t<0||t>100||(u||(u=r()),u.progressBar.value(t))}))}catch(t){o(a(e,t.message))}}))}(n,e.handler,o)})))};return!1===P(e.handler)&&(e.handler=o),{upload:function(t,n){return e.url||e.handler!==o?u(t,n):new Di((function(t){t([])}))}}}var vv=0,yv=function(t){return t+vv+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e},bv=function(t){var e,r,o,i,a,s=function(){var t=[],e=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var e,r=t.id||yv("blobid"),o=t.name||r;return{id:d(r),name:d(o),filename:d(o+"."+(e=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.toLowerCase()]||"dat")),blob:d(t.blob),base64:d(t.base64),blobUri:d(t.blobUri||n.URL.createObjectURL(t.blob)),uri:d(t.uri)}},r=function(e){return $(t,e).getOrUndefined()},o=function(t){return r((function(e){return e.id()===t}))};return{create:function(t,n,r,o){if(T(t))return e({id:t,name:o,blob:n,base64:r});if(E(t))return e(t);throw new Error("Unknown input type")},add:function(e){o(e.id())||t.push(e)},get:o,getByUri:function(t){return r((function(e){return e.blobUri()===t}))},getByData:function(t,e){return r((function(n){return n.base64()===t&&n.blob().type===e}))},findFirst:r,removeByUri:function(e){t=U(t,(function(t){return t.blobUri()!==e||(n.URL.revokeObjectURL(t.blobUri()),!1)}))},destroy:function(){H(t,(function(t){n.URL.revokeObjectURL(t.blobUri())})),t=[]}}}(),u=(o={},i=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:a=function(t){return t in o},getResultUri:function(t){var e=o[t];return e?e.resultUri:null},isPending:function(t){return!!a(t)&&1===o[t].status},isUploaded:function(t){return!!a(t)&&2===o[t].status},markPending:function(t){o[t]=i(1,null)},markUploaded:function(t,e){o[t]=i(2,e)},removeFailed:function(t){delete o[t]},destroy:function(){o={}}}),l=[],c=function(e){return function(n){return t.selection?e(n):[]}},f=function(t,e,n){var r=0;do{-1!==(r=t.indexOf(e,r))&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1)}while(-1!==r);return t},h=function(t,e,n){return t=f(t,'src="'+e+'"','src="'+n+'"'),t=f(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},p=function(e,n){H(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=z(t.fragments,(function(t){return h(t,e,n)})):t.content=h(t.content,e,n)}))},m=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},g=function(n){return e||(e=gv(u,{url:mu(t),basePath:gu(t),credentials:vu(t),handler:yu(t)})),b().then(c((function(r){var o=z(r,(function(t){return t.blobInfo}));return e.upload(o,m).then(c((function(e){var o=z(e,(function(e,n){var o=r[n].blobInfo,i=r[n].image;return e.status&&function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")}(t)?(s.removeByUri(i.src),function(e,n){var r,o=t.convertURL(n,"src");p(e.src,n),t.$(e).attr({src:hu(t)?(r=n,r+(-1===r.indexOf("?")?"?":"&")+(new Date).getTime()):n,"data-mce-src":o})}(i,e.url)):e.error&&function(t,e){Wm(t,ta.translate(["Failed to upload image: {0}",e]))}(t,e.error),{element:i,status:e.status,uploadUri:e.url,blobInfo:o}}));return n&&n(o),o})))})))},v=function(e){if(du(t))return g(e)},y=function(e){return!1!==K(l,(function(t){return t(e)}))&&(0!==e.getAttribute("src").indexOf("data:")||function(t){return t.getParam("images_dataimg_filter",d(!0),"function")}(t)(e))},b=function(){return r||(r=ev(u,s)),r.findAll(t.getBody(),y).then(c((function(e){return e=U(e,(function(e){return"string"!=typeof e||(Wm(t,e),!1)})),H(e,(function(t){p(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},w=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var r=u.getResultUri(n);if(r)return'src="'+r+'"';var o=s.getByUri(n);return o||(o=V(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),o?'src="data:'+o.blob().type+";base64,"+o.base64()+'"':e}))};return t.on("SetContent",(function(){du(t)?v():b()})),t.on("RawSaveContent",(function(t){t.content=w(t.content)})),t.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=w(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){H(t,(function(t){var e=t.attr("src");if(!s.getByUri(e)){var n=u.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:s,addFilter:function(t){l.push(t)},uploadImages:g,uploadImagesAuto:v,scanForImages:b,destroy:function(){s.destroy(),u.destroy(),r=e=null}}},wv=function(t,e,n,r){var o=et(n.get()),i={},a={},s=U(dc(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));rt(r,(function(e,n){se.each(s,(function(r){return t.formatter.matchNode(r,n,{},e.similar)?(-1===o.indexOf(n)&&(H(e.callbacks,(function(t){t(!0,{node:r,format:n,parents:s})})),i[n]=e.callbacks),a[n]=e.callbacks,!1):!Th(t,r,n)&&void 0}))}));var u=xv(n.get(),a,e,s);n.set(xt(xt({},i),u))},xv=function(t,e,n,r){return ut(t,(function(t,o){return!!dt(e,o)||(H(t,(function(t){t(!1,{node:n,format:o,parents:r})})),!1)})).t},_v=function(t,e,n,r,o){return null===e.get()&&function(t,e){var n=Zi({});t.set({}),e.on("NodeChange",(function(r){wv(e,r.element,n,t.get())}))}(e,t),function(t,e,n,r){var o=t.get();H(e.split(","),(function(t){o[t]||(o[t]={similar:r,callbacks:[]}),o[t].callbacks.push(n)})),t.set(o)}(e,n,r,o),{unbind:function(){return function(t,e,n){var r=t.get();H(e.split(","),(function(t){r[t].callbacks=U(r[t].callbacks,(function(t){return t!==n})),0===r[t].callbacks.length&&delete r[t]})),t.set(r)}(e,n,r)}}};function kv(t){var e={},n=function(t,r){t&&("string"!=typeof t?se.each(t,(function(t,e){n(e,t)})):(O(r)||(r=[r]),se.each(r,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=r))};return n(function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,r){se.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return se.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e}(t.dom)),n(function(t){return t.getParam("formats")}(t)),{get:function(t){return t?e[t]:e},has:function(t){return dt(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}var Cv,Sv=se.each,Tv=Vi.DOM,Ev=function(t,e){var n,r,o,i=e&&e.schema||vr({}),a=function(t){r="string"==typeof t?{name:t,classes:[],attrs:{}}:t;var e=Tv.create(r.name);return function(t,e){e.classes.length&&Tv.addClass(t,e.classes.join(" ")),Tv.setAttribs(t,e.attrs)}(e,r),e},s=function(t,e,n){var r,o,u=e.length>0&&e[0],l=u&&u.name,c=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(e&&-1!==se.inArray(o,e)?e:o[0])}(t,l);if(c)l===c?(o=e[0],e=e.slice(1)):o=c;else if(u)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(r=a(o)).appendChild(t),n&&(r||(r=Tv.create("div")).appendChild(t),se.each(n,(function(e){var n=a(e);r.insertBefore(n,t)}))),s(r,e,o&&o.siblings)};return t&&t.length?(r=t[0],n=a(r),(o=Tv.create("div")).appendChild(s(n,t.slice(1),r.siblings)),o):""},Ov=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=se.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,o,i){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==se.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n},Av=function(t,e){var n,r,o,i="",a=function(t){var e=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return T(e)?e:""}(t);if(""===a)return"";var s=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}if("preview"in e){var u=ft(e,"preview");if(u.is(!1))return"";a=u.getOr(a)}n=e.block||e.inline||"span";var l,c=(l=e.selector)&&"string"==typeof l?(l=(l=l.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),se.map(l.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=se.map(t.split(/(?:~\+|~|\+)/),Ov),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[];c.length?(c[0].name||(c[0].name=n),n=e.selector,r=Ev(c,t)):r=Ev([n],t);var f=Tv.select(n,r)[0]||r.firstChild;return Sv(e.styles,(function(t,e){(t=s(t))&&Tv.setStyle(f,e,t)})),Sv(e.attributes,(function(t,e){(t=s(t))&&Tv.setAttrib(f,e,t)})),Sv(e.classes,(function(t){t=s(t),Tv.hasClass(f,t)||Tv.addClass(f,t)})),t.fire("PreviewFormats"),Tv.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),o=Tv.getStyle(t.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,Sv(a.split(" "),(function(e){var n=Tv.getStyle(f,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Tv.getStyle(t.getBody(),e,!0),"#ffffff"===Tv.toHex(n).toLowerCase())||"color"===e&&"#000000"===Tv.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===o)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*o+"px"}"border"===e&&n&&(i+="padding:0 2px;"),i+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),Tv.remove(r),i},Dv=function(t){var e=kv(t),n=Zi(null);return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),Uh(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,n,r){!function(t,e,n,r){om(t).formatter.apply(e,n,r)}(t,e,n,r)},remove:function(e,n,r,o){!function(t,e,n,r,o){om(t).formatter.remove(e,n,r,o)}(t,e,n,r,o)},toggle:function(e,n,r){!function(t,e,n,r){om(t).formatter.toggle(e,n,r)}(t,e,n,r)},match:p(Nh,t),matchAll:p(Ph,t),matchNode:p(Dh,t),canApply:p(Mh,t),formatChanged:p(_v,t,n),getCssText:p(Av,t)}},Nv=function(t){var e=Zi(_.none()),n=Zi(0),r=Zi(0),o={data:[],typing:!1,beforeChange:function(){!function(t,e,n){om(t).undoManager.beforeChange(e,n)}(t,n,e)},add:function(i,a){return function(t,e,n,r,o,i,a){return om(t).undoManager.addUndoLevel(e,n,r,o,i,a)}(t,o,r,n,e,i,a)},undo:function(){return function(t,e,n,r){return om(t).undoManager.undo(e,n,r)}(t,o,n,r)},redo:function(){return function(t,e,n){return om(t).undoManager.redo(e,n)}(t,r,o.data)},clear:function(){!function(t,e,n){om(t).undoManager.clear(e,n)}(t,o,r)},reset:function(){!function(t,e){om(t).undoManager.reset(e)}(t,o)},hasUndo:function(){return function(t,e,n){return om(t).undoManager.hasUndo(e,n)}(t,o,r)},hasRedo:function(){return function(t,e,n){return om(t).undoManager.hasRedo(e,n)}(t,o,r)},transact:function(e){return function(t,e,n,r){return om(t).undoManager.transact(e,n,r)}(t,o,n,e)},ignore:function(e){!function(t,e,n){om(t).undoManager.ignore(e,n)}(t,n,e)},extra:function(e,n){!function(t,e,n,r,o){om(t).undoManager.extra(e,n,r,o)}(t,o,r,e,n)}};return em(t)||function(t,e,n){var r=Zi(!1),o=function(t){Zp(e,!1,n),e.add({},t)};t.on("init",(function(){e.add()})),t.on("BeforeExecCommand",(function(t){var r=t.command.toLowerCase();"undo"!==r&&"redo"!==r&&"mcerepaint"!==r&&(Xp(e,n),e.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command.toLowerCase();"undo"!==e&&"redo"!==e&&"mcerepaint"!==e&&o(t)})),t.on("ObjectResizeStart cut",(function(){e.beforeChange()})),t.on("SaveContent ObjectResized blur",o),t.on("dragend",o),t.on("keyup",(function(n){var i=n.keyCode;n.isDefaultPrevented()||((i>=33&&i<=36||i>=37&&i<=40||45===i||n.ctrlKey)&&(o(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),r.get()&&e.typing&&!1===Yp(Wp(t),e.data[0])&&(!1===t.isDirty()&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),r.set(!1),t.nodeChanged()))})),t.on("keydown",(function(t){var i=t.keyCode;if(!t.isDefaultPrevented())if(i>=33&&i<=36||i>=37&&i<=40||45===i)e.typing&&o(t);else{var a=t.ctrlKey&&!t.altKey||t.metaKey;!(i<16||i>20)||224===i||91===i||e.typing||a||(e.beforeChange(),Zp(e,!0,n),e.add({},t),r.set(!0))}})),t.on("mousedown",(function(t){e.typing&&o(t)}));t.on("input",(function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t)||function(t){return"insertFromPaste"===t.inputType||"insertFromDrop"===t.inputType}(t))&&o(t)})),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()}))}(t,o,n),function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")}(t),o},Pv=[9,27,jg.HOME,jg.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,jg.DOWN,jg.UP,jg.LEFT,jg.RIGHT].concat(ne.browser.isFirefox()?[224]:[]),Mv=function(t){return"keydown"===t.type||"keyup"===t.type},Lv=function(t){var e=t.keyCode;return e===jg.BACKSPACE||e===jg.DELETE},Rv=function(t){var e=t.dom,n=cu(t),r=function(t){return t.getParam("placeholder",su.getAttrib(t.getElement(),"placeholder"),"string")}(t),o=function(i,a){if(!function(t){if(Mv(t)){var e=t.keyCode;return!Lv(t)&&(jg.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||F(Pv,e))}return!1}(i)){var s=t.getBody(),u=!function(t){return Mv(t)&&!(Lv(t)||"keyup"===t.type&&229===t.keyCode)}(i)&&function(t,e,n){if(Lf(le.fromDom(e),!1)){var r=""===n,o=e.firstElementChild;return!o||!t.getStyle(e.firstElementChild,"padding-left")&&!t.getStyle(e.firstElementChild,"padding-right")&&(r?!t.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(e,s,n);(""!==e.getAttrib(s,"data-mce-placeholder")!==u||a)&&(e.setAttrib(s,"data-mce-placeholder",u?r:null),e.setAttrib(s,"aria-placeholder",u?r:null),function(t,e){t.fire("PlaceholderToggle",{state:e})}(t,u),t.on(u?"keydown":"keyup",o),t.off(u?"keyup":"keydown",o))}};r&&t.on("init",(function(e){o(e,!0),t.on("change SetContent ExecCommand",o),t.on("paste",(function(e){return Li.setEditorTimeout(t,(function(){return o(e)}))}))}))},Iv=function(t){return void 0===t.touches||1!==t.touches.length?_.none():_.some(t.touches[0])},Bv=function(t){var e=Zi(_.none()),n=Zi(!1),r=oa((function(e){t.fire("longpress",xt(xt({},e),{type:"longpress"})),n.set(!0)}),400);t.on("touchstart",(function(t){Iv(t).each((function(o){r.cancel();var i={x:d(o.clientX),y:d(o.clientY),target:d(t.target)};r.throttle(t),n.set(!1),e.set(_.some(i))}))}),!0),t.on("touchmove",(function(o){r.cancel(),Iv(o).each((function(r){e.get().each((function(o){(function(t,e){var n=Math.abs(t.clientX-e.x()),r=Math.abs(t.clientY-e.y());return n>5||r>5})(r,o)&&(e.set(_.none()),n.set(!1),t.fire("longpresscancel"))}))}))}),!0),t.on("touchend touchcancel",(function(o){r.cancel(),"touchcancel"!==o.type&&e.get().filter((function(t){return t.target().isEqualNode(o.target)})).each((function(){n.get()?o.preventDefault():t.fire("tap",xt(xt({},o),{type:"tap"}))}))}),!0)},Fv=function(t,e){return t.hasOwnProperty(e.nodeName)},jv=function(t,e){return!!pn(e)||!!an(e)&&(!Fv(t,e)&&!Xl(e))},zv=function(t,e){if(pn(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||Fv(t,e.nextSibling)))return!0}return!1},Hv=function(t){var e,n,r,o=t.dom,i=t.selection,a=t.schema,s=a.getBlockElements(),u=i.getStart(),l=t.getBody(),c=cu(t);if(u&&an(u)&&c){var f=l.nodeName.toLowerCase();if(a.isValidChild(f,c.toLowerCase())&&!function(t,e,n){return j(jf(le.fromDom(n),le.fromDom(e)),(function(e){return Fv(t,e.dom())}))}(s,l,u)){var d=i.getRng(),h=d.startContainer,p=d.startOffset,m=d.endContainer,g=d.endOffset,v=ph(t);for(u=l.firstChild;u;)if(jv(s,u)){if(zv(s,u)){n=u,u=u.nextSibling,o.remove(n);continue}e||(e=o.create(c,fu(t)),u.parentNode.insertBefore(e,u),r=!0),n=u,u=u.nextSibling,e.appendChild(n)}else e=null,u=u.nextSibling;r&&v&&(d.setStart(h,p),d.setEnd(m,g),i.setRng(d),t.nodeChanged())}}},qv=function(t,e,n){var r=t?1:-1;return e.setRng(Fs(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Uv=function(t,e){var n=e.selection.getRng(),r=t?Fs.fromRangeEnd(n):Fs.fromRangeStart(n);return!!function(t){return P(t.selection.getSel().modify)}(e)&&(t&&Ua(r)?qv(!0,e.selection,r):!(t||!Wa(r))&&qv(!1,e.selection,r))},Wv=pn,Vv=function(t){return Wv(t)&&"\ufeff"===t.data[0]},$v=function(t){return Wv(t)&&"\ufeff"===t.data[t.data.length-1]},Gv=function(t){return t.ownerDocument.createTextNode("\ufeff")},Yv=function(t,e){return t?function(t){if(Wv(t.previousSibling))return $v(t.previousSibling)||t.previousSibling.appendData("\ufeff"),t.previousSibling;if(Wv(t))return Vv(t)||t.insertData(0,"\ufeff"),t;var e=Gv(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(Wv(t.nextSibling))return Vv(t.nextSibling)||t.nextSibling.insertData(0,"\ufeff"),t.nextSibling;if(Wv(t))return $v(t)||t.appendData("\ufeff"),t;var e=Gv(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},Kv=p(Yv,!0),Zv=p(Yv,!1),Xv=function(t,e){return pn(t.container())?Yv(e,t.container()):Yv(e,t.getNode())},Jv=function(t,e){var n=e.get();return n&&t.container()===n&&za(n)},Qv=function(t,e){return e.fold((function(e){ju(t.get());var n=Kv(e);return t.set(n),_.some(Fs(n,n.length-1))}),(function(e){return Fl(e).map((function(e){if(Jv(e,t))return Fs(t.get(),1);ju(t.get());var n=Xv(e,!0);return t.set(n),Fs(n,1)}))}),(function(e){return jl(e).map((function(e){if(Jv(e,t))return Fs(t.get(),t.get().length-1);ju(t.get());var n=Xv(e,!1);return t.set(n),Fs(n,n.length-1)}))}),(function(e){ju(t.get());var n=Zv(e);return t.set(n),_.some(Fs(n,1))}))},ty=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,ey=function(t,e){return ye(le.fromDom(e),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},ny=function(t){return"rtl"===Vi.DOM.getStyle(t,"direction",!0)||(e=t.textContent,ty.test(e));var e},ry=function(t,e,n){var r=function(t,e,n){return U(Vi.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return _.from(r[r.length-1])},oy=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?za(n)?pn(n.nextSibling)?Fs(n.nextSibling,0):Fs.after(n):Ua(e)?Fs(n,r+1):e:za(n)?pn(n.previousSibling)?Fs(n.previousSibling,n.previousSibling.data.length):Fs.before(n):Wa(e)?Fs(n,r-1):e},iy=p(oy,!0),ay=p(oy,!1),sy=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return _.none()},uy=Oi([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),ly=function(t,e){var n=nl(e,t);return n||t},cy=function(t,e,n){var r=iy(n),o=ly(e,r.container());return ry(t,o,r).fold((function(){return Il(o,r).bind(p(ry,t,o)).map((function(t){return uy.before(t)}))}),_.none)},fy=function(t,e){return null===Hl(t,e)},dy=function(t,e,n){return ry(t,e,n).filter(p(fy,e))},hy=function(t,e,n){var r=ay(n);return dy(t,e,r).bind((function(t){return Bl(t,r).isNone()?_.some(uy.start(t)):_.none()}))},py=function(t,e,n){var r=iy(n);return dy(t,e,r).bind((function(t){return Il(t,r).isNone()?_.some(uy.end(t)):_.none()}))},my=function(t,e,n){var r=ay(n),o=ly(e,r.container());return ry(t,o,r).fold((function(){return Bl(o,r).bind(p(ry,t,o)).map((function(t){return uy.after(t)}))}),_.none)},gy=function(t){return!1===ny(yy(t))},vy=function(t,e,n){return sy([cy,hy,py,my],[t,e,n]).filter(gy)},yy=function(t){return t.fold(h,h,h,h)},by=function(t){return t.fold(d("before"),d("start"),d("end"),d("after"))},wy=function(t){return t.fold(uy.before,uy.before,uy.after,uy.after)},xy=function(t){return t.fold(uy.start,uy.start,uy.end,uy.end)},_y=function(t,e,n,r,o,i){return Ka(ry(e,n,r),ry(e,n,o),(function(e,r){return e!==r&&function(t,e,n){var r=nl(e,t),o=nl(n,t);return r&&r===o}(n,e,r)?uy.after(t?e:r):i})).getOr(i)},ky=function(t,e){return t.fold(d(!0),(function(t){return r=e,!(by(n=t)===by(r)&&yy(n)===yy(r));var n,r}))},Cy=function(t,e){return t?e.fold(f(_.some,uy.start),_.none,f(_.some,uy.after),_.none):e.fold(_.none,f(_.some,uy.before),_.none,f(_.some,uy.end))},Sy=function(t,e,n,r){var o=oy(t,r),i=vy(e,n,o);return vy(e,n,o).bind(p(Cy,t)).orThunk((function(){return function(t,e,n,r,o){var i=oy(t,o);return Pl(t,n,i).map(p(oy,t)).fold((function(){return r.map(wy)}),(function(o){return vy(e,n,o).map(p(_y,t,e,n,i,o)).filter(p(ky,r))})).filter(gy)}(t,e,n,i,r)}))},Ty=(p(Sy,!1),p(Sy,!0),function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)}),Ey=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},Oy=function(t,e,n){return Qv(e,n).map((function(e){return Ty(t,e),n}))},Ay=function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=Fs.fromRangeStart(t.selection.getRng());Fs.isTextPosition(n)&&!1===function(t){return Ua(t)||Wa(t)}(n)&&(Ty(t,Fu(e.get(),n)),e.set(null))}},Dy=function(t,e,n){return function(){return!!Eu(t)&&function(t,e,n){var r=t.getBody(),o=Fs.fromRangeStart(t.selection.getRng()),i=p(ey,t);return Sy(n,i,r,o).bind((function(n){return Oy(t,e,n)}))}(t,e,n).isSome()}},Ny=function(t,e,n){return function(){return!!Eu(e)&&Uv(t,e)}},Py=function(t){var e=Zi(null),n=p(ey,t);return t.on("NodeChange",(function(r){!Eu(t)||ne.browser.isIE()&&r.initial||(function(t,e,n){var r=z(ha(le.fromDom(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),(function(t){return t.dom()})),o=U(r,t),i=U(n,t);H(X(o,i),p(Ey,!1)),H(X(i,o),p(Ey,!0))}(n,t.dom,r.parents),Ay(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var o=U(r,t);H(o,(function(r){var o=Fs.fromRangeStart(e.selection.getRng());vy(t,e.getBody(),o).bind((function(t){return Oy(e,n,t)}))}))}}(n,t,e,r.parents))})),e},My=p(Ny,!0),Ly=p(Ny,!1);!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(Cv||(Cv={}));var Ry,Iy=function(t,e){return t===Bs.Backwards?Z(e):e},By=function(t,e,n){return t===Bs.Forwards?e.next(n):e.prev(n)},Fy=function(t,e,n,r){return yn(r.getNode(e===Bs.Forwards))?Cv.Br:!1===rl(n,r)?Cv.Block:Cv.Wrap},jy=function(t,e,n,r){for(var o,i=El(n),a=r,s=[];a&&(o=By(e,i,a));){if(yn(o.getNode(!1)))return e===Bs.Forwards?{positions:Iy(e,s).concat([o]),breakType:Cv.Br,breakAt:_.some(o)}:{positions:Iy(e,s),breakType:Cv.Br,breakAt:_.some(o)};if(o.isVisible()){if(t(a,o)){var u=Fy(0,e,a,o);return{positions:Iy(e,s),breakType:u,breakAt:_.some(o)}}s.push(o),a=o}else a=o}return{positions:Iy(e,s),breakType:Cv.Eol,breakAt:_.none()}},zy=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var o=e(n,r).positions;return t===Bs.Backwards?o.concat(r):[r].concat(o)})).getOr([])},Hy=function(t,e){return V(t,(function(t,n){return t.fold((function(){return _.some(n)}),(function(r){return Ka(J(r.getClientRects()),J(n.getClientRects()),(function(t,o){var i=Math.abs(e-t.left);return Math.abs(e-o.left)<=i?n:r})).or(t)}))}),_.none())},qy=function(t,e){return J(e.getClientRects()).bind((function(e){return Hy(t,e.left)}))},Uy=p(jy,Is.isAbove,-1),Wy=p(jy,Is.isBelow,1),Vy=p(zy,-1,Uy),$y=p(zy,1,Wy),Gy=function(t){var e=function(e){return z(e,(function(e){return(e=Xa(e)).node=t,e}))};if(an(t))return e(t.getClientRects());if(pn(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}},Yy=function(t){return Y(t,Gy)};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Ry||(Ry={}));var Ky,Zy,Xy=function(t,e,n,r,o,i){var a=0,s=[],u=function(r){var i,u,c;for(c=Yy([r]),-1===t&&(c=c.reverse()),i=0;i<c.length;i++)if(u=c[i],!n(u,l)){if(s.length>0&&e(u,wt(s))&&a++,u.line=a,o(u))return!0;s.push(u)}},l=wt(i.getClientRects());if(!l)return s;var c=i.getNode();return u(c),function(t,e,n,r){for(;r=el(r,t,vs,e);)if(n(r))return}(t,r,u,c),s},Jy=p(Xy,Ry.Up,ts,es),Qy=p(Xy,Ry.Down,es,ts),tb=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},eb=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},nb=wn,rb=el,ob=function(t,e){return Math.abs(t.left-e)},ib=function(t,e){return Math.abs(t.right-e)},ab=function(t,e){return t>=e.left&&t<=e.right},sb=function(t,e){return t>=e.top&&t<=e.bottom},ub=function(t,e){return yt(t,(function(t,n){var r=Math.min(ob(t,e),ib(t,e)),o=Math.min(ob(n,e),ib(n,e));return ab(e,n)?n:ab(e,t)?t:o===r&&nb(n.node)||o<r?n:t}))},lb=function(t,e,n,r,o){var i=rb(r,t,vs,e,!o);do{if(!i||n(i))return}while(i=rb(i,t,vs,e))},cb=function(t,e,n){var r=Yy(function(t){return U(tt(t.getElementsByTagName("*")),Vu)}(t)),o=U(r,p(sb,n)),i=ub(o,e);if(i){var a=!fn(i.node);if((i=ub(function(t,e,n){void 0===n&&(n=!0);var r=[],o=function(t,n){var o=U(Yy([n]),(function(n){return!t(n,e)}));return r=r.concat(o),0===o.length};return r.push(e),lb(Ry.Up,t,p(o,ts),e.node,n),lb(Ry.Down,t,p(o,es),e.node,n),r}(t,i,a),e))&&Vu(i.node))return function(t,e){return{node:t.node,before:ob(t,e)<ib(t,e)}}(i,e)}return null},fb=bn,db=wn,hb=function(t,e,n,r,o){return e._selectionOverrides.showCaret(t,n,r,o)},pb=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)},mb=function(t,e,n){var r=cl(1,t.getBody(),e),o=Fs.fromRangeStart(r),i=o.getNode();if(db(i))return hb(1,t,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(db(a))return hb(1,t,a,!1,!1);var s=t.dom.getParent(o.getNode(),(function(t){return db(t)||fb(t)}));return db(s)?hb(1,t,s,!1,n):null},gb=function(t,e,n){if(!e||!e.collapsed)return e;var r=mb(t,e,n);return r||e},vb=wn,yb=rs,bb=function(t,e,n,r){var o=t===Bs.Forwards,i=o?Ef:Of;if(!r.collapsed){var a=yb(r);if(vb(a))return hb(t,e,a,t===Bs.Backwards,!0)}var s=function(t){return ja(t.startContainer)}(r),u=dl(t,e.getBody(),r);if(i(u))return pb(e,u.getNode(!o));var l=oy(o,n(u));if(!l)return s?r:null;if(i(l))return hb(t,e,l.getNode(!o),o,!0);var c=n(l);return c&&i(c)&&ml(l,c)?hb(t,e,c.getNode(!o),o,!0):s?gb(e,l.toRange(),!0):null},wb=function(t,e,n,r){var o,i,a,s;s=yb(r);var u=dl(t,e.getBody(),r),l=n(e.getBody(),tb(1),u),c=U(l,eb(1)),f=wt(u.getClientRects());if((Ef(u)||Sf(u))&&(s=u.getNode()),(Of(u)||Tf(u))&&(s=u.getNode(!0)),!f)return null;var d=f.left;if((o=ub(c,d))&&vb(o.node))return i=Math.abs(d-o.left),a=Math.abs(d-o.right),hb(t,e,o.node,i<a,!0);if(s){var h=function(t,e,n,r){var o,i,a,s,u,l=El(e),c=[],f=0,d=function(t){return wt(t.getClientRects())};1===t?(o=l.next,i=es,a=ts,s=Fs.after(r)):(o=l.prev,i=ts,a=es,s=Fs.before(r));var h=d(s);do{if(s.isVisible()&&!a(u=d(s),h)){if(c.length>0&&i(u,wt(c))&&f++,(u=Xa(u)).position=s,u.line=f,n(u))return c;c.push(u)}}while(s=o(s));return c}(t,e.getBody(),tb(1),s);if(o=ub(U(h,eb(1)),d))return gb(e,o.position.toRange(),!0);if(o=wt(U(h,eb(0))))return gb(e,o.position.toRange(),!0)}},xb=function(t,e,n){var r,o,i=El(t.getBody()),a=p(pl,i.next),s=p(pl,i.prev);if(n.collapsed&&function(t){return""!==cu(t)}(t)){if(!(r=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?a(Fs.fromRangeStart(n)):s(Fs.fromRangeStart(n)))||(o=function(t){var e=t.dom.create(cu(t));return(!ne.ie||ne.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(r).after(o):t.$(r).before(o),t.selection.select(o,!0),t.selection.collapse())}},_b=function(t,e){return function(){var n=function(t,e){var n,r=El(t.getBody()),o=p(pl,r.next),i=p(pl,r.prev),a=e?Bs.Forwards:Bs.Backwards,s=e?o:i,u=t.selection.getRng();return(n=bb(a,t,s,u))?n:(n=xb(t,a,u))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},kb=function(t,e){return function(){var n=function(t,e){var n,r=e?1:-1,o=e?Qy:Jy,i=t.selection.getRng();return(n=wb(r,t,o,i))?n:(n=xb(t,r,i))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Cb=function(t,e){return function(){var n=e?Fs.fromRangeEnd(t.selection.getRng()):Fs.fromRangeStart(t.selection.getRng()),r=e?Wy(t.getBody(),n):Uy(t.getBody(),n);return(e?Q(r.positions):J(r.positions)).filter(function(t){return function(e){return t?Of(e):Ef(e)}}(e)).fold(d(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}},Sb=function(t,e,n,r,o){var i=ha(le.fromDom(n),"td,th,caption").map((function(t){return t.dom()}));return function(t,e,n){return V(t,(function(t,r){return t.fold((function(){return _.some(r)}),(function(t){var o=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),i=Math.sqrt(Math.abs(r.x-e)+Math.abs(r.y-n));return _.some(i<o?r:t)}))}),_.none())}(U(function(t,e){return Y(e,(function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}}(Xa(e.getBoundingClientRect()),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,i),(function(t){return e(t,o)})),r,o).map((function(t){return t.cell}))},Tb=p(Sb,(function(t){return t.bottom}),(function(t,e){return t.y<e})),Eb=p(Sb,(function(t){return t.top}),(function(t,e){return t.y>e})),Ob=function(t,e){return J(e.getClientRects()).bind((function(e){return Tb(t,e.left,e.top)})).bind((function(t){return qy(jl(n=t).map((function(t){return Uy(n,t).positions.concat(t)})).getOr([]),e);var n}))},Ab=function(t,e){return Q(e.getClientRects()).bind((function(e){return Eb(t,e.left,e.top)})).bind((function(t){return qy(Fl(n=t).map((function(t){return[t].concat(Wy(n,t).positions)})).getOr([]),e);var n}))},Db=function(t,e){t.selection.setRng(e),gg(t,e)},Nb=function(t,e,n){var r=t(e,n);return function(t){return t.breakType===Cv.Wrap&&0===t.positions.length}(r)||!yn(n.getNode())&&function(t){return t.breakType===Cv.Br&&1===t.positions.length}(r)?!function(t,e,n){return n.breakAt.map((function(n){return t(e,n).breakAt.isSome()})).getOr(!1)}(t,e,r):r.breakAt.isNone()},Pb=p(Nb,Uy),Mb=p(Nb,Wy),Lb=function(t,e,n,r){var o=t.selection.getRng(),i=e?1:-1;if(Wu()&&function(t,e,n){var r=Fs.fromRangeStart(e);return Rl(!t,n).map((function(t){return t.isEqual(r)})).getOr(!1)}(e,o,n)){var a=hb(i,t,n,!e,!0);return Db(t,a),!0}return!1},Rb=function(t,e){var n=e.getNode(t);return an(n)&&"TABLE"===n.nodeName?_.some(n):_.none()},Ib=function(t,e,n){var r=Rb(!!e,n),o=!1===e;r.fold((function(){return Db(t,n.toRange())}),(function(r){return Rl(o,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Db(t,n.toRange())}),(function(o){return function(t,e,n,r){var o=cu(e);o?e.undoManager.transact((function(){var r=le.fromTag(o);Cn(r,fu(e)),qe(r,le.fromTag("br")),t?ze(le.fromDom(n),r):je(le.fromDom(n),r);var i=e.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),Db(e,i)})):Db(e,r.toRange())}(e,t,r,n)}))}))},Bb=function(t,e,n,r){var o=t.selection.getRng(),i=Fs.fromRangeStart(o),a=t.getBody();if(!e&&Pb(r,i)){var s=function(t,e,n){return Ob(e,n).orThunk((function(){return J(n.getClientRects()).bind((function(n){return Hy(Vy(t,Fs.before(e)),n.left)}))})).getOr(Fs.before(e))}(a,n,i);return Ib(t,e,s),!0}if(e&&Mb(r,i)){s=function(t,e,n){return Ab(e,n).orThunk((function(){return J(n.getClientRects()).bind((function(n){return Hy($y(t,Fs.after(e)),n.left)}))})).getOr(Fs.after(e))}(a,n,i);return Ib(t,e,s),!0}return!1},Fb=function(t,e){return function(){return _.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return _.from(t.dom.getParent(n,"table")).map((function(n){return Lb(t,e,n)}))})).getOr(!1)}},jb=function(t,e){return function(){return _.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return _.from(t.dom.getParent(n,"table")).map((function(r){return Bb(t,e,r,n)}))})).getOr(!1)}},zb=function(t){return F(["figcaption"],ce(t))},Hb=function(t){var e=n.document.createRange();return e.setStartBefore(t.dom()),e.setEndBefore(t.dom()),e},qb=function(t,e,n){n?qe(t,e):He(t,e)},Ub=function(t,e,n,r){return""===e?function(t,e){var n=le.fromTag("br");return qb(t,n,e),Hb(n)}(t,r):function(t,e,n,r){var o=le.fromTag(n),i=le.fromTag("br");return Cn(o,r),qe(o,i),qb(t,o,e),Hb(i)}(t,r,e,n)},Wb=function(t,e,n){return e?function(t,e){return Wy(t,e).breakAt.isNone()}(t.dom(),n):function(t,e){return Uy(t,e).breakAt.isNone()}(t.dom(),n)},Vb=function(t,e){var n=le.fromDom(t.getBody()),r=Fs.fromRangeStart(t.selection.getRng()),o=cu(t),i=fu(t);return function(t,e){var n=p(we,e);return ga(le.fromDom(t.container()),In,n).filter(zb)}(r,n).exists((function(){if(Wb(n,e,r)){var a=Ub(n,o,i,e);return t.selection.setRng(a),!0}return!1}))},$b=function(t,e){return function(){return!!t.selection.isCollapsed()&&Vb(t,e)}},Gb=function(t,e){return Y(function(t){return z(t,(function(t){return xt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:c},t)}))}(t),(function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,e)?[t]:[]}))},Yb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(null,e)}},Kb=function(t,e){return $(Gb(t,e),(function(t){return t.action()}))},Zb=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var r=Gt().os;Kb([{keyCode:jg.RIGHT,action:_b(t,!0)},{keyCode:jg.LEFT,action:_b(t,!1)},{keyCode:jg.UP,action:kb(t,!1)},{keyCode:jg.DOWN,action:kb(t,!0)},{keyCode:jg.RIGHT,action:Fb(t,!0)},{keyCode:jg.LEFT,action:Fb(t,!1)},{keyCode:jg.UP,action:jb(t,!1)},{keyCode:jg.DOWN,action:jb(t,!0)},{keyCode:jg.RIGHT,action:Dy(t,e,!0)},{keyCode:jg.LEFT,action:Dy(t,e,!1)},{keyCode:jg.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:My(t,e)},{keyCode:jg.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Ly(t,e)},{keyCode:jg.UP,action:$b(t,!1)},{keyCode:jg.DOWN,action:$b(t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)}))},Xb=function(t,e){return _e(t,e)?ga(e,(function(t){return jn(t)||Hn(t)}),function(t){return function(e){return we(t,le.fromDom(e.dom().parentNode))}}(t)):_.none()},Jb=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},Qb=function(t,e){return{from:t,to:e}},tw=function(t,e){var n=le.fromDom(t),r=le.fromDom(e.container());return Xb(n,r).map((function(t){return function(t,e){return{block:t,position:e}}(t,e)}))},ew=function(t,e,n){var r=tw(t,Fs.fromRangeStart(n)),o=r.bind((function(n){return Pl(e,t,n.position).bind((function(n){return tw(t,n).map((function(n){return function(t,e,n){return yn(n.position.getNode())&&!1===Lf(n.block)?Rl(!1,n.block.dom()).bind((function(r){return r.isEqual(n.position)?Pl(e,t,r).bind((function(e){return tw(t,e)})):_.some(n)})).getOr(n):n}(t,e,n)}))}))}));return Ka(r,o,Qb).filter((function(t){return function(t){return!1===we(t.from.block,t.to.block)}(t)&&function(t){return Te(t.from.block).bind((function(e){return Te(t.to.block).filter((function(t){return we(e,t)}))})).isSome()}(t)&&function(t){return!1===wn(t.from.block.dom())&&!1===wn(t.to.block.dom())}(t)}))},nw=function(t){var e=Ne(t);return G(e,In).fold((function(){return e}),(function(t){return e.slice(0,t)}))},rw=function(t){var e=nw(t);return H(e,Ve),e},ow=function(t,e){var n=zf(e,t);return $(n.reverse(),(function(t){return Lf(t)})).each(Ve)},iw=function(t,e,n,r){if(Lf(n))return If(n),Fl(n.dom());0===U(Ae(r),(function(t){return!Lf(t)})).length&&Lf(e)&&je(r,le.fromTag("br"));var o=Bl(n.dom(),Fs.before(r.dom()));return H(rw(e),(function(t){je(r,t)})),ow(t,e),o},aw=function(t,e,n){if(Lf(n))return Ve(n),Lf(e)&&If(e),Fl(e.dom());var r=jl(n.dom());return H(rw(e),(function(t){qe(n,t)})),ow(t,e),r},sw=function(t,e){return _e(e,t)?function(t,e){var n=zf(e,t);return _.from(n[n.length-1])}(e,t):_.none()},uw=function(t,e){Rl(t,e.dom()).map((function(t){return t.getNode()})).map(le.fromDom).filter(Fn).each(Ve)},lw=function(t,e,n){return uw(!0,e),uw(!1,n),sw(e,n).fold(p(aw,t,e,n),p(iw,t,e,n))},cw=function(t,e,n,r){return e?lw(t,r,n):lw(t,n,r)},fw=function(t,e){var n=le.fromDom(t.getBody()),r=function(t,e,n){return n.collapsed?ew(t,e,n):_.none()}(n.dom(),e,t.selection.getRng()).bind((function(t){return cw(n,e,t.from.block,t.to.block)}));return r.each((function(e){t.selection.setRng(e.toRange())})),r.isSome()},dw=function(t,e){var n=le.fromDom(e),r=p(we,t);return ma(n,Wn,r).isSome()},hw=function(t,e){var n=Bl(t.dom(),Fs.fromRangeStart(e)).isNone(),r=Il(t.dom(),Fs.fromRangeEnd(e)).isNone();return!function(t,e){return dw(t,e.startContainer)||dw(t,e.endContainer)}(t,e)&&n&&r},pw=function(t){var e=le.fromDom(t.getBody()),n=t.selection.getRng();return hw(e,n)?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return Ka(Xb(t,le.fromDom(n.startContainer)),Xb(t,le.fromDom(n.endContainer)),(function(r,o){return!1===we(r,o)&&(n.deleteContents(),cw(t,!0,r,o).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)}(e,t.selection)},mw=function(t,e){return!t.selection.isCollapsed()&&pw(t)},gw=function(t){return hl(t).exists(Fn)},vw=function(t,e,n){var r=U(zf(le.fromDom(n.container()),e),In),o=J(r).getOr(e);return Pl(t,o.dom(),n).filter(gw)},yw=function(t,e){return hl(e).exists(Fn)||vw(!0,t,e).isSome()},bw=function(t,e){return function(t){return _.from(t.getNode(!0)).map(le.fromDom)}(e).exists(Fn)||vw(!1,t,e).isSome()},ww=p(vw,!1),xw=p(vw,!0),_w=Oi([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),kw=function(t,e,n,r){var o=r.getNode(!1===e);return Xb(le.fromDom(t),le.fromDom(n.getNode())).map((function(t){return Lf(t)?_w.remove(t.dom()):_w.moveToElement(o)})).orThunk((function(){return _.some(_w.moveToElement(o))}))},Cw=function(t,e,n){return Pl(e,t,n).bind((function(r){return o=r.getNode(),Wn(le.fromDom(o))||Hn(le.fromDom(o))||function(t,e,n,r){var o=function(e){return Bn(le.fromDom(e))&&!rl(n,r,t)};return fl(!e,n).fold((function(){return fl(e,r).fold(d(!1),o)}),o)}(t,e,n,r)?_.none():e&&wn(r.getNode())||!1===e&&wn(r.getNode(!0))?kw(t,e,n,r):e&&Of(n)||!1===e&&Ef(n)?_.some(_w.moveToPosition(r)):_.none();var o}))},Sw=function(t,e,n){return function(t,e){var n=e.getNode(!1===t),r=t?"after":"before";return an(n)&&n.getAttribute("data-mce-caret")===r}(e,n)?function(t,e){return t&&wn(e.nextSibling)?_.some(_w.moveToElement(e.nextSibling)):!1===t&&wn(e.previousSibling)?_.some(_w.moveToElement(e.previousSibling)):_.none()}(e,n.getNode(!1===e)).fold((function(){return Cw(t,e,n)}),_.some):Cw(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return _.some(_w.remove(t))}),(function(t){return _.some(_w.moveToElement(t))}),(function(n){return rl(e,n,t)?_.none():_.some(_w.moveToPosition(n))}))}(t,n,e)}))},Tw=function(t,e){return _.from(Aw(t.getBody(),e))},Ew=function(t,e){var n=t.selection.getNode();return Tw(t,n).filter(wn).fold((function(){return function(t,e,n){var r=cl(e?1:-1,t,n),o=Fs.fromRangeStart(r),i=le.fromDom(t);return!1===e&&Of(o)?_.some(_w.remove(o.getNode(!0))):e&&Ef(o)?_.some(_w.remove(o.getNode())):!1===e&&Ef(o)&&bw(i,o)?ww(i,o).map((function(t){return _w.remove(t.getNode())})):e&&Of(o)&&yw(i,o)?xw(i,o).map((function(t){return _w.remove(t.getNode())})):Sw(t,e,o)}(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),Qf(t,e,le.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var r=e?Fs.before(n):Fs.after(n);return t.selection.setRng(r.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})).getOr(!1)}),(function(){return!0}))},Ow=function(t,e){var n=t.selection.getNode();return!!wn(n)&&Tw(t,n.parentNode).filter(wn).fold((function(){var n;return n=le.fromDom(t.getBody()),H(ha(n,".mce-offscreen-selection"),Ve),Qf(t,e,le.fromDom(t.selection.getNode())),Jb(t),!0}),(function(){return!0}))},Aw=function(t,e){for(;e&&e!==t;){if(bn(e)||wn(e))return e;e=e.parentNode}return null},Dw=function(t){var e,n=Aw(t.getBody(),t.selection.getNode());return bn(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(Fs.before(e).toRange())),!0},Nw=function(t,e){return t.selection.isCollapsed()?Ew(t,e):Ow(t,e)},Pw=function(t,e,n,r,o,i){var a=hb(r,t,i.getNode(!o),o,!0);if(e.collapsed){var s=e.cloneRange();o?s.setEnd(a.startContainer,a.startOffset):s.setStart(a.endContainer,a.endOffset),s.deleteContents()}else e.deleteContents();return t.selection.setRng(a),function(t,e){pn(e)&&0===e.data.length&&t.remove(e)}(t.dom,n),!0},Mw=function(t,e){return function(t,e){var n=t.selection.getRng();if(!pn(n.commonAncestorContainer))return!1;var r=e?Bs.Forwards:Bs.Backwards,o=El(t.getBody()),i=p(pl,o.next),a=p(pl,o.prev),s=e?i:a,u=e?Ef:Of,l=dl(r,t.getBody(),n),c=oy(e,s(l));if(!c||!ml(l,c))return!1;if(u(c))return Pw(t,n,l.getNode(),r,e,c);var f=s(c);return!!(f&&u(f)&&ml(c,f))&&Pw(t,n,l.getNode(),r,e,f)}(t,e)},Lw=function(t,e){return function(n){return Qv(e,n).map((function(e){return Ty(t,e),!0})).getOr(!1)}},Rw=function(t,e,r,o){var i=t.getBody(),a=p(ey,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,e){var r=n.document.createRange();return r.setStart(t.container(),t.offset()),r.setEnd(e.container(),e.offset()),r}(r,o)),t.execCommand("Delete"),vy(a,i,Fs.fromRangeStart(t.selection.getRng())).map(xy).map(Lw(t,e))})),t.nodeChanged()},Iw=function(t,e,n,r){var o=function(t,e){var n=nl(e,t);return n||t}(t.getBody(),r.container()),i=p(ey,t),a=vy(i,o,r);return a.bind((function(t){return n?t.fold(d(_.some(xy(t))),_.none,d(_.some(wy(t))),_.none):t.fold(_.none,d(_.some(wy(t))),_.none,d(_.some(xy(t))))})).map(Lw(t,e)).getOrThunk((function(){var s=Ml(n,o,r),u=s.bind((function(t){return vy(i,o,t)}));return a.isSome()&&u.isSome()?ry(i,o,r).map((function(e){return!!function(t){return Ka(Fl(t),jl(t),(function(e,n){var r=oy(!0,e),o=oy(!1,n);return Il(t,r).map((function(t){return t.isEqual(o)})).getOr(!0)})).getOr(!0)}(e)&&(Qf(t,n,le.fromDom(e)),!0)})).getOr(!1):u.bind((function(o){return s.map((function(o){return n?Rw(t,e,r,o):Rw(t,e,o,r),!0}))})).getOr(!1)}))},Bw=function(t,e,n){if(t.selection.isCollapsed()&&Eu(t)){var r=Fs.fromRangeStart(t.selection.getRng());return Iw(t,e,n,r)}return!1},Fw=function(t){return 1===Ne(t).length},jw=function(t,e,n,r){var o=p(Wh,e),i=z(U(r,o),(function(t){return t.dom()}));if(0===i.length)Qf(e,t,n);else{var a=function(t,e){var n=Bh(!1),r=Hh(e,n.dom());return je(le.fromDom(t),n),Ve(le.fromDom(t)),Fs(r,0)}(n.dom(),i);e.selection.setRng(a.toRange())}},zw=function(t,e){var n=le.fromDom(t.getBody()),r=le.fromDom(t.selection.getStart()),o=U(function(t,e){var n=zf(e,t);return G(n,In).fold(d(n),(function(t){return n.slice(0,t)}))}(n,r),Fw);return Q(o).map((function(n){var r,i=Fs.fromRangeStart(t.selection.getRng());return!(!function(t,e,n){return Ka(Fl(n),jl(n),(function(r,o){var i=oy(!0,r),a=oy(!1,o),s=oy(!1,e);return t?Il(n,s).map((function(t){return t.isEqual(a)&&e.isEqual(i)})).getOr(!1):Bl(n,s).map((function(t){return t.isEqual(i)&&e.isEqual(a)})).getOr(!1)})).getOr(!0)}(e,i,n.dom())||(r=n,zl(r.dom())&&Rh(r.dom())))&&(jw(e,t,n,o),!0)})).getOr(!1)},Hw=function(t,e){return!!t.selection.isCollapsed()&&zw(t,e)},qw=function(t,e){return!!t.selection.isCollapsed()&&function(t,e){var n=Fs.fromRangeStart(t.selection.getRng());return Pl(e,t.getBody(),n).filter((function(t){return e?kf(t):Cf(t)})).bind((function(t){return _.from(ol(e?0:-1,t))})).map((function(e){return t.selection.select(e),!0})).getOr(!1)}(t,e)},Uw=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},Ww=function(t,e){return(t||"table"===ce(e)?"margin":"padding")+("rtl"===En(e,"direction")?"-right":"-left")},Vw=function(t){var e=Gw(t);return!t.mode.isReadOnly()&&(e.length>1||function(t,e){return K(e,(function(e){var n=Ww(_u(t),e),r=An(e,n).map(Uw).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&r>0}))}(t,e))},$w=function(t){return zn(t)||Hn(t)},Gw=function(t){return U(z(t.selection.getSelectedBlocks(),le.fromDom),(function(t){return!$w(t)&&!function(t){return Te(t).map($w).getOr(!1)}(t)&&ga(t,(function(t){return bn(t.dom())||wn(t.dom())})).exists((function(t){return bn(t.dom())}))}))},Yw=function(t,e){var n=t.dom,r=t.selection,o=t.formatter,i=function(t){return t.getParam("indentation","40px","string")}(t),a=/[a-z%]+$/i.exec(i)[0],s=parseInt(i,10),u=_u(t),l=cu(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==l||n.getParent(r.getNode(),n.isBlock)||o.apply("div"),H(Gw(t),(function(t){!function(t,e,n,r,o,i){var a=Ww(n,le.fromDom(i));if("outdent"===e){var s=Math.max(0,Uw(i.style[a])-r);t.setStyle(i,a,s?s+o:"")}else{s=Uw(i.style[a])+r+o;t.setStyle(i,a,s)}}(n,e,u,s,a,t.dom())}))},Kw=function(t,e,n){return Ll(t,e,n,bf)},Zw=function(t,e){return $(zf(le.fromDom(e.container()),t),In)},Xw=function(t,e,n){return Kw(t,e.dom(),n).forall((function(t){return Zw(e,n).fold((function(){return!1===rl(t,n,e.dom())}),(function(r){return!1===rl(t,n,e.dom())&&_e(r,le.fromDom(t.container()))}))}))},Jw=function(t,e,n){return Zw(e,n).fold((function(){return Kw(t,e.dom(),n).forall((function(t){return!1===rl(t,n,e.dom())}))}),(function(e){return Kw(t,e.dom(),n).isNone()}))},Qw=p(Jw,!1),tx=p(Jw,!0),ex=p(Xw,!1),nx=p(Xw,!0),rx=function(t,e,n){if(t.selection.isCollapsed()&&Vw(t)){var r=t.dom,o=t.selection.getRng(),i=Fs.fromRangeStart(o),a=r.getParent(o.startContainer,r.isBlock);if(null!==a&&Qw(le.fromDom(a),i))return Yw(t,"outdent"),!0}return!1},ox=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){Kb([{keyCode:jg.BACKSPACE,action:Yb(rx,t,!1)},{keyCode:jg.BACKSPACE,action:Yb(Nw,t,!1)},{keyCode:jg.DELETE,action:Yb(Nw,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(Mw,t,!1)},{keyCode:jg.DELETE,action:Yb(Mw,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(Bw,t,e,!1)},{keyCode:jg.DELETE,action:Yb(Bw,t,e,!0)},{keyCode:jg.BACKSPACE,action:Yb(Td,t,!1)},{keyCode:jg.DELETE,action:Yb(Td,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(qw,t,!1)},{keyCode:jg.DELETE,action:Yb(qw,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(mw,t,!1)},{keyCode:jg.DELETE,action:Yb(mw,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(fw,t,!1)},{keyCode:jg.DELETE,action:Yb(fw,t,!0)},{keyCode:jg.BACKSPACE,action:Yb(Hw,t,!1)},{keyCode:jg.DELETE,action:Yb(Hw,t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(t,e){Kb([{keyCode:jg.BACKSPACE,action:Yb(Dw,t)},{keyCode:jg.DELETE,action:Yb(Dw,t)}],e)}(t,e)}))},ix=function(t,e){var n,r=e,o=t.dom,i=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var a=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(o.doc.createTextNode(" "),e.firstChild)}var s=o.createRng();if(e.normalize(),e.hasChildNodes()){for(var u=new pi(e,e);n=u.current();){if(pn(n)){s.setStart(n,0),s.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}r=n,n=u.next()}n||(s.setStart(r,0),s.setEnd(r,0))}else yn(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(s.setStartBefore(e),s.setEndBefore(e)):(s.setStartAfter(e),s.setEndAfter(e)):(s.setStart(e,0),s.setEnd(e,0));t.selection.setRng(s),gg(t,s)}},ax=function(t){return _.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},sx=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},ux=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},lx=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},cx=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!an(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},fx=function(t,e,n,r,o){var i=t.dom,a=t.selection.getRng();if(n!==t.getBody()){var s;ux(s=n)&&ux(s.parentNode)&&(o="LI");var u=o?e(o):i.create("BR");if(cx(n,r,!0)&&cx(n,r,!1))sx(n,"LI")?i.insertAfter(u,lx(n)):i.replace(u,n);else if(cx(n,r,!0))sx(n,"LI")?(i.insertAfter(u,lx(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(cx(n,r,!1))i.insertAfter(u,lx(n));else{n=lx(n);var l=a.cloneRange();l.setStartAfter(r),l.setEndAfter(n);var c=l.extractContents();"LI"===o&&function(t,e){return t.firstChild&&t.firstChild.nodeName===e}(c,"LI")?(u=c.firstChild,i.insertAfter(c,n)):(i.insertAfter(c,n),i.insertAfter(u,n))}i.remove(r),ix(t,u)}},dx=function(t,e){return e&&"A"===e.nodeName&&t.isEmpty(e)},hx=function(t){t.innerHTML='<br data-mce-bogus="1">'},px=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},mx=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},gx=function(t,e,n){return!1===pn(e)?n:t?1===n&&"\ufeff"===e.data.charAt(n-1)?0:n:n===e.data.length-1&&"\ufeff"===e.data.charAt(n)?e.data.length:n},vx=function(t,e){var n,r,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},yx=function(t,e,n){_.from(n.style).map(t.dom.parseStyle).each((function(n){var r=function(t){var e={},n=t.dom();if(xn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e}(le.fromDom(e)),o=xt(xt({},r),n);t.dom.setStyles(e,o)}));var r=_.from(n.class).map((function(t){return t.split(/\s+/)})),o=_.from(e.className).map((function(t){return U(t.split(/\s+/),(function(t){return""!==t}))}));Ka(r,o,(function(n,r){var o=U(r,(function(t){return!F(n,t)})),i=_t(n,o);t.dom.setAttrib(e,"class",i.join(" "))}));var i=["style","class"],a=lt(n,(function(t,e){return!F(i,e)}));t.dom.setAttribs(e,a)},bx=function(t,e){var n=cu(t);if(n&&n.toLowerCase()===e.tagName.toLowerCase()){var r=fu(t);yx(t,e,r)}},wx=function(t,e){var n,r,o,i,a,s,u,l,c,f,d=t.dom,h=t.schema,p=h.getNonEmptyElements(),m=t.selection.getRng(),g=function(e){var n,o,a,s=r,u=h.getTextInlineElements();if(a=n=e||"TABLE"===l||"HR"===l?d.create(e||c):i.cloneNode(!1),!1===function(t){return t.getParam("keep_styles",!0)}(t))d.setAttrib(n,"style",null),d.setAttrib(n,"class",null);else do{if(u[s.nodeName]){if(zl(s)||Xl(s))continue;o=s.cloneNode(!1),d.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((s=s.parentNode)&&s!==x);return bx(t,n),hx(a),n},v=function(t){var e,n,a=gx(t,r,o);if(pn(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===i&&f&&!t)return!0;if(t&&an(r)&&r===i.firstChild)return!0;if(px(r,"TABLE")||px(r,"HR"))return f&&!t||!f&&t;var s=new pi(r,i);for(pn(r)&&(t&&0===a?s.prev():t||a!==r.nodeValue.length||s.next());e=s.current();){if(an(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(pn(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?s.prev():s.next()}return!0},y=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(l)&&"HGROUP"!==_?g(c):g(),function(t){return t.getParam("end_container_on_empty_block",!1)}(t)&&mx(d,u)&&d.isEmpty(i)?a=d.split(u,i):d.insertAfter(a,i),ix(t,a)};Mg(d,m).each((function(t){m.setStart(t.startContainer,t.startOffset),m.setEnd(t.endContainer,t.endOffset)})),r=m.startContainer,o=m.startOffset,c=cu(t);var b=!(!e||!e.shiftKey),w=!(!e||!e.ctrlKey);an(r)&&r.hasChildNodes()&&(f=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=f&&pn(r)?r.nodeValue.length:0);var x=vx(d,r);if(x){(c&&!b||!c&&b)&&(r=function(t,e,n,r,o){var i,a,s,u,l,c,f=e||"P",d=t.dom,h=vx(d,r);if(!(a=d.getParent(r,d.isBlock))||!mx(d,a)){if(c=(a=a||h)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),bx(t,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==a;)u=u.parentNode;for(;u&&!d.isBlock(u);)s=u,u=u.previousSibling;if(s&&t.schema.isValidChild(c,f.toLowerCase())){for(i=d.create(f),bx(t,i),s.parentNode.insertBefore(i,s),u=s;u&&!d.isBlock(u);)l=u.nextSibling,i.appendChild(u),u=l;n.setStart(r,o),n.setEnd(r,o)}}return r}(t,c,m,r,o)),i=d.getParent(r,d.isBlock),u=i?d.getParent(i.parentNode,d.isBlock):null,l=i?i.nodeName.toUpperCase():"";var _=u?u.nodeName.toUpperCase():"";"LI"!==_||w||(i=u,u=u.parentNode,l=_),/^(LI|DT|DD)$/.test(l)&&d.isEmpty(i)?fx(t,g,u,i,c):c&&i===t.getBody()||(c=c||"P",ja(i)?(a=Ya(i),d.isEmpty(i)&&hx(i),bx(t,a),ix(t,a)):v()?y():v(!0)?(a=i.parentNode.insertBefore(g(),i),ix(t,px(i,"HR")?a:i)):((n=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,gx(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,gx(!1,t.endContainer,t.endOffset)),e}(m).cloneRange()).setEndAfter(i),function(t){H(da(le.fromDom(t),pe),(function(t){var e=t.dom();e.nodeValue=Ia(e.nodeValue)}))}(s=n.extractContents()),function(t){do{pn(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(s),a=s.firstChild,d.insertAfter(s,i),function(t,e,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(t.isBlock(o))return;an(o)&&!e[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)(!(o=i[r]).hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue||dx(t,o))&&t.remove(o)}}(d,p,a),function(t,e){e.normalize();var n=e.lastChild;n&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(d,i),d.isEmpty(i)&&hx(i),a.normalize(),d.isEmpty(a)?(d.remove(a),y()):(bx(t,a),ix(t,a))),d.setAttrib(a,"id",""),t.fire("NewBlock",{newBlock:a}))}},xx=function(t,e,n){var r=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),e.scrollIntoView(r),t.remove(r)},_x=function(t,e,n,r){var o=t.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),e.setRng(o)},kx=function(t,e){var n,r,o=t.selection,i=t.dom,a=o.getRng();Mg(i,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var s=a.startOffset,u=a.startContainer;if(1===u.nodeType&&u.hasChildNodes()){var l=s>u.childNodes.length-1;u=u.childNodes[Math.min(s,u.childNodes.length-1)]||u,s=l&&3===u.nodeType?u.nodeValue.length:0}var c=i.getParent(u,i.isBlock),f=c?i.getParent(c.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==d||h||(c=f),u&&3===u.nodeType&&s>=u.nodeValue.length&&(function(t,e,n){for(var r,o=new pi(e,n),i=t.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0}(t.schema,u,c)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),zs(i,a,n),xx(i,o,n),_x(i,o,n,r),t.undoManager.add()},Cx=function(t,e){var n=le.fromTag("br");je(le.fromDom(e),n),t.undoManager.add()},Sx=function(t,e){Tx(t.getBody(),e)||ze(le.fromDom(e),le.fromTag("br"));var n=le.fromTag("br");ze(le.fromDom(e),n),xx(t.dom,t.selection,n.dom()),_x(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},Tx=function(t,e){return n=Fs.after(e),!!yn(n.getNode())||Il(t,Fs.after(e)).map((function(t){return yn(t.getNode())})).getOr(!1);var n},Ex=function(t){return t&&"A"===t.nodeName&&"href"in t},Ox=function(t){return t.fold(d(!1),Ex,Ex,d(!1))},Ax=function(t,e){e.fold(c,p(Cx,t),p(Sx,t),c)},Dx=function(t,e){var n=function(t){var e=p(ey,t),n=Fs.fromRangeStart(t.selection.getRng());return vy(e,t.getBody(),n).filter(Ox)}(t);n.isSome()?n.each(p(Ax,t)):kx(t,e)},Nx=function(t,e){return ax(t).filter((function(t){return e.length>0&&ye(le.fromDom(t),e)})).isSome()},Px=Oi([{br:[]},{block:[]},{none:[]}]),Mx=function(t,e){return function(t){return Nx(t,function(t){return t.getParam("no_newline_selector","")}(t))}(t)},Lx=function(t){return function(e,n){return""===cu(e)===t}},Rx=function(t){return function(e,n){return function(t){return ax(t).filter((function(t){return Hn(le.fromDom(t))})).isSome()}(e)===t}},Ix=function(t,e){return function(n,r){return function(t){return ax(t).fold(d(""),(function(t){return t.nodeName.toUpperCase()}))}(n)===t.toUpperCase()===e}},Bx=function(t){return Ix("pre",t)},Fx=function(t){return function(e,n){return function(t){return t.getParam("br_in_pre",!0)}(e)===t}},jx=function(t,e){return function(t){return Nx(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))}(t)},zx=function(t,e){return e},Hx=function(t){var e=cu(t),n=function(t,e){var n,r,o=t.getRoot();for(n=e;n!==o&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o}(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},qx=function(t,e){return function(n,r){return V(t,(function(t,e){return t&&e(n,r)}),!0)?_.some(e):_.none()}},Ux=function(t,e){(function(t,e){return sy([qx([Mx],Px.none()),qx([Ix("summary",!0)],Px.br()),qx([Bx(!0),Fx(!1),zx],Px.br()),qx([Bx(!0),Fx(!1)],Px.block()),qx([Bx(!0),Fx(!0),zx],Px.block()),qx([Bx(!0),Fx(!0)],Px.br()),qx([Rx(!0),zx],Px.br()),qx([Rx(!0)],Px.block()),qx([Lx(!0),zx,Hx],Px.block()),qx([Lx(!0)],Px.br()),qx([jx],Px.br()),qx([Lx(!1),zx],Px.br()),qx([Hx],Px.block())],[t,!(!e||!e.shiftKey)]).getOr(Px.none())})(t,e).fold((function(){Dx(t,e)}),(function(){wx(t,e)}),c)},Wx=function(t){t.on("keydown",(function(e){e.keyCode===jg.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Ux(t,e)})))}(t,e)}))},Vx=function(t,e){var n=e.container(),r=e.offset();return pn(n)?(n.insertData(r,t),_.some(Is(n,r+t.length))):hl(e).map((function(n){var r=le.fromText(t);return e.isAtEnd()?ze(n,r):je(n,r),Is(r.dom(),t.length)}))},$x=p(Vx," "),Gx=p(Vx," "),Yx=function(t){return Is.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Kx=function(t,e){var n=U(zf(le.fromDom(e.container()),t),In);return J(n).getOr(t)},Zx=function(t,e){return Yx(e)?yf(e):yf(e)||Bl(Kx(t,e).dom(),e).exists(yf)},Xx=function(t,e){return Yx(e)?vf(e):vf(e)||Il(Kx(t,e).dom(),e).exists(vf)},Jx=function(t){return hl(t).bind((function(t){return ga(t,he)})).exists((function(t){return function(t){return F(["pre","pre-wrap"],t)}(En(t,"white-space"))}))},Qx=function(t,e){return function(t,e){return Bl(t.dom(),e).isNone()}(t,e)||function(t,e){return Il(t.dom(),e).isNone()}(t,e)||Qw(t,e)||tx(t,e)||bw(t,e)||yw(t,e)},t_=function(t,e){var n=function(t){var e=t.container(),n=t.offset();return pn(e)&&n<e.data.length?Is(e,n+1):t}(e);return!Jx(n)&&(tx(t,n)||nx(t,n)||yw(t,n)||Xx(t,n))},e_=function(t,e){return function(t,e){return!Jx(e)&&(Qw(t,e)||ex(t,e)||bw(t,e)||Zx(t,e))}(t,e)||t_(t,e)},n_=function(t,e){return Jl(t.charAt(e))},r_=function(t){var e=t.container();return pn(e)&&Mt(e.data," ")},o_=function(t){var e=t.data,n=function(t){var e=t.split("");return z(e,(function(t,n){return Jl(t)&&n>0&&n<e.length-1&&tc(e[n-1])&&tc(e[n+1])?" ":t})).join("")}(e);return n!==e&&(t.data=n,!0)},i_=function(t,e){return _.some(e).filter(r_).bind((function(e){var n=e.container();return function(t,e){var n=e.data,r=Is(e,0);return!(!n_(n,0)||e_(t,r))&&(e.data=" "+n.slice(1),!0)}(t,n)||o_(n)||function(t,e){var n=e.data,r=Is(e,n.length-1);return!(!n_(n,n.length-1)||e_(t,r))&&(e.data=n.slice(0,-1)+" ",!0)}(t,n)?_.some(e):_.none()}))},a_=function(t){var e=le.fromDom(t.getBody());t.selection.isCollapsed()&&i_(e,Is.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},s_=function(t,e){return function(n){return function(t,e){return!Jx(e)&&(Qx(t,e)||Zx(t,e)||Xx(t,e))}(t,n)?$x(e):Gx(e)}},u_=function(t){var e=Fs.fromRangeStart(t.selection.getRng()),n=le.fromDom(t.getBody());if(t.selection.isCollapsed()){var r=p(ey,t),o=Fs.fromRangeStart(t.selection.getRng());return vy(r,t.getBody(),o).bind(function(t){return function(e){return e.fold((function(e){return Bl(t.dom(),Fs.before(e))}),(function(t){return Fl(t)}),(function(t){return jl(t)}),(function(e){return Il(t.dom(),Fs.after(e))}))}}(n)).bind(s_(n,e)).exists(function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}}(t))}return!1},l_=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){Kb([{keyCode:jg.SPACEBAR,action:Yb(u_,t)}],e).each((function(t){e.preventDefault()}))}(t,e)}))},c_=function(t,e){e.hasAttribute("data-mce-caret")&&(Ya(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))},f_=function(t,e){var n=function(t){return ya(le.fromDom(t.getBody()),"*[data-mce-caret]").fold(d(null),(function(t){return t.dom()}))}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void c_(t,n)):void(qa(n)&&(c_(t,n),t.undoManager.add()))},d_=Gt().browser,h_=function(t){!function(t){var e=ra((function(){t.composing||a_(t)}),0);d_.isIE()&&(t.on("keypress",(function(t){e.throttle()})),t.on("remove",(function(t){e.cancel()})))}(t),t.on("input",(function(e){!1===e.isComposing&&a_(t)}))},p_=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){Kb([{keyCode:jg.END,action:Cb(t,!0)},{keyCode:jg.HOME,action:Cb(t,!1)}],e).each((function(t){e.preventDefault()}))}(t,e)}))},m_=function(t){var e=Py(t);!function(t){t.on("keyup compositionstart",p(f_,t))}(t),Zb(t,e),ox(t,e),Wx(t),l_(t),h_(t),p_(t)},g_=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var r=t.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};"nodechange"!==n.type&&Cg(o,e)||t.fire("SelectionChange"),e=o})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!ne.range&&t.selection.isCollapsed()||Bc(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&Bc(t)&&("IMG"===t.selection.getNode().nodeName?Li.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(e=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,(function(t){if(t===r)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(n.length===this.lastPath.length){for(e=n.length;e>=0&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),v_=function(t){!function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){H(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){H(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",T(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)},y_=function(t){return an(t)&&jn(le.fromDom(t))},b_=function(t){t.on("click",(function(e){e.detail>=3&&function(t){var e=t.selection.getRng(),n=Is.fromRangeStart(e),r=Is.fromRangeEnd(e);if(Is.isElementPosition(n)){var o=n.container();y_(o)&&Fl(o).each((function(t){return e.setStart(t.container(),t.offset())}))}if(Is.isElementPosition(r)){o=n.container();y_(o)&&jl(o).each((function(t){return e.setEnd(t.container(),t.offset())}))}t.selection.setRng(Od(e))}(t)}))},w_=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:e.top+o.pageYOffset-r.clientTop,left:e.left+o.pageXOffset-r.clientLeft}},x_=function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?w_(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=w_(t.getContentAreaContainer()),r=function(t){var e=t.getBody(),n=t.getDoc().documentElement,r={left:e.scrollLeft,top:e.scrollTop},o={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?r:o}(t);return{left:e.pageX-n.left+r.left,top:e.pageY-n.top+r.top}}return{left:e.pageX,top:e.pageY}}(t,e))},__=wn,k_=bn,C_=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},S_=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var r=$(e.dom.getParents(n.target),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}(__,k_)).getOr(null);if(s=e.getBody(),__(u=r)&&u!==s){var o=e.dom.getPos(r),i=e.getBody(),a=e.getDoc().documentElement;t.element=r,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?i.scrollWidth:a.offsetWidth)-2,t.maxY=(e.inline?i.scrollHeight:a.offsetHeight)-2,t.relX=n.pageX-o.x,t.relY=n.pageY-o.y,t.width=r.offsetWidth,t.height=r.offsetHeight,t.ghost=function(t,e,n,r){var o=e.cloneNode(!0);t.dom.setStyles(o,{width:n,height:r}),t.dom.setAttrib(o,"data-mce-selected",null);var i=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),t.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i}(e,r,t.width,t.height)}}var s,u}},T_=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!__(e)}(e,(s=e.selection,3===(u=s.getSel().getRangeAt(0).startContainer).nodeType?u.parentNode:u),t.element)){var r=(i=t.element,(a=i.cloneNode(!0)).removeAttribute("data-mce-selected"),a),o=e.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,e.undoManager.transact((function(){C_(t.element),e.insertContent(e.dom.getOuterHTML(r)),e._selectionOverrides.hideFakeCaret()})))}var i,a,s,u;E_(t)}},E_=function(t){t.dragging=!1,t.element=null,C_(t.ghost)},O_=function(t){var e={},r=Vi.DOM,o=n.document,i=S_(e,t),a=function(t,e){var n=Li.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(r){var o,i,a=Math.max(Math.abs(r.screenX-t.screenX),Math.abs(r.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&a>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var s=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,x_(e,r));o=t.ghost,i=e.getBody(),o.parentNode!==i&&i.appendChild(o),function(t,e,n,r,o,i){var a=0,s=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>o&&(a=e.pageX+n-o),e.pageY+r>i&&(s=e.pageY+r-i),t.style.width=n-a+"px",t.style.height=r-s+"px"}(t.ghost,s,t.width,t.height,t.maxX,t.maxY),n(r.clientX,r.clientY)}}}(e,t),s=T_(e,t),u=function(t,e){return function(){t.dragging&&e.fire("dragend"),E_(t)}}(e,t);t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s),r.bind(o,"mousemove",a),r.bind(o,"mouseup",u),t.on("remove",(function(){r.unbind(o,"mousemove",a),r.unbind(o,"mouseup",u)}))},A_=function(t){O_(t),function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(__(n)||__(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(t),function(t){return t.getParam("block_unsupported_drop",!0,"boolean")}(t)&&function(t){var e=function(t){if(!t.defaultPrevented){var e=t.dataTransfer;e&&(F(e.types,"Files")||e.files.length>0)&&t.preventDefault()}},r=function(n){sh(t,n.target)&&e(n)},o=function(){var o=Vi.DOM,i=t.dom,a=n.document,s=t.inline?t.getBody():t.getDoc(),u=["drop","dragover"];H(u,(function(t){o.bind(a,t,r),i.bind(s,t,e)})),t.on("remove",(function(){H(u,(function(t){o.unbind(a,t,r),i.unbind(s,t,e)}))}))};t.on("init",(function(){Li.setEditorTimeout(t,o,0)}))}(t)},D_=bn,N_=wn,P_=function(t,e){for(var n=t.getBody();e&&e!==n;){if(D_(e)||N_(e))return e;e=e.parentNode}return null},M_=function(t){var e,r=t.getBody(),o=Uu(t,r,(function(e){return t.dom.isBlock(e)}),(function(){return ph(t)})),i="sel-"+t.dom.uniqueId(),a=function(e){e&&t.selection.setRng(e)},s=function(){return t.selection.getRng()},u=function(e,n,r,i){return void 0===i&&(i=!0),t.fire("ShowCaret",{target:n,direction:e,before:r}).isDefaultPrevented()?null:(i&&t.selection.scrollIntoView(n,-1===e),o.show(r,n))},l=function(t){return Ha(t)||$a(t)||Ga(t)},c=function(t){return l(t.startContainer)||l(t.endContainer)},f=function(e){var n=t.schema.getShortEndedElements(),r=t.dom.createRng(),o=e.startContainer,i=e.startOffset,a=e.endContainer,s=e.endOffset;return dt(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),dt(n,a.nodeName.toLowerCase())?0===s?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,s),r},d=function(n,o){var a,s,l,f,d,h,m,g=t.$,v=t.dom;if(!n)return null;if(n.collapsed){if(!c(n))if(!1===o){if(d=dl(-1,r,n),Vu(d.getNode(!0)))return u(-1,d.getNode(!0),!1,!1);if(Vu(d.getNode()))return u(-1,d.getNode(),!d.isAtEnd(),!1)}else{if(d=dl(1,r,n),Vu(d.getNode()))return u(1,d.getNode(),!d.isAtEnd(),!1);if(Vu(d.getNode(!0)))return u(1,d.getNode(!0),!1,!1)}return null}l=n.startContainer,f=n.startOffset;var y=n.endOffset;if(3===l.nodeType&&0===f&&N_(l.parentNode)&&(l=l.parentNode,f=v.nodeIndex(l),l=l.parentNode),1!==l.nodeType)return null;if(y===f+1&&l===n.endContainer&&(a=l.childNodes[f]),!N_(a))return null;h=m=a.cloneNode(!0);var b=t.fire("ObjectSelected",{target:a,targetClone:h});if(b.isDefaultPrevented())return null;s=ya(le.fromDom(t.getBody()),"#"+i).fold((function(){return g([])}),(function(t){return g([t.dom()])})),h=b.targetClone,0===s.length&&(s=g('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i)).appendTo(t.getBody()),n=t.dom.createRng(),h===m&&ne.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(h),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(h)):(s.empty().append(" ").append(h).append(" "),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:v.getPos(a,t.getBody()).y}),s[0].focus();var w=t.selection.getSel();w.removeAllRanges(),w.addRange(n);var x=le.fromDom(a);return H(ha(le.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){we(x,t)||Tn(t,"data-mce-selected")})),t.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),e=a,p(),n},h=function(){e&&(e.removeAttribute("data-mce-selected"),ya(le.fromDom(t.getBody()),"#"+i).each(Ve),e=null),ya(le.fromDom(t.getBody()),"#"+i).each(Ve),e=null},p=function(){o.hide()};return ne.ceFalse&&function(){t.on("mouseup",(function(e){var n=s();n.collapsed&&Bm(t,e.clientX,e.clientY)&&a(mb(t,n,!1))})),t.on("click",(function(e){var n=P_(t,e.target);n&&(N_(n)&&(e.preventDefault(),t.focus()),D_(n)&&t.dom.isChildOf(n,t.selection.getNode())&&h())})),t.on("blur NewBlock",(function(){h()})),t.on("ResizeWindow FullscreenStateChanged",(function(){return o.reposition()}));var l=function(e,n){var r,o,i=t.dom.getParent(e,t.dom.isBlock),a=t.dom.getParent(n,t.dom.isBlock);return!(!i||!t.dom.isChildOf(i,a)||!1!==N_(P_(t,i)))||i&&(r=i,o=a,!(t.dom.getParent(r,t.dom.isBlock)===t.dom.getParent(o,t.dom.isBlock)))&&function(t){var e=El(t);if(!t.firstChild)return!1;var n=Fs.before(t.firstChild),r=e.next(n);return r&&!Ef(r)&&!Of(r)}(i)};!function(t){t.on("tap",(function(e){var n=P_(t,e.target);N_(n)&&(e.preventDefault(),d(pb(t,n)))}),!0)}(t),t.on("mousedown",(function(e){var n=e.target;if((n===r||"HTML"===n.nodeName||t.dom.isChildOf(n,r))&&!1!==Bm(t,e.clientX,e.clientY)){var o=P_(t,n);if(o)N_(o)?(e.preventDefault(),d(pb(t,o))):(h(),D_(o)&&e.shiftKey||Fg(e.clientX,e.clientY,t.selection.getRng())||(p(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Vu(n)){h(),p();var i=cb(r,e.clientX,e.clientY);if(i&&!l(e.target,i.node)){e.preventDefault();var s=u(1,i.node,i.before,!1);t.getBody().focus(),a(s)}}}})),t.on("keypress",(function(e){jg.modifierPressed(e)||(e.keyCode,N_(t.selection.getNode())&&e.preventDefault())})),t.on("GetSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}})),t.on("SetSelectionRange",(function(t){t.range=f(t.range);var e=d(t.range,t.forward);e&&(t.range=e)}));t.on("AfterSetSelectionRange",(function(e){var n,r=e.range;c(r)||"mcepastebin"===r.startContainer.parentNode.id||p(),n=r.startContainer.parentNode,t.dom.hasClass(n,"mce-offscreen-selection")||h()})),t.on("copy",(function(e){var n,r=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!ne.ie){var o=(n=t.dom.get(i))?n.getElementsByTagName("*")[0]:n;o&&(e.preventDefault(),r.clearData(),r.setData("text/html",o.outerHTML),r.setData("text/plain",o.outerText))}})),A_(t),function(t){var e=ra((function(){if(!t.removed&&t.getBody().contains(n.document.activeElement)&&t.selection.getRng().collapsed){var e=gb(t,t.selection.getRng(),!1);t.selection.setRng(e)}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))}(t)}(),{showCaret:u,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Ya(e),a(s()),t.selection.scrollIntoView(e))},hideFakeCaret:p,destroy:function(){o.destroy(),e=null}}},L_=function(t){var e,r,o,i=se.each,a=jg.BACKSPACE,s=jg.DELETE,u=t.dom,l=t.selection,c=t.parser,f=ne.gecko,d=ne.ie,h=ne.webkit,p=d?"Text":"URL",m=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},g=function(t){return t.isDefaultPrevented()},v=function(){t.shortcuts.add("meta+a",null,"SelectAll")},y=function(){t.on("keydown",(function(t){if(!g(t)&&t.keyCode===a&&l.isCollapsed()&&0===l.getRng().startOffset){var e=l.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},b=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if(ne.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))};return t.on("keydown",(function(e){var n,r;if(!g(e)&&e.keyCode===jg.BACKSPACE){var o=(n=l.getRng()).startContainer,i=n.startOffset,a=u.getRoot();if(r=o,n.collapsed&&0===i){for(;r&&r.parentNode&&r.parentNode.firstChild===r&&r.parentNode!==a;)r=r.parentNode;"BLOCKQUOTE"===r.tagName&&(t.formatter.toggle("blockquote",null,r),(n=u.createRng()).setStart(o,0),n.setEnd(o,0),l.setRng(n))}}})),e=function(t){var e=u.create("body"),n=t.cloneContents();return e.appendChild(n),l.serializer.serialize(e,{format:"html"})},t.on("keydown",(function(n){var r,o,i=n.keyCode;if(!g(n)&&(i===s||i===a)){if(r=t.selection.isCollapsed(),o=t.getBody(),r&&!u.isEmpty(o))return;if(!r&&!function(n){var r=e(n),o=u.createRng();return o.selectNode(t.getBody()),r===e(o)}(t.selection.getRng()))return;n.preventDefault(),t.setContent(""),o.firstChild&&u.isBlock(o.firstChild)?t.selection.setCursorLocation(o.firstChild,0):t.selection.setCursorLocation(o,0),t.nodeChanged()}})),ne.windowsPhone||t.on("keyup focusin mouseup",(function(t){jg.modifierPressed(t)||l.normalize()}),!0),h&&(t.inline||u.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=l.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Ha(n.startContainer))return;l.placeCaretAt(e.clientX,e.clientY)}else l.setRng(n)})),t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==u.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&u.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),l.select(n))})),cu(t)&&t.on("init",(function(){m("DefaultParagraphSeparator",cu(t))})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))})),y(),c.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),ne.iOS?(t.inline||t.on("keydown",(function(){n.document.activeElement===n.document.body&&t.getWin().focus()})),b(),t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),ne.ie>=11&&(b(),y()),ne.ie&&(v(),m("AutoUrlDetect",!1),t.on("dragstart",(function(e){!function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&l.select(e.target),(n=t.selection.getContent()).length>0&&(r="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(p,r)))}(e)})),t.on("drop",(function(e){if(!g(e)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(p))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(e);if(n&&n.id!==t.id){e.preventDefault();var r=yg(e.x,e.y,t.getDoc());l.setRng(r),o=n.html,i=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:o,internal:i}):t.execCommand("mceInsertContent",!1,o)}}var o,i}))),f&&(t.on("keydown",(function(e){if(!g(e)&&e.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return u.remove(n),void e.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(u.remove(r),e.preventDefault())}}})),n.Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!g(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Li.setEditorTimeout(t,(function(){n.focus()}))}})),r=function(){var e=u.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==t.getBody()&&(u.setAttrib(n,"style",null),i(e,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}},o=function(){return!l.isCollapsed()&&u.getParent(l.getStart(),u.isBlock)!==u.getParent(l.getEnd(),u.isBlock)},t.on("keypress",(function(e){var n;if(!g(e)&&(8===e.keyCode||46===e.keyCode)&&o())return n=r(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1})),u.bind(t.getDoc(),"cut",(function(e){var n;!g(e)&&o()&&(n=r(),Li.setEditorTimeout(t,(function(){n()})))})),function(t){return t.getParam("readonly")}(t)||t.on("BeforeExecCommand mousedown",(function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),ku(t)||m("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||i(u.select("a"),(function(t){var e=t.parentNode,n=u.getRoot();if(e.lastChild===t){for(;e&&!u.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}u.add(e,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),ne.mac&&t.on("keydown",(function(e){!jg.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})),y()),{refreshContentEditable:function(){},isHidden:function(){if(!f||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},R_=Vi.DOM,I_=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},B_=function(t){return lt(t,(function(t){return!1===N(t)}))},F_=function(t){var e=t.settings,n=t.editorUpload.blobCache;return B_({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:I_(t),validate:!0,blob_cache:n,images_dataimg_filter:e.images_dataimg_filter})},j_=function(t){var e=t.dom.getRoot();t.inline||Bc(t)&&t.selection.getStart(!0)!==e||Fl(e).each((function(e){var n=e.getNode(),r=fn(n)?Fl(n).getOr(e):e;ne.browser.isIE()?function(t,e){var n=le.fromDom(t.getBody()),r=(Xd(t)?_.from(e):_.none()).map(Jd).filter(Zd(n));t.bookmark=r.isSome()?r:t.bookmark}(t,r.toRange()):t.selection.setRng(r.toRange())}))},z_=function(t){t.bindPendingEventDelegates(),t.initialized=!0,function(t){t.fire("Init")}(t),t.focus(!0),j_(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&Li.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)}(t)},H_=function(t,e){var n=t.settings,r=t.getDoc(),o=t.getBody();n.browser_spellcheck||n.gecko_spellcheck||(r.body.spellcheck=!1,R_.setAttrib(o,"spellcheck","false")),t.quirks=L_(t),function(t){t.fire("PostRender")}(t);var i=function(t){return t.getParam("directionality",ta.isRtl()?"rtl":void 0)}(t);if(void 0!==i&&(o.dir=i),n.protect&&t.on("BeforeSetContent",(function(t){se.each(n.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),!1===e&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),t.contentStyles.length>0){var a="";se.each(t.contentStyles,(function(t){a+=t+"\r\n"})),t.dom.addStyle(a)}(function(t){return t.inline?R_.styleSheetLoader:t.dom.styleSheetLoader})(t).loadAll(t.contentCSS,(function(e){z_(t)}),(function(e){z_(t)})),n.content_style&&function(t,e){var n=le.fromDom(t.getDoc().head),r=le.fromTag("style");kn(r,"type","text/css"),qe(r,le.fromText(e)),qe(n,r)}(t,n.content_style)},q_=function(t,e){var r=t.settings,o=t.getElement(),i=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(i.open(),i.write(t.iframeHTML),i.close()),t.inline&&(R_.addClass(o,"mce-content-body"),t.contentDocument=i=n.document,t.contentWindow=n.window,t.bodyElement=o,t.contentAreaContainer=o);var a=t.getBody();a.disabled=!0,t.readonly=!!r.readonly,t.readonly||(t.inline&&"static"===R_.getStyle(a,"position",!0)&&(a.style.position="relative"),a.contentEditable=t.getParam("content_editable_state",!0)),a.disabled=!1,t.editorUpload=bv(t),t.schema=vr(r),t.dom=Vi(i,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:bu(t),referrerPolicy:wu(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(t){var e=cv(F_(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var r,o,i=e.length,a=t.dom,s="data-mce-"+n;i--;)if((o=(r=e[i]).attr(n))&&!r.attr(s)){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?((o=a.serializeStyle(a.parseStyle(o),r.name)).length||(o=null),r.attr(s,o),r.attr(n,o)):"tabindex"===n?(r.attr(s,o),r.attr(n,null)):r.attr(s,t.convertURL(o,n,r.name))}})),e.addNodeFilter("script",(function(t){for(var e=t.length;e--;){var n=t[e],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}})),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",(function(e){for(var n=e.length;n--;){var r=e[n];r.type=8,r.name="#comment",r.value="[CDATA["+t.dom.encode(r.value)+"]]"}})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n=e.length,r=t.schema.getNonEmptyElements();n--;){var o=e[n];o.isEmpty(r)&&0===o.getAll("br").length&&(o.append(new Jc("br",1)).shortEnded=!0)}})),e}(t),t.serializer=mv(function(t){var e=t.settings;return xt(xt({},F_(t)),B_({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))}(t),t),t.selection=$g(t.dom,t.getWin(),t.serializer,t),t.annotator=$c(t),t.formatter=Dv(t),t.undoManager=Nv(t),t._nodeChangeDispatcher=new g_(t),t._selectionOverrides=M_(t),Bv(t),v_(t),em(t)||b_(t),function(t){em(t)||m_(t)}(t),function(t){cu(t)&&t.on("NodeChange",p(Hv,t))}(t),Rv(t),function(t){t.fire("PreInit")}(t),nm(t).fold((function(){H_(t,!1)}),(function(e){t.setProgressState(!0),e.then((function(e){t.setProgressState(!1),H_(t,e)}))}))},U_=Vi.DOM,W_=function(t){var e=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(t)+"<html><head>";(function(t){return t.getParam("document_base_url","")})(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=function(t){return uu(t,"body_id","tinymce")}(t),r=function(t){return uu(t,"body_class","")}(t);return lu(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+lu(t)+'" />'),e+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+t.id+'"><br></body></html>'},V_=function(t,e){var r=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),o=function(t,e,n,r){var o=le.fromTag("iframe");return Cn(o,r),Cn(o,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),la(o,"tox-edit-area__iframe"),o}(t.id,r,e.height,function(t){return t.getParam("iframe_attrs",{})}(t)).dom();o.onload=function(){o.onload=null,t.fire("load")};var i=function(t,e){if(n.document.domain!==n.window.location.hostname&&ne.browser.isIE()){var r=yv("mce");t[r]=function(){q_(t)};var o='javascript:(function(){document.open();document.domain="'+n.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return U_.setAttrib(e,"src",o),!0}return!1}(t,o);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=o,t.iframeHTML=W_(t),U_.add(e.iframeContainer,o),i},$_=Vi.DOM,G_=function(t,e,n){var r=zm.get(n),o=zm.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=se.trim(n),r&&-1===se.inArray(e,n)){if(se.each(zm.dependencies(n),(function(n){G_(t,e,n)})),t.plugins[n])return;try{var i=new r(t,o,t.$);t.plugins[n]=i,i.init&&(i.init(t,o),e.push(n))}catch(e){!function(t,e,n){var r=ta.translate(["Failed to initialize plugin: {0}",e]);Ym(r,n),Wm(t,r)}(t,n,e)}}},Y_=function(t){return t.replace(/^\-/,"")},K_=function(t){return{editorContainer:t,iframeContainer:t}},Z_=function(t){var e=t.getElement();return t.inline?K_(null):function(t){var e=$_.create("div");return $_.insertAfter(e,t),K_(e)}(e)},X_=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,T(Su(t))?function(t){return t.theme.renderUI()}(t):P(Su(t))?function(t){var e=t.getElement(),n=Su(t)(t,e);return n.editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||t.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||t.id+"_iframecontainer"),n.height=n.iframeHeight?n.iframeHeight:e.offsetHeight,n}(t):Z_(t)},J_=function(t){t.fire("ScriptsLoaded"),function(t){var e=se.trim(pu(t)),n=t.ui.registry.getAll().icons,r=xt(xt({},Dm.get("default").icons),Dm.get(e).icons);rt(r,(function(e,r){dt(n,r)||t.ui.registry.addIcon(r,e)}))}(t),function(t){var e=Su(t);if(T(e)){t.settings.theme=Y_(e);var n=Hm.get(e);t.theme=new n(t,Hm.urls[e]),t.theme.init&&t.theme.init(t,Hm.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(t),function(t){var e=[];se.each(Au(t).split(/[ ,]/),(function(n){G_(t,e,Y_(n))}))}(t);var e=X_(t);return t.editorContainer=e.editorContainer?e.editorContainer:null,function(t){t.contentCSS=t.contentCSS.concat(Km(t))}(t),t.inline?q_(t):function(t,e){var n=V_(t,e);e.editorContainer&&(U_.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=U_.isHidden(e.editorContainer)),t.getElement().style.display="none",U_.setAttrib(t.id,"aria-hidden","true"),n||q_(t)}(t,e)},Q_=Vi.DOM,tk=function(t){return"-"===t.charAt(0)},ek=function(t,e){var n=xu(e),r=function(t){return t.getParam("language_url","","string")}(e);if(!1===ta.hasCode(n)&&"en"!==n){var o=""!==r?r:e.editorManager.baseURL+"/langs/"+n+".js";t.add(o,c,void 0,(function(){!function(t,e,n){Vm(t,"LanguageLoadError",$m("language",e,n))}(e,o,n)}))}},nk=function(t,e,n){return _.from(e).filter((function(t){return t.length>0&&!Dm.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:_.some(e)}}))},rk=function(t,e,n){var r=nk(e,"default",n),o=function(t){return _.from(function(t){return t.getParam("icons_url","","string")}(t)).filter((function(t){return t.length>0})).map((function(t){return{url:t,name:_.none()}}))}(e).orThunk((function(){return nk(e,pu(e),"")}));H(function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e}([r,o]),(function(n){t.add(n.url,c,void 0,(function(){!function(t,e,n){Vm(t,"IconsLoadError",$m("icons",e,n))}(e,n.url,n.name.getOrUndefined())}))}))},ok=function(t,e){var n=Ki.ScriptLoader;!function(t,e,n,r){var o=Su(e);if(T(o)){if(!tk(o)&&!Hm.urls.hasOwnProperty(o)){var i=function(t){return t.getParam("theme_url")}(e);i?Hm.load(o,e.documentBaseURI.toAbsolute(i)):Hm.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue((function(){Hm.waitFor(o,r)}))}else r()}(n,t,e,(function(){ek(n,t),rk(n,t,e),function(t,e){se.each(function(t){return t.getParam("external_plugins")}(t),(function(e,n){zm.load(n,e,c,void 0,(function(){Gm(t,e,n)})),t.settings.plugins+=" "+n})),se.each(Au(t).split(/[ ,]/),(function(n){if((n=se.trim(n))&&!zm.urls[n])if(tk(n)){n=n.substr(1,n.length);var r=zm.dependencies(n);se.each(r,(function(n){var r={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"},o=zm.createUrl(r,n);zm.load(o.resource,o,c,void 0,(function(){Gm(t,o.prefix+o.resource+o.suffix,o.resource)}))}))}else{var o={prefix:"plugins/",resource:n,suffix:"/plugin"+e+".js"};zm.load(n,o,c,void 0,(function(){Gm(t,o.prefix+o.resource+o.suffix,n)}))}}))}(t,e),n.loadQueue((function(){t.removed||J_(t)}),t,(function(){t.removed||J_(t)}))}))},ik=function(t){var e=t.id;ta.setCode(xu(t));var r=function(){Q_.unbind(n.window,"ready",r),t.render()};if(Vr.Event.domLoaded){if(t.getElement()&&ne.contentEditable){var o=le.fromDom(t.getElement()),i=function(t){return V(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})}(o);t.on("remove",(function(){q(o.dom().attributes,(function(t){return Tn(o,t.name)})),Cn(o,i)})),t.ui.styleSheetLoader=function(t,e){return Ii.forElement(t,{contentCssCors:Ou(e),referrerPolicy:wu(e)})}(o,t),!function(t){return t.getParam("inline")}(t)?(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"):t.inline=!0;var a=t.getElement().form||Q_.getParent(e,"form");a&&(t.formElement=a,function(t){return t.getParam("hidden_input")}(t)&&!hn(t.getElement())&&(Q_.insertAfter(Q_.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},Q_.bind(a,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.resetContent()})),!function(t){return t.getParam("submit_patch")}(t)||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),a._mceOldSubmit(a)})),t.windowManager=qm(t),t.notificationManager=jm(t),function(t){return"xml"===t.getParam("encoding")}(t)&&t.on("GetContent",(function(t){t.save&&(t.content=Q_.encode(t.content))})),function(t){return t.getParam("add_form_submit_trigger")}(t)&&t.on("submit",(function(){t.initialized&&t.save()})),function(t){return t.getParam("add_unload_trigger")}(t)&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),ok(t,t.suffix)}}else Q_.bind(n.window,"ready",r)},ak=function(t){return P(t)?t:d(!1)},sk=function(t,e,n){var r=e(t),o=ak(n);return r.orThunk((function(){return o(t)?_.none():function(t,e,n){for(var r=t.dom(),o=ak(n);r.parentNode;){r=r.parentNode;var i=le.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return _.none()}(t,e,o)}))},uk={"font-size":"size","font-family":"face"},lk=function(t,e,n){var r=function(e){return An(e,t).orThunk((function(){return"font"===ce(e)?ft(uk,t).bind((function(t){return n=e,r=t,_.from(Sn(n,r));var n,r})):_.none()}))};return sk(le.fromDom(n),(function(t){return r(t)}),(function(t){return we(le.fromDom(e),t)}))},ck=function(t){return function(e,n){return _.from(n).map(le.fromDom).filter(he).bind((function(n){return lk(t,e,n.dom()).or(function(t,e){return _.from(Vi.DOM.getStyle(e,t,!0))}(t,n.dom()))})).getOr("")}},fk=ck("font-size"),dk=f((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),ck("font-family")),hk=function(t){return Fl(t.getBody()).map((function(t){var e=t.container();return pn(e)?e.parentNode:e}))},pk=function(t){return _.from(t.selection.getRng()).bind((function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?_.none():_.from(t.selection.getStart(!0))}))},mk=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var r=function(t){return se.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(t),o=function(t){return se.explode(t.getParam("font_size_classes",""))}(t);return o?o[n-1]||e:r[n-1]||e}return e}return e},gk=function(t){var e=t.split(/\s*,\s*/);return z(e,(function(t){return-1===t.indexOf(" ")||Lt(t,'"')||Lt(t,"'")?t:"'"+t+"'"})).join(",")},vk=function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=se.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);!function(t,e,n){rm(t).editor.insertContent(e,n)}(t,n.content,n.details)},yk=function(t,e){t.getDoc().execCommand(e,!1,null)},bk=se.each,wk=se.map,xk=se.inArray,_k=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var o,i=!1,a=this;if(!a.editor.removed){var s;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?(s=a.editor,nh(s).each((function(t){s.selection.setRng(t)}))):a.editor.focus(),(r=a.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;var u=t.toLowerCase();if(o=a.commands.exec[u])return o(u,e,n),a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(bk(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),i=!0,!1})),i)return i;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(t,e,n))return a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{i=a.editor.getDoc().execCommand(t,e,n)}catch(t){}return!!i&&(a.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(t){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(t){}}},t.prototype.addCommands=function(t,e){var n=this;e=e||"exec",bk(t,(function(t,r){bk(r.toLowerCase().split(","),(function(r){n.commands[e][r]=t}))}))},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,o,i,a){return e.call(n||r.editor,o,i,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(t){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var r,o=t.getDoc();try{e.execNativeCommand(n)}catch(t){r=!0}if("paste"!==n||o.queryCommandEnabled(n)||(r=!0),r||!o.queryCommandSupported(n)){var i=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");ne.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),t.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),bk("left,center,right,justify".split(","),(function(e){r!==e&&t.formatter.remove("align"+e)})),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r;e.execNativeCommand(n);var o=t.dom.getParent(t.selection.getNode(),"ol,ul");o&&(r=o.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(e.storeSelection(),t.dom.split(r,o),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,r)},FontName:function(e,n,r){!function(t,e){var n=mk(t,e);t.formatter.toggle("fontname",{value:gk(n)}),t.nodeChanged()}(t,r)},FontSize:function(e,n,r){!function(t,e){t.formatter.toggle("fontsize",{value:mk(t,e)}),t.nodeChanged()}(t,r)},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,o){var i=o||t.selection.getNode();i!==t.getBody()&&(e.storeSelection(),t.dom.remove(i,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var o=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&o++===r)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){vk(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var o=t.getContent();t.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(e,n,r){Ux(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){Yw(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){"string"==typeof r&&(r={href:r});var o=t.dom.getParent(t.selection.getNode(),"a");r.href=r.href.replace(/ /g,"%20"),o&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,o)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),bn);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){!function(t){rx(t)||Nw(t,!1)||Mw(t,!1)||Bw(t,!1)||fw(t,!1)||Td(t)||mw(t)||Hw(t,!1)||(yk(t,"Delete"),Jb(t))}(t)},forwardDelete:function(){!function(t){Nw(t,!0)||Mw(t,!0)||Bw(t,!0)||fw(t,!0)||Td(t)||mw(t)||Hw(t,!0)||yk(t,"ForwardDelete")}(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return Dx(t,r),!0}});var n=function(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),r=wk(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==xk(r,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return Vw(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return function(t){return pk(t).fold((function(){return hk(t).map((function(e){return dk(t.getBody(),e)})).getOr("")}),(function(e){return dk(t.getBody(),e)}))}(t)}),this),e.addQueryValueHandler("FontSize",(function(){return function(t){return pk(t).fold((function(){return hk(t).map((function(e){return fk(t.getBody(),e)})).getOr("")}),(function(e){return fk(t.getBody(),e)}))}(t)}),this)},t}(),kk=function(t,e,n){fa(t,e)&&!1===n?function(t,e){aa(t)?t.dom().classList.remove(e):ua(t,e);ca(t)}(t,e):n&&la(t,e)},Ck=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},Sk=function(t,e){t.dom().contentEditable=e?"true":"false"},Tk=function(t,e){var n=le.fromDom(t.getBody());kk(n,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),function(t){_.from(t.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")}))}(t),t.readonly=!0,Sk(n,!1),H(ha(n,'*[contenteditable="true"]'),(function(t){kn(t,"data-mce-contenteditable","true"),Sk(t,!1)}))):(t.readonly=!1,Sk(n,!0),function(t){H(ha(t,'*[data-mce-contenteditable="true"]'),(function(t){Tn(t,"data-mce-contenteditable"),Sk(t,!0)}))}(n),Ck(t,"StyleWithCSS",!1),Ck(t,"enableInlineTableEditing",!1),Ck(t,"enableObjectResizing",!1),mh(t)&&t.focus(),function(t){t.selection.setRng(t.selection.getRng())}(t),t.nodeChanged())},Ek=function(t){return t.readonly},Ok=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){Ek(t)&&H(e,(function(t){t.attr("data-mce-contenteditable",t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter("data-mce-contenteditable",(function(e){Ek(t)&&H(e,(function(t){t.attr("contenteditable",t.attr("data-mce-contenteditable"))}))})),t.serializer.addTempAttr("data-mce-contenteditable")},Ak=se.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Dk=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||v}return t.isNative=function(t){return!!Ak[t.toLowerCase()]},t.prototype.fire=function(t,e){t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=y},e.stopPropagation=function(){e.isPropagationStopped=y},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=y},e.isDefaultPrevented=v,e.isPropagationStopped=v,e.isImmediatePropagationStopped=v),this.settings.beforeFire&&this.settings.beforeFire(e);var n=this.bindings[t];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i.once&&this.off(t,i.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===i.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,r){var o,i,a;if(!1===e&&(e=v),e){var s={func:e};for(r&&se.extend(s,r),a=(i=t.toLowerCase().split(" ")).length;a--;)t=i[a],(o=this.bindings[t])||(o=this.bindings[t]=[],this.toggleEvent(t,!0)),n?o.unshift(s):o.push(s)}return this},t.prototype.off=function(t,e){var n,r,o,i,a=this;if(t)for(n=(o=t.toLowerCase().split(" ")).length;n--;){if(t=o[n],r=this.bindings[t],!t)return rt(this.bindings,(function(t,e){a.toggleEvent(e,!1),delete a.bindings[e]})),this;if(r){if(e)for(i=r.length;i--;)r[i].func===e&&(r=r.slice(0,i).concat(r.slice(i+1)),this.bindings[t]=r);else r.length=0;r.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else rt(this.bindings,(function(t,e){a.toggleEvent(e,!1)})),this.bindings={};return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),Nk=function(t){return t._eventDispatcher||(t._eventDispatcher=new Dk({scope:t,toggleEvent:function(e,n){Dk.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Pk={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=Nk(this).fire(t,e);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(t,r,!1),o=o.parent();return r},on:function(t,e,n){return Nk(this).on(t,e,n)},off:function(t,e){return Nk(this).off(t,e)},once:function(t,e){return Nk(this).once(t,e)},hasEventListeners:function(t){return Nk(this).has(t)}},Mk=Vi.DOM,Lk=function(t,e){if("selectionchange"===e)return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var n=Cu(t);return n?(t.eventRoot||(t.eventRoot=Mk.select(n)[0]),t.eventRoot):t.getBody()},Rk=function(t,e,n){!function(t){return!t.hidden&&!Ek(t)}(t)?Ek(t)&&function(t,e){var n=e.target;(function(t){return"click"===t.type})(e)&&!jg.metaKeyPressed(e)&&function(t,e){return null!==t.dom.getParent(e,"a")}(t,n)&&e.preventDefault()}(t,n):t.fire(e,n)},Ik=function(t,e){var n;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed){var r=Lk(t,e);if(Cu(t)){if(Ky||(Ky={},t.editorManager.on("removeEditor",(function(){t.editorManager.activeEditor||Ky&&(rt(Ky,(function(e,n){t.dom.unbind(Lk(t,n))})),Ky=null)}))),Ky[e])return;n=function(n){for(var r=n.target,o=t.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Mk.isChildOf(r,a))&&Rk(o[i],e,n)}},Ky[e]=n,Mk.bind(r,e,n)}else n=function(n){Rk(t,e,n)},Mk.bind(r,e,n),t.delegates[e]=n}},Bk=xt(xt({},Pk),{bindPendingEventDelegates:function(){var t=this;se.each(t._pendingNativeEvents,(function(e){Ik(t,e)}))},toggleNativeEvent:function(t,e){"focus"!==t&&"blur"!==t&&(e?this.initialized?Ik(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(Lk(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),n=t.dom;t.delegates&&(rt(t.delegates,(function(e,n){t.dom.unbind(Lk(t,n),n,e)})),delete t.delegates),!t.inline&&e&&n&&(e.onload=null,n.unbind(t.getWin()),n.unbind(t.getDoc())),n&&(n.unbind(e),n.unbind(t.getContainer()))}}),Fk=["design","readonly"],jk=function(t,e,r,o){var i=r[e.get()],a=r[o];try{a.activate()}catch(t){return void n.console.error("problem while activating editor mode "+o+":",t)}i.deactivate(),i.editorReadOnly!==a.editorReadOnly&&Tk(t,a.editorReadOnly),e.set(o),function(t,e){t.fire("SwitchMode",{mode:e})}(t,o)},zk=function(t){var e=Zi("design"),r=Zi({design:{activate:c,deactivate:c,editorReadOnly:!1},readonly:{activate:c,deactivate:c,editorReadOnly:!0}});return function(t){t.serializer?Ok(t):t.on("PreInit",(function(){Ok(t)}))}(t),function(t){t.on("ShowCaret",(function(e){Ek(t)&&e.preventDefault()})),t.on("ObjectSelected",(function(e){Ek(t)&&e.preventDefault()}))}(t),{isReadOnly:function(){return Ek(t)},set:function(n){return function(t,e,n,r){if(r!==n.get()){if(!dt(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?jk(t,n,e,r):t.on("init",(function(){return jk(t,n,e,r)}))}}(t,r.get(),e,n)},get:function(){return e.get()},register:function(t,e){r.set(function(t,e,r){var o;if(F(Fk,e))throw new Error("Cannot override default mode "+e);return xt(xt({},t),((o={})[e]=xt(xt({},r),{deactivate:function(){try{r.deactivate()}catch(t){n.console.error("problem while deactivating editor mode "+e+":",t)}}}),o))}(r.get(),t,e))}}},Hk=se.each,qk=se.explode,Uk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Wk=se.makeMap("alt,ctrl,shift,meta,access"),Vk=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(Hk(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,r){var o=this,i=n;return"string"==typeof i?n=function(){o.editor.execCommand(i,!1,null)}:se.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),Hk(qk(se.trim(t)),(function(t){var i=o.createShortcut(t,e,n,r);o.shortcuts[i.id]=i})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n={};Hk(qk(t.toLowerCase(),"+"),(function(t){t in Wk?n[t]=!0:/^[0-9]{2,}$/.test(t)?n.keyCode=parseInt(t,10):(n.charCode=t.charCodeAt(0),n.keyCode=Uk[t]||t.toUpperCase().charCodeAt(0))}));var r=[n.keyCode];for(e in Wk)n[e]?r.push(e):n[e]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,ne.mac?n.ctrl=!0:n.shift=!0),n.meta&&(ne.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},t.prototype.createShortcut=function(t,e,n,r){var o=se.map(qk(t,">"),this.parseShortcut);return o[o.length-1]=se.extend(o[o.length-1],{func:n,scope:r||this.editor}),se.extend(o[0],{desc:this.editor.translate(e),subpatterns:o.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&(e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&(e.alt===t.altKey&&e.shift===t.shiftKey&&(!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0))))},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),$k=function(){var t=function(){var t={},e={},n={},r={},o={},i={},a={},s=function(t,e){return function(n,r){return t[n.toLowerCase()]=xt(xt({},r),{type:e})}};return{addButton:s(t,"button"),addGroupToolbarButton:s(t,"grouptoolbarbutton"),addToggleButton:s(t,"togglebutton"),addMenuButton:s(t,"menubutton"),addSplitButton:s(t,"splitbutton"),addMenuItem:s(e,"menuitem"),addNestedMenuItem:s(e,"nestedmenuitem"),addToggleMenuItem:s(e,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(o,"contextmenu"),addContextToolbar:s(i,"contexttoolbar"),addContextForm:s(i,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:o,contextToolbars:i,sidebars:a}}}}();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},Gk=se.each,Yk=se.trim,Kk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Zk={ftp:21,http:80,https:443,mailto:25},Xk=function(){function t(e,r){e=Yk(e),this.settings=r||{};var o=this.settings.base_uri,i=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))i.source=e;else{var a=0===e.indexOf("//");if(0!==e.indexOf("/")||a||(e=(o&&o.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var s=this.settings.base_uri?this.settings.base_uri.path:new t(n.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)e="//mce_host"+i.toAbsPath(s,e);else{var u=/([^#?]*)([#?]?.*)/.exec(e);e=(o&&o.protocol||"http")+"://mce_host"+i.toAbsPath(s,u[1])+u[2]}}e=e.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);Gk(Kk,(function(t,e){var n=l[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[t]=n})),o&&(i.protocol||(i.protocol=o.protocol),i.userInfo||(i.userInfo=o.userInfo),i.port||"mce_host"!==i.host||(i.port=o.port),i.host&&"mce_host"!==i.host||(i.host=o.host),i.source=""),a&&(i.protocol="")}}return t.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},t.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},t.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var n;if("./"===e)return e;var r=new t(e,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var o=this.getURI(),i=r.getURI();return o===i||"/"===o.charAt(o.length-1)&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},t.prototype.toAbsolute=function(e,n){var r=new t(e,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},t.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Zk[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},t.prototype.toRelPath=function(t,e){var n,r,o=0,i="",a=t.substring(0,t.lastIndexOf("/")).split("/"),s=e.split("/");if(a.length>=s.length)for(n=0,r=a.length;n<r;n++)if(n>=s.length||a[n]!==s[n]){o=n+1;break}if(a.length<s.length)for(n=0,r=s.length;n<r;n++)if(n>=a.length||a[n]!==s[n]){o=n+1;break}if(1===o)return e;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=s.length;n<r;n++)i+=n!==o-1?"/"+s[n]:s[n];return i},t.prototype.toAbsPath=function(t,e){var n,r,o=0,i=[],a=/\/$/.test(e)?"/":"",s=t.split("/"),u=e.split("/");for(Gk(s,(function(t){t&&i.push(t)})),s=i,n=u.length-1,i=[];n>=0;n--)0!==u[n].length&&"."!==u[n]&&(".."!==u[n]?o>0?o--:i.push(u[n]):o++);return 0!==(r=(n=s.length-o)<=0?Z(i).join("/"):s.slice(0,n).join("/")+"/"+Z(i).join("/")).indexOf("/")&&(r="/"+r),a&&r.lastIndexOf("/")!==r.length-1&&(r+=a),r},t.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},t}(),Jk=Vi.DOM,Qk=se.extend,tC=se.each,eC=se.resolve,nC=ne.ie,rC=function(){function t(t,e,n){var r=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Qk(this,Bk),this.settings=Em(this,t,this.documentBaseUrl,n.defaultSettings,e),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Ki.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Vi.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),na.languageLoad=this.settings.language_load,na.baseURL=n.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new Xk(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Vk(this),this.editorCommands=new _k(this),this.settings.cache_suffix&&(ne.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:$k(),styleSheetLoader:void 0};var o=zk(this);this.mode=o,this.setMode=o.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=hi.overrideDefaults((function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}}))}return t.prototype.render=function(){ik(this)},t.prototype.focus=function(t){vh(this,t)},t.prototype.hasFocus=function(){return ph(this)},t.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,o=this,i=o.settings[t];if(i)return o.callbackLookup&&(r=o.callbackLookup[t])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?eC(r):0,i=eC(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[t]={func:i,scope:r}),i.apply(r||o,e)},t.prototype.translate=function(t){return ta.translate(t)},t.prototype.getParam=function(t,e,n){return Am(this,t,e,n)},t.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},t.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},t.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},t.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},t.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},t.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},t.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},t.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},t.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},t.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Jk.show(this.getContainer()),Jk.hide(this.id)),this.load(),this.fire("show"))},t.prototype.hide=function(){var t=this.getDoc();this.hidden||(nC&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable="false",this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(Jk.hide(this.getContainer()),Jk.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},t.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var r=hn(n)?n.value:n.innerHTML;return e=this.setContent(r,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},t.prototype.save=function(t){var e,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=o,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,hn(o)?o.value=e:(!t.is_removing&&r.inline||(o.innerHTML=e),(n=Jk.getParent(r.id,"form"))&&tC(n.elements,(function(t){if(t.name===r.id)return t.value=e,!1}))),t.element=o=null,!1!==t.set_dirty&&r.setDirty(!1),e},t.prototype.setContent=function(t,e){return am(this,t,e)},t.prototype.getContent=function(t){return im(this,t)},t.prototype.insertContent=function(t,e){e&&(t=Qk({content:t},e)),this.execCommand("mceInsertContent",!1,t)},t.prototype.resetContent=function(t){void 0===t?am(this,this.startContent,{format:"raw"}):am(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},t.prototype.getContainer=function(){return this.container||(this.container=Jk.get(this.editorContainer||this.id+"_parent")),this.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=Jk.get(this.id)),this.targetElm},t.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},t.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},t.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},t.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,r.remove_script_host)},t.prototype.addVisual=function(t){var e,n=this,r=n.settings,o=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),tC(o.select("table,a",t),(function(t){var i;switch(t.nodeName){case"TABLE":return e=r.visual_table_class||"mce-item-table",void((i=o.getAttrib(t,"border"))&&"0"!==i||!n.hasVisual?o.removeClass(t,e):o.addClass(t,e));case"A":return void(o.getAttrib(t,"href")||(i=o.getAttrib(t,"name")||t.id,e=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(t,e):o.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},t.prototype.remove=function(){lm(this)},t.prototype.destroy=function(t){cm(this,t)},t.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),oC=Vi.DOM,iC=se.explode,aC=se.each,sC=se.extend,uC=0,lC=!1,cC=[],fC=[],dC=function(t){var e=t.type;aC(gC.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))},hC=function(t){t!==lC&&(t?hi(window).on("resize scroll",dC):hi(window).off("resize scroll",dC),lC=t)},pC=function(t){var e=fC;delete cC[t.id];for(var n=0;n<cC.length;n++)if(cC[n]===t){cC.splice(n,1);break}return fC=U(fC,(function(e){return t!==e})),gC.activeEditor===t&&(gC.activeEditor=fC.length>0?fC[0]:null),gC.focusedEditor===t&&(gC.focusedEditor=null),e.length!==fC.length},mC="CSS1Compat"!==n.document.compatMode,gC=xt(xt({},Pk),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:hi,majorVersion:"5",minorVersion:"4.1",releaseDate:"2020-07-08",editors:cC,i18n:ta,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,e,r="";e=Xk.getDocumentBaseUrl(n.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/"));var o,i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,r=i.suffix;else{for(var a=n.document.getElementsByTagName("script"),s=0;s<a.length;s++){var u;if(""!==(u=a[s].src||"")){var l=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==l.indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"));break}}}if(!t&&n.document.currentScript)-1!==(u=n.document.currentScript.src).indexOf(".min")&&(r=".min"),t=u.substring(0,u.lastIndexOf("/"))}this.baseURL=new Xk(e).toAbsolute(t),this.documentBaseURL=e,this.baseURI=new Xk(this.baseURL),this.suffix=r,(o=this).on("AddEditor",p(uh,o)),o.on("RemoveEditor",p(lh,o))},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var n=t.suffix;t.suffix&&(this.suffix=n),this.defaultSettings=t;var r=t.plugin_base_urls;void 0!==r&&rt(r,(function(t,e){na.PluginManager.urls[e]=t}))},init:function(t){var e,r=this,o=se.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),i=function(t){var e=t.id;return e||(e=ft(t,"name").filter((function(t){return!oC.get(t)})).getOrThunk(oC.uniqueId),t.setAttribute("id",e)),e},a=function(t,e){return e.constructor===RegExp?e.test(t.className):oC.hasClass(t,e)},s=function(t){e=t},u=function(){var e,l=0,c=[],f=function(t,n,o){var i=new rC(t,n,r);c.push(i),i.on("init",(function(){++l===e.length&&s(c)})),i.targetElm=i.targetElm||o,i.render()};oC.unbind(window,"ready",u),function(e){var n=t[e];if(n)n.apply(r,Array.prototype.slice.call(arguments,2))}("onpageload"),e=hi.unique(function(t){var e=[];if(ne.browser.isIE()&&ne.browser.version.major<11)return Ym("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(mC)return Ym("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return aC(t.types,(function(t){e=e.concat(oC.select(t.selector))})),e;if(t.selector)return oC.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var r=t.elements||"";r.length>0&&aC(iC(r),(function(t){var r=oC.get(t);r?e.push(r):aC(n.document.forms,(function(n){aC(n.elements,(function(n){n.name===t&&(t="mce_editor_"+uC++,oC.setAttrib(n,"id",t),e.push(n))}))}))}));break;case"textareas":case"specific_textareas":aC(oC.select("textarea"),(function(n){t.editor_deselector&&a(n,t.editor_deselector)||t.editor_selector&&!a(n,t.editor_selector)||e.push(n)}))}return e}(t)),t.types?aC(t.types,(function(n){se.each(e,(function(e){return!oC.is(e,n.selector)||(f(i(e),sC({},t,n),e),!1)}))})):(se.each(e,(function(t){var e;(e=r.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(pC(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(e=se.grep(e,(function(t){return!r.get(t.id)}))).length?s([]):aC(e,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in o}(t,e)?f(i(e),t,e):Ym("Could not initialize inline editor on invalid inline target element",e)})))};return r.settings=t,oC.bind(window,"ready",u),new Di((function(t){e?t(e):s=function(e){t(e)}}))},get:function(t){return 0===arguments.length?fC.slice(0):T(t)?$(fC,(function(e){return e.id===t})).getOr(null):M(t)&&fC[t]?fC[t]:null},add:function(t){var e=this;return cC[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(cC[t.id]=t),cC.push(t),fC.push(t)),hC(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),Zy||(Zy=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",Zy))),t},createEditor:function(t,e){return this.add(new rC(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!T(t))return n=t,A(r.get(n.id))?null:(pC(n)&&r.fire("RemoveEditor",{editor:n}),0===fC.length&&window.removeEventListener("beforeunload",Zy),n.remove(),hC(fC.length>0),n);aC(oC.select(t),(function(t){(n=r.get(t.id))&&r.remove(n)}))}else for(e=fC.length-1;e>=0;e--)r.remove(fC[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new rC(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?(r.isHidden()?r.show():r.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){aC(fC,(function(t){t.save()}))},addI18n:function(t,e){ta.add(t,e)},translate:function(t){return ta.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Xk(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Xk(this.baseURL)}});function vC(t){return{walk:function(e,n){return Oc(t,e,n)},split:Ch,normalize:function(e){return Mg(t,e).fold(d(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}gC.setup(),function(t){t.compareRanges=Cg,t.getCaretRangeFromPoint=yg,t.getSelectedNode=rs,t.getNode=os}(vC||(vC={}));var yC,bC,wC,xC,_C=vC,kC=(yC={},bC={},{load:function(t,e){var r='Script at URL "'+e+'" failed to load',o='Script at URL "'+e+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==yC[t])return yC[t];var i=new Di((function(i,a){var s=function(t,e,r){void 0===r&&(r=1e3);var o=!1,i=null,a=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];o||(o=!0,null!==i&&(n.clearTimeout(i),i=null),t.apply(null,e))}},s=a(t),u=a(e);return{start:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o||null!==i||(i=n.setTimeout((function(){return u.apply(null,t)}),r))},resolve:s,reject:u}}(i,a);bC[t]=s.resolve,Ki.ScriptLoader.loadScript(e,(function(){return s.start(o)}),(function(){return s.reject(r)}))}));return yC[t]=i,i},add:function(t,e){void 0!==bC[t]&&(bC[t](e),delete bC[t]),yC[t]=Di.resolve(e)}}),CC=Math.min,SC=Math.max,TC=Math.round,EC=function(t,e,n){var r=e.x,o=e.y,i=t.w,a=t.h,s=e.w,u=e.h;return"b"===(n=(n||"").split(""))[0]&&(o+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(o+=TC(u/2)),"c"===n[1]&&(r+=TC(s/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=TC(a/2)),"c"===n[4]&&(r-=TC(i/2)),OC(r,o,i,a)},OC=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},AC={inflate:function(t,e,n){return OC(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:EC,findBestRelativePosition:function(t,e,n,r){var o,i;for(i=0;i<r.length;i++)if((o=EC(t,e,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(t,e){var n=SC(t.x,e.x),r=SC(t.y,e.y),o=CC(t.x+t.w,e.x+e.w),i=CC(t.y+t.h,e.y+e.h);return o-n<0||i-r<0?null:OC(n,r,o-n,i-r)},clamp:function(t,e,n){var r=t.x,o=t.y,i=t.x+t.w,a=t.y+t.h,s=e.x+e.w,u=e.y+e.h,l=SC(0,e.x-r),c=SC(0,e.y-o),f=SC(0,i-s),d=SC(0,a-u);return r+=l,o+=c,n&&(i+=l,a+=c,r-=f,o-=d),OC(r,o,(i-=f)-r,(a-=d)-o)},create:OC,fromClientRect:function(t){return OC(t.left,t.top,t.width,t.height)}},DC=se.each,NC=se.extend,PC=function(){};PC.extend=wC=function(t){var e=this.prototype,n=function(){var t,e,n,r=this;if(!xC&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(r,arguments)},r=function(){return this};xC=!0;var o=new this;return xC=!1,t.Mixins&&(DC(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),e.Mixins&&(t.Mixins=e.Mixins.concat(t.Mixins))),t.Methods&&DC(t.Methods.split(","),(function(e){t[e]=r})),t.Properties&&DC(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&DC(t.Statics,(function(t,e){n[e]=t})),t.Defaults&&e.Defaults&&(t.Defaults=NC({},e.Defaults,t.Defaults)),rt(t,(function(t,n){"function"==typeof t&&e[n]?o[n]=function(t,n){return function(){var r=this,o=r._super;r._super=e[t];var i=n.apply(r,arguments);return r._super=o,i}}(n,t):o[n]=t})),n.prototype=o,n.constructor=n,n.extend=wC,n};var MC,LC=Math.min,RC=Math.max,IC=Math.round,BC={serialize:function(t){var e=JSON.stringify(t);return T(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},parse:function(t){try{return JSON.parse(t)}catch(t){}}},FC={callbacks:{},count:0,send:function(t){var e=this,n=Vi.DOM,r=void 0!==t.count?t.count:e.count,o="tinymce_jsonp_"+r;e.callbacks[r]=function(i){n.remove(o),delete e.callbacks[r],t.callback(i)},n.add(n.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),e.count++}},jC=xt(xt({},Pk),{send:function(t){var e,r=0,o=function(){!t.async||4===e.readyState||r++>1e4?(t.success&&r<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,r>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):Li.setTimeout(o,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",jC.fire("beforeInitialize",{settings:t}),e=new n.XMLHttpRequest){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&se.each(t.requestheaders,(function(t){e.setRequestHeader(t.key,t.value)})),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=jC.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return o();Li.setTimeout(o,10)}}}),zC=se.extend,HC=function(){function t(t){this.settings=zC({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=zC(this.settings,t);r.success=function(t,o){void 0===(t=BC.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,o):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=BC.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",jC.send(r)},t}();try{var qC="__storage_test__";(MC=n.window.localStorage).setItem(qC,qC),MC.removeItem(qC)}catch(t){MC=function(){var t={},e=[],n={getItem:function(e){var n=t[e];return n||null},setItem:function(n,r){e.push(n),t[n]=String(r)},key:function(t){return e[t]},removeItem:function(n){e=e.filter((function(t){return t===n})),delete t[n]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(n,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),n}()}var UC={geom:{Rect:AC},util:{Promise:Di,Delay:Li,Tools:se,VK:jg,URI:Xk,Class:PC,EventDispatcher:Dk,Observable:Pk,I18n:ta,XHR:jC,JSON:BC,JSONRequest:HC,JSONP:FC,LocalStorage:MC,Color:function(t){var e={},n=0,r=0,o=0,i=function(t){var i;return"object"==typeof t?"r"in t?(n=t.r,r=t.g,o=t.b):"v"in t&&function(t,e,i){if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,i=parseInt(i,10)/100,e=RC(0,LC(e,1)),i=RC(0,LC(i,1)),0!==e){var a=t/60,s=i*e,u=s*(1-Math.abs(a%2-1)),l=i-s;switch(Math.floor(a)){case 0:n=s,r=u,o=0;break;case 1:n=u,r=s,o=0;break;case 2:n=0,r=s,o=u;break;case 3:n=0,r=u,o=s;break;case 4:n=u,r=0,o=s;break;case 5:n=s,r=0,o=u;break;default:n=r=o=0}n=IC(255*(n+l)),r=IC(255*(r+l)),o=IC(255*(o+l))}else n=r=o=IC(255*i)}(t.h,t.s,t.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,e};return t&&i(t),e.toRgb=function(){return{r:n,g:r,b:o}},e.toHsv=function(){return function(t,e,n){var r,o;o=0;var i=LC(t/=255,LC(e/=255,n/=255)),a=RC(t,RC(e,n));return i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,o=a,{h:IC(60*((t===i?3:n===i?1:5)-(t===i?e-n:n===i?t-e:n-t)/(a-i))),s:IC(100*r),v:IC(100*o)})}(n,r,o)},e.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(r)+t(o)},e.parse=i,e}},dom:{EventUtils:Vr,Sizzle:Eo,DomQuery:hi,TreeWalker:pi,TextSeeker:La,DOMUtils:Vi,ScriptLoader:Ki,RangeUtils:_C,Serializer:mv,StyleSheetLoader:Ri,ControlSelection:qg,BookmarkManager:Bg,Selection:$g,Event:Vr.Event},html:{Styles:Ir,Entities:sr,Node:Jc,Schema:vr,SaxParser:cf,DomParser:cv,Writer:tf,Serializer:ef},Env:ne,AddOnManager:na,Annotator:$c,Formatter:Dv,UndoManager:Nv,EditorCommands:_k,WindowManager:qm,NotificationManager:jm,EditorObservable:Bk,Shortcuts:Vk,Editor:rC,FocusManager:rh,EditorManager:gC,DOM:Vi.DOM,ScriptLoader:Ki.ScriptLoader,PluginManager:na.PluginManager,ThemeManager:na.ThemeManager,IconManager:Dm,Resource:kC,trim:se.trim,isArray:se.isArray,is:se.is,toArray:se.toArray,makeMap:se.makeMap,each:se.each,map:se.map,grep:se.grep,inArray:se.inArray,extend:se.extend,create:se.create,walk:se.walk,createNS:se.createNS,resolve:se.resolve,explode:se.explode,_addCacheSuffix:se._addCacheSuffix,isOpera:ne.opera,isWebKit:ne.webkit,isIE:ne.ie,isGecko:ne.gecko,isMac:ne.mac},WC=se.extend(gC,UC);!function(t){window.tinymce=t,window.tinyMCE=t}(WC),function(e){try{t.exports=e}catch(t){}}(WC)}(window)}).call(this,n("yLpj"))},"5oMp":function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},"6/sb":function(t,e,n){"use strict";var r=n("VrN/");n("HvfG"),n("v31x"),n("bXjK"),n("lZu9"),n("nrkQ"),n("19Vz"),n("mUiM"),n("RKCW"),n("1eCo");var o=n("6mXC"),i=n("DlQD"),a=/Mac/.test(navigator.platform),s={toggleBold:m,toggleItalic:g,drawLink:O,toggleHeadingSmaller:w,toggleHeadingBigger:x,drawImage:A,toggleBlockquote:b,toggleOrderedList:T,toggleUnorderedList:S,toggleCodeBlock:y,togglePreview:R,toggleStrikethrough:v,toggleHeading1:_,toggleHeading2:k,toggleHeading3:C,cleanBlock:E,drawTable:D,drawHorizontalRule:N,undo:P,redo:M,toggleSideBySide:L,toggleFullScreen:p},u={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"};function l(t){return t=a?t.replace("Ctrl","Cmd"):t.replace("Cmd","Ctrl")}function c(t,e,n){t=t||{};var r=document.createElement("a");return e=null==e||e,t.title&&e&&(r.title=function(t,e,n){var r,o=t;e&&(r=function(t){for(var e in s)if(s[e]===t)return e;return null}(e),n[r]&&(o+=" ("+l(n[r])+")"));return o}(t.title,t.action,n),a&&(r.title=r.title.replace("Ctrl","⌘"),r.title=r.title.replace("Alt","⌥"))),r.tabIndex=-1,r.className=t.className,r}function f(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function d(t,e){e=e||t.getCursor("start");var n=t.getTokenAt(e);if(!n.type)return{};for(var r,o,i=n.type.split(" "),a={},s=0;s<i.length;s++)"strong"===(r=i[s])?a.bold=!0:"variable-2"===r?(o=t.getLine(e.line),/^\s*\d+\.\s/.test(o)?a["ordered-list"]=!0:a["unordered-list"]=!0):"atom"===r?a.quote=!0:"em"===r?a.italic=!0:"quote"===r?a.quote=!0:"strikethrough"===r?a.strikethrough=!0:"comment"===r?a.code=!0:"link"===r?a.link=!0:"tag"===r?a.image=!0:r.match(/^header(\-[1-6])?$/)&&(a[r.replace("header","heading")]=!0);return a}var h="";function p(t){var e=t.codemirror;e.setOption("fullScreen",!e.getOption("fullScreen")),e.getOption("fullScreen")?(h=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=h;var n=e.getWrapperElement();/fullscreen/.test(n.previousSibling.className)?n.previousSibling.className=n.previousSibling.className.replace(/\s*fullscreen\b/,""):n.previousSibling.className+=" fullscreen";var r=t.toolbarElements.fullscreen;/active/.test(r.className)?r.className=r.className.replace(/\s*active\s*/g,""):r.className+=" active";var o=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(o.className)&&L(t)}function m(t){j(t,"bold",t.options.blockStyles.bold)}function g(t){j(t,"italic",t.options.blockStyles.italic)}function v(t){j(t,"strikethrough","~~")}function y(t){var e=t.options.blockStyles.code;function n(t){if("object"!=typeof t)throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof t+": "+t;return t.styles&&t.styles[2]&&-1!==t.styles[2].indexOf("formatting-code-block")}function r(t){return t.state.base.base||t.state.base}function o(t,e,o,i,a){o=o||t.getLineHandle(e),i=i||t.getTokenAt({line:e,ch:1}),a=a||!!o.text&&t.getTokenAt({line:e,ch:o.text.length-1});var s=i.type?i.type.split(" "):[];return a&&r(a).indentedCode?"indented":-1!==s.indexOf("comment")&&(r(i).fencedChars||r(a).fencedChars||n(o)?"fenced":"single")}var i,a,s,u=t.codemirror,l=u.getCursor("start"),c=u.getCursor("end"),f=u.getTokenAt({line:l.line,ch:l.ch||1}),d=u.getLineHandle(l.line),h=o(u,l.line,d,f);if("single"===h){var p=d.text.slice(0,l.ch).replace("`",""),m=d.text.slice(l.ch).replace("`","");u.replaceRange(p+m,{line:l.line,ch:0},{line:l.line,ch:99999999999999}),l.ch--,l!==c&&c.ch--,u.setSelection(l,c),u.focus()}else if("fenced"===h)if(l.line!==c.line||l.ch!==c.ch){for(i=l.line;i>=0&&!n(d=u.getLineHandle(i));i--);var g,v,y,b,w=r(u.getTokenAt({line:i,ch:1})).fencedChars;n(u.getLineHandle(l.line))?(g="",v=l.line):n(u.getLineHandle(l.line-1))?(g="",v=l.line-1):(g=w+"\n",v=l.line),n(u.getLineHandle(c.line))?(y="",b=c.line,0===c.ch&&(b+=1)):0!==c.ch&&n(u.getLineHandle(c.line+1))?(y="",b=c.line+1):(y=w+"\n",b=c.line+1),0===c.ch&&(b-=1),u.operation((function(){u.replaceRange(y,{line:b,ch:0},{line:b+(y?0:1),ch:0}),u.replaceRange(g,{line:v,ch:0},{line:v+(g?0:1),ch:0})})),u.setSelection({line:v+(g?1:0),ch:0},{line:b+(g?1:-1),ch:0}),u.focus()}else{var x=l.line;if(n(u.getLineHandle(l.line))&&("fenced"===o(u,l.line+1)?(i=l.line,x=l.line+1):(a=l.line,x=l.line-1)),void 0===i)for(i=x;i>=0&&!n(d=u.getLineHandle(i));i--);if(void 0===a)for(s=u.lineCount(),a=x;a<s&&!n(d=u.getLineHandle(a));a++);u.operation((function(){u.replaceRange("",{line:i,ch:0},{line:i+1,ch:0}),u.replaceRange("",{line:a-1,ch:0},{line:a,ch:0})})),u.focus()}else if("indented"===h){if(l.line!==c.line||l.ch!==c.ch)i=l.line,a=c.line,0===c.ch&&a--;else{for(i=l.line;i>=0;i--)if(!(d=u.getLineHandle(i)).text.match(/^\s*$/)&&"indented"!==o(u,i,d)){i+=1;break}for(s=u.lineCount(),a=l.line;a<s;a++)if(!(d=u.getLineHandle(a)).text.match(/^\s*$/)&&"indented"!==o(u,a,d)){a-=1;break}}var _=u.getLineHandle(a+1),k=_&&u.getTokenAt({line:a+1,ch:_.text.length-1});k&&r(k).indentedCode&&u.replaceRange("\n",{line:a+1,ch:0});for(var C=i;C<=a;C++)u.indentLine(C,"subtract");u.focus()}else{var S=l.line===c.line&&l.ch===c.ch&&0===l.ch,T=l.line!==c.line;S||T?function(t,e,n,r){var o=e.line+1,i=n.line+1,a=e.line!==n.line,s=r+"\n",u="\n"+r;a&&i++,a&&0===n.ch&&(u=r+"\n",i--),I(t,!1,[s,u]),t.setSelection({line:o,ch:0},{line:i,ch:0})}(u,l,c,e):I(u,!1,["`","`"])}}function b(t){F(t.codemirror,"quote")}function w(t){B(t.codemirror,"smaller")}function x(t){B(t.codemirror,"bigger")}function _(t){B(t.codemirror,void 0,1)}function k(t){B(t.codemirror,void 0,2)}function C(t){B(t.codemirror,void 0,3)}function S(t){F(t.codemirror,"unordered-list")}function T(t){F(t.codemirror,"ordered-list")}function E(t){!function(t){if(/editor-preview-active/.test(t.getWrapperElement().lastChild.className))return;for(var e,n=t.getCursor("start"),r=t.getCursor("end"),o=n.line;o<=r.line;o++)e=(e=t.getLine(o)).replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(e,{line:o,ch:0},{line:o,ch:99999999999999})}(t.codemirror)}function O(t){var e=t.codemirror,n=d(e),r=t.options,o="http://";if(r.promptURLs&&!(o=prompt(r.promptTexts.link)))return!1;I(e,n.link,r.insertTexts.link,o)}function A(t){var e=t.codemirror,n=d(e),r=t.options,o="http://";if(r.promptURLs&&!(o=prompt(r.promptTexts.image)))return!1;I(e,n.image,r.insertTexts.image,o)}function D(t){var e=t.codemirror,n=d(e),r=t.options;I(e,n.table,r.insertTexts.table)}function N(t){var e=t.codemirror,n=d(e),r=t.options;I(e,n.image,r.insertTexts.horizontalRule)}function P(t){var e=t.codemirror;e.undo(),e.focus()}function M(t){var e=t.codemirror;e.redo(),e.focus()}function L(t){var e=t.codemirror,n=e.getWrapperElement(),r=n.nextSibling,o=t.toolbarElements["side-by-side"],i=!1;/editor-preview-active-side/.test(r.className)?(r.className=r.className.replace(/\s*editor-preview-active-side\s*/g,""),o.className=o.className.replace(/\s*active\s*/g,""),n.className=n.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout((function(){e.getOption("fullScreen")||p(t),r.className+=" editor-preview-active-side"}),1),o.className+=" active",n.className+=" CodeMirror-sided",i=!0);var a=n.lastChild;if(/editor-preview-active/.test(a.className)){a.className=a.className.replace(/\s*editor-preview-active\s*/g,"");var s=t.toolbarElements.preview,u=n.previousSibling;s.className=s.className.replace(/\s*active\s*/g,""),u.className=u.className.replace(/\s*disabled-for-preview*/g,"")}e.sideBySideRenderingFunction||(e.sideBySideRenderingFunction=function(){r.innerHTML=t.options.previewRender(t.value(),r)}),i?(r.innerHTML=t.options.previewRender(t.value(),r),e.on("update",e.sideBySideRenderingFunction)):e.off("update",e.sideBySideRenderingFunction),e.refresh()}function R(t){var e=t.codemirror,n=e.getWrapperElement(),r=n.previousSibling,o=!!t.options.toolbar&&t.toolbarElements.preview,i=n.lastChild;i&&/editor-preview/.test(i.className)||((i=document.createElement("div")).className="editor-preview",n.appendChild(i)),/editor-preview-active/.test(i.className)?(i.className=i.className.replace(/\s*editor-preview-active\s*/g,""),o&&(o.className=o.className.replace(/\s*active\s*/g,""),r.className=r.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout((function(){i.className+=" editor-preview-active"}),1),o&&(o.className+=" active",r.className+=" disabled-for-preview")),i.innerHTML=t.options.previewRender(t.value(),i);var a=e.getWrapperElement().nextSibling;/editor-preview-active-side/.test(a.className)&&L(t)}function I(t,e,n,r){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){var o,i=n[0],a=n[1],s=t.getCursor("start"),u=t.getCursor("end");r&&(a=a.replace("#url#",r)),e?(i=(o=t.getLine(s.line)).slice(0,s.ch),a=o.slice(s.ch),t.replaceRange(i+a,{line:s.line,ch:0})):(o=t.getSelection(),t.replaceSelection(i+o+a),s.ch+=i.length,s!==u&&(u.ch+=i.length)),t.setSelection(s,u),t.focus()}}function B(t,e,n){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var r=t.getCursor("start"),o=t.getCursor("end"),i=r.line;i<=o.line;i++)!function(r){var o=t.getLine(r),i=o.search(/[^#]/);o=void 0!==e?i<=0?"bigger"==e?"###### "+o:"# "+o:6==i&&"smaller"==e?o.substr(7):1==i&&"bigger"==e?o.substr(2):"bigger"==e?o.substr(1):"#"+o:1==n?i<=0?"# "+o:i==n?o.substr(i+1):"# "+o.substr(i+1):2==n?i<=0?"## "+o:i==n?o.substr(i+1):"## "+o.substr(i+1):i<=0?"### "+o:i==n?o.substr(i+1):"### "+o.substr(i+1),t.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(i);t.focus()}}function F(t,e){if(!/editor-preview-active/.test(t.getWrapperElement().lastChild.className)){for(var n=d(t),r=t.getCursor("start"),o=t.getCursor("end"),i={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},a={quote:"> ","unordered-list":"* ","ordered-list":"1. "},s=r.line;s<=o.line;s++)!function(r){var o=t.getLine(r);o=n[e]?o.replace(i[e],"$1"):a[e]+o,t.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(s);t.focus()}}function j(t,e,n,r){if(!/editor-preview-active/.test(t.codemirror.getWrapperElement().lastChild.className)){r=void 0===r?n:r;var o,i=t.codemirror,a=d(i),s=n,u=r,l=i.getCursor("start"),c=i.getCursor("end");a[e]?(s=(o=i.getLine(l.line)).slice(0,l.ch),u=o.slice(l.ch),"bold"==e?(s=s.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),u=u.replace(/(\*\*|__)/,"")):"italic"==e?(s=s.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),u=u.replace(/(\*|_)/,"")):"strikethrough"==e&&(s=s.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),u=u.replace(/(\*\*|~~)/,"")),i.replaceRange(s+u,{line:l.line,ch:0},{line:l.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(l.ch-=2,l!==c&&(c.ch-=2)):"italic"==e&&(l.ch-=1,l!==c&&(c.ch-=1))):(o=i.getSelection(),"bold"==e?o=(o=o.split("**").join("")).split("__").join(""):"italic"==e?o=(o=o.split("*").join("")).split("_").join(""):"strikethrough"==e&&(o=o.split("~~").join("")),i.replaceSelection(s+o+u),l.ch+=n.length,c.ch=l.ch+o.length),i.setSelection(l,c),i.focus()}}function z(t,e){for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Array?t[n]=e[n].concat(t[n]instanceof Array?t[n]:[]):null!==e[n]&&"object"==typeof e[n]&&e[n].constructor===Object?t[n]=z(t[n]||{},e[n]):t[n]=e[n]);return t}function H(t){for(var e=1;e<arguments.length;e++)t=z(t,arguments[e]);return t}function q(t){var e=t.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===e)return n;for(var r=0;r<e.length;r++)e[r].charCodeAt(0)>=19968?n+=e[r].length:n+=1;return n}var U={bold:{name:"bold",action:m,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:g,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:v,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:w,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:w,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:x,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:_,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:k,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:C,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:y,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:b,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:S,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:T,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:E,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:O,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:A,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:D,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:N,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:R,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:L,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:p,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:P,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:M,className:"fa fa-repeat no-disable",title:"Redo"}},W={link:["[","](#url#)"],image:["![](","#url#)"],table:["","\n\n| Column 1 | Column 2 | Column 3 |\n| -------- | -------- | -------- |\n| Text     | Text     | Text     |\n\n"],horizontalRule:["","\n\n-----\n\n"]},V={link:"URL for the link:",image:"URL of the image:"},$={bold:"**",code:"```",italic:"*"};function G(t){(t=t||{}).parent=this;var e=!0;if(!1===t.autoDownloadFontAwesome&&(e=!1),!0!==t.autoDownloadFontAwesome)for(var n=document.styleSheets,r=0;r<n.length;r++)n[r].href&&n[r].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(e=!1);if(e){var o=document.createElement("link");o.rel="stylesheet",o.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(o)}if(t.element)this.element=t.element;else if(null===t.element)return;if(void 0===t.toolbar)for(var i in t.toolbar=[],U)U.hasOwnProperty(i)&&(-1!=i.indexOf("separator-")&&t.toolbar.push("|"),(!0===U[i].default||t.showIcons&&t.showIcons.constructor===Array&&-1!=t.showIcons.indexOf(i))&&t.toolbar.push(i));t.hasOwnProperty("status")||(t.status=["autosave","lines","words","cursor"]),t.previewRender||(t.previewRender=function(t){return this.parent.markdown(t)}),t.parsingConfig=H({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=H({},W,t.insertTexts||{}),t.promptTexts=V,t.blockStyles=H({},$,t.blockStyles||{}),t.shortcuts=H({},u,t.shortcuts||{}),null!=t.autosave&&null!=t.autosave.unique_id&&""!=t.autosave.unique_id&&(t.autosave.uniqueId=t.autosave.unique_id),this.options=t,this.render(),!t.initialValue||this.options.autosave&&!0===this.options.autosave.foundSavedValue||this.value(t.initialValue)}function Y(){if("object"!=typeof localStorage)return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch(t){return!1}return!0}G.prototype.markdown=function(t){if(i){var e={};return this.options&&this.options.renderingConfig&&!1===this.options.renderingConfig.singleLineBreaks?e.breaks=!1:e.breaks=!0,this.options&&this.options.renderingConfig&&!0===this.options.renderingConfig.codeSyntaxHighlighting&&window.hljs&&(e.highlight=function(t){return window.hljs.highlightAuto(t).value}),i.setOptions(e),i(t)}},G.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==t){this.element=t;var e,n,i=this.options,a=this,u={};for(var c in i.shortcuts)null!==i.shortcuts[c]&&null!==s[c]&&function(t){u[l(i.shortcuts[t])]=function(){s[t](a)}}(c);if(u.Enter="newlineAndIndentContinueMarkdownList",u.Tab="tabAndIndentMarkdownList",u["Shift-Tab"]="shiftTabAndUnindentMarkdownList",u.Esc=function(t){t.getOption("fullScreen")&&p(a)},document.addEventListener("keydown",(function(t){27==(t=t||window.event).keyCode&&a.codemirror.getOption("fullScreen")&&p(a)}),!1),!1!==i.spellChecker?(e="spell-checker",(n=i.parsingConfig).name="gfm",n.gitHubSpice=!1,o({codeMirrorInstance:r})):((e=i.parsingConfig).name="gfm",e.gitHubSpice=!1),this.codemirror=r.fromTextArea(t,{mode:e,backdrop:n,theme:"paper",tabSize:null!=i.tabSize?i.tabSize:2,indentUnit:null!=i.tabSize?i.tabSize:2,indentWithTabs:!1!==i.indentWithTabs,lineNumbers:!1,autofocus:!0===i.autofocus,extraKeys:u,lineWrapping:!1!==i.lineWrapping,allowDropFileTypes:["text/plain"],placeholder:i.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:null==i.styleSelectedText||i.styleSelectedText}),!0===i.forceSync){var f=this.codemirror;f.on("change",(function(){f.save()}))}this.gui={},!1!==i.toolbar&&(this.gui.toolbar=this.createToolbar()),!1!==i.status&&(this.gui.statusbar=this.createStatusbar()),null!=i.autosave&&!0===i.autosave.enabled&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var d=this.codemirror;setTimeout(function(){d.refresh()}.bind(d),0)}},G.prototype.autosave=function(){if(Y()){var t=this;if(null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return;null!=t.element.form&&null!=t.element.form&&t.element.form.addEventListener("submit",(function(){localStorage.removeItem("smde_"+t.options.autosave.uniqueId)})),!0!==this.options.autosave.loaded&&("string"==typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&""!=localStorage.getItem("smde_"+this.options.autosave.uniqueId)&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,t.value());var e=document.getElementById("autosaved");if(null!=e&&null!=e&&""!=e){var n=new Date,r=n.getHours(),o=n.getMinutes(),i="am",a=r;a>=12&&(a=r-12,i="pm"),0==a&&(a=12),o=o<10?"0"+o:o,e.innerHTML="Autosaved: "+a+":"+o+" "+i}this.autosaveTimeoutId=setTimeout((function(){t.autosave()}),this.options.autosave.delay||1e4)}},G.prototype.clearAutosavedValue=function(){if(Y()){if(null==this.options.autosave||null==this.options.autosave.uniqueId||""==this.options.autosave.uniqueId)return;localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}},G.prototype.createSideBySide=function(){var t=this.codemirror,e=t.getWrapperElement(),n=e.nextSibling;n&&/editor-preview-side/.test(n.className)||((n=document.createElement("div")).className="editor-preview-side",e.parentNode.insertBefore(n,e.nextSibling));var r=!1,o=!1;return t.on("scroll",(function(t){if(r)r=!1;else{o=!0;var e=t.getScrollInfo().height-t.getScrollInfo().clientHeight,i=parseFloat(t.getScrollInfo().top)/e,a=(n.scrollHeight-n.clientHeight)*i;n.scrollTop=a}})),n.onscroll=function(){if(o)o=!1;else{r=!0;var e=n.scrollHeight-n.clientHeight,i=parseFloat(n.scrollTop)/e,a=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*i;t.scrollTo(0,a)}},n},G.prototype.createToolbar=function(t){if((t=t||this.options.toolbar)&&0!==t.length){var e;for(e=0;e<t.length;e++)null!=U[t[e]]&&(t[e]=U[t[e]]);var n=document.createElement("div");n.className="editor-toolbar";var r,o,i=this,a={};for(i.toolbar=t,e=0;e<t.length;e++)if(("guide"!=t[e].name||!1!==i.options.toolbarGuideIcon)&&!(i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(t[e].name)||("fullscreen"==t[e].name||"side-by-side"==t[e].name)&&(r=void 0,o=void 0,o=!1,r=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4)))&&(o=!0),o))){if("|"===t[e]){for(var s=!1,u=e+1;u<t.length;u++)"|"===t[u]||i.options.hideIcons&&-1!=i.options.hideIcons.indexOf(t[u].name)||(s=!0);if(!s)continue}!function(t){var e;e="|"===t?f():c(t,i.options.toolbarTips,i.options.shortcuts),t.action&&("function"==typeof t.action?e.onclick=function(e){e.preventDefault(),t.action(i)}:"string"==typeof t.action&&(e.href=t.action,e.target="_blank")),a[t.name||t]=e,n.appendChild(e)}(t[e])}i.toolbarElements=a;var l=this.codemirror;l.on("cursorActivity",(function(){var t=d(l);for(var e in a)!function(e){var n=a[e];t[e]?n.className+=" active":"fullscreen"!=e&&"side-by-side"!=e&&(n.className=n.className.replace(/\s*active\s*/g,""))}(e)}));var h=l.getWrapperElement();return h.parentNode.insertBefore(n,h),n}},G.prototype.createStatusbar=function(t){t=t||this.options.status;var e=this.options,n=this.codemirror;if(t&&0!==t.length){var r,o,i,a=[];for(r=0;r<t.length;r++)if(o=void 0,i=void 0,"object"==typeof t[r])a.push({className:t[r].className,defaultValue:t[r].defaultValue,onUpdate:t[r].onUpdate});else{var s=t[r];"words"===s?(i=function(t){t.innerHTML=q(n.getValue())},o=function(t){t.innerHTML=q(n.getValue())}):"lines"===s?(i=function(t){t.innerHTML=n.lineCount()},o=function(t){t.innerHTML=n.lineCount()}):"cursor"===s?(i=function(t){t.innerHTML="0:0"},o=function(t){var e=n.getCursor();t.innerHTML=e.line+":"+e.ch}):"autosave"===s&&(i=function(t){null!=e.autosave&&!0===e.autosave.enabled&&t.setAttribute("id","autosaved")}),a.push({className:s,defaultValue:i,onUpdate:o})}var u=document.createElement("div");for(u.className="editor-statusbar",r=0;r<a.length;r++){var l=a[r],c=document.createElement("span");c.className=l.className,"function"==typeof l.defaultValue&&l.defaultValue(c),"function"==typeof l.onUpdate&&this.codemirror.on("update",function(t,e){return function(){e.onUpdate(t)}}(c,l)),u.appendChild(c)}var f=this.codemirror.getWrapperElement();return f.parentNode.insertBefore(u,f.nextSibling),u}},G.prototype.value=function(t){return void 0===t?this.codemirror.getValue():(this.codemirror.getDoc().setValue(t),this)},G.toggleBold=m,G.toggleItalic=g,G.toggleStrikethrough=v,G.toggleBlockquote=b,G.toggleHeadingSmaller=w,G.toggleHeadingBigger=x,G.toggleHeading1=_,G.toggleHeading2=k,G.toggleHeading3=C,G.toggleCodeBlock=y,G.toggleUnorderedList=S,G.toggleOrderedList=T,G.cleanBlock=E,G.drawLink=O,G.drawImage=A,G.drawTable=D,G.drawHorizontalRule=N,G.undo=P,G.redo=M,G.togglePreview=R,G.toggleSideBySide=L,G.toggleFullScreen=p,G.prototype.toggleBold=function(){m(this)},G.prototype.toggleItalic=function(){g(this)},G.prototype.toggleStrikethrough=function(){v(this)},G.prototype.toggleBlockquote=function(){b(this)},G.prototype.toggleHeadingSmaller=function(){w(this)},G.prototype.toggleHeadingBigger=function(){x(this)},G.prototype.toggleHeading1=function(){_(this)},G.prototype.toggleHeading2=function(){k(this)},G.prototype.toggleHeading3=function(){C(this)},G.prototype.toggleCodeBlock=function(){y(this)},G.prototype.toggleUnorderedList=function(){S(this)},G.prototype.toggleOrderedList=function(){T(this)},G.prototype.cleanBlock=function(){E(this)},G.prototype.drawLink=function(){O(this)},G.prototype.drawImage=function(){A(this)},G.prototype.drawTable=function(){D(this)},G.prototype.drawHorizontalRule=function(){N(this)},G.prototype.undo=function(){P(this)},G.prototype.redo=function(){M(this)},G.prototype.togglePreview=function(){R(this)},G.prototype.toggleSideBySide=function(){L(this)},G.prototype.toggleFullScreen=function(){p(this)},G.prototype.isPreviewActive=function(){var t=this.codemirror.getWrapperElement().lastChild;return/editor-preview-active/.test(t.className)},G.prototype.isSideBySideActive=function(){var t=this.codemirror.getWrapperElement().nextSibling;return/editor-preview-active-side/.test(t.className)},G.prototype.isFullscreenActive=function(){return this.codemirror.getOption("fullScreen")},G.prototype.getState=function(){return d(this.codemirror)},G.prototype.toTextArea=function(){var t=this.codemirror,e=t.getWrapperElement();e.parentNode&&(this.gui.toolbar&&e.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&e.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&e.parentNode.removeChild(this.gui.sideBySide)),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},t.exports=G},"66wf":function(t,e,n){n("CAtV")},"6LCz":function(t,e){!function(){"use strict";var t,e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return t},r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o="[-'\\.‘’․﹒＇．]",i="[:··״‧︓﹕：]",a="[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",s="[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",u="\\r",l="\\n",c="[\v\f\u2028\u2029]",f="[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",d="[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",h="[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",p="[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",m="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",g=0,v=1,y=2,b=3,w=4,x=5,_=6,k=7,C=8,S=9,T=10,E=11,O=12,A=13,D=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp(o),new RegExp(i),new RegExp(a),new RegExp(s),new RegExp(u),new RegExp(l),new RegExp(c),new RegExp(f),new RegExp(d),new RegExp(h),new RegExp(p),new RegExp("@")],N=new RegExp("^"+m+"$"),P=D,M=A,L=function(t){for(var e=M,n=P.length,r=0;r<n;++r){var o=P[r];if(o&&o.test(t)){e=r;break}}return e},R=function(t){var e,n;return function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r}(t,(e=L,n={},function(t){if(n[t])return n[t];var r=e(t);return n[t]=r,r}))},I=function(t,e){var n=t[e],r=t[e+1];if(e<0||e>t.length-1&&0!==e)return!1;if(n===g&&r===g)return!1;var o=t[e+2];if(n===g&&(r===y||r===v||r===O)&&o===g)return!1;var i=t[e-1];return(n!==y&&n!==v&&r!==O||r!==g||i!==g)&&((n!==w&&n!==g||r!==w&&r!==g)&&((n!==b&&n!==v||r!==w||i!==w)&&((n!==w||r!==b&&r!==v||o!==w)&&(n!==C&&n!==S&&i!==C&&i!==S&&r!==C&&r!==S&&((n!==x||r!==_)&&(n===k||n===x||n===_||(r===k||r===x||r===_||(n!==T||r!==T)&&((r!==E||n!==g&&n!==w&&n!==T&&n!==E)&&((n!==E||r!==g&&r!==w&&r!==T)&&n!==O)))))))))},B=/^\s+$/,F=N,j=function(t){return"http"===t||"https"===t},z=function(t,e){var n=function(t,e){var n;for(n=e;n<t.length&&!B.test(t[n]);n++);return n}(t,e+1);return"://"===t.slice(e+1,n).join("").substr(0,3)?n:e},H=function(t,e,n){n=r(r({},{includeWhitespace:!1,includePunctuation:!1}),n);for(var o=[],i=[],a=0;a<t.length;a++){var s=e(t[a]);"\ufeff"!==s&&(o.push(t[a]),i.push(s))}return function(t,e,n,r){for(var o=[],i=[],a=0;a<n.length;++a)if(i.push(t[a]),I(n,a)){var s=e[a];if((r.includeWhitespace||!B.test(s))&&(r.includePunctuation||!F.test(s))){var u=a-i.length+1,l=a+1,c=e.slice(u,l).join("");if(j(c)){var f=z(e,a),d=t.slice(l,f);Array.prototype.push.apply(i,d),a=f}o.push(i)}i=[]}return o}(o,i,R(i),n)},q=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),U=function(t,e){for(var n=e.getBlockElements(),r=e.getShortEndedElements(),o=function(t){return n[t.nodeName]||r[t.nodeName]},i=[],a="",s=new q(t,t);t=s.next();)3===t.nodeType?a+=t.data.replace(/\uFEFF/g,""):o(t)&&a.length&&(i.push(a),a="");return a.length&&i.push(a),i},W=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},V=function(t,e){var r=U(t,e).join("\n");return H(r.split(""),n).length},$=function(t,e){var n=U(t,e).join("");return W(n)},G=function(t,e){var n=U(t,e).join("").replace(/\s/g,"");return W(n)},Y=function(t,e){return function(){return e(t.getBody(),t.schema)}},K=function(t,e){return function(){return e(t.selection.getRng().cloneContents(),t.schema)}},Z=function(t){return Y(t,V)},X=tinymce.util.Tools.resolve("tinymce.util.Delay"),J=function(t,e){!function(t,e){t.fire("wordCountUpdate",{wordCount:{words:e.body.getWordCount(),characters:e.body.getCharacterCount(),charactersWithoutSpaces:e.body.getCharacterCountWithoutSpaces()}})}(t,e)},Q=function(t,e){t.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(e.body.getWordCount()),String(e.selection.getWordCount())],["Characters (no spaces)",String(e.body.getCharacterCountWithoutSpaces()),String(e.selection.getCharacterCountWithoutSpaces())],["Characters",String(e.body.getCharacterCount()),String(e.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})};void 0===t&&(t=300),e.add("wordcount",(function(e){var n=function(t){return{body:{getWordCount:Z(t),getCharacterCount:Y(t,$),getCharacterCountWithoutSpaces:Y(t,G)},selection:{getWordCount:K(t,V),getCharacterCount:K(t,$),getCharacterCountWithoutSpaces:K(t,G)},getCount:Z(t)}}(e);return function(t,e){t.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return Q(t,e)}}),t.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return Q(t,e)}})}(e,n),function(t,e,n){var r=X.debounce((function(){return J(t,e)}),n);t.on("init",(function(){J(t,e),X.setEditorTimeout(t,(function(){t.on("SetContent BeforeAddUndo Undo Redo keyup",r)}),0)}))}(e,n,t),n}))}()},"6mXC":function(t,e,n){"use strict";var r=n("Sl0r");function o(t){"function"==typeof(t=t||{}).codeMirrorInstance&&"function"==typeof t.codeMirrorInstance.defineMode&&(String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.codeMirrorInstance.defineMode("spell-checker",(function(e){if(!o.aff_loading){o.aff_loading=!0;var n=new XMLHttpRequest;n.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),n.onload=function(){4===n.readyState&&200===n.status&&(o.aff_data=n.responseText,o.num_loaded++,2==o.num_loaded&&(o.typo=new r("en_US",o.aff_data,o.dic_data,{platform:"any"})))},n.send(null)}if(!o.dic_loading){o.dic_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),i.onload=function(){4===i.readyState&&200===i.status&&(o.dic_data=i.responseText,o.num_loaded++,2==o.num_loaded&&(o.typo=new r("en_US",o.aff_data,o.dic_data,{platform:"any"})))},i.send(null)}var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',s={token:function(t){var e=t.peek(),n="";if(a.includes(e))return t.next(),null;for(;null!=(e=t.peek())&&!a.includes(e);)n+=e,t.next();return o.typo&&!o.typo.check(n)?"spell-error":null}},u=t.codeMirrorInstance.getMode(e,e.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(u,s,!0)})))}o.num_loaded=0,o.aff_loading=!1,o.dic_loading=!1,o.aff_data="",o.dic_data="",o.typo,t.exports=o},"7LmT":function(t,e,n){n("iWJ3")},"7anz":function(t,e,n){n("w2Ga")},"7x9u":function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){var e=function(t){return t.getContent({source_view:!0})}(t);t.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:e},onSubmit:function(e){!function(t,e){t.focus(),t.undoManager.transact((function(){t.setContent(e)})),t.selection.setCursorLocation(),t.nodeChanged()}(t,e.getData().code),e.close()}})};t.add("code",(function(t){return function(t){t.addCommand("mceCodeEditor",(function(){e(t)}))}(t),function(t){t.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return e(t)}}),t.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return e(t)}})}(t),{}}))}()},"8DTc":function(t,e){!function(t){"use strict";var e=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(t){return{isFullscreen:function(){return null!==t.get()}}},o=function(){},i=function(t){return function(){return t}},a=i(!1),s=i(!0),u=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:a,isSome:a,isNone:s,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:u,each:o,bind:u,exists:a,forall:s,filter:u,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")}}(),c=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return c(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return o},f={some:c,none:u,from:function(t){return null==t?l:c(t)}},d=function(){return t=function(t){t.unbind()},n=e(f.none()),r=function(){n.get().each(t)},{clear:function(){r(),n.set(f.none())},isSet:function(){return n.get().isSome()},set:function(t){r(),n.set(f.some(t))}};var t,n,r},h=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},p=function(t){return function(e){return typeof e===t}},m=h("string"),g=h("array"),v=p("boolean"),y=function(t){return!function(t){return null==t}(t)},b=p("function"),w=p("number"),x=Array.prototype.push,_=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},k=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},C=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},S=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);x.apply(e,t[n])}return e}(_(t,e))},T=Object.keys,E=function(t){return void 0!==t.style&&b(t.style.getPropertyValue)},O=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},A={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return O(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return O(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return O(r)},fromDom:O,fromPoint:function(t,e,n){var r=t.dom();return f.from(r.elementFromPoint(e,n)).map(O)}},D=(void 0!==t.window?t.window:Function("return this;")(),function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}}),N=D(1),P=D(3),M=D(9),L=D(11),R=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},I=function(t){return function(t){return f.from(t.dom().parentNode).map(A.fromDom)}(t).map(B).map((function(e){return C(e,(function(e){return n=e,!(t.dom()===n.dom());var n}))})).getOr([])},B=function(t){return _(t.dom().childNodes,A.fromDom)},F=b(t.Element.prototype.attachShadow)&&b(t.Node.prototype.getRootNode),j=i(F),z=F?function(t){return A.fromDom(t.dom().getRootNode())}:function(t){return M(t)?t:(e=t,A.fromDom(e.dom().ownerDocument));var e},H=function(t){var e=z(t);return L(e)?f.some(e):f.none()},q=function(t){return A.fromDom(t.dom().host)},U=function(t){if(j()&&y(t.target)){var e=A.fromDom(t.target);if(N(e)&&W(A.fromDom(t.target))){var n=t;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return 0===(o=r).length?f.none():f.some(o[0])}}}var o;return f.from(t.target)},W=function(t){return y(t.dom().shadowRoot)},V=function(t){var e,n,r=P(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&H(A.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=V,n=q,function(t){return e(n(t))}))},$=function(e,n,r){!function(e,n,r){if(!(m(r)||v(r)||w(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)},G=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Y=function(t,e){t.dom().removeAttribute(e)},K=function(e,n){var r=e.dom();!function(t,e){for(var n=T(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(n,(function(e,n){!function(e,n,r){if(!m(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);E(e)&&e.style.setProperty(n,r)}(r,n,e)}))},Z=function(t,e){return E(t)?t.style.getPropertyValue(e):""},X=function(t){var e,n,r=A.fromDom(U(t).getOr(t.target)),o=function(){return t.stopPropagation()},a=function(){return t.preventDefault()},s=(e=a,n=o,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(n.apply(null,t))});return function(t,e,n,r,o,a,s){return{target:i(t),x:i(e),y:i(n),stop:r,prevent:o,kill:a,raw:i(s)}}(r,t.clientX,t.clientY,o,a,s,t)},J=function(t,e){return{left:i(t),top:i(e),translate:function(n,r){return J(t+n,e+r)}}},Q=J,tt=function(e){var n=void 0===e?t.window:e;return f.from(n.visualViewport)},et=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},nt=function(e){var n=void 0===e?t.window:e,r=n.document,o=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Q(r,o)}(A.fromDom(r));return tt(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return et(o.left(),o.top(),e,r)}),(function(t){return et(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},rt=function(t,e,n){return tt(n).map((function(e){var n=function(t){return X(t)};return e.addEventListener(t,n),{unbind:function(){return e.removeEventListener(t,n)}}})).getOrThunk((function(){return{unbind:o}}))},ot=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),it=tinymce.util.Tools.resolve("tinymce.Env"),at=tinymce.util.Tools.resolve("tinymce.util.Delay"),st=function(t,e){t.fire("FullscreenStateChanged",{state:e})},ut=function(t,e,n){return C(function(t,e){for(var n=b(e)?e:a,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,s=A.fromDom(i);if(o.push(s),!0===n(s))break;r=i}return o}(t,n),e)},lt=function(e){return function(e,n){var r,o=void 0===n?t.document:n.dom();return 1!==(r=o).nodeType&&9!==r.nodeType&&11!==r.nodeType||0===r.childElementCount?[]:_(o.querySelectorAll(e),A.fromDom)}(e)},ct=function(t,e,n){return ut(t,(function(t){return R(t,e)}),n)},ft=function(t,e){return function(t,e){return C(I(t),e)}(t,(function(t){return R(t,e)}))},dt="data-ephox-mobile-fullscreen-style",ht="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",pt=it.os.isAndroid(),mt=function(e){var n=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n);return""!==o||V(e)?o:Z(r,n)}(e,"background-color");return void 0!==n&&""!==n?"background-color:"+n+"!important":"background-color:rgb(255,255,255)!important;"},gt=ot.DOM,vt=tt().fold((function(){return{bind:o,unbind:o}}),(function(n){var r,o=(r=e(f.none()),{clear:function(){r.set(f.none())},set:function(t){r.set(f.some(t))},isSet:function(){return r.get().isSome()},on:function(t){r.get().each(t)}}),i=d(),a=d(),s=at.throttle((function(){t.document.body.scrollTop=0,t.document.documentElement.scrollTop=0,t.window.requestAnimationFrame((function(){o.on((function(t){return K(t,{top:n.offsetTop+"px",left:n.offsetLeft+"px",height:n.height+"px",width:n.width+"px"})}))}))}),50);return{bind:function(t){o.set(t),s(),i.set(rt("resize")),a.set(rt("scroll"))},unbind:function(){o.on((function(){i.clear(),a.clear()})),o.clear()}}})),yt=function(e,n){var r,o,i=t.document.body,a=t.document.documentElement,s=e.getContainer(),u=A.fromDom(s),l=n.get(),c=A.fromDom(e.getBody()),f=it.deviceType.isTouch(),d=s.style,h=e.iframeElement.style,p=function(){var t,n;f&&(t=e.dom,n=lt("["+dt+"]"),k(n,(function(e){var n=G(e,dt);"no-styles"!==n?K(e,t.parseStyle(n)):Y(e,"style"),Y(e,dt)}))),gt.removeClass(i,"tox-fullscreen"),gt.removeClass(a,"tox-fullscreen"),gt.removeClass(s,"tox-fullscreen"),vt.unbind()};if(l)h.width=l.iframeWidth,h.height=l.iframeHeight,d.width=l.containerWidth,d.height=l.containerHeight,d.top=l.containerTop,d.left=l.containerLeft,r=l.scrollPos,t.window.scrollTo(r.x,r.y),n.set(null),st(e,!1),p(),e.off("remove",p);else{var m={scrollPos:(o=nt(t.window),{x:o.x,y:o.y}),containerWidth:d.width,containerHeight:d.height,containerTop:d.top,containerLeft:d.left,iframeWidth:h.width,iframeHeight:h.height};f&&function(t,e,n){var r=function(e){return function(n){var r=G(n,"style"),o=void 0===r?"no-styles":r.trim();o!==e&&($(n,dt,o),K(n,t.parseStyle(e)))}},o=ct(e,"*"),i=S(o,(function(t){return ft(t,"*:not(.tox-silver-sink)")})),a=mt(n);k(i,r("display:none!important;")),k(o,r("position:absolute!important;"+ht+a)),r((!0===pt?"":"position:absolute!important;")+ht+a)(e)}(e.dom,u,c),h.width=h.height="100%",d.width=d.height="",gt.addClass(i,"tox-fullscreen"),gt.addClass(a,"tox-fullscreen"),gt.addClass(s,"tox-fullscreen"),vt.bind(u),e.on("remove",p),n.set(m),st(e,!0)}},bt=function(t,e){return function(n){n.setActive(null!==e.get());var r=function(t){return n.setActive(t.state)};return t.on("FullscreenStateChanged",r),function(){return t.off("FullscreenStateChanged",r)}}};n.add("fullscreen",(function(t){var n=e(null);return t.inline||(function(t,e){t.addCommand("mceFullScreen",(function(){yt(t,e)}))}(t,n),function(t,e){t.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:bt(t,e)}),t.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return t.execCommand("mceFullScreen")},onSetup:bt(t,e)})}(t,n),t.addShortcut("Meta+Shift+F","","mceFullScreen")),r(n)}))}(window)},"8EBN":function(t,e,n){!function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var e=0;e<t.modeInfo.length;e++){var n=t.modeInfo[e];n.mimes&&(n.mime=n.mimes[0])}t.findModeByMIME=function(e){e=e.toLowerCase();for(var n=0;n<t.modeInfo.length;n++){var r=t.modeInfo[n];if(r.mime==e)return r;if(r.mimes)for(var o=0;o<r.mimes.length;o++)if(r.mimes[o]==e)return r}return/\+xml$/.test(e)?t.findModeByMIME("application/xml"):/\+json$/.test(e)?t.findModeByMIME("application/json"):void 0},t.findModeByExtension=function(e){e=e.toLowerCase();for(var n=0;n<t.modeInfo.length;n++){var r=t.modeInfo[n];if(r.ext)for(var o=0;o<r.ext.length;o++)if(r.ext[o]==e)return r}},t.findModeByFileName=function(e){for(var n=0;n<t.modeInfo.length;n++){var r=t.modeInfo[n];if(r.file&&r.file.test(e))return r}var o=e.lastIndexOf("."),i=o>-1&&e.substring(o+1,e.length);if(i)return t.findModeByExtension(i)},t.findModeByName=function(e){e=e.toLowerCase();for(var n=0;n<t.modeInfo.length;n++){var r=t.modeInfo[n];if(r.name.toLowerCase()==e)return r;if(r.alias)for(var o=0;o<r.alias.length;o++)if(r.alias[o].toLowerCase()==e)return r}}}(n("VrN/"))},"8L3F":function(t,e,n){"use strict";n.r(e),function(t){var n="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var t=["Edge","Trident","Firefox"],e=0;e<t.length;e+=1)if(n&&navigator.userAgent.indexOf(t[e])>=0)return 1;return 0}();var o=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function i(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function s(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=a(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?t:u(s(t))}function l(t){return t&&t.referenceNode?t.referenceNode:t}var c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?c:10===t?f:c||f}function h(t){if(!t)return document.documentElement;for(var e=d(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?h(n):n:t?t.ownerDocument.documentElement:document.documentElement}function p(t){return null!==t.parentNode?p(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,o=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,s,u=i.commonAncestorContainer;if(t!==u&&e!==u||r.contains(o))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&h(a.firstElementChild)!==a?h(u):u;var l=p(t);return l.host?m(l.host,e):m(t,p(e).host)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var o=t.ownerDocument.documentElement,i=t.ownerDocument.scrollingElement||o;return i[n]}return t[n]}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(e,"top"),o=g(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=o*i,t.right+=o*i,t}function y(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"])+parseFloat(t["border"+r+"Width"])}function b(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],d(10)?parseInt(n["offset"+t])+parseInt(r["margin"+("Height"===t?"Top":"Left")])+parseInt(r["margin"+("Height"===t?"Bottom":"Right")]):0)}function w(t){var e=t.body,n=t.documentElement,r=d(10)&&getComputedStyle(n);return{height:b("Height",e,n,r),width:b("Width",e,n,r)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function S(t){return C({},t,{right:t.left+t.width,bottom:t.top+t.height})}function T(t){var e={};try{if(d(10)){e=t.getBoundingClientRect();var n=g(t,"top"),r=g(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(t){}var o={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?w(t.ownerDocument):{},s=i.width||t.clientWidth||o.width,u=i.height||t.clientHeight||o.height,l=t.offsetWidth-s,c=t.offsetHeight-u;if(l||c){var f=a(t);l-=y(f,"x"),c-=y(f,"y"),o.width-=l,o.height-=c}return S(o)}function E(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),o="HTML"===e.nodeName,i=T(t),s=T(e),l=u(t),c=a(e),f=parseFloat(c.borderTopWidth),h=parseFloat(c.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=S({top:i.top-s.top-f,left:i.left-s.left-h,width:i.width,height:i.height});if(p.marginTop=0,p.marginLeft=0,!r&&o){var m=parseFloat(c.marginTop),g=parseFloat(c.marginLeft);p.top-=f-m,p.bottom-=f-m,p.left-=h-g,p.right-=h-g,p.marginTop=m,p.marginLeft=g}return(r&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=v(p,e)),p}function O(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=E(t,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:g(n),s=e?0:g(n,"left"),u={top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:o,height:i};return S(u)}function A(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===a(t,"position"))return!0;var n=s(t);return!!n&&A(n)}function D(t){if(!t||!t.parentElement||d())return document.documentElement;for(var e=t.parentElement;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function N(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?D(t):m(t,l(e));if("viewport"===r)i=O(a,o);else{var c=void 0;"scrollParent"===r?"BODY"===(c=u(s(e))).nodeName&&(c=t.ownerDocument.documentElement):c="window"===r?t.ownerDocument.documentElement:r;var f=E(c,a,o);if("HTML"!==c.nodeName||A(a))i=f;else{var d=w(t.ownerDocument),h=d.height,p=d.width;i.top+=f.top-f.marginTop,i.bottom=h+f.top,i.left+=f.left-f.marginLeft,i.right=p+f.left}}var g="number"==typeof(n=n||0);return i.left+=g?n:n.left||0,i.top+=g?n:n.top||0,i.right-=g?n:n.right||0,i.bottom-=g?n:n.bottom||0,i}function P(t){return t.width*t.height}function M(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=N(n,r,i,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},u=Object.keys(s).map((function(t){return C({key:t},s[t],{area:P(s[t])})})).sort((function(t,e){return e.area-t.area})),l=u.filter((function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight})),c=l.length>0?l[0].key:u[0].key,f=t.split("-")[1];return c+(f?"-"+f:"")}function L(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?D(e):m(e,l(n));return E(n,o,r)}function R(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function I(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function B(t,e,n){n=n.split("-")[0];var r=R(t),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",s=i?"left":"top",u=i?"height":"width",l=i?"width":"height";return o[a]=e[a]+e[u]/2-r[u]/2,o[s]=n===s?e[s]-r[l]:e[I(s)],o}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function j(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var r=F(t,(function(t){return t[e]===n}));return t.indexOf(r)}(t,"name",n))).forEach((function(t){t.function;var n=t.function||t.fn;t.enabled&&i(n)&&(e.offsets.popper=S(e.offsets.popper),e.offsets.reference=S(e.offsets.reference),e=n(e,t))})),e}function z(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=L(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=M(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=B(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=j(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function H(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function q(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length;r++){var o=e[r],i=o?""+o+n:t;if(void 0!==document.body.style[i])return i}return null}function U(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function W(t){var e=t.ownerDocument;return e?e.defaultView:window}function V(t,e,n,r){n.updateBound=r,W(t).addEventListener("resize",n.updateBound,{passive:!0});var o=u(t);return function t(e,n,r,o){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(n,r,{passive:!0}),i||t(u(a.parentNode),n,r,o),o.push(a)}(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function $(){this.state.eventsEnabled||(this.state=V(this.reference,this.options,this.state,this.scheduleUpdate))}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,W(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function Y(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function K(t,e){Object.keys(e).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Y(e[n])&&(r="px"),t.style[n]=e[n]+r}))}var Z=n&&/Firefox/i.test(navigator.userAgent);function X(t,e,n){var r=F(t,(function(t){return t.name===e})),o=!!r&&t.some((function(t){return t.name===n&&t.enabled&&t.order<r.order}));if(!o);return o}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=J.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(t),r=Q.slice(n+1).concat(Q.slice(0,n));return e?r.reverse():r}var et="flip",nt="clockwise",rt="counterclockwise";function ot(t,e,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=t.split(/(\+|\-)/).map((function(t){return t.trim()})),s=a.indexOf(F(a,(function(t){return-1!==t.search(/,|\s/)})));a[s]&&a[s].indexOf(",");var u=/\s*,\s*|\s+/,l=-1!==s?[a.slice(0,s).concat([a[s].split(u)[0]]),[a[s].split(u)[1]].concat(a.slice(s+1))]:[a];return(l=l.map((function(t,r){var o=(1===r?!i:i)?"height":"width",a=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,r){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[e]/100*i}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}(t,o,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,r){Y(n)&&(o[e]+=n*("-"===t[r-1]?-1:1))}))})),o}var it={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var o=t.offsets,i=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",l=s?"width":"height",c={start:k({},u,i[u]),end:k({},u,i[u]+i[l]-a[l])};t.offsets.popper=C({},a,c[r])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,r=t.placement,o=t.offsets,i=o.popper,a=o.reference,s=r.split("-")[0],u=void 0;return u=Y(+n)?[+n,0]:ot(n,i,a,s),"left"===s?(i.top+=u[0],i.left-=u[1]):"right"===s?(i.top+=u[0],i.left+=u[1]):"top"===s?(i.left+=u[0],i.top-=u[1]):"bottom"===s&&(i.left+=u[0],i.top+=u[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||h(t.instance.popper);t.instance.reference===n&&(n=h(n));var r=q("transform"),o=t.instance.popper.style,i=o.top,a=o.left,s=o[r];o.top="",o.left="",o[r]="";var u=N(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);o.top=i,o.left=a,o[r]=s,e.boundaries=u;var l=e.priority,c=t.offsets.popper,f={primary:function(t){var n=c[t];return c[t]<u[t]&&!e.escapeWithReference&&(n=Math.max(c[t],u[t])),k({},t,n)},secondary:function(t){var n="right"===t?"left":"top",r=c[n];return c[t]>u[t]&&!e.escapeWithReference&&(r=Math.min(c[n],u[t]-("right"===t?c.width:c.height))),k({},n,r)}};return l.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=C({},c,f[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,r=e.reference,o=t.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",u=a?"left":"top",l=a?"width":"height";return n[s]<i(r[u])&&(t.offsets.popper[u]=i(r[u])-n[l]),n[u]>i(r[s])&&(t.offsets.popper[u]=i(r[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!X(t.instance.modifiers,"arrow","keepTogether"))return t;var r=e.element;if("string"==typeof r){if(!(r=t.instance.popper.querySelector(r)))return t}else if(!t.instance.popper.contains(r))return t;var o=t.placement.split("-")[0],i=t.offsets,s=i.popper,u=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",f=l?"Top":"Left",d=f.toLowerCase(),h=l?"left":"top",p=l?"bottom":"right",m=R(r)[c];u[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(u[p]-m)),u[d]+m>s[p]&&(t.offsets.popper[d]+=u[d]+m-s[p]),t.offsets.popper=S(t.offsets.popper);var g=u[d]+u[c]/2-m/2,v=a(t.instance.popper),y=parseFloat(v["margin"+f]),b=parseFloat(v["border"+f+"Width"]),w=g-t.offsets.popper[d]-y-b;return w=Math.max(Math.min(s[c]-m,w),0),t.arrowElement=r,t.offsets.arrow=(k(n={},d,Math.round(w)),k(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(H(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=N(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),r=t.placement.split("-")[0],o=I(r),i=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case et:a=[r,o];break;case nt:a=tt(r);break;case rt:a=tt(r,!0);break;default:a=e.behavior}return a.forEach((function(s,u){if(r!==s||a.length===u+1)return t;r=t.placement.split("-")[0],o=I(r);var l=t.offsets.popper,c=t.offsets.reference,f=Math.floor,d="left"===r&&f(l.right)>f(c.left)||"right"===r&&f(l.left)<f(c.right)||"top"===r&&f(l.bottom)>f(c.top)||"bottom"===r&&f(l.top)<f(c.bottom),h=f(l.left)<f(n.left),p=f(l.right)>f(n.right),m=f(l.top)<f(n.top),g=f(l.bottom)>f(n.bottom),v="left"===r&&h||"right"===r&&p||"top"===r&&m||"bottom"===r&&g,y=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(y&&"start"===i&&h||y&&"end"===i&&p||!y&&"start"===i&&m||!y&&"end"===i&&g),w=!!e.flipVariationsByContent&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&g||!y&&"end"===i&&m),x=b||w;(d||v||x)&&(t.flipped=!0,(d||v)&&(r=a[u+1]),x&&(i=function(t){return"end"===t?"start":"start"===t?"end":t}(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=C({},t.offsets.popper,B(t.instance.popper,t.offsets.reference,t.placement)),t=j(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(s?o[a?"width":"height"]:0),t.placement=I(e),t.offsets.popper=S(o),t}},hide:{order:800,enabled:!0,fn:function(t){if(!X(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,r=e.y,o=t.offsets.popper,i=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration,a=void 0!==i?i:e.gpuAcceleration,s=h(t.instance.popper),u=T(s),l={position:o.position},c=function(t,e){var n=t.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,s=function(t){return t},u=i(o.width),l=i(r.width),c=-1!==["left","right"].indexOf(t.placement),f=-1!==t.placement.indexOf("-"),d=e?c||f||u%2==l%2?i:a:s,h=e?i:s;return{left:d(u%2==1&&l%2==1&&!f&&e?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:d(r.right)}}(t,window.devicePixelRatio<2||!Z),f="bottom"===n?"top":"bottom",d="right"===r?"left":"right",p=q("transform"),m=void 0,g=void 0;if(g="bottom"===f?"HTML"===s.nodeName?-s.clientHeight+c.bottom:-u.height+c.bottom:c.top,m="right"===d?"HTML"===s.nodeName?-s.clientWidth+c.right:-u.width+c.right:c.left,a&&p)l[p]="translate3d("+m+"px, "+g+"px, 0)",l[f]=0,l[d]=0,l.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===d?-1:1;l[f]=g*v,l[d]=m*y,l.willChange=f+", "+d}var b={"x-placement":t.placement};return t.attributes=C({},b,t.attributes),t.styles=C({},l,t.styles),t.arrowStyles=C({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return K(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&K(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,r,o){var i=L(o,e,t,n.positionFixed),a=M(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",a),K(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},at=function(){function t(e,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=o(this.update.bind(this)),this.options=C({},t.Defaults,a),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},t.Defaults.modifiers,a.modifiers)).forEach((function(e){r.options.modifiers[e]=C({},t.Defaults.modifiers[e]||{},a.modifiers?a.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return C({name:t},r.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&i(t.onLoad)&&t.onLoad(r.reference,r.popper,r.options,t,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return _(t,[{key:"update",value:function(){return z.call(this)}},{key:"destroy",value:function(){return U.call(this)}},{key:"enableEventListeners",value:function(){return $.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();at.Utils=("undefined"!=typeof window?window:t).PopperUtils,at.placements=J,at.Defaults=it,e.default=at}.call(this,n("yLpj"))},"8oxB":function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,l=[],c=!1,f=-1;function d(){c&&u&&(c=!1,u.length?l=u.concat(l):f=-1,l.length&&h())}function h(){if(!c){var t=s(d);c=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new p(t,e)),1!==l.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"9rSQ":function(t,e,n){"use strict";var r=n("xTJ+");function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},Aw8l:function(t,e,n){(function(t){!function(e){"use strict";var n=function(){},r=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},o=function(t){return function(){return t}},i=function(t){return t};function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var s=function(t){return function(e){return!t(e)}},u=function(t){return function(){throw new Error(t)}},l=o(!1),c=o(!0),f=tinymce.util.Tools.resolve("tinymce.ThemeManager"),d=function(){return(d=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function p(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var m,g=function(){return v},v=function(){var t=function(t){return t.isNone()},e=function(t){return t()},r=function(t){return t};return{fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:r,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:o(null),getOrUndefined:o(void 0),or:r,orThunk:e,map:g,each:n,bind:g,exists:l,forall:c,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:o("none()")}}(),y=function(t){var e=o(t),n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?i:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return i},b={some:y,none:g,from:function(t){return null==t?v:y(t)}},w=function(t){return function(e){return function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},x=function(t){return function(e){return typeof e===t}},_=w("string"),k=w("object"),C=w("array"),S=x("boolean"),T=function(t){return function(e){return t===e}}(void 0),E=function(t){return!function(t){return null==t}(t)},O=x("function"),A=x("number"),D=function(t,e){if(C(t)){for(var n=0,r=t.length;n<r;++n)if(!e(t[n]))return!1;return!0}return!1},N=Array.prototype.slice,P=Array.prototype.indexOf,M=Array.prototype.push,L=function(t,e){return P.call(t,e)},R=function(t,e){return L(t,e)>-1},I=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},B=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},F=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=N.call(t,r,r+e);n.push(o)}return n},j=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},z=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},H=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o];(e(a,o)?n:r).push(a)}return{pass:n,fail:r}},q=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},U=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},W=function(t,e,n){return z(t,(function(t){n=e(n,t)})),n},V=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return b.some(i);if(n(i,r))break}return b.none()}(t,e,l)},$=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return b.some(n)}return b.none()},G=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!C(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);M.apply(e,t[n])}return e},Y=function(t,e){return G(j(t,e))},K=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},Z=function(t){var e=N.call(t,0);return e.reverse(),e},X=function(t,e){return q(t,(function(t){return!R(e,t)}))},J=function(t,e){var n=N.call(t,0);return n.sort(e),n},Q=function(t){return 0===t.length?b.none():b.some(t[0])},tt=function(t){return 0===t.length?b.none():b.some(t[t.length-1])},et=O(Array.from)?Array.from:function(t){return N.call(t)},nt=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return b.none()},rt=function(t){return{is:function(e){return t===e},isValue:c,isError:l,getOr:o(t),getOrThunk:o(t),getOrDie:o(t),or:function(e){return rt(t)},orThunk:function(e){return rt(t)},fold:function(e,n){return n(t)},map:function(e){return rt(e(t))},mapError:function(e){return rt(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return b.some(t)}}},ot=function(t){return{is:l,isValue:l,isError:c,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return u(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return ot(t)},mapError:function(e){return ot(e(t))},each:n,bind:function(e){return ot(t)},exists:l,forall:c,toOption:b.none}},it={value:rt,error:ot,fromOption:function(t,e){return t.fold((function(){return ot(e)}),rt)}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(m||(m={}));var at=function(t,e,n){return t.stype===m.Error?e(t.serror):n(t.svalue)},st=function(t){return{stype:m.Value,svalue:t}},ut=function(t){return{stype:m.Error,serror:t}},lt=function(t){return t.fold(ut,st)},ct=function(t){return at(t,it.error,it.value)},ft=st,dt=function(t){var e=[],n=[];return z(t,(function(t){at(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},ht=ut,pt=function(t,e){return t.stype===m.Value?e(t.svalue):t},mt=function(t,e){return t.stype===m.Error?e(t.serror):t},gt=function(t,e){return t.stype===m.Value?{stype:m.Value,svalue:e(t.svalue)}:t},vt=function(t,e){return t.stype===m.Error?{stype:m.Error,serror:e(t.serror)}:t},yt=Object.keys,bt=Object.hasOwnProperty,wt=function(t,e){for(var n=yt(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},xt=function(t,e){return _t(t,(function(t,n){return{k:n,v:e(t,n)}}))},_t=function(t,e){var n={};return wt(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},kt=function(t,e){var r={};return function(t,e,n,r){wt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))}(t,e,function(t){return function(e,n){t[n]=e}}(r),n),r},Ct=function(t,e){var n=[];return wt(t,(function(t,r){n.push(e(t,r))})),n},St=function(t,e){for(var n=yt(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return b.some(a)}return b.none()},Tt=function(t){return Ct(t,(function(t){return t}))},Et=function(t,e){return Ot(t,e)?b.from(t[e]):b.none()},Ot=function(t,e){return bt.call(t,e)},At=function(t,e){return Ot(t,e)&&void 0!==t[e]&&null!==t[e]},Dt=function(t){if(!C(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return z(t,(function(o,i){var a=yt(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!C(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var l=function(t){var e=yt(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!K(n,(function(t){return R(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:l,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:o})}}}})),r},Nt=Object.prototype.hasOwnProperty,Pt=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)Nt.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},Mt=Pt((function(t,e){return k(t)&&k(e)?Mt(t,e):e})),Lt=Pt((function(t,e){return e})),Rt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},It=Dt([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Bt=function(t){return It.defaultedThunk(o(t))},Ft=function(t){return It.mergeWithThunk(o(t))},jt=It.strict,zt=It.asOption,Ht=It.defaultedThunk,qt=(It.asDefaultedOptionThunk,It.mergeWithThunk),Ut=function(t,e){var n;return(n={})[t]=e,n},Wt=(Dt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,e){return function(t,e){var n={};return wt(t,(function(t,r){R(e,r)||(n[r]=t)})),n}(t,e)}),Vt=function(t,e){return Ut(t,e)},$t=function(t){return function(t){var e={};return z(t,(function(t){e[t.key]=t.value})),e}(t)},Gt=function(t,e){var n,r=function(t){var e=[],n=[];return z(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(t);return r.errors.length>0?(n=r.errors,it.error(G(n))):function(t,e){return 0===t.length?it.value(e):it.value(Mt(e,Lt.apply(void 0,t)))}(r.values,e)},Yt=function(t){return r(ht,G)(t)},Kt=function(t,e){var n=dt(t);return n.errors.length>0?Yt(n.errors):function(t,e){return t.length>0?ft(Mt(e,Lt.apply(void 0,t))):ft(e)}(n.values,e)},Zt=function(t){var e=dt(t);return e.errors.length>0?Yt(e.errors):ft(e.values)},Xt=function(t){return k(t)&&yt(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Jt=function(t,e){return ht([{path:t,getErrorInfo:e}])},Qt=Dt([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),te=function(t,e,n){return Et(e,n).fold((function(){return function(t,e,n){return Jt(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+Xt(n)}))}(t,n,e)}),ft)},ee=function(t,e,n){var r=Et(t,e).fold((function(){return n(t)}),i);return ft(r)},ne=function(t,e,n,r){return n.fold((function(n,i,a,s){var u=function(e){var o=s.extract(t.concat([n]),r,e);return gt(o,(function(t){return Ut(i,r(t))}))},l=function(e){return e.fold((function(){var t=Ut(i,r(b.none()));return ft(t)}),(function(e){var o=s.extract(t.concat([n]),r,e);return gt(o,(function(t){return Ut(i,r(b.some(t)))}))}))};return a.fold((function(){return pt(te(t,e,n),u)}),(function(t){return pt(ee(e,n,t),u)}),(function(){return pt(function(t,e){return ft(Et(t,e))}(e,n),l)}),(function(t){return pt(function(t,e,n){var r=Et(t,e).map((function(e){return!0===e?n(t):e}));return ft(r)}(e,n,t),l)}),(function(t){var r=t(e),i=gt(ee(e,n,o({})),(function(t){return Mt(r,t)}));return pt(i,u)}))}),(function(t,n){var o=n(e);return ft(Ut(t,r(o)))}))},re=function(t){return{extract:function(e,n,r){return mt(t(r,n),(function(t){return function(t,e){return Jt(t,(function(){return e}))}(e,t)}))},toString:function(){return"val"}}},oe=function(t){return yt(kt(t,(function(t){return null!=t})))},ie=function(t){var e=ae(t),n=U(t,(function(t,e){return e.fold((function(e){return Mt(t,Vt(e,!0))}),o(t))}),{});return{extract:function(t,r,o){var i=S(o)?[]:oe(o),a=q(i,(function(t){return!At(n,t)}));return 0===a.length?e.extract(t,r,o):function(t,e){return Jt(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}(t,a)},toString:e.toString}},ae=function(t){return{extract:function(e,n,r){return function(t,e,n,r){var o=j(n,(function(n){return ne(t,e,n,r)}));return Kt(o,{})}(e,r,t,n)},toString:function(){return"obj{\n"+j(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))})).join("\n")+"}"}}},se=function(t){return{extract:function(e,n,r){var o=j(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}));return Zt(o)},toString:function(){return"array("+t.toString()+")"}}},ue=function(t,e){return{extract:function(n,r,o){var a=yt(o),s=function(e,n){return se(re(t)).extract(e,i,n)}(n,a);return pt(s,(function(t){var i=j(t,(function(t){return Qt.field(t,t,jt(),e)}));return ae(i).extract(n,r,o)}))},toString:function(){return"setOf("+e.toString()+")"}}},le=o(re(ft)),ce=r(se,ae),fe=Qt.state,de=Qt.field,he=function(t,e,n,r,o){return Et(r,o).fold((function(){return function(t,e,n){return Jt(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Xt(e)}))}(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))},pe=function(t,e){return{extract:function(n,r,o){return Et(o,t).fold((function(){return function(t,e){return Jt(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return he(n,r,o,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+yt(e)}}},me=re(ft),ge=function(t){return ce(t)},ve=function(t){return{extract:function(e,n,r){return t().extract(e,n,r)},toString:function(){return t().toString()}}},ye=function(t){return re((function(e){return t(e).fold(ht,ft)}))},be=function(t,e){return ue((function(e){return lt(t(e))}),e)},we=function(t,e,n){return ct(function(t,e,n,r){var o=e.extract([t],n,r);return vt(o,(function(t){return{input:r,errors:t}}))}(t,e,i,n))},xe=function(t){return t.fold((function(t){throw new Error(ke(t))}),i)},_e=function(t,e,n){return xe(we(t,e,n))},ke=function(t){return"Errors: \n"+(e=t.errors,n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,j(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Xt(t.input);var e,n},Ce=function(t,e){return pe(t,e)},Se=function(t,e){return pe(t,xt(e,ae))},Te=o(me),Ee=function(t,e){return re((function(n){var r=typeof n;return t(n)?ft(n):ht("Expected type: "+e+" but got: "+r)}))},Oe=Ee(A,"number"),Ae=Ee(_,"string"),De=Ee(S,"boolean"),Ne=Ee(O,"function"),Pe=function(t){var e=function(t,e){for(var n=t.next();!n.done;){if(!e(n.value))return!1;n=t.next()}return!0};if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every((function(e){return Pe(t[e])}));case"Map":return e(t.keys(),Pe)&&e(t.values(),Pe);case"Set":return e(t.keys(),Pe);default:return!1}},Me=re((function(t){return Pe(t)?ft(t):ht("Expected value to be acceptable for sending via postMessage")})),Le=function(t){return ye((function(e){return R(t,e)?it.value(e):it.error('Unsupported value: "'+e+'", choose one of "'+t.join(", ")+'".')}))},Re=function(t){return de(t,t,jt(),le())},Ie=function(t,e){return de(t,t,jt(),e)},Be=function(t){return Ie(t,Oe)},Fe=function(t){return Ie(t,Ae)},je=function(t,e){return de(t,t,jt(),Le(e))},ze=function(t){return Ie(t,Ne)},He=function(t,e){return de(t,t,jt(),ae(e))},qe=function(t,e){return de(t,t,jt(),ce(e))},Ue=function(t,e){return de(t,t,jt(),se(e))},We=function(t){return de(t,t,zt(),le())},Ve=function(t,e){return de(t,t,zt(),e)},$e=function(t){return Ve(t,Oe)},Ge=function(t){return Ve(t,Ae)},Ye=function(t){return Ve(t,Ne)},Ke=function(t,e){return Ve(t,ae(e))},Ze=function(t,e){return de(t,t,Bt(e),le())},Xe=function(t,e,n){return de(t,t,Bt(e),n)},Je=function(t,e){return Xe(t,e,Oe)},Qe=function(t,e){return Xe(t,e,Ae)},tn=function(t,e,n){return Xe(t,e,Le(n))},en=function(t,e){return Xe(t,e,De)},nn=function(t,e){return Xe(t,e,Ne)},rn=function(t,e,n){return Xe(t,e,ae(n))},on=function(t,e){return fe(t,e)},an=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},sn=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:o(t)}},un={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return sn(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return sn(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return sn(r)},fromDom:sn,fromPoint:function(t,e,n){var r=t.dom();return b.from(r.elementFromPoint(e,n)).map(sn)}},ln=function(){return cn(0,0)},cn=function(t,e){return{major:t,minor:e}},fn={nu:cn,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?ln():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return cn(r(1),r(2))}(t,n)},unknown:ln},dn=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},hn={unknown:function(){return dn({current:void 0,version:fn.unknown()})},nu:dn,edge:o("Edge"),chrome:o("Chrome"),ie:o("IE"),opera:o("Opera"),firefox:o("Firefox"),safari:o("Safari")},pn=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},mn={unknown:function(){return pn({current:void 0,version:fn.unknown()})},nu:pn,windows:o("Windows"),ios:o("iOS"),android:o("Android"),linux:o("Linux"),osx:o("OSX"),solaris:o("Solaris"),freebsd:o("FreeBSD"),chromeos:o("ChromeOS")},gn=function(t,e){var n=String(e).toLowerCase();return V(t,(function(t){return t.search(n)}))},vn=function(t,e){return gn(t,e).map((function(t){var n=fn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},yn=function(t,e){return gn(t,e).map((function(t){var n=fn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},bn=function(t,e){return-1!==t.indexOf(e)},wn=function(t){return function(e){return e.replace(t,"")}}(/^\s+|\s+$/g),xn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,_n=function(t){return function(e){return bn(e,t)}},kn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return bn(t,"edge/")&&bn(t,"chrome")&&bn(t,"safari")&&bn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,xn],search:function(t){return bn(t,"chrome")&&!bn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return bn(t,"msie")||bn(t,"trident")}},{name:"Opera",versionRegexes:[xn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:_n("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:_n("firefox")},{name:"Safari",versionRegexes:[xn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(bn(t,"safari")||bn(t,"mobile/"))&&bn(t,"applewebkit")}}],Cn=[{name:"Windows",search:_n("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return bn(t,"iphone")||bn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:_n("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:_n("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:_n("linux"),versionRegexes:[]},{name:"Solaris",search:_n("sunos"),versionRegexes:[]},{name:"FreeBSD",search:_n("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:_n("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Sn={browsers:o(kn),oses:o(Cn)},Tn=function(t,e){var n=Sn.browsers(),r=Sn.oses(),i=vn(n,t).fold(hn.unknown,hn.nu),a=yn(r,t).fold(mn.unknown,mn.nu),s=function(t,e,n,r){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,s=t.isiOS()||t.isAndroid(),u=s||r("(pointer:coarse)"),l=i||!a&&s&&r("(min-device-width:768px)"),c=a||s&&!l,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!f;return{isiPad:o(i),isiPhone:o(a),isTablet:o(l),isPhone:o(c),isTouch:o(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:o(f),isDesktop:o(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:s}},En=function(t){return e.window.matchMedia(t).matches},On=Rt((function(){return Tn(e.navigator.userAgent,En)})),An=function(){return On()},Dn=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Nn=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Pn=function(t,e){return t.dom()===e.dom()},Mn=function(t,n){return function(t,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(t,n,e.Node.DOCUMENT_POSITION_CONTAINED_BY)}(t.dom(),n.dom())},Ln=function(t,e){return An().browser.isIE()?Mn(t,e):function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)}(t,e)},Rn=function(t){return O(t)?t:o(!1)},In=function(t,e,n){for(var r=t.dom(),o=Rn(n);r.parentNode;){r=r.parentNode;var i=un.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return b.none()},Bn=function(t,e,n){var r=e(t),o=Rn(n);return r.orThunk((function(){return o(t)?b.none():In(t,e,o)}))},Fn=function(t,e){return Pn(t.element(),e.event().target())},jn=function(t){if(!At(t,"can")&&!At(t,"abort")&&!At(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return _e("Extracting event.handler",ie([Ze("can",o(!0)),Ze("abort",o(!1)),Ze("run",n)]),t)},zn=function(t){var e=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return W(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}}(t,(function(t){return t.can})),n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return W(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}}(t,(function(t){return t.abort}));return jn({can:e,abort:n,run:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];z(t,(function(t){t.run.apply(void 0,e)}))}})},Hn=o("touchstart"),qn=o("touchmove"),Un=o("touchend"),Wn=o("touchcancel"),Vn=o("mousedown"),$n=o("mousemove"),Gn=o("mouseout"),Yn=o("mouseup"),Kn=o("mouseover"),Zn=o("focusin"),Xn=o("focusout"),Jn=o("keydown"),Qn=o("keyup"),tr=o("input"),er=o("change"),nr=o("click"),rr=o("transitionend"),or=o("selectstart"),ir={tap:o("alloy.tap")},ar=o("alloy.focus"),sr=o("alloy.blur.post"),ur=o("alloy.paste.post"),lr=o("alloy.receive"),cr=o("alloy.execute"),fr=o("alloy.focus.item"),dr=ir.tap,hr=o("alloy.longpress"),pr=o("alloy.sandbox.close"),mr=o("alloy.typeahead.cancel"),gr=o("alloy.system.init"),vr=o("alloy.system.touchmove"),yr=o("alloy.system.touchend"),br=o("alloy.system.scroll"),wr=o("alloy.system.resize"),xr=o("alloy.system.attached"),_r=o("alloy.system.detached"),kr=o("alloy.system.dismissRequested"),Cr=o("alloy.system.repositionRequested"),Sr=o("alloy.focusmanager.shifted"),Tr=o("alloy.slotcontainer.visibility"),Er=o("alloy.change.tab"),Or=o("alloy.dismiss.tab"),Ar=o("alloy.highlight"),Dr=o("alloy.dehighlight"),Nr=function(t,e){Rr(t,t.element(),e,{})},Pr=function(t,e,n){Rr(t,t.element(),e,n)},Mr=function(t){Nr(t,cr())},Lr=function(t,e,n){Rr(t,e,n,{})},Rr=function(t,e,n,r){var i=d({target:e},r);t.getSystem().triggerEvent(n,e,xt(i,o))},Ir=function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event())},Br=function(t){return $t(t)},Fr=function(t,e){return{key:t,value:jn({abort:e})}},jr=function(t){return{key:t,value:jn({run:function(t,e){e.event().prevent()}})}},zr=function(t,e){return{key:t,value:jn({run:e})}},Hr=function(t,e,n){return{key:t,value:jn({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},qr=function(t){return function(e){return{key:t,value:jn({run:function(t,n){Fn(t,n)&&e(t,n)}})}}},Ur=function(t,e,n){return function(t,e){return zr(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){Ir(e,e.element(),t,r)}))}))}(t,e.partUids[n])},Wr=function(t,e){return zr(t,(function(t,n){var r=n.event(),i=t.getSystem().getByDom(r.target()).fold((function(){return Bn(r.target(),(function(e){return t.getSystem().getByDom(e).toOption()}),o(!1)).getOr(t)}),(function(t){return t}));e(t,i,n)}))},Vr=function(t){return zr(t,(function(t,e){e.cut()}))},$r=function(t){return zr(t,(function(t,e){e.stop()}))},Gr=function(t,e){return qr(t)(e)},Yr=qr(xr()),Kr=qr(_r()),Zr=qr(gr()),Xr=function(t){return function(e){return zr(t,e)}}(cr()),Jr=(void 0!==e.window?e.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),Qr=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},to=Qr(1),eo=Qr(3),no=Qr(9),ro=Qr(11),oo=function(t){return un.fromDom(t.dom().ownerDocument)},io=function(t){return no(t)?t:oo(t)},ao=function(t){return un.fromDom(t.dom().ownerDocument.documentElement)},so=function(t){return un.fromDom(t.dom().ownerDocument.defaultView)},uo=function(t){return b.from(t.dom().parentNode).map(un.fromDom)},lo=function(t){return b.from(t.dom().offsetParent).map(un.fromDom)},co=function(t){return j(t.dom().childNodes,un.fromDom)},fo=function(t,e){var n=t.dom().childNodes;return b.from(n[e]).map(un.fromDom)},ho=function(t,e){uo(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},po=function(t,e){(function(t){return b.from(t.dom().nextSibling).map(un.fromDom)})(t).fold((function(){uo(t).each((function(t){go(t,e)}))}),(function(t){ho(t,e)}))},mo=function(t,e){(function(t){return fo(t,0)})(t).fold((function(){go(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},go=function(t,e){t.dom().appendChild(e.dom())},vo=function(t,e){z(e,(function(e){go(t,e)}))},yo=function(t){t.dom().textContent="",z(co(t),(function(t){bo(t)}))},bo=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},wo=function(t){var e,n=co(t);n.length>0&&(e=t,z(n,(function(t){ho(e,t)}))),bo(t)},xo=function(t){return t.dom().innerHTML},_o=function(t,n){var r,o,i=oo(t).dom(),a=un.fromDom(i.createDocumentFragment()),s=(r=n,(o=(i||e.document).createElement("div")).innerHTML=r,co(un.fromDom(o)));vo(a,s),yo(t),go(t,a)},ko=function(t,n,r){if(!(_(r)||S(r)||A(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Co=function(t,e,n){ko(t.dom(),e,n)},So=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},To=function(t,e){return b.from(So(t,e))},Eo=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Oo=function(t,e){t.dom().removeAttribute(e)},Ao=function(t){return function(t,e){return un.fromDom(t.dom().cloneNode(e))}(t,!1)},Do=function(t){return function(t){var e=un.fromTag("div"),n=un.fromDom(t.dom().cloneNode(!0));return go(e,n),xo(e)}(Ao(t))},No=function(t){return Do(t)},Po=Br([function(t,e){return{key:t,value:jn({can:e})}}(ar(),(function(t,n){var r=n.event().originator(),o=n.event().target();return!function(t,e,n){return Pn(e,t.element())&&!Pn(e,n)}(t,r,o)||(e.console.warn(ar()+" did not get interpreted by the desired target. \nOriginator: "+No(r)+"\nTarget: "+No(o)+"\nCheck the "+ar()+" event handlers"),!1)}))]),Mo=Object.freeze({__proto__:null,events:Po}),Lo=0,Ro=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Lo+String(e)},Io=o("alloy-id-"),Bo=o("data-alloy-id"),Fo=Io(),jo=Bo(),zo=function(t,e){Object.defineProperty(t.dom(),jo,{value:e,writable:!0})},Ho=function(t){var e=to(t)?t.dom()[jo]:null;return b.from(e)},qo=function(t){return Ro(t)},Uo=i,Wo=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+No(t().element())+" is not in context.":""))}};return{debugInfo:o("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:o(!1)}},Vo=Wo(),$o=function(t){return j(t,(function(t){return function(t,e){return function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}(t,e,t.length-e.length)}(t,"/*")?t.substring(0,t.length-"/*".length):t}))},Go=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:$o(i)}},t},Yo=Ro("alloy-premade"),Ko=function(t){return Vt(Yo,t)},Zo=function(t){return function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:$o(i.slice(1))}},t}((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,p([e.getApis(),e],n))}),t)},Xo={init:function(){return Jo({readState:function(){return"No State required"}})}},Jo=function(t){return t},Qo=function(t,e){var n={};return wt(t,(function(t,r){wt(t,(function(t,o){var i=Et(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},ti=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},ei=function(t,e){return n=a.apply(void 0,[t.handler].concat(e)),r=t.purpose(),{cHandler:n,purpose:o(r)};var n,r},ni=function(t){return t.cHandler},ri=function(t,e){return{name:o(t),handler:o(e)}},oi=function(t,e,n){var r=d(d({},n),function(t,e){var n={};return z(t,(function(t){n[t.name()]=t.handlers(e)})),n}(e,t));return Qo(r,ri)},ii=function(t){var e=function(t){return O(t)?{can:o(!0),abort:o(!1),run:t}:t}(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},ai=function(t,e,n){var r=e[n];return r?function(t,e,n,r){try{var o=J(n,(function(n,o){var i=n[e](),a=o[e](),s=r.indexOf(i),u=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<u?-1:u<s?1:0}));return it.value(o)}catch(t){return it.error([t])}}("Event: "+n,"name",t,r).map((function(t){var e=j(t,(function(t){return t.handler()}));return zn(e)})):function(t,e){return it.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(j(e,(function(t){return t.name()})),null,2)])}(n,t)},si=function(t,e){var n=Ct(t,(function(t,n){return(1===t.length?it.value(t[0].handler()):ai(t,e,n)).map((function(r){var i=ii(r),a=t.length>1?q(e[n],(function(e){return I(t,(function(t){return t.name()===e}))})).join(" > "):t[0].name();return Vt(n,function(t,e){return{handler:t,purpose:o(e)}}(i,a))}))}));return Gt(n,{})},ui=function(t){return t.events},li=function(t,e){var n=So(t,e);return void 0===n||""===n?[]:n.split(" ")},ci=function(t){return void 0!==t.dom().classList},fi=function(t,e){return function(t,e,n){var r=li(t,e).concat([n]);return Co(t,e,r.join(" ")),!0}(t,"class",e)},di=function(t,e){return function(t,e,n){var r=q(li(t,e),(function(t){return t!==n}));return r.length>0?Co(t,e,r.join(" ")):Oo(t,e),!1}(t,"class",e)},hi=function(t,e){ci(t)?t.dom().classList.add(e):fi(t,e)},pi=function(t){0===(ci(t)?t.dom().classList:function(t){return li(t,"class")}(t)).length&&Oo(t,"class")},mi=function(t,e){ci(t)?t.dom().classList.remove(e):di(t,e);pi(t)},gi=function(t,e){return ci(t)&&t.dom().classList.contains(e)},vi=function(t,e){z(e,(function(e){hi(t,e)}))},yi=function(t,e){z(e,(function(e){mi(t,e)}))},bi=function(t){return void 0!==t.style&&O(t.style.getPropertyValue)},wi=function(t){return ro(t)},xi=O(e.Element.prototype.attachShadow)&&O(e.Node.prototype.getRootNode),_i=o(xi),ki=xi?function(t){return un.fromDom(t.dom().getRootNode())}:io,Ci=function(t){return un.fromDom(t.dom().host)},Si=function(t){return E(t.dom().shadowRoot)},Ti=function(t){var e,n,r=eo(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&function(t){var e=ki(t);return wi(e)?b.some(e):b.none()}(un.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=Ti,n=Ci,function(t){return e(n(t))}))},Ei=function(){return Oi(un.fromDom(e.document))},Oi=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return un.fromDom(e)},Ai=function(t,n,r){if(!_(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);bi(t)&&t.style.setProperty(n,r)},Di=function(t,e){bi(t)&&t.style.removeProperty(e)},Ni=function(t,e,n){var r=t.dom();Ai(r,e,n)},Pi=function(t,e){var n=t.dom();wt(e,(function(t,e){Ai(n,e,t)}))},Mi=function(t,e){var n=t.dom();wt(e,(function(t,e){t.fold((function(){Di(n,e)}),(function(t){Ai(n,e,t)}))}))},Li=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n);return""!==o||Ti(t)?o:Ri(r,n)},Ri=function(t,e){return bi(t)?t.style.getPropertyValue(e):""},Ii=function(t,e){var n=t.dom(),r=Ri(n,e);return b.from(r).filter((function(t){return t.length>0}))},Bi=function(t){var e={},n=t.dom();if(bi(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},Fi=function(t,e,n){var r=un.fromTag(t);return Ni(r,e,n),Ii(r,e).isSome()},ji=function(t,e){var n=t.dom();Di(n,e),To(t,"style").map(wn).is("")&&Oo(t,"style")},zi=function(t){return t.dom().offsetWidth},Hi=function(t){return t.dom().value},qi=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom().value=e},Ui=function(t){var e=un.fromTag(t.tag);!function(t,e){var n=t.dom();wt(e,(function(t,e){ko(n,e,t)}))}(e,t.attributes),vi(e,t.classes),Pi(e,t.styles),t.innerHtml.each((function(t){return _o(e,t)}));var n=t.domChildren;return vo(e,n),t.value.each((function(t){qi(e,t)})),t.uid,zo(e,t.uid),e},Wi=function(t,e){return function(t,e){var n=j(e,(function(t){return Ke(t.name(),[Re("config"),Ze("state",Xo)])})),r=we("component.behaviours",ae(n),t.behaviours).fold((function(e){throw new Error(ke(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:xt(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}}(t,e)},Vi=function(t){var e=function(t){var e=Et(t,"behaviours").getOr({}),n=q(yt(e),(function(t){return void 0!==e[t]}));return j(n,(function(t){return e[t].me}))}(t);return Wi(t,e)},$i=function(t,e,n){var r,o,i,a=d(d({},(r=t).dom),{uid:r.uid,domChildren:j(r.components,(function(t){return t.element()}))}),s=function(t){return t.domModification.fold((function(){return ti({})}),ti)}(t),u={"alloy.base.modification":s},l=e.length>0?function(t,e,n,r){var o=d({},e);z(n,(function(e){o[e.name()]=e.exhibit(t,r)}));var i=Qo(o,(function(t,e){return{name:t,modification:e}})),a=function(t){return U(t,(function(t,e){return d(d({},e.modification),t)}),{})},s=U(i.classes,(function(t,e){return e.modification.concat(t)}),[]),u=a(i.attributes),l=a(i.styles);return ti({classes:s,attributes:u,styles:l})}(n,u,e,a):s;return i=l,d(d({},o=a),{attributes:d(d({},o.attributes),i.attributes),styles:d(d({},o.styles),i.styles),classes:o.classes.concat(i.classes)})},Gi=function(t,e,n){var r={"alloy.base.behaviour":ui(t)};return function(t,e,n,r){var o=oi(t,n,r);return si(o,e)}(n,t.eventOrder,e,r).getOrDie()},Yi=function(t){var e=function(){return d},n=an(Vo),r=xe(function(t){return we("custom.definition",ae([de("dom","dom",jt(),ae([Re("tag"),Ze("styles",{}),Ze("classes",[]),Ze("attributes",{}),We("value"),We("innerHtml")])),Re("components"),Re("uid"),Ze("events",{}),Ze("apis",{}),de("eventOrder","eventOrder",Ft({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),Te()),We("domModification")]),t)}(t)),i=Vi(t),a=function(t){return t.list}(i),s=function(t){return t.data}(i),u=$i(r,a,s),l=Ui(u),c=Gi(r,a,s),f=an(r.components),d={getSystem:n.get,config:function(e){var n=s;return(O(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return O(s[t.name()])},spec:o(t),readState:function(t){return s[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(t){n.set(t)},disconnect:function(){n.set(Wo(e))},element:o(l),syncComponents:function(){var t=co(l),e=Y(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));f.set(e)},components:f.get,events:o(c)};return d},Ki=function(t){var e=Uo(t),n=e.events,r=h(e,["events"]),o=function(t){var e=Et(t,"components").getOr([]);return j(e,Qi)}(r),i=d(d({},r),{events:d(d({},Mo),n),components:o});return it.value(Yi(i))},Zi=function(t){var e=un.fromText(t);return Xi({element:e})},Xi=function(t){var e=_e("external.component",ie([Re("element"),We("uid")]),t),r=an(Wo());e.uid.each((function(t){zo(e.element,t)}));var i={getSystem:r.get,config:b.none,hasConfigured:o(!1),connect:function(t){r.set(t)},disconnect:function(){r.set(Wo((function(){return i})))},getApis:function(){return{}},element:o(e.element),spec:o(t),readState:o("No state"),syncComponents:n,components:o([]),events:o({})};return Ko(i)},Ji=qo,Qi=function(t){return function(t){return Et(t,Yo)}(t).fold((function(){var e=t.hasOwnProperty("uid")?t:d({uid:Ji("")},t);return Ki(e).getOrDie()}),(function(t){return t}))},ta=Ko;function ea(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=Li(n,t);return parseFloat(o)||0}return r},r=function(t,e){return W(e,(function(e,n){var r=Li(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!A(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();bi(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}var na=ea("height",(function(t){var e=t.dom();return Ti(t)?e.getBoundingClientRect().height:e.offsetHeight})),ra=function(t){return na.get(t)},oa=function(t){return na.getOuter(t)},ia=function(t,e){return{left:o(t),top:o(e),translate:function(n,r){return ia(t+n,e+r)}}},aa=ia,sa=function(t,e){return void 0!==t?t:void 0!==e?e:0},ua=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return aa(n.offsetLeft,n.offsetTop);var i=sa(r.pageYOffset,o.scrollTop),a=sa(r.pageXOffset,o.scrollLeft),s=sa(o.clientTop,n.clientTop),u=sa(o.clientLeft,n.clientLeft);return la(t).translate(a-u,i-s)},la=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?aa(n.offsetLeft,n.offsetTop):Ti(t)?function(t){var e=t.getBoundingClientRect();return aa(e.left,e.top)}(e):aa(0,0)},ca=ea("width",(function(t){return t.dom().offsetWidth})),fa=function(t){return ca.get(t)},da=function(t){return ca.getOuter(t)},ha=function(t){var e=un.fromDom(function(t){if(_i()&&E(t.target)){var e=un.fromDom(t.target);if(to(e)&&Si(un.fromDom(t.target))){var n=t;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return Q(r)}}}return b.from(t.target)}(t).getOr(t.target)),n=function(){return t.stopPropagation()},i=function(){return t.preventDefault()},a=r(i,n);return function(t,e,n,r,i,a,s){return{target:o(t),x:o(e),y:o(n),stop:r,prevent:i,kill:a,raw:o(s)}}(e,t.clientX,t.clientY,n,i,a,t)},pa=function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(ha(n))}}(n,r);return t.dom().addEventListener(e,i,o),{unbind:a(ma,t,e,i,o)}},ma=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},ga=function(t){var n=void 0!==t?t.dom():e.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return aa(r,o)},va=function(t,n,r){(void 0!==r?r.dom():e.document).defaultView.scrollTo(t,n)},ya=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},ba=function(t){var n=void 0===t?e.window:t,r=n.document,o=ga(un.fromDom(r));return function(t){var n=void 0===t?e.window:t;return b.from(n.visualViewport)}(n).fold((function(){var t=n.document.documentElement,e=t.clientWidth,r=t.clientHeight;return ya(o.left(),o.top(),e,r)}),(function(t){return ya(Math.max(t.pageLeft,o.left()),Math.max(t.pageTop,o.top()),t.width,t.height)}))},wa=function(t,e){return t.view(e).fold(o([]),(function(e){var n=t.owner(e),r=wa(t,n);return[e].concat(r)}))},xa=Object.freeze({__proto__:null,view:function(t){return(t.dom()===e.document?b.none():b.from(t.dom().defaultView.frameElement)).map(un.fromDom)},owner:function(t){return oo(t)}}),_a=function(t){var n=un.fromDom(e.document),r=ga(n);return function(t,e){var n=e.owner(t),r=wa(e,n);return b.some(r)}(t,xa).fold(a(ua,t),(function(e){var n=la(t),o=U(e,(function(t,e){var n=la(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return aa(o.left+n.left()+r.left(),o.top+n.top()+r.top())}))},ka=function(t,e,n,r){return{x:t,y:e,width:n,height:r,right:t+n,bottom:e+r}},Ca=function(t){var e=ua(t),n=da(t),r=oa(t);return ka(e.left(),e.top(),n,r)},Sa=function(t){var e=_a(t),n=da(t),r=oa(t);return ka(e.left(),e.top(),n,r)},Ta=function(){return ba(e.window)};function Ea(t,e,n,r,o){return t(n,r)?b.some(n):O(o)&&o(n)?b.none():e(n,r,o)}var Oa,Aa=function(t,e,n){for(var r=t.dom(),i=O(n)?n:o(!1);r.parentNode;){r=r.parentNode;var a=un.fromDom(r);if(e(a))return b.some(a);if(i(a))break}return b.none()},Da=function(t,e,n){return Ea((function(t,e){return e(t)}),Aa,t,e,n)},Na=function(t,e,n){return Da(t,e,n).isSome()},Pa=function(t,e,n){return Aa(t,(function(t){return Dn(t,e)}),n)},Ma=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return Nn(r)?b.none():b.from(r.querySelector(t)).map(un.fromDom)}(n,t)},La=function(t,e,n){return Ea((function(t,e){return Dn(t,e)}),Pa,t,e,n)},Ra=function(){var t=Ro("aria-owns");return{id:t,link:function(e){Co(e,"aria-owns",t)},unlink:function(t){Oo(t,"aria-owns")}}},Ia=function(t,e){return function(t){return Da(t,(function(t){if(!to(t))return!1;var e=So(t,"id");return void 0!==e&&e.indexOf("aria-owns")>-1})).bind((function(t){var e=So(t,"id"),n=oo(t);return Ma(n,'[aria-owns="'+e+'"]')}))}(e).exists((function(e){return Ba(t,e)}))},Ba=function(t,e){return Na(e,(function(e){return Pn(e,t.element())}),o(!1))||Ia(t,e)};!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Oa||(Oa={}));var Fa,ja=an({}),za=function(t,n,r){switch(Et(ja.get(),t).orThunk((function(){var e=yt(ja.get());return nt(e,(function(e){return t.indexOf(e)>-1?b.some(ja.get()[e]):b.none()}))})).getOr(Oa.NORMAL)){case Oa.NORMAL:return r(Ua());case Oa.LOGGING:var o=function(t,n){var r=[],o=(new Date).getTime();return{logEventCut:function(t,e,n){r.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){r.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){r.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){r.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){r.push({outcome:"response",purpose:n,target:e})},write:function(){var i=(new Date).getTime();R(["mousemove","mouseover","mouseout",gr()],t)||e.console.log(t,{event:t,time:i-o,target:n.dom(),sequence:j(r,(function(t){return R(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+No(t.target)+")":t.outcome}))})}}}(t,n),i=r(o);return o.write(),i;case Oa.STOP:return!0}},Ha=["alloy/data/Fields","alloy/debugging/Debugging"],qa=function(t,e,n){return za(t,e,n)},Ua=o({logEventCut:n,logEventStopped:n,logNoParent:n,logEventNoHandlers:n,logEventResponse:n,write:n}),Wa=o([Re("menu"),Re("selectedMenu")]),Va=o([Re("item"),Re("selectedItem")]),$a=(o(ae(Va().concat(Wa()))),o(ae(Va()))),Ga=He("initSize",[Re("numColumns"),Re("numRows")]),Ya=function(){return He("markers",[Re("backgroundMenu")].concat(Wa()).concat(Va()))},Ka=function(t){return He("markers",j(t,Re))},Za=function(t,e,n){!function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return V(e,(function(t){return t.indexOf("alloy")>0&&!I(Ha,(function(e){return t.indexOf(e)>-1}))})).getOr("unknown")}}();return de(e,e,n,ye((function(t){return it.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},Xa=function(t){return Za(0,t,Bt(n))},Ja=function(t){return Za(0,t,Bt(b.none))},Qa=function(t){return Za(0,t,jt())},ts=function(t){return Za(0,t,jt())},es=function(t,e){return on(t,o(e))},ns=function(t){return on(t,i)},rs=o(Ga),os=function(t,e,n,r,i,a){return{x:o(t),y:o(e),bubble:o(n),direction:o(r),boundsRestriction:o(i),label:o(a)}},is=Dt([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),as=is.southeast,ss=is.southwest,us=is.northeast,ls=is.northwest,cs=is.south,fs=is.north,ds=is.east,hs=is.west,ps=function(t,e){return function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n}(["left","right","top","bottom"],(function(n){return Et(e,n).map((function(e){return function(t,e){switch(e){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}}(t,e)}))}))},ms=function(t){return t.x},gs=function(t,e){return t.x+t.width/2-e.width/2},vs=function(t,e){return t.x+t.width-e.width},ys=function(t,e){return t.y-e.height},bs=function(t){return t.y+t.height},ws=function(t,e){return t.y+t.height/2-e.height/2},xs=function(t,e,n){return os(ms(t),bs(t),n.southeast(),as(),ps(t,{left:1,top:3}),"layout-se")},_s=function(t,e,n){return os(vs(t,e),bs(t),n.southwest(),ss(),ps(t,{right:0,top:3}),"layout-sw")},ks=function(t,e,n){return os(ms(t),ys(t,e),n.northeast(),us(),ps(t,{left:1,bottom:2}),"layout-ne")},Cs=function(t,e,n){return os(vs(t,e),ys(t,e),n.northwest(),ls(),ps(t,{right:0,bottom:2}),"layout-nw")},Ss=function(t,e,n){return os(gs(t,e),ys(t,e),n.north(),fs(),ps(t,{bottom:2}),"layout-n")},Ts=function(t,e,n){return os(gs(t,e),bs(t),n.south(),cs(),ps(t,{top:3}),"layout-s")},Es=function(t,e,n){return os(function(t){return t.x+t.width}(t),ws(t,e),n.east(),ds(),ps(t,{left:0}),"layout-e")},Os=function(t,e,n){return os(function(t,e){return t.x-e.width}(t,e),ws(t,e),n.west(),hs(),ps(t,{right:1}),"layout-w")},As=function(){return[xs,_s,ks,Cs,Ts,Ss,Es,Os]},Ds=function(){return[_s,xs,Cs,ks,Ts,Ss,Es,Os]},Ns=function(){return[ks,Cs,xs,_s,Ss,Ts]},Ps=function(){return[xs,_s,ks,Cs,Ts,Ss]},Ms=function(){return[_s,xs,Cs,ks,Ts,Ss]},Ls=function(t,e,n){return Zr((function(r,o){n(r,t,e)}))},Rs=function(t,e,n){return function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:$o(a.slice(0,1).concat(a.slice(3)))}},t}((function(r){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var s=[r].concat(i);return r.config({name:o(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(s,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))}),n,e)},Is=function(t){return{key:t,value:void 0}},Bs=function(t,e,n,r,o,i,s){var u=function(t){return At(t,n)?t[n]():b.none()},l=xt(o,(function(t,e){return Rs(n,t,e)})),c=xt(i,(function(t,e){return Go(t,e)})),f=d(d(d({},c),l),{revoke:a(Is,n),config:function(e){var r=_e(n+"-config",t,e);return{key:n,value:{config:r,me:f,configAsRaw:Rt((function(){return _e(n+"-config",t,e)})),initialConfig:e,state:s}}},schema:function(){return e},exhibit:function(t,e){return u(t).bind((function(t){return Et(r,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(ti({}))},name:function(){return n},handlers:function(t){return u(t).map((function(t){return Et(r,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return f},Fs=function(t){return $t(t)},js=ie([Re("fields"),Re("name"),Ze("active",{}),Ze("apis",{}),Ze("state",Xo),Ze("extra",{})]),zs=function(t){var e=_e("Creating behaviour: "+t.name,js,t);return function(t,e,n,r,o,i){var a,s,u=ie(t),l=Ke(e,[(a="config",s=t,Ve(a,ie(s)))]);return Bs(u,l,e,n,r,o,i)}(e.fields,e.name,e.active,e.apis,e.extra,e.state)},Hs=ie([Re("branchKey"),Re("branches"),Re("name"),Ze("active",{}),Ze("apis",{}),Ze("state",Xo),Ze("extra",{})]),qs=function(t){var e=_e("Creating behaviour: "+t.name,Hs,t);return function(t,e,n,r,o,i){var a=t,s=Ke(e,[Ve("config",t)]);return Bs(a,s,e,n,r,o,i)}(Se(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)},Us=o(void 0),Ws=Object.freeze({__proto__:null,events:function(t){return Br([zr(lr(),(function(e,n){var r=t.channels,o=yt(r),i=n,a=function(t,e){return e.universal()?t:q(t,(function(t){return R(e.channels(),t)}))}(o,i);z(a,(function(t){var n=r[t],o=n.schema,a=_e("channel["+t+"] data\nReceiver: "+No(e.element()),o,i.data());n.onReceive(e,a)}))}))])}}),Vs=[Ie("channels",be(it.value,ie([Qa("onReceive"),Ze("schema",Te())])))],$s=zs({fields:Vs,name:"receiving",active:Ws}),Gs=Object.freeze({__proto__:null,exhibit:function(t,e){return ti({classes:[],styles:e.useFixed()?{}:{position:"relative"}})}}),Ys=function(t){return t.dom().focus()},Ks=function(t){return void 0===t&&(t=un.fromDom(e.document)),b.from(t.dom().activeElement).map(un.fromDom)},Zs=function(t){return Ks(ki(t)).filter((function(e){return t.dom().contains(e.dom())}))},Xs=function(t,e){var r=oo(e),o=Ks(r).bind((function(t){var n,r,o=function(e){return Pn(t,e)};return o(e)?b.some(e):(n=o,(r=function(t){for(var e=0;e<t.childNodes.length;e++){var o=un.fromDom(t.childNodes[e]);if(n(o))return b.some(o);var i=r(t.childNodes[e]);if(i.isSome())return i}return b.none()})(e.dom()))})),i=t(e);return o.each((function(t){Ks(r).filter((function(e){return Pn(e,t)})).fold((function(){Ys(t)}),n)})),i},Js=function(t,e,n,r,i){return{position:o(t),left:o(e),top:o(n),right:o(r),bottom:o(i)}},Qs=function(t,e){var n=function(t){return t+"px"};Mi(t,{position:b.some(e.position()),left:e.left().map(n),top:e.top().map(n),right:e.right().map(n),bottom:e.bottom().map(n)})},tu=Dt([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),eu=function(t,e,n,r,o,i){var a=e.x-n,s=e.y-r,u=o-(a+e.width),l=i-(s+e.height),c=b.some(a),f=b.some(s),d=b.some(u),h=b.some(l),p=b.none();return function(t,e,n,r,o,i,a,s,u){return t.fold(e,n,r,o,i,a,s,u)}(e.direction,(function(){return Js(t,c,f,p,p)}),(function(){return Js(t,p,f,d,p)}),(function(){return Js(t,c,p,p,h)}),(function(){return Js(t,p,p,d,h)}),(function(){return Js(t,c,f,p,p)}),(function(){return Js(t,c,p,p,h)}),(function(){return Js(t,c,f,p,p)}),(function(){return Js(t,p,f,d,p)}))},nu=function(t,e){var n=a(_a,e),r=t.fold(n,n,(function(){var t=ga();return _a(e).translate(-t.left(),-t.top())})),o=da(e),i=oa(e);return ka(r.left(),r.top(),o,i)},ru=function(t,e){return e.fold((function(){return t.fold(Ta,Ta,ka)}),(function(e){return t.fold(e,e,(function(){var n=e(),r=ou(t,n.x,n.y);return ka(r.left(),r.top(),n.width,n.height)}))}))},ou=function(t,e,n){var r=aa(e,n);return t.fold(o(r),o(r),(function(){var t=ga();return r.translate(-t.left(),-t.top())}))},iu=(tu.none,tu.relative),au=tu.fixed,su=function(t,e){return function(t,e){return{anchorBox:o(t),origin:o(e)}}(t,e)},uu=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},lu=function(t,e,n){return Math.min(Math.max(t,e),n)},cu=Dt([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),fu=function(t,e,n,r){var a=t.x(),s=t.y(),u=t.bubble().offset(),l=u.left(),c=u.top(),f=function(t,e,n){var r=function(t,r){var o="top"===t||"bottom"===t?n.top():n.left();return Et(e,t).bind(i).bind((function(e){return"left"===t||"top"===t?e>=r?b.some(e):b.none():e<=r?b.some(e):b.none()})).map((function(t){return t+o})).getOr(r)},o=r("left",t.x),a=r("top",t.y),s=r("right",t.right),u=r("bottom",t.bottom);return ka(o,a,s-o,u-a)}(r,t.boundsRestriction(),u),d=f.y,h=f.bottom,p=f.x,m=f.right,g=s+c,v=function(t,e,n,r,o){var i=o.x,a=o.y,s=o.width,u=o.height,l=t>=i,c=e>=a,f=l&&c,d=t+n<=i+s&&e+r<=a+u,h=Math.abs(Math.min(n,l?i+s-t:i-(t+n))),p=Math.abs(Math.min(r,c?a+u-e:a-(e+r))),m=Math.max(o.x,o.right-n),g=Math.max(o.y,o.bottom-r);return{originInBounds:f,sizeInBounds:d,limitX:lu(t,o.x,m),limitY:lu(e,o.y,g),deltaW:h,deltaH:p}}(a+l,g,e,n,f),y=v.originInBounds,w=v.sizeInBounds,x=v.limitX,_=v.limitY,k=v.deltaW,C=v.deltaH,S=o(_+C-d),T=o(h-_),E=function(t,e,n,r){return t.fold(e,e,r,r,e,r,n,n)}(t.direction(),T,T,S),O=o(x+k-p),A=o(m-x),D={x:x,y:_,width:k,height:C,maxHeight:E,maxWidth:function(t,e,n,r){return t.fold(e,r,e,r,n,n,e,r)}(t.direction(),A,A,O),direction:t.direction(),classes:{on:t.bubble().classesOn(),off:t.bubble().classesOff()},label:t.label(),candidateYforTest:g};return y&&w?cu.fit(D):cu.nofit(D,k,C)},du=function(t,e,n,r){ji(e,"max-height"),ji(e,"max-width");var o,s={width:da(o=e),height:oa(o)};return function(t,e,n,r,o){var s=n.width,u=n.height,l=function(t,i,a,l){var c=t(e,n,r);return fu(c,s,u,o).fold(cu.fit,(function(t,e,n){return n>l||e>a?cu.nofit(t,e,n):cu.nofit(i,a,l)}))};return W(t,(function(t,e){var n=a(l,e);return t.fold(cu.fit,n)}),cu.nofit({x:e.x,y:e.y,width:n.width,height:n.height,maxHeight:n.height,maxWidth:n.width,direction:as(),classes:{on:[],off:[]},label:"none",candidateYforTest:e.y},-1,-1)).fold(i,i)}(r.preference,t,s,n,r.bounds)},hu=function(t,e,n){Qs(t,function(t,e){return t.fold((function(){return Js("absolute",b.some(e.x),b.some(e.y),b.none(),b.none())}),(function(t,n,r,o){return eu("absolute",e,t,n,r,o)}),(function(t,n,r,o){return eu("fixed",e,t,n,r,o)}))}(n.origin,e))},pu=function(t,e){!function(t,e){var n=na.max(t,e,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Ni(t,"max-height",n+"px")}(t,Math.floor(e))},mu=o((function(t,e){pu(t,e),Pi(t,{"overflow-x":"hidden","overflow-y":"auto"})})),gu=o((function(t,e){pu(t,e)})),vu=function(t,e,n){return void 0===t[e]?n:t[e]},yu=function(t,e,n,r){var o=du(t,e,n,r);hu(e,o,r),function(t,e){var n=e.classes;yi(t,n.off),vi(t,n.on)}(e,o),function(t,e,n){(0,n.maxHeightFunction)(t,e.maxHeight)}(e,o,r),function(t,e,n){(0,n.maxWidthFunction)(t,e.maxWidth)}(e,o,r)},bu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],wu=function(t,e,n){var r=function(t){return Et(n,t).getOr([])},o=function(t,e,n){var o=X(bu,n);return{offset:function(){return aa(t,e)},classesOn:function(){return Y(n,r)},classesOff:function(){return Y(o,r)}}};return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])},innerNorthwest:function(){return o(-t,e,["top","alignRight"])},innerNortheast:function(){return o(t,e,["top","alignLeft"])},innerNorth:function(){return o(-t/2,e,["top","alignCentre"])},innerSouthwest:function(){return o(-t,-e,["bottom","alignRight"])},innerSoutheast:function(){return o(t,-e,["bottom","alignLeft"])},innerSouth:function(){return o(-t/2,-e,["bottom","alignCentre"])},innerWest:function(){return o(t,-e/2,["valignCentre","right"])},innerEast:function(){return o(-t,-e/2,["valignCentre","left"])}}},xu=function(){return wu(0,0,{})},_u=function(t,e){return function(n){return"rtl"===ku(n)?e:t}},ku=function(t){return"rtl"===Li(t,"direction")?"rtl":"ltr"};!function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"}(Fa||(Fa={}));var Cu="data-alloy-vertical-dir",Su=function(t){return Na(t,(function(t){return to(t)&&So(t,Cu)===Fa.BottomToTop}))},Tu=function(){return Ke("layouts",[Re("onLtr"),Re("onRtl"),We("onBottomLtr"),We("onBottomRtl")])},Eu=function(t,e,n,r,o,i,a){var s=a.map(Su).getOr(!1),u=e.layouts.map((function(e){return e.onLtr(t)})),l=e.layouts.map((function(e){return e.onRtl(t)})),c=s?e.layouts.bind((function(e){return e.onBottomLtr.map((function(e){return e(t)}))})).or(u).getOr(o):u.getOr(n),f=s?e.layouts.bind((function(e){return e.onBottomRtl.map((function(e){return e(t)}))})).or(l).getOr(i):l.getOr(r);return _u(c,f)(t)},Ou=[Re("hotspot"),We("bubble"),Ze("overrides",{}),Tu(),es("placement",(function(t,e,n){var r=e.hotspot,o=nu(n,r.element()),i=Eu(t.element(),e,Ps(),Ms(),Ns(),[Cs,ks,_s,xs,Ss,Ts],b.some(e.hotspot.element()));return b.some({anchorBox:o,bubble:e.bubble.getOr(xu()),overrides:e.overrides,layouts:i,placer:b.none()})}))],Au=[Re("x"),Re("y"),Ze("height",0),Ze("width",0),Ze("bubble",xu()),Ze("overrides",{}),Tu(),es("placement",(function(t,e,n){var r=ou(n,e.x,e.y),o=ka(r.left(),r.top(),e.width,e.height),i=Eu(t.element(),e,As(),Ds(),As(),Ds(),b.none());return b.some({anchorBox:o,bubble:e.bubble,overrides:e.overrides,layouts:i,placer:b.none()})}))],Du=function(t,e,n,r){return{start:o(t),soffset:o(e),finish:o(n),foffset:o(r)}},Nu=Dt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Pu=(Nu.before,Nu.on,Nu.after,function(t){return t.fold(i,i,i)}),Mu=Dt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Lu={domRange:Mu.domRange,relative:Mu.relative,exact:Mu.exact,exactFromRange:function(t){return Mu.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=function(t){return t.match({domRange:function(t){return un.fromDom(t.startContainer)},relative:function(t,e){return Pu(t)},exact:function(t,e,n,r){return t}})}(t);return so(e)},range:Du},Ru=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(o,n),o},Iu=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},Bu=function(t){return{left:o(t.left),top:o(t.top),right:o(t.right),bottom:o(t.bottom),width:o(t.width),height:o(t.height)}},Fu=Dt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ju=function(t,e,n){return e(un.fromDom(n.startContainer),n.startOffset,un.fromDom(n.endContainer),n.endOffset)},zu=function(t,e){return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return Fu.rtl(un.fromDom(t.endContainer),t.endOffset,un.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return ju(0,Fu.ltr,n)})):ju(0,Fu.ltr,n)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:o(t),rtl:b.none}},relative:function(e,n){return{ltr:Rt((function(){return Ru(t,e,n)})),rtl:Rt((function(){return b.some(Ru(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:Rt((function(){return Iu(t,e,n,r,o)})),rtl:Rt((function(){return b.some(Iu(t,r,o,e,n))}))}}})}(t,e))};Fu.ltr,Fu.rtl;var Hu=function(t,e){var n=function(e){return t(e)?b.from(e.dom().nodeValue):b.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(eo,"text"),qu=function(t){return Hu.getOption(t)},Uu=["img","br"],Wu=function(t){return qu(t).filter((function(t){return 0!==t.trim().length||t.indexOf(" ")>-1})).isSome()||R(Uu,Jr(t))},Vu=function(t,e){var n=function(t){for(var r=co(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return b.some(i);var a=n(i);if(a.isSome())return a}return b.none()};return n(t)},$u=function(t,n){return function(t,n){var r=void 0===n?e.document:n.dom();return Nn(r)?[]:j(r.querySelectorAll(t),un.fromDom)}(n,t)},Gu=function(t,e,n,r){var o=function(t,e,n,r){var o=oo(t).dom().createRange();return o.setStart(t.dom(),e),o.setEnd(n.dom(),r),o}(t,e,n,r),i=Pn(t,n)&&e===r;return o.collapsed&&!i},Yu=function(t){var e=un.fromDom(t.anchorNode),n=un.fromDom(t.focusNode);return Gu(e,t.anchorOffset,n,t.focusOffset)?b.some(Du(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return b.some(Du(un.fromDom(e.startContainer),e.startOffset,un.fromDom(n.endContainer),n.endOffset))}return b.none()}(t)},Ku=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(Bu):b.none()}(function(t,e){return zu(t,e).match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})}(t,e))},Zu=function(t,e){return{element:t,offset:e}},Xu=function(t,e){var n=co(t);if(0===n.length)return Zu(t,e);if(e<n.length)return Zu(n[e],0);var r=n[n.length-1],o=eo(r)?function(t){return Hu.get(t)}(r).length:co(r).length;return Zu(r,o)},Ju=Dt([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Qu=function(t){return t.fold(i,(function(t,e,n){return t.translate(-e,-n)}))},tl=function(t){return t.fold(i,i)},el=function(t){return W(t,(function(t,e){return t.translate(e.left(),e.top())}),aa(0,0))},nl=function(t){var e=j(t,tl);return el(e)},rl=Ju.screen,ol=Ju.absolute,il=function(t,e,n){var r=oo(t.element()),o=ga(r),i=function(t,e,n){var r=so(n.root).dom();return b.from(r.frameElement).map(un.fromDom).filter((function(e){var n=oo(e),r=oo(t.element());return Pn(n,r)})).map(ua)}(t,0,n).getOr(o);return ol(i,o.left(),o.top())},al=function(t,e,n,r){var o=t,i=e,a=n,s=r;t<0&&(o=0,a=n+t),e<0&&(i=0,s=r+e);var u=rl(aa(o,i));return b.some(function(t,e,n){return{point:t,width:e,height:n}}(u,a,s))},sl=function(t,e,n,r,o){return t.map((function(t){var i,a,s,u=[e,t.point],l=(i=function(){return nl(u)},a=function(){return nl(u)},s=function(){return function(t){var e=j(t,Qu);return el(e)}(u)},r.fold(i,a,s)),c=function(t,e,n,r){return{x:t,y:e,width:n,height:r}}(l.left(),l.top(),t.width,t.height),f=n.showAbove?Ns():Ps(),d=(n.showAbove,Ms()),h=Eu(o,n,f,d,f,d,b.none());return{anchorBox:c,bubble:n.bubble.getOr(xu()),overrides:n.overrides,layouts:h,placer:b.none()}}))},ul=function(t,e){return eo(t)?function(t,e){return{element:t,offset:e}}(t,e):Xu(t,e)},ll=function(t,e){return e.getSelection.getOrThunk((function(){return function(){return function(t){return b.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(Yu)}(t)}}))().map((function(t){var e=ul(t.start(),t.soffset()),n=ul(t.finish(),t.foffset());return Lu.range(e.element,e.offset,n.element,n.offset)}))},cl=[We("getSelection"),Re("root"),We("bubble"),Tu(),Ze("overrides",{}),Ze("showAbove",!1),es("placement",(function(t,e,n){var r=so(e.root).dom(),o=il(t,0,e),i=ll(r,e).bind((function(t){return Ku(r,Lu.exactFromRange(t)).orThunk((function(){var e=un.fromText("\ufeff");return ho(t.start(),e),Ku(r,Lu.exact(e,0,e,1)).map((function(t){return bo(e),t}))})).bind((function(t){return al(t.left(),t.top(),t.width(),t.height())}))})),a=ll(r,e).bind((function(t){return to(t.start())?b.some(t.start()):uo(t.start())})).getOr(t.element());return sl(i,o,e,n,a)}))],fl=[Re("node"),Re("root"),We("bubble"),Tu(),Ze("overrides",{}),Ze("showAbove",!1),es("placement",(function(t,e,n){var r=il(t,0,e);return e.node.bind((function(o){var i=o.dom().getBoundingClientRect(),a=al(i.left,i.top,i.width,i.height),s=e.node.getOr(t.element());return sl(a,r,e,n,s)}))}))],dl=function(t){return t.x+t.width},hl=function(t,e){return t.x-e.width},pl=function(t,e){return t.y-e.height+t.height},ml=function(t){return t.y},gl=function(t,e,n){return os(dl(t),ml(t),n.southeast(),as(),ps(t,{left:0,top:2}),"link-layout-se")},vl=function(t,e,n){return os(hl(t,e),ml(t),n.southwest(),ss(),ps(t,{right:1,top:2}),"link-layout-sw")},yl=function(t,e,n){return os(dl(t),pl(t,e),n.northeast(),us(),ps(t,{left:0,bottom:3}),"link-layout-ne")},bl=function(t,e,n){return os(hl(t,e),pl(t,e),n.northwest(),ls(),ps(t,{right:1,bottom:3}),"link-layout-nw")},wl=function(){return[gl,vl,yl,bl]},xl=function(){return[vl,gl,bl,yl]},_l=[Re("item"),Tu(),Ze("overrides",{}),es("placement",(function(t,e,n){var r=nu(n,e.item.element()),o=Eu(t.element(),e,wl(),xl(),wl(),xl(),b.none());return b.some({anchorBox:r,bubble:xu(),overrides:e.overrides,layouts:o,placer:b.none()})}))],kl=Se("anchor",{selection:cl,node:fl,hotspot:Ou,submenu:_l,makeshift:Au}),Cl=function(t,e,r,o,i){!function(t,e,r,o,i,a){var s=vu(a,"maxHeightFunction",mu()),u=vu(a,"maxWidthFunction",n),l=t.anchorBox(),c=t.origin(),f={bounds:ru(c,i),origin:c,preference:o,maxHeightFunction:s,maxWidthFunction:u};yu(l,e,r,f)}(su(r.anchorBox,e),i.element(),r.bubble,r.layouts,o,r.overrides)},Sl=function(t,e,n,r,o,i){var a=i.map(Ca);return Tl(t,e,n,r,o,a)},Tl=function(t,n,r,i,a,s){var u=_e("positioning anchor.info",kl,i);Xs((function(){Ni(a.element(),"position","fixed");var r=Ii(a.element(),"visibility");Ni(a.element(),"visibility","hidden");var i,l=n.useFixed()?(i=e.document.documentElement,au(0,0,i.clientWidth,i.clientHeight)):function(t){var e=ua(t.element()),n=t.element().dom().getBoundingClientRect();return iu(e.left(),e.top(),n.width,n.height)}(t),c=u.placement,f=s.map(o).or(n.getBounds);c(t,u,l).each((function(e){e.placer.getOr(Cl)(t,l,e,f,a)})),r.fold((function(){ji(a.element(),"visibility")}),(function(t){Ni(a.element(),"visibility",t)})),Ii(a.element(),"left").isNone()&&Ii(a.element(),"top").isNone()&&Ii(a.element(),"right").isNone()&&Ii(a.element(),"bottom").isNone()&&Ii(a.element(),"position").is("fixed")&&ji(a.element(),"position")}),a.element())},El=Object.freeze({__proto__:null,position:function(t,e,n,r,o){Sl(t,e,n,r,o,b.none())},positionWithin:Sl,positionWithinBounds:Tl,getMode:function(t,e,n){return e.useFixed()?"fixed":"absolute"}}),Ol=[Ze("useFixed",l),We("getBounds")],Al=zs({fields:Ol,name:"positioning",active:Gs,apis:El}),Dl=function(t){Nr(t,_r());var e=t.components();z(e,Dl)},Nl=function(t){var e=t.components();z(e,Nl),Nr(t,xr())},Pl=function(t,e){go(t.element(),e.element())},Ml=function(t,e){var n=t.components();!function(t){z(t.components(),(function(t){return bo(t.element())})),yo(t.element()),t.syncComponents()}(t);var r=X(n,e);z(r,(function(e){Dl(e),t.getSystem().removeFromWorld(e)})),z(e,(function(e){e.getSystem().isConnected()?Pl(t,e):(t.getSystem().addToWorld(e),Pl(t,e),Ti(t.element())&&Nl(e)),t.syncComponents()}))},Ll=function(t,e){Rl(t,e,go)},Rl=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),Ti(t.element())&&Nl(e),t.syncComponents()},Il=function(t){Dl(t),bo(t.element()),t.getSystem().removeFromWorld(t)},Bl=function(t){var e=uo(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}));Il(t),e.each((function(t){t.syncComponents()}))},Fl=function(t){var e=t.components();z(e,Il),yo(t.element()),t.syncComponents()},jl=function(t,e){zl(t,e,go)},zl=function(t,e,n){n(t,e.element());var r=co(e.element());z(r,(function(t){e.getByDom(t).each(Nl)}))},Hl=function(t){var e=co(t.element());z(e,(function(e){t.getByDom(e).each(Dl)})),bo(t.element())},ql=function(t,e,n,r){n.get().each((function(e){Fl(t)}));var o=e.getAttachPoint(t);Ll(o,t);var i=t.getSystem().build(r);return Ll(t,i),n.set(i),i},Ul=function(t,e,n,r){var o=ql(t,e,n,r);return e.onOpen(t,o),o},Wl=function(t,e,n){n.get().each((function(r){Fl(t),Bl(t),e.onClose(t,r),n.clear()}))},Vl=function(t,e,n){return n.isOpen()},$l=function(t,e,n){var r=e.getAttachPoint(t);Ni(t.element(),"position",Al.getMode(r)),function(t,e,n,r){Ii(t.element(),e).fold((function(){Oo(t.element(),n)}),(function(e){Co(t.element(),n,e)})),Ni(t.element(),e,r)}(t,"visibility",e.cloakVisibilityAttr,"hidden")},Gl=function(t,e,n){(function(t){return I(["top","left","right","bottom"],(function(e){return Ii(t,e).isSome()}))})(t.element())||ji(t.element(),"position"),function(t,e,n){To(t.element(),n).fold((function(){return ji(t.element(),e)}),(function(n){return Ni(t.element(),e,n)}))}(t,"visibility",e.cloakVisibilityAttr)},Yl=Object.freeze({__proto__:null,cloak:$l,decloak:Gl,open:Ul,openWhileCloaked:function(t,e,n,r,o){$l(t,e),Ul(t,e,n,r),o(),Gl(t,e)},close:Wl,isOpen:Vl,isPartOf:function(t,e,n,r){return Vl(0,0,n)&&n.get().exists((function(n){return e.isPartOf(t,n,r)}))},getState:function(t,e,n){return n.get()},setContent:function(t,e,n,r){return n.get().map((function(){return ql(t,e,n,r)}))}}),Kl=Object.freeze({__proto__:null,events:function(t,e){return Br([zr(pr(),(function(n,r){Wl(n,t,e)}))])}}),Zl=[Xa("onOpen"),Xa("onClose"),Re("isPartOf"),Re("getAttachPoint"),Ze("cloakVisibilityAttr","data-precloak-visibility")],Xl=zs({fields:Zl,name:"sandboxing",active:Kl,apis:Yl,state:Object.freeze({__proto__:null,init:function(){var t=an(b.none()),e=o("not-implemented");return Jo({readState:e,isOpen:function(){return t.get().isSome()},clear:function(){t.set(b.none())},set:function(e){t.set(b.some(e))},get:function(){return t.get()}})}})}),Jl=o("dismiss.popups"),Ql=o("reposition.popups"),tc=o("mouse.released"),ec=ie([Ze("isExtraPart",o(!1)),Ke("fireEventInstead",[Ze("event",kr())])]),nc=function(t){var e,n=_e("Dismissal",ec,t);return(e={})[Jl()]={schema:ie([Re("target")]),onReceive:function(t,e){Xl.isOpen(t)&&(Xl.isPartOf(t,e.target)||n.isExtraPart(t,e.target)||n.fireEventInstead.fold((function(){return Xl.close(t)}),(function(e){return Nr(t,e.event)})))}},e},rc=ie([Ke("fireEventInstead",[Ze("event",Cr())]),ze("doReposition")]),oc=function(t){var e,n=_e("Reposition",rc,t);return(e={})[Ql()]={onReceive:function(t){Xl.isOpen(t)&&n.fireEventInstead.fold((function(){return n.doReposition(t)}),(function(e){return Nr(t,e.event)}))}},e},ic=function(t,e,n){e.store.manager.onLoad(t,e,n)},ac=function(t,e,n){e.store.manager.onUnload(t,e,n)},sc=Object.freeze({__proto__:null,onLoad:ic,onUnload:ac,setValue:function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),uc=Object.freeze({__proto__:null,events:function(t,e){var n=t.resetOnDom?[Yr((function(n,r){ic(n,t,e)})),Kr((function(n,r){ac(n,t,e)}))]:[Ls(t,e,ic)];return Br(n)}}),lc=function(){var t=an(null);return Jo({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},cc=function(){var t=an({}),e=an({});return Jo({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},lookup:function(n){return Et(t.get(),n).orThunk((function(){return Et(e.get(),n)}))},update:function(n){var r=t.get(),o=e.get(),i={},a={};z(n,(function(t){i[t.value]=t,Et(t,"meta").each((function(e){Et(e,"text").each((function(e){a[e]=t}))}))})),t.set(d(d({},r),i)),e.set(d(d({},o),a))},clear:function(){t.set({}),e.set({})}})},fc=Object.freeze({__proto__:null,memory:lc,dataset:cc,manual:function(){return Jo({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),dc=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},hc=[We("initialValue"),Re("getFallbackEntry"),Re("getDataKey"),Re("setValue"),es("manager",{setValue:dc,getValue:function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},onLoad:function(t,e,n){e.store.initialValue.each((function(r){dc(t,e,n,r)}))},onUnload:function(t,e,n){n.clear()},state:cc})],pc=[Re("getValue"),Ze("setValue",n),We("initialValue"),es("manager",{setValue:function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},onUnload:n,state:Xo.init})],mc=[We("initialValue"),es("manager",{setValue:function(t,e,n,r){n.set(r),e.onSetValue(t,r)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},onUnload:function(t,e,n){n.clear()},state:lc})],gc=[Xe("store",{mode:"memory"},Se("mode",{memory:mc,manual:pc,dataset:hc})),Xa("onSetValue"),Ze("resetOnDom",!1)],vc=zs({fields:gc,name:"representing",active:uc,apis:sc,extra:{setValueFrom:function(t,e){var n=vc.getValue(e);vc.setValue(t,n)}},state:fc}),yc=function(t,e){return rn(t,{},j(e,(function(e){return n=e.name(),r="Cannot configure "+e.name()+" for "+t,de(n,n,zt(),re((function(t){return ht("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([on("dump",i)]))},bc=function(t){return t.dump},wc=function(t,e){return d(d({},t.dump),Fs(e))},xc=yc,_c=wc,kc=Dt([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Cc=function(t){return Ot(t,"uiType")},Sc=function(t,e,n,r){return Cc(n)&&"placeholder"===n.uiType?function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?kc.single(!0,o(n)):Et(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+yt(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}(t,0,n,r):kc.single(!1,o(n))},Tc=function(t,e,n,r){return Sc(t,0,n,r).fold((function(o,i){var a=Cc(n)?i(e,n.config,n.validated):i(e),s=Et(a,"components").getOr([]),u=Y(s,(function(n){return Tc(t,e,n,r)}));return[d(d({},a),{components:u})]}),(function(t,r){if(Cc(n)){var o=r(e,n.config,n.validated);return n.validated.preprocess.getOr(i)(o)}return r(e)}))},Ec=function(t,e,n,r){var i=xt(r,(function(t,e){return r=t,i=!1,{name:o(n=e),required:function(){return r.fold((function(t,e){return t}),(function(t,e){return t}))},used:function(){return i},replace:function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r}};var n,r,i})),a=function(t,e,n,r){return Y(n,(function(n){return Tc(t,e,n,r)}))}(t,e,n,i);return wt(i,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),a},Oc=kc.single,Ac=kc.multiple,Dc=o("placeholder"),Nc=Dt([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Pc=Ze("factory",{sketch:i}),Mc=Ze("schema",[]),Lc=Re("name"),Rc=de("pname","pname",Ht((function(t){return"<alloy."+Ro(t.name)+">"})),Te()),Ic=on("schema",(function(){return[We("preprocess")]})),Bc=Ze("defaults",o({})),Fc=Ze("overrides",o({})),jc=ae([Pc,Mc,Lc,Rc,Bc,Fc]),zc=ae([Pc,Mc,Lc,Bc,Fc]),Hc=ae([Pc,Mc,Lc,Rc,Bc,Fc]),qc=ae([Pc,Ic,Lc,Re("unit"),Rc,Bc,Fc]),Uc=function(t){return t.fold(b.some,b.none,b.some,b.some)},Wc=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},Vc=function(t,e){return function(n){var r=_e("Converting part type",e,n);return t(r)}},$c=Vc(Nc.required,jc),Gc=Vc(Nc.external,zc),Yc=Vc(Nc.optional,Hc),Kc=Vc(Nc.group,qc),Zc=o("entirety"),Xc=Object.freeze({__proto__:null,required:$c,external:Gc,optional:Yc,group:Kc,asNamedPart:Uc,name:Wc,asCommon:function(t){return t.fold(i,i,i,i)},original:Zc}),Jc=function(t,e,n,r){return Mt(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},Qc=function(t,e){var n={};return z(e,(function(e){Uc(e).each((function(e){var r=tf(t,e.pname);n[e.name]=function(n){var o=_e("Part: "+e.name+" in "+t,ae(e.schema),n);return d(d({},r),{config:n,validated:o})}}))})),n},tf=function(t,e){return{uiType:Dc(),owner:t,name:e}},ef=function(t,e,n){return{uiType:Dc(),owner:t,name:e,config:n,validated:{}}},nf=function(t){return Y(t,(function(t){return t.fold(b.none,b.some,b.none,b.none).map((function(t){return He(t.name,t.schema.concat([ns(Zc())]))})).toArray()}))},rf=function(t){return j(t,Wc)},of=function(t,e,n){return function(t,e,n){var r={},i={};return z(n,(function(t){t.fold((function(t){r[t.pname]=Oc(!0,(function(e,n,r){return t.factory.sketch(Jc(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];i[t.name]=o(t.factory.sketch(Jc(e,t,n[Zc()]),n))}),(function(t){r[t.pname]=Oc(!1,(function(e,n,r){return t.factory.sketch(Jc(e,t,n,r))}))}),(function(t){r[t.pname]=Ac(!0,(function(e,n,r){var o=e[t.name];return j(o,(function(n){return t.factory.sketch(Mt(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:o(r),externals:o(i)}}(0,e,n)},af=function(t,e,n){return Ec(b.some(t),e,e.components,n)},sf=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOption()},uf=function(t,e,n){return sf(t,e,n).getOrDie("Could not find part: "+n)},lf=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return z(n,(function(t){r[t]=o(a.getByUid(i[t]))})),r},cf=function(t,e){var n=t.getSystem();return xt(e.partUids,(function(t,e){return o(n.getByUid(t))}))},ff=function(t){return yt(t.partUids)},df=function(t,e,n){var r={},i=e.partUids,a=t.getSystem();return z(n,(function(t){r[t]=o(a.getByUid(i[t]).getOrDie())})),r},hf=function(t,e){var n=rf(e);return $t(j(n,(function(e){return{key:e,value:t+"-"+e}})))},pf=function(t){return de("partUids","partUids",qt((function(e){return hf(e.uid,t)})),Te())},mf=Object.freeze({__proto__:null,generate:Qc,generateOne:ef,schemas:nf,names:rf,substitutes:of,components:af,defaultUids:hf,defaultUidsSchema:pf,getAllParts:cf,getAllPartNames:ff,getPart:sf,getPartOrDie:uf,getParts:lf,getPartsOrDie:df}),gf=function(t,e,n,r,o){var i=function(t,e){return(t.length>0?[He("parts",t)]:[]).concat([Re("uid"),Ze("dom",{}),Ze("components",[]),ns("originalSpec"),Ze("debug.sketcher",{})]).concat(e)}(r,o);return _e(t+" [SpecSchema]",ie(i.concat(e)),n)},vf=function(t,e,n,r,o){var i=yf(o),a=nf(n),s=pf(n),u=gf(t,e,i,a,[s]),l=of(0,u,n);return r(u,af(t,u,l.internals()),i,l.externals())},yf=function(t){return function(t){return Ot(t,"uid")}(t)?t:d(d({},t),{uid:qo("uid")})};var bf,wf=ie([Re("name"),Re("factory"),Re("configFields"),Ze("apis",{}),Ze("extraApis",{})]),xf=ie([Re("name"),Re("factory"),Re("configFields"),Re("partFields"),Ze("apis",{}),Ze("extraApis",{})]),_f=function(t){var e=_e("Sketcher for "+t.name,wf,t),n=xt(e.apis,Zo),r=xt(e.extraApis,(function(t,e){return Go(t,e)}));return d(d({name:o(e.name),configFields:o(e.configFields),sketch:function(t){return function(t,e,n,r){var o=yf(r);return n(gf(t,e,o,[],[]),o)}(e.name,e.configFields,e.factory,t)}},n),r)},kf=function(t){var e=_e("Sketcher for "+t.name,xf,t),n=Qc(e.name,e.partFields),r=xt(e.apis,Zo),i=xt(e.extraApis,(function(t,e){return Go(t,e)}));return d(d({name:o(e.name),partFields:o(e.partFields),configFields:o(e.configFields),sketch:function(t){return vf(e.name,e.configFields,e.partFields,e.factory,t)},parts:o(n)},r),i)},Cf=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Sf=function(t){return"input"===Jr(t)&&"radio"!==So(t,"type")||"textarea"===Jr(t)},Tf=Object.freeze({__proto__:null,getCurrent:function(t,e,n){return e.find(t)}}),Ef=[Re("find")],Of=zs({fields:Ef,name:"composing",apis:Tf}),Af=function(t,e,n,r){var o=$u(t.element(),"."+e.highlightClass);z(o,(function(n){I(r,(function(t){return t.element()===n}))||(mi(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),Nr(n,Dr())})))}))},Df=function(t,e,n,r){Af(t,e,0,[r]),Nf(t,e,n,r)||(hi(r.element(),e.highlightClass),e.onHighlight(t,r),Nr(r,Ar()))},Nf=function(t,e,n,r){return gi(r.element(),e.highlightClass)},Pf=function(t,e,n,r){var o=$u(t.element(),"."+e.itemClass);return b.from(o[r]).fold((function(){return it.error("No element found with index "+r)}),t.getSystem().getByDom)},Mf=function(t,e,n){return Ma(t.element(),"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},Lf=function(t,e,n){var r=$u(t.element(),"."+e.itemClass);return(r.length>0?b.some(r[r.length-1]):b.none()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},Rf=function(t,e,n,r){var o=$u(t.element(),"."+e.itemClass);return $(o,(function(t){return gi(t,e.highlightClass)})).bind((function(e){var n=uu(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOption()}))},If=function(t,e,n){var r=$u(t.element(),"."+e.itemClass);return Cf(j(r,(function(e){return t.getSystem().getByDom(e).toOption()})))},Bf=Object.freeze({__proto__:null,dehighlightAll:function(t,e,n){return Af(t,e,0,[])},dehighlight:function(t,e,n,r){Nf(t,e,n,r)&&(mi(r.element(),e.highlightClass),e.onDehighlight(t,r),Nr(r,Dr()))},highlight:Df,highlightFirst:function(t,e,n){Mf(t,e).each((function(r){Df(t,e,n,r)}))},highlightLast:function(t,e,n){Lf(t,e).each((function(r){Df(t,e,n,r)}))},highlightAt:function(t,e,n,r){Pf(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){Df(t,e,n,r)}))},highlightBy:function(t,e,n,r){var o=If(t,e);V(o,r).each((function(r){Df(t,e,n,r)}))},isHighlighted:Nf,getHighlighted:function(t,e,n){return Ma(t.element(),"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},getFirst:Mf,getLast:Lf,getPrevious:function(t,e,n){return Rf(t,e,0,-1)},getNext:function(t,e,n){return Rf(t,e,0,1)},getCandidates:If}),Ff=[Re("highlightClass"),Re("itemClass"),Xa("onHighlight"),Xa("onDehighlight")],jf=zs({fields:Ff,name:"highlighting",apis:Bf}),zf=function(t,e,n){var r=Z(t.slice(0,e)),o=Z(t.slice(e+1));return V(r.concat(o),n)},Hf=function(t,e,n){var r=Z(t.slice(0,e));return V(r,n)},qf=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return V(o.concat(r),n)},Uf=function(t,e,n){var r=t.slice(e+1);return V(r,n)},Wf=function(t){return function(e){var n=e.raw();return R(t,n.which)}},Vf=function(t){return function(e){return K(t,(function(t){return t(e)}))}},$f=function(t){return!0===t.raw().shiftKey},Gf=function(t){return!0===t.raw().ctrlKey},Yf=s($f),Kf=function(t,e){return{matches:t,classification:e}},Zf=function(t,e,n){e.exists((function(t){return n.exists((function(e){return Pn(e,t)}))}))||Pr(t,Sr(),{prevFocus:e,newFocus:n})},Xf=function(){var t=function(t){return Zs(t.element())};return{get:t,set:function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element());var o=t(e);Zf(e,r,o)}}},Jf=function(){var t=function(t){return jf.getHighlighted(t).map((function(t){return t.element()}))};return{get:t,set:function(e,r){var o=t(e);e.getSystem().getByDom(r).fold(n,(function(t){jf.highlight(e,t)}));var i=t(e);Zf(e,o,i)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}(bf||(bf={}));var Qf,td=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i,a,s=n(t,e,r,o);return(i=s,a=e.event(),V(i,(function(t){return t.matches(a)})).map((function(t){return t.classification}))).bind((function(n){return n(t,e,r,o)}))},a={schema:function(){return t.concat([Ze("focusManager",Xf()),Xe("focusInside","onFocus",ye((function(t){return R(["onFocus","onEnterOrSpace","onApi"],t)?it.value(t):it.error("Invalid value for focusInside")}))),es("handler",a),es("state",e),es("sendFocusIn",o)])},processKey:i,toEvents:function(t,e){var a=t.focusInside!==bf.OnFocusMode?b.none():o(t).map((function(n){return zr(ar(),(function(r,o){n(r,t,e),o.stop()}))})),s=[zr(Jn(),(function(r,a){i(r,a,n,t,e).fold((function(){!function(n,r){var i=Wf([32].concat([13]))(r.event());t.focusInside===bf.OnEnterOrSpaceMode&&i&&Fn(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))}(r,a)}),(function(t){a.stop()}))})),zr(Qn(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))];return Br(a.toArray().concat(s))}};return a},ed=function(t){var e=[We("onEscape"),We("onEnter"),Ze("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ze("firstTabstop",0),Ze("useTabstopAt",o(!0)),We("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return La(e,t)})).getOr(e);return ra(n)>0},r=function(t,e,r){(function(t,e){var r=$u(t.element(),e.selector),o=q(r,(function(t){return n(e,t)}));return b.from(o[e.firstTabstop])})(t,e).each((function(n){e.focusManager.set(t,n)}))},i=function(t,e,r,o,i){return i(e,r,(function(t){return function(t,e){return n(t,e)&&t.useTabstopAt(e)}(o,t)})).fold((function(){return o.cyclic?b.some(!0):b.none()}),(function(e){return o.focusManager.set(t,e),b.some(!0)}))},s=function(t,e,n,r){var o=$u(t.element(),n.selector);return function(t,e){return e.focusManager.get(t).bind((function(t){return La(t,e.selector)}))}(t,n).bind((function(e){return $(o,a(Pn,e)).bind((function(e){return i(t,o,e,n,r)}))}))},u=o([Kf(Vf([$f,Wf([9])]),(function(t,e,n){var r=n.cyclic?zf:Hf;return s(t,0,n,r)})),Kf(Wf([9]),(function(t,e,n){var r=n.cyclic?qf:Uf;return s(t,0,n,r)})),Kf(Wf([27]),(function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))})),Kf(Vf([Yf,Wf([13])]),(function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}))]),l=o([]);return td(e,Xo.init,u,l,(function(){return b.some(r)}))},nd=ed(on("cyclic",o(!1))),rd=ed(on("cyclic",o(!0))),od=function(t,e,n){return Sf(n)&&Wf([32])(e.event())?b.none():function(t,e,n){return Lr(t,n,cr()),b.some(!0)}(t,0,n)},id=function(t,e){return b.some(!0)},ad=[Ze("execute",od),Ze("useSpace",!1),Ze("useEnter",!0),Ze("useControlEnter",!1),Ze("useDown",!1)],sd=function(t,e,n){return n.execute(t,e,t.element())},ud=td(ad,Xo.init,(function(t,e,n,r){var o=n.useSpace&&!Sf(t.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],s=o.concat(i).concat(a);return[Kf(Wf(s),sd)].concat(n.useControlEnter?[Kf(Vf([Gf,Wf([13])]),sd)]:[])}),(function(t,e,n,r){return n.useSpace&&!Sf(t.element())?[Kf(Wf([32]),id)]:[]}),(function(){return b.none()})),ld=function(){var t=an(b.none());return Jo({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(b.some({numRows:e,numColumns:n}))},getNumRows:function(){return t.get().map((function(t){return t.numRows}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns}))}})},cd=Object.freeze({__proto__:null,flatgrid:ld,init:function(t){return t.state(t)}}),fd=function(t){return function(e,n,r,o){var i=t(e.element());return md(i,e,n,r,o)}},dd=function(t,e){var n=_u(t,e);return fd(n)},hd=function(t,e){var n=_u(e,t);return fd(n)},pd=function(t){return function(e,n,r,o){return md(t,e,n,r,o)}},md=function(t,e,n,r,o){return r.focusManager.get(e).bind((function(n){return t(e.element(),n,r,o)})).map((function(t){return r.focusManager.set(e,t),!0}))},gd=pd,vd=pd,yd=pd,bd=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom())},wd=function(t,e,n){var r=$u(t,n);return function(t,e){return $(t,e).map((function(e){return{index:o(e),candidates:o(t)}}))}(q(r,bd),(function(t){return Pn(t,e)}))},xd=function(t,e){return $(t,(function(t){return Pn(e,t)}))},_d=function(t,e,n,r){return r(Math.floor(e/n),e%n).bind((function(e){var r=e.row()*n+e.column();return r>=0&&r<t.length?b.some(t[r]):b.none()}))},kd=function(t,e,n,r,i){return _d(t,e,r,(function(e,a){var s=e===n-1?t.length-e*r:r,u=uu(a,i,0,s-1);return b.some({row:o(e),column:o(u)})}))},Cd=function(t,e,n,r,i){return _d(t,e,r,(function(e,a){var s=uu(e,i,0,n-1),u=s===n-1?t.length-s*r:r,l=lu(a,0,u-1);return b.some({row:o(s),column:o(l)})}))},Sd=[Re("selector"),Ze("execute",od),Ja("onEscape"),Ze("captureTab",!1),rs()],Td=function(t,e,n){Ma(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Ed=function(t){return function(e,n,r,o){return wd(e,n,r.selector).bind((function(e){return t(e.candidates(),e.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},Od=function(t,e,n){return n.captureTab?b.some(!0):b.none()},Ad=Ed((function(t,e,n,r){return kd(t,e,n,r,-1)})),Dd=Ed((function(t,e,n,r){return kd(t,e,n,r,1)})),Nd=Ed((function(t,e,n,r){return Cd(t,e,n,r,-1)})),Pd=Ed((function(t,e,n,r){return Cd(t,e,n,r,1)})),Md=o([Kf(Wf([37]),dd(Ad,Dd)),Kf(Wf([39]),hd(Ad,Dd)),Kf(Wf([38]),gd(Nd)),Kf(Wf([40]),vd(Pd)),Kf(Vf([$f,Wf([9])]),Od),Kf(Vf([Yf,Wf([9])]),Od),Kf(Wf([27]),(function(t,e,n){return n.onEscape(t,e)})),Kf(Wf([32].concat([13])),(function(t,e,n,r){return function(t,e){return e.focusManager.get(t).bind((function(t){return La(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))}))]),Ld=o([Kf(Wf([32]),id)]),Rd=td(Sd,ld,Md,Ld,(function(){return b.some(Td)})),Id=function(t,e,n,r){var o=function(t,e,n){var i,a=uu(e,r,0,n.length-1);return a===t?b.none():(i=n[a],"button"===Jr(i)&&"disabled"===So(i,"disabled")?o(t,a,n):b.from(n[a]))};return wd(t,n,e).bind((function(t){var e=t.index(),n=t.candidates();return o(e,e,n)}))},Bd=[Re("selector"),Ze("getInitial",b.none),Ze("execute",od),Ja("onEscape"),Ze("executeOnMove",!1),Ze("allowVertical",!0)],Fd=function(t,e,n){return function(t,e){return e.focusManager.get(t).bind((function(t){return La(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))},jd=function(t,e,n){e.getInitial(t).orThunk((function(){return Ma(t.element(),e.selector)})).each((function(n){e.focusManager.set(t,n)}))},zd=function(t,e,n){return Id(t,n.selector,e,-1)},Hd=function(t,e,n){return Id(t,n.selector,e,1)},qd=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?Fd(e,n,r):b.some(!0)}))}},Ud=function(t,e,n){return n.onEscape(t,e)},Wd=o([Kf(Wf([32]),id)]),Vd=td(Bd,Xo.init,(function(t,e,n,r){var o=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[Kf(Wf(o),qd(dd(zd,Hd))),Kf(Wf(i),qd(hd(zd,Hd))),Kf(Wf([13]),Fd),Kf(Wf([32]),Fd),Kf(Wf([27]),Ud)]}),Wd,(function(){return b.some(jd)})),$d=function(t,e,n){return b.from(t[e]).bind((function(t){return b.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},Gd=function(t,e,n,r){var o=t[e].length,i=uu(n,r,0,o-1);return $d(t,e,i)},Yd=function(t,e,n,r){var o=uu(n,r,0,t.length-1),i=t[o].length,a=lu(e,0,i-1);return $d(t,o,a)},Kd=function(t,e,n,r){var o=t[e].length,i=lu(n+r,0,o-1);return $d(t,e,i)},Zd=function(t,e,n,r){var o=lu(n+r,0,t.length-1),i=t[o].length,a=lu(e,0,i-1);return $d(t,o,a)},Xd=[He("selectors",[Re("row"),Re("cell")]),Ze("cycles",!0),Ze("previousSelector",b.none),Ze("execute",od)],Jd=function(t,e,n){e.previousSelector(t).orThunk((function(){var n=e.selectors;return Ma(t.element(),n.cell)})).each((function(n){e.focusManager.set(t,n)}))},Qd=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return La(r,o.selectors.row).bind((function(t){var e=$u(t,o.selectors.cell);return xd(e,r).bind((function(e){var r=$u(n,o.selectors.row);return xd(r,t).bind((function(t){var n=function(t,e){return j(t,(function(t){return $u(t,e.selectors.cell)}))}(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},th=Qd((function(t,e,n){return Gd(t,e,n,-1)}),(function(t,e,n){return Kd(t,e,n,-1)})),eh=Qd((function(t,e,n){return Gd(t,e,n,1)}),(function(t,e,n){return Kd(t,e,n,1)})),nh=Qd((function(t,e,n){return Yd(t,n,e,-1)}),(function(t,e,n){return Zd(t,n,e,-1)})),rh=Qd((function(t,e,n){return Yd(t,n,e,1)}),(function(t,e,n){return Zd(t,n,e,1)})),oh=o([Kf(Wf([37]),dd(th,eh)),Kf(Wf([39]),hd(th,eh)),Kf(Wf([38]),gd(nh)),Kf(Wf([40]),vd(rh)),Kf(Wf([32].concat([13])),(function(t,e,n){return Zs(t.element()).bind((function(r){return n.execute(t,e,r)}))}))]),ih=o([Kf(Wf([32]),id)]),ah=td(Xd,Xo.init,oh,ih,(function(){return b.some(Jd)})),sh=[Re("selector"),Ze("execute",od),Ze("moveOnTab",!1)],uh=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},lh=function(t,e,n){Ma(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},ch=function(t,e,n){return Id(t,n.selector,e,-1)},fh=function(t,e,n){return Id(t,n.selector,e,1)},dh=o([Kf(Wf([38]),yd(ch)),Kf(Wf([40]),yd(fh)),Kf(Vf([$f,Wf([9])]),(function(t,e,n,r){return n.moveOnTab?yd(ch)(t,e,n,r):b.none()})),Kf(Vf([Yf,Wf([9])]),(function(t,e,n,r){return n.moveOnTab?yd(fh)(t,e,n,r):b.none()})),Kf(Wf([13]),uh),Kf(Wf([32]),uh)]),hh=o([Kf(Wf([32]),id)]),ph=td(sh,Xo.init,dh,hh,(function(){return b.some(lh)})),mh=[Ja("onSpace"),Ja("onEnter"),Ja("onShiftEnter"),Ja("onLeft"),Ja("onRight"),Ja("onTab"),Ja("onShiftTab"),Ja("onUp"),Ja("onDown"),Ja("onEscape"),Ze("stopSpaceKeyup",!1),We("focusIn")],gh=td(mh,Xo.init,(function(t,e,n){return[Kf(Wf([32]),n.onSpace),Kf(Vf([Yf,Wf([13])]),n.onEnter),Kf(Vf([$f,Wf([13])]),n.onShiftEnter),Kf(Vf([$f,Wf([9])]),n.onShiftTab),Kf(Vf([Yf,Wf([9])]),n.onTab),Kf(Wf([38]),n.onUp),Kf(Wf([40]),n.onDown),Kf(Wf([37]),n.onLeft),Kf(Wf([39]),n.onRight),Kf(Wf([32]),n.onSpace),Kf(Wf([27]),n.onEscape)]}),(function(t,e,n){return n.stopSpaceKeyup?[Kf(Wf([32]),id)]:[]}),(function(t){return t.focusIn})),vh=nd.schema(),yh=rd.schema(),bh=Vd.schema(),wh=Rd.schema(),xh=ah.schema(),_h=ud.schema(),kh=ph.schema(),Ch=gh.schema(),Sh=qs({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:vh,cyclic:yh,flow:bh,flatgrid:wh,matrix:xh,execution:_h,menu:kh,special:Ch}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element(),t.element())}),(function(r){r(t,e,n)}))},setGridSize:function(t,n,r,o,i){!function(t){return At(t,"setGridSize")}(r)?e.console.error("Layout does not support setGridSize"):r.setGridSize(o,i)}},state:cd}),Th=function(t,e,n,r){var o=t.getSystem().build(r);Rl(t,o,n)},Eh=function(t,e,n,r){var o=Oh(t);V(o,(function(t){return Pn(r.element(),t.element())})).each(Bl)},Oh=function(t,e){return t.components()},Ah=function(t,e,n,r,o){var i=Oh(t);return b.from(i[r]).map((function(e){return Eh(t,0,0,e),o.each((function(e){Th(t,0,(function(t,e){!function(t,e,n){fo(t,n).fold((function(){go(t,e)}),(function(t){ho(t,e)}))}(t,e,r)}),e)})),e}))},Dh=zs({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,e,n,r){Th(t,0,go,r)},prepend:function(t,e,n,r){Th(t,0,mo,r)},remove:Eh,replaceAt:Ah,replaceBy:function(t,e,n,r,o){var i=Oh(t);return $(i,r).bind((function(e){return Ah(t,0,0,e,o)}))},set:function(t,e,n,r){Xs((function(){var e=j(r,t.getSystem().build);Ml(t,e)}),t.element())},contents:Oh})}),Nh=function(t,e){return{key:t,value:{config:{},me:function(t,e){var n=Br(e);return zs({fields:[Re("enabled")],name:t,active:{events:o(n)}})}(t,e),configAsRaw:o({}),initialConfig:{},state:Xo}}},Ph=function(t,e){e.ignore||(Ys(t.element()),e.onFocus(t))},Mh=Object.freeze({__proto__:null,focus:Ph,blur:function(t,e){e.ignore||function(t){t.dom().blur()}(t.element())},isFocused:function(t){return function(t){var e=ki(t).dom();return t.dom()===e.activeElement}(t.element())}}),Lh=Object.freeze({__proto__:null,exhibit:function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return ti(n)},events:function(t){return Br([zr(ar(),(function(e,n){Ph(e,t),n.stop()}))].concat(t.stopMousedown?[zr(Vn(),(function(t,e){e.event().prevent()}))]:[]))}}),Rh=[Xa("onFocus"),Ze("stopMousedown",!1),Ze("ignore",!1)],Ih=zs({fields:Rh,name:"focusing",active:Lh,apis:Mh}),Bh=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Fh=function(t,e,n){e.toggleClass.each((function(e){n.get()?hi(t.element(),e):mi(t.element(),e)}))},jh=function(t,e,n){qh(t,e,n,!n.get())},zh=function(t,e,n){n.set(!0),Fh(t,e,n),Bh(t,e,n)},Hh=function(t,e,n){n.set(!1),Fh(t,e,n),Bh(t,e,n)},qh=function(t,e,n,r){(r?zh:Hh)(t,e,n)},Uh=function(t,e,n){qh(t,e,n,e.selected)},Wh=Object.freeze({__proto__:null,onLoad:Uh,toggle:jh,isOn:function(t,e,n){return n.get()},on:zh,off:Hh,set:qh}),Vh=Object.freeze({__proto__:null,exhibit:function(){return ti({})},events:function(t,e){var n,r,o,i=(n=t,r=e,o=jh,Xr((function(t){o(t,n,r)}))),a=Ls(t,e,Uh);return Br(G([t.toggleOnExecute?[i]:[],[a]]))}}),$h=function(t,e,n){Co(t.element(),"aria-expanded",n)},Gh=[Ze("selected",!1),We("toggleClass"),Ze("toggleOnExecute",!0),Xe("aria",{mode:"none"},Se("mode",{pressed:[Ze("syncWithExpanded",!1),es("update",(function(t,e,n){Co(t.element(),"aria-pressed",n),e.syncWithExpanded&&$h(t,e,n)}))],checked:[es("update",(function(t,e,n){Co(t.element(),"aria-checked",n)}))],expanded:[es("update",$h)],selected:[es("update",(function(t,e,n){Co(t.element(),"aria-selected",n)}))],none:[es("update",n)]}))],Yh=zs({fields:Gh,name:"toggling",active:Vh,apis:Wh,state:(Qf=!1,{init:function(){var t=an(Qf);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(Qf)},readState:function(){return t.get()}}}})}),Kh=function(){var t=function(t,e){e.stop(),Mr(t)};return[zr(nr(),t),zr(dr(),t),Vr(Hn()),Vr(Vn())]},Zh=function(t){return Br(G([t.map((function(t){return Xr((function(e,n){t(e),n.stop()}))})).toArray(),Kh()]))},Xh=function(t){(Zs(t.element()).isNone()||Ih.isFocused(t))&&(Ih.isFocused(t)||Ih.focus(t),Pr(t,"alloy.item-hover",{item:t}))},Jh=function(t){Pr(t,"alloy.item-focus",{item:t})},Qh=o("alloy.item-hover"),tp=o("alloy.item-focus"),ep=[Re("data"),Re("components"),Re("dom"),Ze("hasSubmenu",!1),We("toggling"),xc("itemBehaviours",[Yh,Ih,Sh,vc]),Ze("ignoreFocus",!1),Ze("domModification",{}),es("builder",(function(t){return{dom:t.dom,domModification:d(d({},t.domModification),{attributes:d(d(d({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:_c(t.itemBehaviours,[t.toggling.fold(Yh.revoke,(function(t){return Yh.config(d({aria:{mode:"checked"}},t))})),Ih.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){Jh(t)}}),Sh.config({mode:"execution"}),vc.config({store:{mode:"memory",initialValue:t.data}}),Nh("item-type-events",p(Kh(),[zr(Kn(),Xh),zr(fr(),Ih.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),Ze("eventOrder",{})],np=[Re("dom"),Re("components"),es("builder",(function(t){return{dom:t.dom,components:t.components,events:Br([$r(fr())])}}))],rp=o([$c({name:"widget",overrides:function(t){return{behaviours:Fs([vc.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),op=[Re("uid"),Re("data"),Re("components"),Re("dom"),Ze("autofocus",!1),Ze("ignoreFocus",!1),xc("widgetBehaviours",[vc,Ih,Sh]),Ze("domModification",{}),pf(rp()),es("builder",(function(t){var e=of(0,t,rp()),n=af("item-widget",t,e.internals()),r=function(e){return sf(e,t,"widget").map((function(t){return Sh.focusIn(t),t}))},o=function(e,n){return Sf(n.event().target())?b.none():t.autofocus?(n.setSource(e.element()),b.none()):b.none()};return{dom:t.dom,components:n,domModification:t.domModification,events:Br([Xr((function(t,e){r(t).each((function(t){e.stop()}))})),zr(Kn(),Xh),zr(fr(),(function(e,n){t.autofocus?r(e):Ih.focus(e)}))]),behaviours:_c(t.widgetBehaviours,[vc.config({store:{mode:"memory",initialValue:t.data}}),Ih.config({ignore:t.ignoreFocus,onFocus:function(t){Jh(t)}}),Sh.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Us(),onLeft:o,onRight:o,onEscape:function(e,n){return Ih.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element()),b.none()):b.none():(Ih.focus(e),b.some(!0))}})])}}))],ip=Se("type",{widget:op,item:ep,separator:np}),ap=o([Kc({factory:{sketch:function(t){var e=_e("menu.spec item",ip,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:d(d({},e),{uid:qo("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),sp=o([Re("value"),Re("items"),Re("dom"),Re("components"),Ze("eventOrder",{}),yc("menuBehaviours",[jf,vc,Of,Sh]),Xe("movement",{mode:"menu",moveOnTab:!0},Se("mode",{grid:[rs(),es("config",(function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}))],matrix:[es("config",(function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),Re("rowSelector")],menu:[Ze("moveOnTab",!0),es("config",(function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}))]})),Ie("markers",$a()),Ze("fakeFocus",!1),Ze("focusManager",Xf()),Xa("onHighlight")]),up=o("alloy.menu-focus"),lp=kf({name:"Menu",configFields:sp(),partFields:ap(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:wc(t.menuBehaviours,[jf.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),vc.config({store:{mode:"memory",initialValue:t.value}}),Of.config({find:b.some}),Sh.config(t.movement.config(t,t.movement))]),events:Br([zr(tp(),(function(t,e){var n=e.event();t.getSystem().getByDom(n.target()).each((function(n){jf.highlight(t,n),e.stop(),Pr(t,up(),{menu:t,item:n})}))})),zr(Qh(),(function(t,e){var n=e.event().item();jf.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),cp=function(t,e,n,r){return Et(n,r).bind((function(r){return Et(t,r).bind((function(r){var o=cp(t,e,n,r);return b.some([r].concat(o))}))})).getOr([])},fp=function(t,e){var n={};wt(t,(function(t,e){z(t,(function(t){n[t]=e}))}));var r=e,o=_t(e,(function(t,e){return{k:t,v:e}})),i=xt(o,(function(t,e){return[e].concat(cp(n,r,o,e))}));return xt(n,(function(t){return Et(i,t).getOr([t])}))},dp=function(t){return"prepared"===t.type?b.some(t.menu):b.none()},hp={init:function(){var t=an({}),e=an({}),n=an({}),r=an(b.none()),o=an({}),i=function(e,n,r){return a(e).bind((function(o){return function(e){return St(t.get(),(function(t,n){return t===e}))}(e).bind((function(t){return n(t).map((function(t){return{triggeredMenu:o,triggeringItem:t,triggeringPath:r}}))}))}))},a=function(t){return s(t).bind(dp)},s=function(t){return Et(e.get(),t)},u=function(e){return Et(t.get(),e)};return{setMenuBuilt:function(t,n){var r;e.set(d(d({},e.get()),((r={})[t]={type:"prepared",menu:n},r)))},setContents:function(i,a,s,u){r.set(b.some(i)),t.set(s),e.set(a),o.set(u);var l=fp(u,s);n.set(l)},expand:function(e){return Et(t.get(),e).map((function(t){var r=Et(n.get(),e).getOr([]);return[t].concat(r)}))},refresh:function(t){return Et(n.get(),t)},collapse:function(t){return Et(n.get(),t).bind((function(t){return t.length>1?b.some(t.slice(1)):b.none()}))},lookupMenu:s,lookupItem:u,otherMenus:function(t){var e=o.get();return X(yt(e),t)},getPrimary:function(){return r.get().bind(a)},getMenus:function(){return e.get()},clear:function(){t.set({}),e.set({}),n.set({}),r.set(b.none())},isClear:function(){return r.get().isNone()},getTriggeringPath:function(t,e){var o=q(u(t).toArray(),(function(t){return a(t).isSome()}));return Et(n.get(),t).bind((function(t){var n=Z(o.concat(t));return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return b.none();e.push(r.getOrDie())}return b.some(e)}(Y(n,(function(t,o){return i(t,e,n.slice(0,o+1)).fold((function(){return r.get().is(t)?[]:[b.none()]}),(function(t){return[b.some(t)]}))})))}))}}},extractPreparedMenu:dp},pp=o("collapse-item"),mp=_f({name:"TieredMenu",configFields:[ts("onExecute"),ts("onEscape"),Qa("onOpenMenu"),Qa("onOpenSubmenu"),Xa("onRepositionMenu"),Xa("onCollapseMenu"),Ze("highlightImmediately",!0),He("data",[Re("primary"),Re("menus"),Re("expansions")]),Ze("fakeFocus",!1),Xa("onHighlight"),Xa("onHover"),Ya(),Re("dom"),Ze("navigateOnHover",!0),Ze("stayInDom",!1),yc("tmenuBehaviours",[Sh,jf,Of,Dh]),Ze("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:function(t,e){var n,r=an(b.none()),o=hp.init(),i=function(e){var n=function(e,n,r){return xt(r,(function(r,o){var i=function(){return lp.sketch(d(d({},r),{value:o,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?Jf():Xf()}))};return o===n?{type:"prepared",menu:e.getSystem().build(i())}:{type:"notbuilt",nbMenu:i}}))}(e,t.data.primary,t.data.menus),r=s();return o.setContents(t.data.primary,n,t.data.expansions,r),o.getPrimary()},a=function(t){return vc.getValue(t).value},s=function(e){return xt(t.data.menus,(function(t,e){return Y(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},u=function(t,e){jf.highlight(t,e),jf.getHighlighted(e).orThunk((function(){return jf.getFirst(e)})).each((function(e){Lr(t,e.element(),fr())}))},l=function(t,e){return Cf(j(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?b.some(t.menu):b.none()}))})))},c=function(e,n,r){var o=l(n,n.otherMenus(r));z(o,(function(n){yi(n.element(),[t.markers.backgroundMenu]),t.stayInDom||Dh.remove(e,n)}))},f=function(e,n){var o=function(e){return r.get().getOrThunk((function(){var n={},o=$u(e.element(),"."+t.markers.item),i=q(o,(function(t){return"true"===So(t,"aria-haspopup")}));return z(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=a(t);n[e]=t}))})),r.set(b.some(n)),n}))}(e);wt(o,(function(t,e){var r=R(n,e);Co(t.element(),"aria-expanded",r)}))},h=function(e,n,r){return b.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return b.none();var i=o.menu,a=l(n,r.slice(1));return z(a,(function(e){hi(e.element(),t.markers.backgroundMenu)})),Ti(i.element())||Dh.append(e,ta(i)),yi(i.element(),[t.markers.backgroundMenu]),u(e,i),c(e,n,r),b.some(i)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(n||(n={}));var p=function(e,r,i){void 0===i&&(i=n.HighlightSubmenu);var s=a(r);return o.expand(s).bind((function(a){return f(e,a),b.from(a[0]).bind((function(s){return o.lookupMenu(s).bind((function(u){var l=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return o.setMenuBuilt(e,r),r}return n.menu}(e,s,u);return Ti(l.element())||Dh.append(e,ta(l)),t.onOpenSubmenu(e,r,l,Z(a)),i===n.HighlightSubmenu?(jf.highlightFirst(l),h(e,o,a)):(jf.dehighlightAll(l),b.some(r))}))}))}))},m=function(e,n){var r=a(n);return o.collapse(r).bind((function(r){return f(e,r),h(e,o,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},g=function(e){return function(n,r){return La(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOption().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},v=Br([zr(up(),(function(t,e){var n=e.event().item();o.lookupItem(a(n)).each((function(){var n=e.event().menu();jf.highlight(t,n);var r=a(e.event().item());o.refresh(r).each((function(e){return c(t,o,e)}))}))})),Xr((function(e,r){var o=r.event().target();e.getSystem().getByDom(o).each((function(r){0===a(r).indexOf("collapse-item")&&m(e,r),p(e,r,n.HighlightSubmenu).fold((function(){t.onExecute(e,r)}),(function(){}))}))})),Yr((function(e,n){i(e).each((function(n){Dh.append(e,ta(n)),t.onOpenMenu(e,n),t.highlightImmediately&&u(e,n)}))}))].concat(t.navigateOnHover?[zr(Qh(),(function(e,r){var i=r.event().item();!function(t,e){var n=a(e);o.refresh(n).bind((function(e){return f(t,e),h(t,o,e)}))}(e,i),p(e,i,n.HighlightParent),t.onHover(e,i)}))]:[])),y=function(t){return jf.getHighlighted(t).bind(jf.getHighlighted)},w={collapseMenu:function(t){y(t).each((function(e){m(t,e)}))},highlightPrimary:function(t){o.getPrimary().each((function(e){u(t,e)}))},repositionMenus:function(e){o.getPrimary().bind((function(t){return y(e).bind((function(t){var e=a(t),n=Tt(o.getMenus()),r=Cf(j(n,hp.extractPreparedMenu));return o.getTriggeringPath(e,(function(t){return function(t,e,n){return nt(e,(function(t){if(!t.getSystem().isConnected())return b.none();var e=jf.getCandidates(t);return V(e,(function(t){return a(t)===n}))}))}(0,r,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))})).fold((function(){(function(t){return b.from(t.components()[0]).filter((function(t){return"menu"===So(t.element(),"role")}))})(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:wc(t.tmenuBehaviours,[Sh.config({mode:"special",onRight:g((function(t,e){return Sf(e.element())?b.none():p(t,e,n.HighlightSubmenu)})),onLeft:g((function(t,e){return Sf(e.element())?b.none():m(t,e)})),onEscape:g((function(e,n){return m(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))})),focusIn:function(t,e){o.getPrimary().each((function(e){Lr(t,e.element(),fr())}))}}),jf.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Of.config({find:function(t){return jf.getHighlighted(t)}}),Dh.config({})]),eventOrder:t.eventOrder,apis:w,events:v}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:Vt(t,e),expansions:{}}},collapseItem:function(t){return{value:Ro(pp()),meta:{text:t}}}}}),gp=_f({name:"InlineView",configFields:[Re("lazySink"),Xa("onShow"),Xa("onHide"),Ye("onEscape"),yc("inlineBehaviours",[Xl,vc,$s]),Ke("fireDismissalEventInstead",[Ze("event",kr())]),Ke("fireRepositionEventInstead",[Ze("event",Cr())]),Ze("getRelated",b.none),Ze("isExtraPart",l),Ze("eventOrder",b.none)],factory:function(t,e){var n=function(t,e,n,o){r(t,e,n,(function(){return o.map((function(t){return Ca(t)}))}))},r=function(e,n,r,o){var i=t.lazySink(e).getOrDie();Xl.openWhileCloaked(e,r,(function(){return Al.positionWithinBounds(i,n,e,o())})),vc.setValue(e,b.some({mode:"position",anchor:n,getBounds:o}))},o=function(e,n,r,o){var i=function(t,e,n,r,o){var i=function(){return t.lazySink(e)},a="horizontal"===r.type?{layouts:{onLtr:function(){return Ps()},onRtl:function(){return Ms()}}}:{},s=function(t){return function(t){return 2===t.length}(t)?a:{}};return mp.sketch({dom:{tag:"div"},data:r.data,markers:r.menu.markers,highlightImmediately:r.menu.highlightImmediately,onEscape:function(){return Xl.close(e),t.onEscape.map((function(t){return t(e)})),b.some(!0)},onExecute:function(){return b.some(!0)},onOpenMenu:function(t,e){Al.positionWithinBounds(i().getOrDie(),n,e,o())},onOpenSubmenu:function(t,e,n,r){var o=i().getOrDie();Al.position(o,d({anchor:"submenu",item:e},s(r)),n)},onRepositionMenu:function(t,e,r){var a=i().getOrDie();Al.positionWithinBounds(a,n,e,o()),z(r,(function(t){var e=s(t.triggeringPath);Al.position(a,d({anchor:"submenu",item:t.triggeringItem},e),t.triggeredMenu)}))}})}(t,e,n,r,o);Xl.open(e,i),vc.setValue(e,b.some({mode:"menu",menu:i}))},i=function(e){Xl.isOpen(e)&&vc.getValue(e).each((function(n){switch(n.mode){case"menu":Xl.getState(e).each((function(t){mp.repositionMenus(t)}));break;case"position":var r=t.lazySink(e).getOrDie();Al.positionWithinBounds(r,n.anchor,e,n.getBounds())}}))},a={setContent:function(t,e){Xl.setContent(t,e)},showAt:function(t,e,r){n(t,e,r,b.none())},showWithin:n,showWithinBounds:r,showMenuAt:function(t,e,n){o(t,e,n,(function(){return b.none()}))},showMenuWithinBounds:o,hide:function(t){Xl.isOpen(t)&&(vc.setValue(t,b.none()),Xl.close(t))},getContent:function(t){return Xl.getState(t)},reposition:i,isOpen:Xl.isOpen};return{uid:t.uid,dom:t.dom,behaviours:wc(t.inlineBehaviours,[Xl.config({isPartOf:function(e,n,r){return Ba(n,r)||function(e,n){return t.getRelated(e).exists((function(t){return Ba(t,n)}))}(e,r)},getAttachPoint:function(e){return t.lazySink(e).getOrDie()},onOpen:function(e){t.onShow(e)},onClose:function(e){t.onHide(e)}}),vc.config({store:{mode:"memory",initialValue:b.none()}}),$s.config({channels:d(d({},nc(d({isExtraPart:e.isExtraPart},t.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),oc(d(d({},t.fireRepositionEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})),{doReposition:i})))})]),eventOrder:t.eventOrder,apis:a}},apis:{showAt:function(t,e,n,r){t.showAt(e,n,r)},showWithin:function(t,e,n,r,o){t.showWithin(e,n,r,o)},showWithinBounds:function(t,e,n,r,o){t.showWithinBounds(e,n,r,o)},showMenuAt:function(t,e,n,r){t.showMenuAt(e,n,r)},showMenuWithinBounds:function(t,e,n,r,o){t.showMenuWithinBounds(e,n,r,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)},reposition:function(t,e){t.reposition(e)}}}),vp=function(t){return t.x},yp=function(t,e){return t.x+t.width/2-e.width/2},bp=function(t,e){return t.x+t.width-e.width},wp=function(t){return t.y},xp=function(t,e){return t.y+t.height-e.height},_p=function(t,e,n){return os(bp(t,e),xp(t,e),n.innerSoutheast(),ls(),ps(t,{right:0,bottom:3}),"layout-inner-se")},kp=function(t,e,n){return os(vp(t),xp(t,e),n.innerSouthwest(),us(),ps(t,{left:1,bottom:3}),"layout-inner-sw")},Cp=function(t,e,n){return os(bp(t,e),wp(t),n.innerNortheast(),ss(),ps(t,{right:0,top:2}),"layout-inner-ne")},Sp=function(t,e,n){return os(vp(t),wp(t),n.innerNorthwest(),as(),ps(t,{left:1,top:2}),"layout-inner-nw")},Tp=function(t,e,n){return os(yp(t,e),wp(t),n.innerNorth(),cs(),ps(t,{top:2}),"layout-inner-n")},Ep=function(t,e,n){return os(yp(t,e),xp(t,e),n.innerSouth(),fs(),ps(t,{bottom:3}),"layout-inner-s")},Op=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ap=_f({name:"Button",factory:function(t){var e=Zh(t.action),n=t.dom.tag,r=function(e){return Et(t.dom,"attributes").bind((function(t){return Et(t,e)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:_c(t.buttonBehaviours,[Ih.config({}),Sh.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===n){var t=r("type").getOr("button"),e=r("role").map((function(t){return{role:t}})).getOr({});return d({type:t},e)}return{role:r("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[Ze("uid",void 0),Re("dom"),Ze("components",[]),xc("buttonBehaviours",[Ih,Sh]),We("action"),We("role"),Ze("eventOrder",{})]}),Dp=function(t){var e=function(t){return void 0!==t.uid}(t)&&At(t,"uid")?t.uid:qo("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).toOption()},asSpec:function(){return d(d({},t),{uid:e})}}},Np=function(t){return b.from(t()["temporary-placeholder"]).getOr("!not found!")},Pp=function(t,e){return b.from(e()[t.toLowerCase()]).getOrThunk((function(){return Np(e)}))},Mp=function(t,e){return nt(t,(function(t){return b.from(e()[t.toLowerCase()])})).getOrThunk((function(){return Np(e)}))},Lp={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},Rp=_f({name:"Notification",factory:function(t){var e=Dp({dom:{tag:"p",innerHtml:t.translationProvider(t.text)},behaviours:Fs([Dh.config({})])}),n=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},r=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},o=Dp({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(0)]},r(0)],behaviours:Fs([Dh.config({})])}),i={updateProgress:function(t,e){t.getSystem().isConnected()&&o.getOpt(t).each((function(t){Dh.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[n(e)]},r(e)])}))},updateText:function(t,n){if(t.getSystem().isConnected()){var r=e.get(t);Dh.set(r,[Zi(n)])}}},a=G([t.icon.toArray(),t.level.toArray(),t.level.bind((function(t){return b.from(Lp[t])})).toArray()]);return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map((function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]})).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:Mp(a,t.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[e.asSpec()],behaviours:Fs([Dh.config({})])}].concat(t.progress?[o.asSpec()]:[]).concat(t.closeButton?[Ap.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Pp("close",t.iconProvider),attributes:{"aria-label":t.translationProvider("Close")}}}],action:function(e){t.onAction(e)}})]:[]),apis:i}},configFields:[We("level"),Re("progress"),Re("icon"),Re("onAction"),Re("text"),Re("iconProvider"),Re("translationProvider"),en("closeButton",!0)],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}});function Ip(t,e,n){var r=e.backstage;return{open:function(t,o){var i=!t.closeButton&&t.timeout&&(t.timeout>0||t.timeout<0),a=function(){o(),gp.hide(u)},s=Qi(Rp.sketch({text:t.text,level:R(["success","error","warning","warn","info"],t.type)?t.type:void 0,progress:!0===t.progressBar,icon:b.from(t.icon),closeButton:!i,onAction:a,iconProvider:r.shared.providers.icons,translationProvider:r.shared.providers.translate})),u=Qi(gp.sketch(d({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:e.backstage.shared.getSink,fireDismissalEventInstead:{}},r.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(u),t.timeout>0&&Op.setTimeout((function(){a()}),t.timeout),{close:a,moveTo:function(t,e){gp.showAt(u,{anchor:"makeshift",x:t,y:e},ta(s))},moveRel:function(t,n){if("banner"!==n){var r=function(t){switch(t){case"bc-bc":return Ep;case"tc-tc":return Tp;case"tc-bc":return Ss;case"bc-tc":default:return Ts}}(n),o={anchor:"node",root:Ei(),node:b.some(un.fromDom(t)),layouts:{onRtl:function(){return[r]},onLtr:function(){return[r]}}};gp.showAt(u,o,ta(s))}else gp.showAt(u,e.backstage.shared.anchors.banner(),ta(s))},text:function(t){Rp.updateText(s,t)},settings:t,getEl:function(){return s.element().dom()},progressBar:{value:function(t){Rp.updateProgress(s,t)}}}},close:function(t){t.close()},reposition:function(t){!function(t){z(t,(function(t){return t.moveTo(0,0)}))}(t),function(t){t.length>0&&(Q(t).each((function(t){return t.moveRel(null,"banner")})),z(t,(function(e,n){n>0&&e.moveRel(t[n-1].getEl(),"bc-tc")})))}(t)},getArgs:function(t){return t.settings}}}var Bp,Fp=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){t.apply(null,o),r=null}),n)}}},jp=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),zp=function(t,e,n,r,o){var i=jp(t,(function(e){return function(t,e){return t.isBlock(e)||R(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}(t,e)}));return b.from(i.backwards(e,n,r,o))},Hp=function(t,e){return qp(un.fromDom(t.selection.getNode())).getOrThunk((function(){var n=un.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return go(n,un.fromDom(e.extractContents())),e.insertNode(n.dom()),uo(n).each((function(t){return t.dom().normalize()})),function(t){return Vu(t,Wu)}(n).map((function(e){t.selection.setCursorLocation(e.dom(),function(t){return"img"===Jr(t)?1:qu(t).fold((function(){return co(t).length}),(function(t){return t.length}))}(e))})),n}))},qp=function(t){return La(t,"[data-mce-autocompleter]")},Up=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Wp=function(t){return""!==t&&-1!=="  \f\n\r\t\v".indexOf(t)},Vp=function(t,e){return t.substring(e.length)},$p=function(t,e,n,r){if(void 0===r&&(r=0),!(o=e).collapsed||3!==o.startContainer.nodeType)return b.none();var o,i=t.getParent(e.startContainer,t.isBlock)||t.getRoot();return zp(t,e.startContainer,e.startOffset,(function(t,e,r){return function(t,e,n){var r;for(r=e-1;r>=0;r--){var o=t.charAt(r);if(Wp(o))return b.none();if(o===n)break}return b.some(r)}(r,e,n).getOr(e)}),i).bind((function(t){var o=e.cloneRange();if(o.setStart(t.container,t.offset),o.setEnd(e.endContainer,e.endOffset),o.collapsed)return b.none();var i=Up(o);return 0!==i.lastIndexOf(n)||Vp(i,n).length<r?b.none():b.some({text:Vp(i,n),range:o,triggerChar:n})}))},Gp=function(t,e,n,r){return void 0===r&&(r=0),qp(un.fromDom(e.startContainer)).fold((function(){return $p(t,e,n,r)}),(function(e){var r=t.createRng();r.selectNode(e.dom());var o=Up(r);return b.some({range:r,text:Vp(o,n),triggerChar:n})}))},Yp=function(t,e){e.on("keypress compositionend",t.onKeypress.throttle),e.on("remove",t.onKeypress.cancel);var n=function(t,e){Pr(t,Jn(),{raw:e})};e.on("keydown",(function(e){var r=function(){return t.getView().bind(jf.getHighlighted)};8===e.which&&t.onKeypress.throttle(e),t.isActive()&&(27===e.which&&t.cancelIfNecessary(),t.isMenuOpen()?13===e.which?(r().each(Mr),e.preventDefault()):40===e.which?(r().fold((function(){t.getView().each(jf.highlightFirst)}),(function(t){n(t,e)})),e.preventDefault(),e.stopImmediatePropagation()):37!==e.which&&38!==e.which&&39!==e.which||r().each((function(t){n(t,e),e.preventDefault(),e.stopImmediatePropagation()})):13!==e.which&&38!==e.which&&40!==e.which||t.cancelIfNecessary())})),e.on("NodeChange",(function(e){t.isActive()&&!t.isProcessingAction()&&qp(un.fromDom(e.element)).isNone()&&t.cancelIfNecessary()}))},Kp=tinymce.util.Tools.resolve("tinymce.util.Promise"),Zp=function(t,e){return{container:t,offset:e}},Xp=function(t){if(function(t){return t.nodeType===e.Node.TEXT_NODE}(t))return Zp(t,t.data.length);var n=t.childNodes;return n.length>0?Xp(n[n.length-1]):Zp(t,n.length)},Jp=function(t,n){var r=t.childNodes;return r.length>0&&n<r.length?Jp(r[n],0):r.length>0&&function(t){return t.nodeType===e.Node.ELEMENT_NODE}(t)&&r.length===n?Xp(r[r.length-1]):Zp(t,n)},Qp=function(t){return function(e){var n=Jp(e.startContainer,e.startOffset);return!function(t,e){return zp(t,e.container,e.offset,(function(t,e){return 0===e?-1:e}),t.getRoot()).filter((function(t){var e=t.container.data.charAt(t.offset-1);return!Wp(e)})).isSome()}(t,n)}},tm=function(t,e){var n=e(),r=t.selection.getRng();return function(t,e,n){return nt(n.triggerChars,(function(n){return Gp(t,e,n)}))}(t.dom,r,n).bind((function(n){return em(t,e,n)}))},em=function(t,e,n,r){void 0===r&&(r={});var o=e(),i=t.selection.getRng().startContainer.nodeValue,a=q(o.lookupByChar(n.triggerChar),(function(e){return n.text.length>=e.minChars&&e.matches.getOrThunk((function(){return Qp(t.dom)}))(n.range,i,n.text)}));if(0===a.length)return b.none();var s=Kp.all(j(a,(function(t){return t.fetch(n.text,t.maxResults,r).then((function(e){return{matchText:n.text,items:e,columns:t.columns,onAction:t.onAction}}))})));return b.some({lookupData:s,context:n})},nm=ae([Fe("type"),Ge("text")]),rm=ae([on("type",(function(){return"autocompleteitem"})),on("active",(function(){return!1})),on("disabled",(function(){return!1})),Ze("meta",{}),Fe("value"),Ge("text"),Ge("icon")]),om=ae([Fe("type"),Fe("ch"),Je("minChars",1),Ze("columns",1),Je("maxResults",10),Ye("matches"),ze("fetch"),ze("onAction")]),im=function(t){var e=t.ui.registry.getAll().popups,n=xt(e,(function(t){return(e=t,we("Autocompleter",om,e)).fold((function(t){throw new Error(ke(t))}),(function(t){return t}));var e})),r=function(t){var e={};return z(t,(function(t){e[t]={}})),yt(e)}(Ct(n,(function(t){return t.ch}))),o=Tt(n);return{dataset:n,triggerChars:r,lookupByChar:function(t){return q(o,(function(e){return e.ch===t}))}}};!function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"}(Bp||(Bp={}));var am,sm=Bp,um="tox-menu-nav__js",lm="tox-collection__item",cm={normal:um,color:"tox-swatch"},fm="tox-collection__item-label",dm="tox-collection__item--active",hm=function(t){return Et(cm,t).getOr(um)},pm=function(t){return"color"===t?"tox-swatches":"tox-menu"},mm=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:pm(t),tieredMenu:"tox-tiered-menu"}},gm=function(t){var e=mm(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:hm(t)}},vm=function(t,e,n){var r=mm(n);return{tag:"div",classes:G([[r.menu,"tox-menu-"+e+"-column"],t?[r.hasIcons]:[]])}},ym=[lp.parts().items({})],bm=function(t,e,n){var r=mm(n);return{dom:{tag:"div",classes:G([[r.tieredMenu]])},markers:gm(n)}},wm=function(t,e){return function(n){var r=F(n,e);return j(r,(function(e){return{dom:t,components:e}}))}},xm=function(t,e){var n=[],r=[];return z(t,(function(t,o){e(t,o)?(r.length>0&&n.push(r),r=[],Ot(t.dom,"innerHtml")&&r.push(t)):r.push(t)})),r.length>0&&n.push(r),j(n,(function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}))},_m=function(t,e,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===t?["tox-collection--list"]:["tox-collection--grid"])},components:[lp.parts().items({preprocess:function(n){return"auto"!==t&&t>1?wm({tag:"div",classes:["tox-collection__group"]},t)(n):xm(n,(function(t,n){return"separator"===e[n].type}))}})]}},km=function(t){return I(t,(function(t){return"icon"in t&&void 0!==t.icon}))},Cm=function(t){return e.console.error(ke(t)),e.console.log(t),b.none()},Sm=function(t,e,n,r,o){var i,a=(i=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[lp.parts().items({preprocess:function(t){return xm(t,(function(t,e){return"separator"===i[e].type}))}})]});return{value:t,dom:a.dom,components:a.components,items:n}},Tm=function(t,e,n,r,o){var a;return"color"===o?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[lp.parts().items({preprocess:"auto"!==t?wm({tag:"div",classes:["tox-swatches__row"]},t):i})]}]}}(r)).dom,components:a.components,items:n}:"normal"===o&&"auto"===r?{value:t,dom:(a=_m(r,n)).dom,components:a.components,items:n}:"normal"===o&&1===r?{value:t,dom:(a=_m(1,n)).dom,components:a.components,items:n}:"normal"===o?{value:t,dom:(a=_m(r,n)).dom,components:a.components,items:n}:"listpreview"===o&&"auto"!==r?{value:t,dom:(a=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[lp.parts().items({preprocess:wm({tag:"div",classes:["tox-collection__group"]},t)})]}}(r)).dom,components:a.components,items:n}:{value:t,dom:vm(e,r,o),components:ym,items:n}},Em=[en("disabled",!1),Ge("text"),Ge("shortcut"),de("value","value",Ht((function(){return Ro("menuitem-value")})),Te()),Ze("meta",{})],Om=ae([Fe("type"),en("active",!1),Ge("icon")].concat(Em)),Am=ae([Fe("type"),je("fancytype",["inserttable","colorswatch"]),nn("onAction",n)]),Dm=ae([Fe("type"),nn("onSetup",(function(){return n})),nn("onAction",n),Ge("icon")].concat(Em)),Nm=ae([Fe("type"),ze("getSubmenuItems"),nn("onSetup",(function(){return n})),Ge("icon")].concat(Em)),Pm=ae([Fe("type"),Ge("icon"),en("active",!1),nn("onSetup",(function(){return n})),ze("onAction")].concat(Em)),Mm=function(t,e,n){var r=$u(t.element(),"."+n);if(r.length>0){var o=$(r,(function(t){var n=t.dom().getBoundingClientRect().top,o=r[0].dom().getBoundingClientRect().top;return Math.abs(n-o)>e})).getOr(r.length);return b.some({numColumns:o,numRows:Math.ceil(r.length/o)})}return b.none()},Lm=function(t,e){return Fs([Nh(t,e)])},Rm=function(t){return Lm(Ro("unnamed-events"),t)},Im=[Re("lazySink"),Re("tooltipDom"),Ze("exclusive",!0),Ze("tooltipComponents",[]),Ze("delay",300),tn("mode","normal",["normal","follow-highlight"]),Ze("anchor",(function(t){return{anchor:"hotspot",hotspot:t,layouts:{onLtr:o([Ts,Ss,xs,ks,_s,Cs]),onRtl:o([Ts,Ss,xs,ks,_s,Cs])}}})),Xa("onHide"),Xa("onShow")],Bm=Object.freeze({__proto__:null,init:function(){var t=an(b.none()),n=an(b.none()),r=function(){t.get().each((function(t){e.clearTimeout(t)}))},i=o("not-implemented");return Jo({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(t){n.set(b.some(t))},clearTooltip:function(){n.set(b.none())},clearTimer:r,resetTimer:function(n,o){r(),t.set(b.some(e.setTimeout((function(){n()}),o)))},readState:i})}}),Fm=Ro("tooltip.exclusive"),jm=Ro("tooltip.show"),zm=Ro("tooltip.hide"),Hm=function(t,e,n){t.getSystem().broadcastOn([Fm],{})},qm=Object.freeze({__proto__:null,hideAllExclusive:Hm,setComponents:function(t,e,n,r){n.getTooltip().each((function(t){t.getSystem().isConnected()&&Dh.set(t,r)}))}}),Um=zs({fields:Im,name:"tooltipping",active:Object.freeze({__proto__:null,events:function(t,e){var n=function(n){e.getTooltip().each((function(r){Bl(r),t.onHide(n,r),e.clearTooltip()})),e.clearTimer()};return Br(G([[zr(jm,(function(n){e.resetTimer((function(){!function(n){if(!e.isShowing()){Hm(n);var r=t.lazySink(n).getOrDie(),o=n.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:Br("normal"===t.mode?[zr(Kn(),(function(t){Nr(n,jm)})),zr(Gn(),(function(t){Nr(n,zm)}))]:[]),behaviours:Fs([Dh.config({})])});e.setTooltip(o),Ll(r,o),t.onShow(n,o),Al.position(r,t.anchor(n),o)}}(n)}),t.delay)})),zr(zm,(function(r){e.resetTimer((function(){n(r)}),t.delay)})),zr(lr(),(function(t,e){R(e.channels(),Fm)&&n(t)})),Kr((function(t){n(t)}))],"normal"===t.mode?[zr(Zn(),(function(t){Nr(t,jm)})),zr(sr(),(function(t){Nr(t,zm)})),zr(Kn(),(function(t){Nr(t,jm)})),zr(Gn(),(function(t){Nr(t,zm)}))]:[zr(Ar(),(function(t,e){Nr(t,jm)})),zr(Dr(),(function(t){Nr(t,zm)}))]]))}}),state:Bm,apis:qm}),Wm=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vm=tinymce.util.Tools.resolve("tinymce.util.I18n"),$m=["input","button","textarea","select"],Gm=function(t,e,n){(e.disabled()?Qm:tg)(t,e,n)},Ym=function(t,e){return!0===e.useNative&&R($m,Jr(t.element()))},Km=function(t){Co(t.element(),"disabled","disabled")},Zm=function(t){Oo(t.element(),"disabled")},Xm=function(t){Co(t.element(),"aria-disabled","true")},Jm=function(t){Co(t.element(),"aria-disabled","false")},Qm=function(t,e,n){e.disableClass.each((function(e){hi(t.element(),e)})),(Ym(t,e)?Km:Xm)(t),e.onDisabled(t)},tg=function(t,e,n){e.disableClass.each((function(e){mi(t.element(),e)})),(Ym(t,e)?Zm:Jm)(t),e.onEnabled(t)},eg=function(t,e){return Ym(t,e)?function(t){return Eo(t.element(),"disabled")}(t):function(t){return"true"===So(t.element(),"aria-disabled")}(t)},ng=Object.freeze({__proto__:null,enable:tg,disable:Qm,isDisabled:eg,onLoad:Gm,set:function(t,e,n,r){(r?Qm:tg)(t,e,n)}}),rg=Object.freeze({__proto__:null,exhibit:function(t,e){return ti({classes:e.disabled()?e.disableClass.toArray():[]})},events:function(t,e){return Br([Fr(cr(),(function(e,n){return eg(e,t)})),Ls(t,e,Gm)])}}),og=[nn("disabled",l),Ze("useNative",!0),We("disableClass"),Xa("onDisabled"),Xa("onEnabled")],ig=zs({fields:og,name:"disabling",active:rg,apis:ng}),ag=tinymce.util.Tools.resolve("tinymce.EditorManager"),sg=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},ug=function(t){return t.getParam("width",Wm.DOM.getStyle(t.getElement(),"width"))},lg=function(t){return b.from(t.getParam("min_width")).filter(A)},cg=function(t){return b.from(t.getParam("min_height")).filter(A)},fg=function(t){return b.from(t.getParam("max_width")).filter(A)},dg=function(t){return b.from(t.getParam("max_height")).filter(A)},hg=function(t){return!1!==t.getParam("menubar",!0,"boolean")},pg=function(t){var e=t.getParam("toolbar",!0),n=!0===e,r=_(e),o=C(e)&&e.length>0;return!gg(t)&&(o||r||n)},mg=function(t){var e=B(9,(function(e){return t.getParam("toolbar"+(e+1),!1,"string")})),n=q(e,(function(t){return"string"==typeof t}));return n.length>0?b.some(n):b.none()},gg=function(t){return mg(t).fold((function(){return t.getParam("toolbar",[],"string[]").length>0}),(function(){return!0}))};!function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"}(am||(am={}));var vg,yg=function(t){return t.getParam("toolbar_mode","","string")};!function(t){t.auto="auto",t.top="top",t.bottom="bottom"}(vg||(vg={}));var bg,wg=function(t){return t.getParam("toolbar_location",vg.auto,"string")},xg=function(t){return wg(t)===vg.bottom},_g=function(t){var e=function(t){return t.getParam("fixed_toolbar_container","","string")}(t);return e.length>0&&t.inline?Ma(Ei(),e):b.none()},kg=function(t){return t.inline&&_g(t).isSome()},Cg=function(t){return t.inline&&!hg(t)&&!pg(t)&&!gg(t)},Sg=function(t){return(t.getParam("toolbar_sticky",!1,"boolean")||t.inline)&&!kg(t)&&!Cg(t)},Tg=function(t){var e=t.getParam("menu");return e?xt(e,(function(t){return d(d({},t),{items:t.items})})):{}},Eg=function(t){return t.getParam("menubar")},Og=function(t){return t.getParam("anchor_top","#top","string")},Ag=function(t){return t.getParam("anchor_bottom","#bottom","string")},Dg=ae([(bg="readonly",Ie(bg,De))]),Ng=function(t,e){var n=t.outerContainer.element();e&&(t.mothership.broadcastOn([Jl()],{target:n}),t.uiMothership.broadcastOn([Jl()],{target:n})),t.mothership.broadcastOn(["silver.readonly"],{readonly:e}),t.uiMothership.broadcastOn(["silver.readonly"],{readonly:e})},Pg=function(t,e){t.on("init",(function(){t.mode.isReadOnly()&&Ng(e,!0)})),t.on("SwitchMode",(function(){return Ng(e,t.mode.isReadOnly())})),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly")},Mg=function(){var t;return $s.config({channels:(t={},t["silver.readonly"]={schema:Dg,onReceive:function(t,e){ig.set(t,e.readonly)}},t)})},Lg=function(t){return ig.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Rg=function(t){return ig.config({disabled:t})},Ig=function(t){return ig.config({disabled:t,disableClass:"tox-tbtn--disabled"})},Bg=function(t){return ig.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Fg=function(t,e){var n=t.getApi(e);return function(t){t(n)}},jg=function(t,e){return Yr((function(n){Fg(t,n)((function(n){var r=t.onSetup(n);null!=r&&e.set(r)}))}))},zg=function(t,e){return Kr((function(n){return Fg(t,n)(e.get())}))},Hg=function(t,e){return Xr((function(n,r){Fg(t,n)(t.onAction),t.triggersSubmenu||e!==sm.CLOSE_ON_EXECUTE||(Nr(n,pr()),r.stop())}))},qg={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Ug=function(t){return Y(t,(function(t){return t.toArray()}))},Wg=function(t,e,r,o){var i=an(n);return{type:"item",dom:e.dom,components:Ug(e.optComponents),data:t.data,eventOrder:qg,hasSubmenu:t.triggersSubmenu,itemBehaviours:Fs([Nh("item-events",[Hg(t,r),jg(t,i),zg(t,i)]),Lg((function(){return t.disabled||o.isReadOnly()})),Mg(),Dh.config({})].concat(t.itemBehaviours))}},Vg=function(t){return{value:t.value,meta:d({text:t.text.getOr("")},t.meta)}},$g=tinymce.util.Tools.resolve("tinymce.Env"),Gg=function(t){var e=$g.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},n=t.split("+"),r=j(n,(function(t){var n=t.toLowerCase().trim();return Ot(e,n)?e[n]:t}));return $g.mac?r.join(""):r.join("+")},Yg=function(t){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:t}}},Kg=function(t){return{dom:{tag:"div",classes:[fm]},components:[Zi(Vm.translate(t))]}},Zg=function(t,e){return{dom:{tag:"div",classes:[fm]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Zi(Vm.translate(e))]}]}},Xg=function(t){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:Gg(t)}}},Jg=function(t){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:Pp("checkmark",t)}}},Qg=function(t,e,n,r,o){var i=n?e.or(b.some("")).map(Yg):b.none(),a=t.checkMark,s=t.ariaLabel.map((function(t){return{attributes:{title:Vm.translate(t)}}})).getOr({});return{dom:d({tag:"div",classes:[um,lm].concat(o?["tox-collection__item-icon-rtl"]:[])},s),optComponents:[i,t.htmlContent.fold((function(){return t.textContent.map(r)}),(function(t){return b.some(function(t){return{dom:{tag:"div",classes:[fm],innerHtml:t}}}(t))})),t.shortcutContent.map(Xg),a,t.caret]}},tv=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],ev=["list-bull-circle","list-bull-default","list-bull-square"],nv=function(t,e,n,r){void 0===r&&(r=b.none());var o,i=Vm.isRtl()&&t.iconContent.exists((function(t){return R(ev,t)})),s=(o=t.iconContent,o.map((function(t){return Vm.isRtl()&&R(tv,t)?t+"-rtl":t}))).map((function(t){return function(t,e,n){return b.from(e()[t.toLowerCase()]).or(n).getOrThunk((function(){return Np(e)}))}(t,e.icons,r)})),u=b.from(t.meta).fold((function(){return Kg}),(function(t){return Ot(t,"style")?a(Zg,t.style):Kg}));return"color"===t.presets?function(t,e,n,r){var o,i;return{dom:(o=n.getOr(""),i={tag:"div",attributes:t.map((function(t){return{title:r.translate(t)}})).getOr({}),classes:["tox-swatch"]},d(d({},i),"custom"===e?{tag:"button",classes:p(i.classes,["tox-swatches__picker-btn"]),innerHtml:o}:"remove"===e?{classes:p(i.classes,["tox-swatch--remove"]),innerHtml:o}:{attributes:d(d({},i.attributes),{"data-mce-color":e}),styles:{"background-color":e}})),optComponents:[]}}(t.ariaLabel,t.value,s,e):Qg(t,s,n,u,i)},rv=function(t,e){return Et(t,"tooltipWorker").map((function(t){return[Um.config({lazySink:e.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(t){return{anchor:"submenu",item:t,overrides:{maxHeightFunction:gu}}},mode:"follow-highlight",onShow:function(e,n){t((function(t){Um.setComponents(e,[Xi({element:un.fromDom(t)})])}))}})]})).getOr([])},ov=function(t,e){var n=function(t){return Wm.DOM.encode(t)}(Vm.translate(t));if(e.length>0){var r=new RegExp(function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(e),"gi");return n.replace(r,(function(t){return'<span class="tox-autocompleter-highlight">'+t+"</span>"}))}return n},iv=o(Qc("item-widget",rp())),av=Ro("cell-over"),sv=Ro("cell-execute"),uv=function(t,e,n){var r,o=function(n){return Pr(n,sv,{row:t,col:e})},i=function(t,e){e.stop(),o(t)};return Qi({dom:{tag:"div",attributes:(r={role:"button"},r["aria-labelledby"]=n,r)},behaviours:Fs([Nh("insert-table-picker-cell",[zr(Kn(),Ih.focus),zr(cr(),o),zr(nr(),i),zr(dr(),i)]),Yh.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Ih.config({onFocus:function(n){return Pr(n,av,{row:t,col:e})}})])})},lv=function(t){return Y(t,(function(t){return j(t,ta)}))},cv=function(t,e){return Zi(e+1+"x"+(t+1))},fv=function(t){return{value:t}},dv=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,hv=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pv=function(t){return dv.test(t)||hv.test(t)},mv=function(t){var e=function(t){return{value:t.value.replace(dv,(function(t,e,n,r){return e+e+n+n+r+r}))}}(t),n=hv.exec(e.value);return null===n?["FFFFFF","FF","FF","FF"]:n},gv=function(t){var e=t.toString(16);return 1===e.length?"0"+e:e},vv=function(t){var e=gv(t.red)+gv(t.green)+gv(t.blue);return fv(e)},yv=Math.min,bv=Math.max,wv=Math.round,xv=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,_v=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,kv=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},Cv=function(t){var e=parseInt(t,10);return e.toString()===t&&e>=0&&e<=255},Sv=function(t){var e,n,r,o=(t.hue||0)%360,i=t.saturation/100,a=t.value/100;if(i=bv(0,yv(i,1)),a=bv(0,yv(a,1)),0===i)return e=n=r=wv(255*a),kv(e,n,r,1);var s=o/60,u=a*i,l=u*(1-Math.abs(s%2-1)),c=a-u;switch(Math.floor(s)){case 0:e=u,n=l,r=0;break;case 1:e=l,n=u,r=0;break;case 2:e=0,n=u,r=l;break;case 3:e=0,n=l,r=u;break;case 4:e=l,n=0,r=u;break;case 5:e=u,n=0,r=l;break;default:e=n=r=0}return e=wv(255*(e+c)),n=wv(255*(n+c)),r=wv(255*(r+c)),kv(e,n,r,1)},Tv=function(t){var e=mv(t),n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);return kv(n,r,o,1)},Ev=function(t,e,n,r){var o=parseInt(t,10),i=parseInt(e,10),a=parseInt(n,10),s=parseFloat(r);return kv(o,i,a,s)},Ov=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},Av=kv(255,0,0,1),Dv=function(t,e){return t.fire("ResizeContent",e)},Nv=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");var Pv="choiceitem",Mv=[{type:Pv,text:"Light Green",value:"#BFEDD2"},{type:Pv,text:"Light Yellow",value:"#FBEEB8"},{type:Pv,text:"Light Red",value:"#F8CAC6"},{type:Pv,text:"Light Purple",value:"#ECCAFA"},{type:Pv,text:"Light Blue",value:"#C2E0F4"},{type:Pv,text:"Green",value:"#2DC26B"},{type:Pv,text:"Yellow",value:"#F1C40F"},{type:Pv,text:"Red",value:"#E03E2D"},{type:Pv,text:"Purple",value:"#B96AD9"},{type:Pv,text:"Blue",value:"#3598DB"},{type:Pv,text:"Dark Turquoise",value:"#169179"},{type:Pv,text:"Orange",value:"#E67E23"},{type:Pv,text:"Dark Red",value:"#BA372A"},{type:Pv,text:"Dark Purple",value:"#843FA1"},{type:Pv,text:"Dark Blue",value:"#236FA1"},{type:Pv,text:"Light Gray",value:"#ECF0F1"},{type:Pv,text:"Medium Gray",value:"#CED4D9"},{type:Pv,text:"Gray",value:"#95A5A6"},{type:Pv,text:"Dark Gray",value:"#7E8C8D"},{type:Pv,text:"Navy Blue",value:"#34495E"},{type:Pv,text:"Black",value:"#000000"},{type:Pv,text:"White",value:"#ffffff"}],Lv=function(t){void 0===t&&(t=10);var e,n=Nv.getItem("tinymce-custom-colors"),r=_(n)?JSON.parse(n):[],o=t-(e=r).length<0?e.slice(0,t):e,i=function(t){o.splice(t,1)};return{add:function(e){(function(t,e){var n=L(t,e);return-1===n?b.none():b.some(n)})(o,e).each(i),o.unshift(e),o.length>t&&o.pop(),Nv.setItem("tinymce-custom-colors",JSON.stringify(o))},state:function(){return o.slice(0)}}}(10),Rv=function(t){return!1!==t.getParam("custom_colors")},Iv=function(t){var n=function(t){return t.getParam("color_map")}(t);return void 0!==n?function(t){var n=[],r=e.document.createElement("canvas");r.height=1,r.width=1;for(var o=r.getContext("2d"),i=function(t,e){var n=e/255;return("0"+Math.round(t*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=function(t){if(/^[0-9A-Fa-f]{6}$/.test(t))return"#"+t.toUpperCase();o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var e=o.getImageData(0,0,1,1).data,n=e[0],a=e[1],s=e[2],u=e[3];return"#"+i(n,u)+i(a,u)+i(s,u)},s=0;s<t.length;s+=2)n.push({text:t[s+1],value:a(t[s]),type:"choiceitem"});return n}(n):Mv},Bv=function(t){Lv.add(t)},Fv=function(t){return function(t,e){return t.getParam("color_cols",e,"number")}(t,function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))}(Iv(t).length))},jv=function(t,e,n,r){"custom"===n?Vv(t)((function(n){n.each((function(n){Bv(n),t.execCommand("mceApplyTextcolor",e,n),r(n)}))}),"#000000"):"remove"===n?(r(""),t.execCommand("mceRemoveTextcolor",e)):(r(n),t.execCommand("mceApplyTextcolor",e,n))},zv=function(t,e){return t.concat(j(Lv.state(),(function(t){return{type:Pv,text:t,value:t}})).concat(function(t){var e={type:"choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return t?[e,{type:"choiceitem",text:"Custom color",icon:"color-picker",value:"custom"}]:[e]}(e)))},Hv=function(t,e){return function(n){n(zv(t,e))}},qv=function(t,e,n){var r,o;r="forecolor"===e?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",o=n,t.setIconFill(r,o),t.setIconStroke(r,o)},Uv=function(t,e,n,r,o){t.ui.registry.addSplitButton(e,{tooltip:r,presets:"color",icon:"forecolor"===e?"text-color":"highlight-bg-color",select:function(e){return b.from(function(t,e){var n;return t.dom.getParents(t.selection.getStart(),(function(t){var r;(r=t.style["forecolor"===e?"color":"background-color"])&&(n=n||r)})),n}(t,n)).bind((function(t){return function(t){if("transparent"===t)return b.some(kv(0,0,0,0));var e=xv.exec(t);if(null!==e)return b.some(Ev(e[1],e[2],e[3],"1"));var n=_v.exec(t);return null!==n?b.some(Ev(n[1],n[2],n[3],n[4])):b.none()}(t).map((function(t){var n=vv(t).value;return bn(e.toLowerCase(),n)}))})).getOr(!1)},columns:Fv(t),fetch:Hv(Iv(t),Rv(t)),onAction:function(e){null!==o.get()&&jv(t,n,o.get(),(function(){}))},onItemAction:function(r,i){jv(t,n,i,(function(n){o.set(n),function(t,e){t.fire("TextColorChange",e)}(t,{name:e,color:n})}))},onSetup:function(n){null!==o.get()&&qv(n,e,o.get());var r=function(t){t.name===e&&qv(n,t.name,t.color)};return t.on("TextColorChange",r),function(){t.off("TextColorChange",r)}}})},Wv=function(t,e,r,o){t.ui.registry.addNestedMenuItem(e,{text:o,icon:"forecolor"===e?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(e){jv(t,r,e.value,n)}}]}})},Vv=function(t){return function(e,n){var r={colorpicker:n},o=function(t){return function(e){var n=e.getData();t(b.from(n.colorpicker)),e.close()}}(e);t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},onSubmit:o,onClose:function(){},onCancel:function(){e(b.none())}})}},$v=function(t,e,n,r,o,i,a,s){var u=km(e),l=Gv(e,n,r,"color"!==o?"normal":"color",i,a,s);return Tm(t,u,l,r,o)},Gv=function(t,e,n,r,o,i,a){return Cf(j(t,(function(s){return"choiceitem"===s.type?(u=s,we("choicemenuitem",Om,u)).fold(Cm,(function(u){return b.some(function(t,e,n,r,o,i,a,s){void 0===s&&(s=!0);var u=nv({presets:n,textContent:e?t.text:b.none(),htmlContent:b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:e?t.shortcut:b.none(),checkMark:e?b.some(Jg(a.icons)):b.none(),caret:b.none(),value:t.value},a,s);return Mt(Wg({data:Vg(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){Yh.set(t,e)},isActive:function(){return Yh.isOn(t)},isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},onAction:function(e){return r(t.value)},onSetup:function(t){return t.setActive(o),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i,a),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})}(u,1===n,r,e,i(s.value),o,a,km(t)))})):b.none();var u})))},Yv=function(t,e){var n=gm(e);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===e?"tox-swatches__row":"tox-collection__group")}};var Kv,Zv={inserttable:function(t){var e=Ro("size-label"),n=function(t,e,n){for(var r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)i.push(uv(o,a,t));r.push(i)}return r}(e,10,10),r=Dp({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[Zi("0x0")],behaviours:Fs([Dh.config({})])});return{type:"widget",data:{value:Ro("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iv().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:lv(n).concat(r.asSpec()),behaviours:Fs([Nh("insert-table-picker",[Wr(av,(function(t,e,o){var i=o.event().row(),a=o.event().col();!function(t,e,n,r,o){for(var i=0;i<r;i++)for(var a=0;a<o;a++)Yh.set(t[i][a],i<=e&&a<=n)}(n,i,a,10,10),Dh.set(r.get(t),[cv(i,a)])})),Wr(sv,(function(e,n,r){t.onAction({numRows:r.event().row()+1,numColumns:r.event().col()+1}),Nr(e,pr())}))]),Sh.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(t,e){var n=zv(e.colorinput.getColors(),e.colorinput.hasCustomColors()),r=e.colorinput.getColorCols(),o=$v(Ro("menu-value"),n,(function(e){t.onAction({value:e})}),r,"color",sm.CLOSE_ON_EXECUTE,(function(){return!1}),e.shared.providers),i=d(d({},o),{markers:gm("color"),movement:Yv(r,"color")});return{type:"widget",data:{value:Ro("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[iv().widget(lp.sketch(i))]}}},Xv=function(t,e,n,r,o,i,a,s){void 0===s&&(s=!0);var u=nv({presets:r,textContent:b.none(),htmlContent:n?t.text.map((function(t){return ov(t,e)})):b.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:b.none(),checkMark:b.none(),caret:b.none(),value:t.value},a.providers,s,t.icon);return Wg({data:Vg(t),disabled:t.disabled,getApi:function(){return{}},onAction:function(e){return o(t.value,t.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:rv(t.meta,a)},u,i,a.providers)},Jv=function(t){var e=t.text.fold((function(){return{}}),(function(t){return{innerHtml:t}}));return{type:"separator",dom:d({tag:"div",classes:[lm,"tox-collection__group-heading"]},e),components:[]}},Qv=function(t,e,n,r){void 0===r&&(r=!0);var o=nv({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.none(),checkMark:b.none(),shortcutContent:t.shortcut},n,r);return Wg({data:Vg(t),getApi:function(t){return{isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,e,n)},ty=function(t,e,r,o,i){void 0===o&&(o=!0),void 0===i&&(i=!1);var a,s=i?(a=r.icons,{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:Pp("chevron-down",a)}}):function(t){return{dom:{tag:"div",classes:["tox-collection__item-caret"],innerHtml:Pp("chevron-right",t)}}}(r.icons),u=nv({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,caret:b.some(s),checkMark:b.none(),shortcutContent:t.shortcut},r,o);return Wg({data:Vg(t),getApi:function(t){return{isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},disabled:t.disabled,onAction:n,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},u,e,r)},ey=function(t,e,n,r){void 0===r&&(r=!0);var o=nv({iconContent:t.icon,textContent:t.text,htmlContent:b.none(),ariaLabel:t.text,checkMark:b.some(Jg(n.icons)),caret:b.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},n,r);return Mt(Wg({data:Vg(t),disabled:t.disabled,getApi:function(t){return{setActive:function(e){Yh.set(t,e)},isActive:function(){return Yh.isOn(t)},isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,e,n),{toggling:{toggleClass:"tox-collection__item--enabled",toggleOnExecute:!1,selected:t.active}})},ny=function(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?b.some(t[e]):b.none()}(Zv,t.fancytype).map((function(n){return n(t,e)}))};!function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"}(Kv||(Kv={}));var ry=function(t,n,r,o,i){var a,s=r.shared.providers,u=function(t){return i?d(d({},t),{shortcut:b.none(),icon:t.text.isSome()?b.none():t.icon}):t};switch(t.type){case"menuitem":return(a=t,we("menuitem",Dm,a)).fold(Cm,(function(t){return b.some(Qv(u(t),n,s,o))}));case"nestedmenuitem":return function(t){return we("nestedmenuitem",Nm,t)}(t).fold(Cm,(function(t){return b.some(ty(u(t),n,s,o,i))}));case"togglemenuitem":return function(t){return we("togglemenuitem",Pm,t)}(t).fold(Cm,(function(t){return b.some(ey(u(t),n,s,o))}));case"separator":return function(t){return we("separatormenuitem",nm,t)}(t).fold(Cm,(function(t){return b.some(Jv(t))}));case"fancymenuitem":return function(t){return we("fancymenuitem",Am,t)}(t).fold(Cm,(function(t){return ny(u(t),r)}));default:return e.console.error("Unknown item in general menu",t),b.none()}},oy=function(t,e,n,r,o,i){var a=1===r,s=!a||km(t);return Cf(j(t,(function(t){return"separator"===t.type?(r=t,we("Autocompleter.Separator",nm,r)).fold(Cm,(function(t){return b.some(Jv(t))})):function(t){return we("Autocompleter.Item",rm,t)}(t).fold(Cm,(function(t){return b.some(Xv(t,e,a,"normal",n,o,i,s))}));var r})))},iy=function(t,e,n,r,o){var i=km(e),a=Cf(j(e,(function(t){var e=function(t){return ry(t,n,r,function(t){return o?!t.hasOwnProperty("text"):i}(t),o)};return"nestedmenuitem"===t.type&&t.getSubmenuItems().length<=0?e(d(d({},t),{disabled:!0})):e(t)})));return(o?Sm:Tm)(t,i,a,1,"normal")},ay=function(t){return mp.singleData(t.value,t)},sy=function(t,n){var r=an(b.none()),o=an(!1),i=Qi(gp.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Fs([Nh("dismissAutocompleter",[zr(kr(),(function(){return u()}))])]),lazySink:n.getSink})),a=function(){return r.get().isSome()},s=function(){a()&&gp.hide(i)},u=function(){if(a()){var e=r.get().map((function(t){return t.element}));qp(e.getOr(un.fromDom(t.selection.getNode()))).each(wo),s(),r.set(b.none()),o.set(!1)}},l=Rt((function(){return im(t)})),c=function(e,n,r,o){e.matchLength=n.text.length;var a=nt(r,(function(t){return b.from(t.columns)})).getOr(1);gp.showAt(i,{anchor:"node",root:un.fromDom(t.getBody()),node:b.from(e.element)},lp.sketch(function(t,e,n,r){var o=n===Kv.ContentFocus?Jf():Xf(),i=Yv(e,r),a=gm(r);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:a.selectedItem,item:a.item},movement:i,fakeFocus:n===Kv.ContentFocus,focusManager:o,menuBehaviours:Rm("auto"!==e?[]:[Yr((function(t,e){Mm(t,4,a.item).each((function(e){var n=e.numColumns,r=e.numRows;Sh.setGridSize(t,r,n)}))}))])}}(Tm("autocompleter-value",!0,o,a,"normal"),a,Kv.ContentFocus,"normal"))),gp.getContent(i).each(jf.highlightFirst)},f=function(i){(function(e){return r.get().map((function(n){return Gp(t.dom,t.selection.getRng(),n.triggerChar).bind((function(n){return em(t,l,n,e)}))})).getOrThunk((function(){return tm(t,l)}))})(i).fold(u,(function(i){!function(e){if(!a()){var n=Hp(t,e.range);r.set(b.some({triggerChar:e.triggerChar,element:n,matchLength:e.text.length})),o.set(!1)}}(i.context),i.lookupData.then((function(a){r.get().map((function(r){var l,d,h,p=i.context;if(r.triggerChar===p.triggerChar){var m=(l=p.triggerChar,h=nt(d=a,(function(t){return b.from(t.columns)})).getOr(1),Y(d,(function(r){var i=r.items;return oy(i,r.matchText,(function(n,i){var a=t.selection.getRng();Gp(t.dom,a,l).fold((function(){return e.console.error("Lost context. Cursor probably moved")}),(function(t){var e=t.range,a={hide:function(){u()},reload:function(t){s(),f(t)}};o.set(!0),r.onAction(a,e,n,i),o.set(!1)}))}),h,sm.BUBBLE_TO_SANDBOX,n)})));m.length>0?c(r,p,a,m):p.text.length-r.matchLength>=10?u():s()}}))}))}))},d={onKeypress:Fp((function(t){27!==t.which&&f()}),50),cancelIfNecessary:u,isMenuOpen:function(){return gp.isOpen(i)},isActive:a,isProcessingAction:o.get,getView:function(){return gp.getContent(i)}};Yp(d,t)},uy=o(!0),ly=function(t,e,n){return function(t,e,n,r){return pa(t,e,n,r,!1)}(t,e,uy,n)},cy=function(t,e,n){return function(t,e,n,r){return pa(t,e,n,r,!0)}(t,e,uy,n)},fy=ha,dy=function(t,e,n){return La(t,e,n).isSome()};function hy(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},schedule:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];r=e.setTimeout((function(){t.apply(null,o),r=null}),n)}}}var py=function(t){var e=t.raw();return void 0===e.touches||1!==e.touches.length?b.none():b.some(e.touches[0])},my=function(t){var e=an(b.none()),n=an(!1),r=hy((function(e){t.triggerEvent(hr(),e),n.set(!0)}),400),o=$t([{key:Hn(),value:function(t){return py(t).each((function(o){r.cancel();var i={x:o.clientX,y:o.clientY,target:t.target()};r.schedule(t),n.set(!1),e.set(b.some(i))})),b.none()}},{key:qn(),value:function(t){return r.cancel(),py(t).each((function(t){e.get().each((function(n){(function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>5||r>5})(t,n)&&e.set(b.none())}))})),b.none()}},{key:Un(),value:function(o){r.cancel();return e.get().filter((function(t){return Pn(t.target,o.target())})).map((function(e){return n.get()?(o.prevent(),!1):t.triggerEvent(dr(),o)}))}}]);return{fireIfReady:function(t,e){return Et(o,e).bind((function(e){return e(t)}))}}},gy=function(){return An().browser.isFirefox()},vy=ie([ze("triggerEvent"),Ze("stopBackspace",!0)]),yy=function(t,n){var r=_e("Getting GUI events settings",vy,n),o=my(r),i=j(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return ly(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()})),r.triggerEvent(e,t)&&t.kill()}))})),a=an(b.none()),s=ly(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()})),r.triggerEvent("paste",t)&&t.kill(),a.set(b.some(e.setTimeout((function(){r.triggerEvent(ur(),t)}),0)))})),u=ly(t,"keydown",(function(t){r.triggerEvent("keydown",t)?t.kill():!0===r.stopBackspace&&function(t){return 8===t.raw().which&&!R(["input","textarea"],Jr(t.target()))&&!dy(t.target(),'[contenteditable="true"]')}(t)&&t.prevent()})),l=function(t,e){return gy()?cy(t,"focus",e):ly(t,"focusin",e)}(t,(function(t){r.triggerEvent("focusin",t)&&t.kill()})),c=an(b.none()),f=function(t,e){return gy()?cy(t,"blur",e):ly(t,"focusout",e)}(t,(function(t){r.triggerEvent("focusout",t)&&t.kill(),c.set(b.some(e.setTimeout((function(){r.triggerEvent(sr(),t)}),0)))}));return{unbind:function(){z(i,(function(t){t.unbind()})),u.unbind(),l.unbind(),f.unbind(),s.unbind(),a.get().each(e.clearTimeout),c.get().each(e.clearTimeout)}}},by=function(t,e){var n=Et(t,"target").map((function(t){return t()})).getOr(e);return an(n)},wy=Dt([{stopped:[]},{resume:["element"]},{complete:[]}]),xy=function(t,e,n,r,i,a){var s=t(e,r),u=function(t,e){var n=an(!1),r=an(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:o(t),setSource:e.set,getSource:e.get}}(n,i);return s.fold((function(){return a.logEventNoHandlers(e,r),wy.complete()}),(function(t){var n=t.descHandler;return ni(n)(u),u.isStopped()?(a.logEventStopped(e,t.element,n.purpose()),wy.stopped()):u.isCut()?(a.logEventCut(e,t.element,n.purpose()),wy.complete()):uo(t.element).fold((function(){return a.logNoParent(e,t.element,n.purpose()),wy.complete()}),(function(r){return a.logEventResponse(e,t.element,n.purpose()),wy.resume(r)}))}))},_y=function(t,e,n,r,o,i){return xy(t,e,n,r,o,i).fold((function(){return!0}),(function(r){return _y(t,e,n,r,o,i)}),(function(){return!1}))},ky=function(t,e,r){var i=function(t){var e=an(!1);return{stop:function(){e.set(!0)},cut:n,isStopped:e.get,isCut:o(!1),event:o(t),setSource:u("Cannot set source of a broadcasted event"),getSource:u("Cannot get source of a broadcasted event")}}(e);return z(t,(function(t){var e=t.descHandler();ni(e)(i)})),i.isStopped()},Cy=function(t,e,n,r,o){var i=by(n,r);return _y(t,e,n,r,i,o)};function Sy(){var t={};return{registerId:function(e,n,r){wt(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=ei(r,e),t[o]=i}))},unregisterId:function(e){wt(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))},filterByType:function(e){return Et(t,e).map((function(t){return Ct(t,(function(t,e){return function(t,e){return{id:o(t),descHandler:o(e)}}(e,t)}))})).getOr([])},find:function(e,n,r){var o=Et(t,n);return Bn(r,(function(t){return function(t,e){return Ho(e).fold((function(){return b.none()}),(function(n){return t.bind((function(t){return Et(t,n)})).map((function(t){return function(t,e){return{element:t,descHandler:e}}(e,t)}))}))}(o,t)}),e)}}}function Ty(){var t=Sy(),e={},n=function(t){var e=t.element();return Ho(e).fold((function(){return function(t,e){var n=Ro(Fo+t);return zo(e,n),n}("uid-",t.element())}),(function(t){return t}))},r=function(n){Ho(n.element()).each((function(n){delete e[n],t.unregisterId(n)}))};return{find:function(e,n,r){return t.find(e,n,r)},filter:function(e){return t.filterByType(e)},register:function(o){var i=n(o);At(e,i)&&function(t,n){var o=e[n];if(o!==t)throw new Error('The tagId "'+n+'" is already used by: '+No(o.element())+"\nCannot use it for: "+No(t.element())+"\nThe conflicting element is"+(Ti(o.element())?" ":" not ")+"already in the DOM");r(t)}(o,i);var a=[o];t.registerId(a,i,o.events()),e[i]=o},unregister:r,getById:function(t){return Et(e,t)}}}var Ey=_f({name:"Container",factory:function(t){var e=t.dom,n=e.attributes,r=h(e,["attributes"]);return{uid:t.uid,dom:d({tag:"div",attributes:d({role:"presentation"},n)},r),components:t.components,behaviours:bc(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[Ze("components",[]),yc("containerBehaviours",[]),Ze("events",{}),Ze("domModification",{}),Ze("eventOrder",{})]}),Oy=function(t){var e=function(e){return uo(t.element()).fold((function(){return!0}),(function(t){return Pn(e,t)}))},r=Ty(),i=function(t,n){return r.find(e,t,n)},a=yy(t.element(),{triggerEvent:function(t,e){return qa(t,e.target(),(function(n){return function(t,e,n,r){var o=n.target();return Cy(t,e,n,o,r)}(i,t,e,n)}))}}),s={debugInfo:o("real"),triggerEvent:function(t,e,n){qa(t,e,(function(r){return Cy(i,t,n,e,r)}))},triggerFocus:function(t,e){Ho(t).fold((function(){Ys(t)}),(function(r){qa(ar(),t,(function(r){return function(t,e,n,r,o){var i=by(n,r);xy(t,e,n,r,i,o)}(i,ar(),{originator:o(e),kill:n,prevent:n,target:o(t)},t,r),!1}))}))},triggerEscape:function(t,e){s.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return g(t)},getByDom:function(t){return v(t)},build:Qi,addToGui:function(t){c(t)},removeFromGui:function(t){f(t)},addToWorld:function(t){u(t)},removeFromWorld:function(t){l(t)},broadcast:function(t){h(t)},broadcastOn:function(t,e){p(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:o(!0)},u=function(t){t.connect(s),eo(t.element())||(r.register(t),z(t.components(),u),s.triggerEvent(gr(),t.element(),{target:o(t.element())}))},l=function(t){eo(t.element())||(z(t.components(),l),r.unregister(t)),t.disconnect()},c=function(e){Ll(t,e)},f=function(t){Bl(t)},d=function(t){var e=r.filter(lr());z(e,(function(e){var n=e.descHandler();ni(n)(t)}))},h=function(t){d({universal:o(!0),data:o(t)})},p=function(t,e){d({universal:o(!1),channels:o(t),data:o(e)})},m=function(t,e){var n=r.filter(t);return ky(n,e)},g=function(t){return r.getById(t).fold((function(){return it.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),it.value)},v=function(t){var e=Ho(t).getOr("not found");return g(e)};return u(t),{root:o(t),element:t.element,destroy:function(){a.unbind(),bo(t.element())},add:c,remove:f,getByUid:g,getByDom:v,addToWorld:u,removeFromWorld:l,broadcast:h,broadcastOn:p,broadcastEvent:m}},Ay=o([Ze("prefix","form-field"),yc("fieldBehaviours",[Of,vc])]),Dy=o([Yc({schema:[Re("dom")],name:"label"}),Yc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Re("text")],name:"aria-descriptor"}),$c({factory:{sketch:function(t){var e=Wt(t,["factory"]);return t.factory.sketch(e)}},schema:[Re("factory")],name:"field"})]),Ny=kf({name:"FormField",configFields:Ay(),partFields:Dy(),factory:function(t,e,n,r){var o=wc(t.fieldBehaviours,[Of.config({find:function(e){return sf(e,t,"field")}}),vc.config({store:{mode:"manual",getValue:function(t){return Of.getCurrent(t).bind(vc.getValue)},setValue:function(t,e){Of.getCurrent(t).each((function(t){vc.setValue(t,e)}))}}})]),i=Br([Yr((function(e,n){var r=lf(e,t,["label","field","aria-descriptor"]);r.field().each((function(e){var n=Ro(t.prefix);r.label().each((function(t){Co(t.element(),"for",n),Co(e.element(),"id",n)})),r["aria-descriptor"]().each((function(n){var r=Ro(t.prefix);Co(n.element(),"id",r),Co(e.element(),"aria-describedby",r)}))}))}))]),a={getField:function(e){return sf(e,t,"field")},getLabel:function(e){return sf(e,t,"label")}};return{uid:t.uid,dom:t.dom,components:e,behaviours:o,events:i,apis:a}},apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),Py=Object.freeze({__proto__:null,exhibit:function(t,e){return ti({attributes:$t([{key:e.tabAttr,value:"true"}])})}}),My=[Ze("tabAttr","data-alloy-tabstop")],Ly=zs({fields:My,name:"tabstopping",active:Py}),Ry=function(t,e,n,r){var o=Iy(t,e,n,r);return Ny.sketch(o)},Iy=function(t,e,n,r){return{dom:By(n),components:t.toArray().concat([e]),fieldBehaviours:Fs(r)}},By=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Fy=function(t,e){return Ny.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},jy=Ro("form-component-change"),zy=Ro("form-close"),Hy=Ro("form-cancel"),qy=Ro("form-action"),Uy=Ro("form-submit"),Wy=Ro("form-block"),Vy=Ro("form-unblock"),$y=Ro("form-tabchange"),Gy=Ro("form-resize"),Yy=function(t,e){var n,r,o=t.label.map((function(t){return Fy(t,e)})),a=function(t){return function(e,n){La(n.event().target(),"[data-collection-item-value]").each((function(r){t(e,n,r,So(r,"data-collection-item-value"))}))}},s=a((function(n,r,o,i){r.stop(),e.isReadOnly()||Pr(n,qy,{name:t.name,value:i})})),u=[zr(Kn(),a((function(t,e,n){Ys(n)}))),zr(nr(),s),zr(dr(),s),zr(Zn(),a((function(t,e,n){Ma(t.element(),"."+dm).each((function(t){mi(t,dm)})),hi(n,dm)}))),zr(Xn(),a((function(t){Ma(t.element(),"."+dm).each((function(t){mi(t,dm)}))}))),Xr(a((function(e,n,r,o){Pr(e,qy,{name:t.name,value:o})})))],l=function(t,e){return j($u(t.element(),".tox-collection__item"),e)},c=Ny.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==t.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:i},behaviours:Fs([ig.config({disabled:e.isReadOnly,onDisabled:function(t){l(t,(function(t){hi(t,"tox-collection__item--state-disabled"),Co(t,"aria-disabled",!0)}))},onEnabled:function(t){l(t,(function(t){mi(t,"tox-collection__item--state-disabled"),Oo(t,"aria-disabled")}))}}),Mg(),Dh.config({}),vc.config({store:{mode:"memory",initialValue:[]},onSetValue:function(n,r){!function(n,r){var o=j(r,(function(n){var r,o=Vm.translate(n.text),i=1===t.columns?'<div class="tox-collection__item-label">'+o+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",s={_:" "," - ":" ","-":" "},u=o.replace(/\_| \- |\-/g,(function(t){return s[t]}));return'<div class="tox-collection__item'+(e.isReadOnly()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+(('"'===(r=n.value)?"&quot;":r)+'" title="')+u+'" aria-label="'+u+'">'+a+i+"</div>"})),i=t.columns>1&&"auto"!==t.columns?F(o,t.columns):[o],a=j(i,(function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}));_o(n.element(),a.join(""))}(n,r),"auto"===t.columns&&Mm(n,5,"tox-collection__item").each((function(t){var e=t.numRows,r=t.numColumns;Sh.setGridSize(n,e,r)})),Nr(n,Gy)}}),Ly.config({}),Sh.config((n=t.columns,r="normal",1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===r?".tox-swatches__row":".tox-collection__group",cell:"color"===r?".tox-swatch":"."+lm}})),Nh("collection-events",u)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}});return Ry(o,c,["tox-form__group--collection"],[])},Ky=o([We("data"),Ze("inputAttributes",{}),Ze("inputStyles",{}),Ze("tag","input"),Ze("inputClasses",[]),Xa("onSetValue"),Ze("styles",{}),Ze("eventOrder",{}),yc("inputBehaviours",[vc,Ih]),Ze("selectOnFocus",!0)]),Zy=function(t){return Fs([Ih.config({onFocus:t.selectOnFocus?function(t){var e=t.element(),n=Hi(e);e.dom().setSelectionRange(0,n.length)}:n})])},Xy=function(t){return d(d({},Zy(t)),wc(t.inputBehaviours,[vc.config({store:d(d({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return Hi(t.element())},setValue:function(t,e){Hi(t.element())!==e&&qi(t.element(),e)}}),onSetValue:t.onSetValue})]))},Jy=function(t){return{tag:t.tag,attributes:d({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Qy=_f({name:"Input",configFields:Ky(),factory:function(t,e){return{uid:t.uid,dom:Jy(t),components:[],behaviours:Xy(t),eventOrder:t.eventOrder}}}),tb={},eb={exports:tb};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof o&&o;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,(function(t){return i(e[s][1][t]||t)}),f,f.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var l,c=[],f=!1,d=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var r,o}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new c(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,o((function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,tb,eb,void 0);var nb,rb=eb.exports.boltExport,ob=function(t){var n=b.none(),r=[],o=function(t){i()?s(t):r.push(t)},i=function(){return n.isSome()},a=function(t){z(t,s)},s=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){i()||(n=b.some(t),a(r),r=[])})),{get:o,map:function(t){return ob((function(e){o((function(n){e(t(n))}))}))},isReady:i}},ib={nu:ob,pure:function(t){return ob((function(e){e(t)}))}},ab=function(t){e.setTimeout((function(){throw t}),0)},sb=function(t){var e=function(e){t().then(e,ab)};return{map:function(e){return sb((function(){return t().then(e)}))},bind:function(e){return sb((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return sb((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return ib.nu(e)},toCached:function(){var e=null;return sb((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},ub=function(t){return sb((function(){return new rb(t)}))},lb=function(t){return sb((function(){return rb.resolve(t)}))},cb=["input","textarea"],fb=function(t){var e=Jr(t);return R(cb,e)},db=function(t,e){var n=e.getRoot(t).getOr(t.element());mi(n,e.invalidClass),e.notify.each((function(e){fb(t.element())&&Co(t.element(),"aria-invalid",!1),e.getContainer(t).each((function(t){_o(t,e.validHtml)})),e.onValid(t)}))},hb=function(t,e,n,r){var o=e.getRoot(t).getOr(t.element());hi(o,e.invalidClass),e.notify.each((function(e){fb(t.element())&&Co(t.element(),"aria-invalid",!0),e.getContainer(t).each((function(t){_o(t,r)})),e.onInvalid(t,r)}))},pb=function(t,e,n){return e.validator.fold((function(){return lb(it.value(!0))}),(function(e){return e.validate(t)}))},mb=function(t,e,n){return e.notify.each((function(e){e.onValidate(t)})),pb(t,e).map((function(n){return t.getSystem().isConnected()?n.fold((function(n){return hb(t,e,0,n),it.error(n)}),(function(n){return db(t,e),it.value(n)})):it.error("No longer in system")}))},gb=Object.freeze({__proto__:null,markValid:db,markInvalid:hb,query:pb,run:mb,isInvalid:function(t,e){var n=e.getRoot(t).getOr(t.element());return gi(n,e.invalidClass)}}),vb=Object.freeze({__proto__:null,events:function(t,e){return t.validator.map((function(e){return Br([zr(e.onEvent,(function(e){mb(e,t).get(i)}))].concat(e.validateOnLoad?[Yr((function(e){mb(e,t).get(n)}))]:[]))})).getOr({})}}),yb=[Re("invalidClass"),Ze("getRoot",b.none),Ke("notify",[Ze("aria","alert"),Ze("getContainer",b.none),Ze("validHtml",""),Xa("onValid"),Xa("onInvalid"),Xa("onValidate")]),Ke("validator",[Re("validate"),Ze("onEvent","input"),Ze("validateOnLoad",!0)])],bb=zs({fields:yb,name:"invalidating",active:vb,apis:gb,extra:{validation:function(t){return function(e){var n=vc.getValue(e);return lb(t(n))}}}}),wb=Object.freeze({__proto__:null,getCoupled:function(t,e,n,r){return n.getOrCreate(t,e,r)}}),xb=[Ie("others",be(it.value,Te()))],_b=zs({fields:xb,name:"coupling",apis:wb,state:Object.freeze({__proto__:null,init:function(){var t={},e=o({});return Jo({readState:e,getOrCreate:function(e,n,r){var o=yt(n.others);if(o)return Et(t,r).getOrThunk((function(){var o=Et(n.others,r).getOrDie("No information found for coupled component: "+r)(e),i=e.getSystem().build(o);return t[r]=i,i}));throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+JSON.stringify(o,null,2))}})}})}),kb=o("sink"),Cb=o(Yc({name:kb(),overrides:o({dom:{tag:"div"},behaviours:Fs([Al.config({useFixed:c})]),events:Br([Vr(Jn()),Vr(Vn()),Vr(nr())])})}));!function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"}(nb||(nb={}));var Sb=function(t,e){var n=t.getHotspot(e).getOr(e),r=t.getAnchorOverrides();return t.layouts.fold((function(){return{anchor:"hotspot",hotspot:n,overrides:r}}),(function(t){return{anchor:"hotspot",hotspot:n,overrides:r,layouts:t}}))},Tb=function(t,e,n,r,o,i,a){return function(t,e,n,r,o,i,a){var s=function(t,e,n){return(0,t.fetch)(n).map(e)}(t,e,r),u=Db(r,t);return s.map((function(t){return t.bind((function(t){return b.from(mp.sketch(d(d({},i.menu()),{uid:qo(""),data:t,highlightImmediately:a===nb.HighlightFirst,onOpenMenu:function(t,e){var r=u().getOrDie();Al.position(r,n,e),Xl.decloak(o)},onOpenSubmenu:function(t,e,n){var r=u().getOrDie();Al.position(r,{anchor:"submenu",item:e},n),Xl.decloak(o)},onRepositionMenu:function(t,e,r){var o=u().getOrDie();Al.position(o,n,e),z(r,(function(t){Al.position(o,{anchor:"submenu",item:t.triggeringItem},t.triggeredMenu)}))},onEscape:function(){return Ih.focus(r),Xl.close(o),b.some(!0)}})))}))}))}(t,e,Sb(t,n),n,r,o,a).map((function(t){return t.fold((function(){Xl.isOpen(r)&&Xl.close(r)}),(function(t){Xl.cloak(r),Xl.open(r,t),i(r)})),r}))},Eb=function(t,e,n,r,o,i,a){return Xl.close(r),lb(r)},Ob=function(t,e,n,r,o,i){var a=_b.getCoupled(n,"sandbox");return(Xl.isOpen(a)?Eb:Tb)(t,e,n,a,r,o,i)},Ab=function(t,e,n){var r=Of.getCurrent(e).getOr(e),o=fa(t.element());n?Ni(r.element(),"min-width",o+"px"):function(t,e){ca.set(t,e)}(r.element(),o)},Db=function(t,e){return t.getSystem().getByUid(e.uid+"-"+kb()).map((function(t){return function(){return it.value(t)}})).getOrThunk((function(){return e.lazySink.fold((function(){return function(){return it.error(new Error("No internal sink is specified, nor could an external sink be found"))}}),(function(e){return function(){return e(t)}}))}))},Nb=function(t){Xl.getState(t).each((function(t){mp.repositionMenus(t)}))},Pb=function(t,e,n){var r=Ra(),o=Db(e,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:r.id,role:"listbox"}},behaviours:_c(t.sandboxBehaviours,[vc.config({store:{mode:"memory",initialValue:e}}),Xl.config({onOpen:function(o,i){var a=Sb(t,e);r.link(e.element()),t.matchWidth&&Ab(a.hotspot,i,t.useMinWidth),t.onOpen(a,o,i),void 0!==n&&void 0!==n.onOpen&&n.onOpen(o,i)},onClose:function(t,o){r.unlink(e.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(t,o)},isPartOf:function(t,n,r){return Ba(n,r)||Ba(e,r)},getAttachPoint:function(){return o().getOrDie()}}),Of.config({find:function(t){return Xl.getState(t).bind((function(t){return Of.getCurrent(t)}))}}),$s.config({channels:d(d({},nc({isExtraPart:l})),oc({doReposition:Nb}))})])}},Mb=function(t){var e=_b.getCoupled(t,"sandbox");Nb(e)},Lb=function(){return[Ze("sandboxClasses",[]),xc("sandboxBehaviours",[Of,$s,Xl,vc])]},Rb=o([Re("dom"),Re("fetch"),Xa("onOpen"),Ja("onExecute"),Ze("getHotspot",b.some),Ze("getAnchorOverrides",o({})),Tu(),yc("dropdownBehaviours",[Yh,_b,Sh,Ih]),Re("toggleClass"),Ze("eventOrder",{}),We("lazySink"),Ze("matchWidth",!1),Ze("useMinWidth",!1),We("role")].concat(Lb())),Ib=o([Gc({schema:[Ya()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),Cb()]),Bb=kf({name:"Dropdown",configFields:Rb(),partFields:Ib(),factory:function(t,e,r,o){var i,a,s=function(t){Xl.getState(t).each((function(t){mp.highlightPrimary(t)}))},u={expand:function(e){Yh.isOn(e)||Ob(t,(function(t){return t}),e,o,n,nb.HighlightNone).get(n)},open:function(e){Yh.isOn(e)||Ob(t,(function(t){return t}),e,o,n,nb.HighlightFirst).get(n)},isOpen:Yh.isOn,close:function(e){Yh.isOn(e)&&Ob(t,(function(t){return t}),e,o,n,nb.HighlightFirst).get(n)},repositionMenus:function(t){Yh.isOn(t)&&Mb(t)}},l=function(t,e){return Mr(t),b.some(!0)};return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.dropdownBehaviours,[Yh.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),_b.config({others:{sandbox:function(e){return Pb(t,e,{onOpen:function(){Yh.on(e)},onClose:function(){Yh.off(e)}})}}}),Sh.config({mode:"special",onSpace:l,onEnter:l,onDown:function(t,e){if(Bb.isOpen(t)){var n=_b.getCoupled(t,"sandbox");s(n)}else Bb.open(t);return b.some(!0)},onEscape:function(t,e){return Bb.isOpen(t)?(Bb.close(t),b.some(!0)):b.none()}}),Ih.config({})]),events:Zh(b.some((function(e){Ob(t,(function(t){return t}),e,o,s,nb.HighlightFirst).get(n)}))),eventOrder:d(d({},t.eventOrder),(i={},i[cr()]=["disabling","toggling","alloy.base.behaviour"],i)),apis:u,domModification:{attributes:d(d({"aria-haspopup":"true"},t.role.fold((function(){return{}}),(function(t){return{role:t}}))),"button"===t.dom.tag?{type:(a="type",Et(t.dom,"attributes").bind((function(t){return Et(t,a)}))).getOr("button")}:{})}}},apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)},repositionMenus:function(t,e){return t.repositionMenus(e)}}}),Fb=Object.freeze({__proto__:null,events:function(){return Br([Fr(or(),o(!0))])},exhibit:function(){return ti({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),jb=zs({fields:[],name:"unselecting",active:Fb}),zb=Ro("color-input-change"),Hb=Ro("color-swatch-change"),qb=Ro("color-picker-cancel"),Ub=function(t,e,n){var r=Ny.parts().field({factory:Qy,inputClasses:["tox-textfield"],onSetValue:function(t){return bb.run(t).get((function(){}))},inputBehaviours:Fs([ig.config({disabled:e.providers.isReadOnly}),Mg(),Ly.config({}),bb.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return uo(t.element())},notify:{onValid:function(t){var e=vc.getValue(t);Pr(t,zb,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=vc.getValue(t);if(0===e.length)return lb(it.value(!0));var n=un.fromTag("span");Ni(n,"background-color",e);var r=Ii(n,"background-color").fold((function(){return it.error("blah")}),(function(t){return it.value(e)}));return lb(r)}}})]),selectOnFocus:!1}),o=t.label.map((function(t){return Fy(t,e.providers)})),i=function(t,e){Pr(t,Hb,{value:e})},a=Dp(function(t,e){return Bb.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Fs([Rg(e.providers.isReadOnly),Mg(),jb.config({}),Ly.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:e.getSink,fetch:function(n){return ub((function(e){return t.fetch(e)})).map((function(r){return b.from(ay(Mt($v(Ro("menu-value"),r,(function(e){t.onItemAction(n,e)}),t.columns,t.presets,sm.CLOSE_ON_EXECUTE,(function(){return!1}),e.providers),{movement:Yv(t.columns,t.presets)})))}))},parts:{menu:bm(0,0,t.presets)}})}({dom:{tag:"span",attributes:{"aria-label":e.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[_s,xs,Ts]},onLtr:function(){return[xs,_s,Ts]}},components:[],fetch:Hv(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(t,e){a.getOpt(t).each((function(t){"custom"===e?n.colorPicker((function(e){e.fold((function(){return Nr(t,qb)}),(function(e){i(t,e),Bv(e)}))}),"#ffffff"):i(t,"remove"===e?"":e)}))}},e));return Ny.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:o.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[r,a.asSpec()]}]),fieldBehaviours:Fs([Nh("form-field-events",[zr(zb,(function(e,n){a.getOpt(e).each((function(t){Ni(t.element(),"background-color",n.event().color())})),Pr(e,jy,{name:t.name})})),zr(Hb,(function(t,e){Ny.getField(t).each((function(n){vc.setValue(n,e.event().value()),Of.getCurrent(t).each(Ih.focus)}))})),zr(qb,(function(t,e){Ny.getField(t).each((function(e){Of.getCurrent(t).each(Ih.focus)}))}))])])})},Wb=function(t,e,n){return{hue:t,saturation:e,value:n}},Vb=Ro("rgb-hex-update"),$b=Ro("slider-update"),Gb=Ro("palette-update"),Yb=Yc({schema:[Re("dom")],name:"label"}),Kb=function(t){return Yc({name:t+"-edge",overrides:function(e){return e.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:Br([Hr(Hn(),(function(e,n,r){return t(e,r)}),[e]),Hr(Vn(),(function(e,n,r){return t(e,r)}),[e]),Hr($n(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},Zb=Kb("top-left"),Xb=Kb("top"),Jb=Kb("top-right"),Qb=Kb("right"),tw=Kb("bottom-right"),ew=Kb("bottom"),nw=Kb("bottom-left"),rw=[Yb,Kb("left"),Qb,Xb,ew,Zb,Jb,nw,tw,$c({name:"thumb",defaults:o({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Br([Ur(Hn(),t,"spectrum"),Ur(qn(),t,"spectrum"),Ur(Un(),t,"spectrum"),Ur(Vn(),t,"spectrum"),Ur($n(),t,"spectrum"),Ur(Yn(),t,"spectrum")])}}}),$c({schema:[on("mouseIsDown",(function(){return an(!1)}))],name:"spectrum",overrides:function(t){var e=t.model.manager,n=function(n,r){return e.getValueFromEvent(r).map((function(r){return e.setValueFrom(n,t,r)}))};return{behaviours:Fs([Sh.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),Ih.config({})]),events:Br([zr(Hn(),n),zr(qn(),n),zr(Vn(),n),zr($n(),(function(e,r){t.mouseIsDown.get()&&n(e,r)}))])}}})],ow=o("slider.change.value"),iw=function(t){var e=t.event().raw();if(function(t){return-1!==t.type.indexOf("touch")}(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?b.some(n.touches[0]).map((function(t){return aa(t.clientX,t.clientY)})):b.none()}var r=e;return void 0!==r.clientX?b.some(r).map((function(t){return aa(t.clientX,t.clientY)})):b.none()},aw=function(t){return t.model.minX},sw=function(t){return t.model.minY},uw=function(t){return t.model.minX-1},lw=function(t){return t.model.minY-1},cw=function(t){return t.model.maxX},fw=function(t){return t.model.maxY},dw=function(t){return t.model.maxX+1},hw=function(t){return t.model.maxY+1},pw=function(t,e,n){return e(t)-n(t)},mw=function(t){return pw(t,cw,aw)},gw=function(t){return pw(t,fw,sw)},vw=function(t){return mw(t)/2},yw=function(t){return gw(t)/2},bw=function(t){return t.stepSize},ww=function(t){return t.snapToGrid},xw=function(t){return t.snapStart},_w=function(t){return t.rounded},kw=function(t,e){return void 0!==t[e+"-edge"]},Cw=function(t){return kw(t,"left")},Sw=function(t){return kw(t,"right")},Tw=function(t){return kw(t,"top")},Ew=function(t){return kw(t,"bottom")},Ow=function(t){return t.model.value.get()},Aw=function(t){return{x:o(t)}},Dw=function(t){return{y:o(t)}},Nw=function(t,e){return{x:o(t),y:o(e)}},Pw=function(t,e){Pr(t,ow(),{value:e})},Mw=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},Lw=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},Rw=function(t,e,n){return Math.max(e,Math.min(n,t))},Iw=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,s=t.snapStart,u=t.rounded,l=t.hasMinEdge,c=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=l?e-1:e,m=c?n+1:n;if(o<f)return p;if(o>d)return m;var g=function(t,e,n){return Math.min(n,Math.max(t,e))-e}(o,f,d),v=Rw(g/h*r+e,p,m);return a&&v>=e&&v<=n?function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return Rw(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),s=Math.floor((n-e)/r),u=e+Math.min(s,a+i)*r;return Math.max(e,u)}))}(v,e,n,i,s):u?Math.round(v):v},Bw=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,s=t.maxBound,u=t.maxOffset,l=t.centerMinEdge,c=t.centerMaxEdge;return o<e?i?0:l:o>n?a?s:c:(o-e)/r*u},Fw=function(t){return t.element().dom().getBoundingClientRect()},jw=function(t,e){return t[e]},zw=function(t){var e=Fw(t);return jw(e,"left")},Hw=function(t){var e=Fw(t);return jw(e,"right")},qw=function(t){var e=Fw(t);return jw(e,"top")},Uw=function(t){var e=Fw(t);return jw(e,"bottom")},Ww=function(t){var e=Fw(t);return jw(e,"width")},Vw=function(t){var e=Fw(t);return jw(e,"height")},$w=function(t,e,n){return(t+e)/2-n},Gw=function(t,e){var n=Fw(t),r=Fw(e),o=jw(n,"left"),i=jw(n,"right"),a=jw(r,"left");return $w(o,i,a)},Yw=function(t,e){var n=Fw(t),r=Fw(e),o=jw(n,"top"),i=jw(n,"bottom"),a=jw(r,"top");return $w(o,i,a)},Kw=function(t,e){Pr(t,ow(),{value:e})},Zw=function(t){return{x:o(t)}},Xw=function(t,e,n){var r={min:aw(e),max:cw(e),range:mw(e),value:n,step:bw(e),snap:ww(e),snapStart:xw(e),rounded:_w(e),hasMinEdge:Cw(e),hasMaxEdge:Sw(e),minBound:zw(t),maxBound:Hw(t),screenRange:Ww(t)};return Iw(r)},Jw=function(t){return function(e,n){return function(t,e,n){var r=(t>0?Lw:Mw)(Ow(n).x(),aw(n),cw(n),bw(n));return Kw(e,Zw(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},Qw=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=Ww(t),a=r.bind((function(e){return b.some(Gw(e,t))})).getOr(0),s=o.bind((function(e){return b.some(Gw(e,t))})).getOr(i),u={min:aw(e),max:cw(e),range:mw(e),value:n,hasMinEdge:Cw(e),hasMaxEdge:Sw(e),minBound:zw(t),minOffset:0,maxBound:Hw(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return Bw(u)}(e,i,n,r,o);return zw(e)-zw(t)+a},tx=Jw(-1),ex=Jw(1),nx=b.none,rx=b.none,ox={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some((function(t,e){Pw(t,Aw(dw(e)))})),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some((function(t,e){Pw(t,Aw(uw(e)))}))},ix=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Xw(t,e,n),o=Zw(r);return Kw(t,o),r},setToMin:function(t,e){var n=aw(e);Kw(t,Zw(n))},setToMax:function(t,e){var n=cw(e);Kw(t,Zw(n))},findValueOfOffset:Xw,getValueFromEvent:function(t){return iw(t).map((function(t){return t.left()}))},findPositionOfValue:Qw,setPositionFromValue:function(t,e,n,r){var o=Ow(n),i=Qw(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=fa(e.element())/2;Ni(e.element(),"left",i-a+"px")},onLeft:tx,onRight:ex,onUp:nx,onDown:rx,edgeActions:ox}),ax=function(t,e){Pr(t,ow(),{value:e})},sx=function(t){return{y:o(t)}},ux=function(t,e,n){var r={min:sw(e),max:fw(e),range:gw(e),value:n,step:bw(e),snap:ww(e),snapStart:xw(e),rounded:_w(e),hasMinEdge:Tw(e),hasMaxEdge:Ew(e),minBound:qw(t),maxBound:Uw(t),screenRange:Vw(t)};return Iw(r)},lx=function(t){return function(e,n){return function(t,e,n){var r=(t>0?Lw:Mw)(Ow(n).y(),sw(n),fw(n),bw(n));return ax(e,sx(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},cx=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=Vw(t),a=r.bind((function(e){return b.some(Yw(e,t))})).getOr(0),s=o.bind((function(e){return b.some(Yw(e,t))})).getOr(i),u={min:sw(e),max:fw(e),range:gw(e),value:n,hasMinEdge:Tw(e),hasMaxEdge:Ew(e),minBound:qw(t),minOffset:0,maxBound:Uw(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return Bw(u)}(e,i,n,r,o);return qw(e)-qw(t)+a},fx=b.none,dx=b.none,hx=lx(-1),px=lx(1),mx={"top-left":b.none(),top:b.some((function(t,e){Pw(t,Dw(lw(e)))})),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some((function(t,e){Pw(t,Dw(hw(e)))})),"bottom-left":b.none(),left:b.none()},gx=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=ux(t,e,n),o=sx(r);return ax(t,o),r},setToMin:function(t,e){var n=sw(e);ax(t,sx(n))},setToMax:function(t,e){var n=fw(e);ax(t,sx(n))},findValueOfOffset:ux,getValueFromEvent:function(t){return iw(t).map((function(t){return t.top()}))},findPositionOfValue:cx,setPositionFromValue:function(t,e,n,r){var o=Ow(n),i=cx(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),a=ra(e.element())/2;Ni(e.element(),"top",i-a+"px")},onLeft:fx,onRight:dx,onUp:hx,onDown:px,edgeActions:mx}),vx=function(t,e){Pr(t,ow(),{value:e})},yx=function(t,e){return{x:o(t),y:o(e)}},bx=function(t,e){return function(n,r){return function(t,e,n,r){var o=t>0?Lw:Mw,i=e?Ow(r).x():o(Ow(r).x(),aw(r),cw(r),bw(r)),a=e?o(Ow(r).y(),sw(r),fw(r),bw(r)):Ow(r).y();return vx(n,yx(i,a)),b.some(i)}(t,e,n,r).map((function(){return!0}))}},wx=bx(-1,!1),xx=bx(1,!1),_x=bx(-1,!0),kx=bx(1,!0),Cx={"top-left":b.some((function(t,e){Pw(t,Nw(uw(e),lw(e)))})),top:b.some((function(t,e){Pw(t,Nw(vw(e),lw(e)))})),"top-right":b.some((function(t,e){Pw(t,Nw(dw(e),lw(e)))})),right:b.some((function(t,e){Pw(t,Nw(dw(e),yw(e)))})),"bottom-right":b.some((function(t,e){Pw(t,Nw(dw(e),hw(e)))})),bottom:b.some((function(t,e){Pw(t,Nw(vw(e),hw(e)))})),"bottom-left":b.some((function(t,e){Pw(t,Nw(uw(e),hw(e)))})),left:b.some((function(t,e){Pw(t,Nw(uw(e),yw(e)))}))},Sx=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Xw(t,e,n.left()),o=ux(t,e,n.top()),i=yx(r,o);return vx(t,i),i},setToMin:function(t,e){var n=aw(e),r=sw(e);vx(t,yx(n,r))},setToMax:function(t,e){var n=cw(e),r=fw(e);vx(t,yx(n,r))},getValueFromEvent:function(t){return iw(t)},setPositionFromValue:function(t,e,n,r){var o=Ow(n),i=Qw(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=cx(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),s=fa(e.element())/2,u=ra(e.element())/2;Ni(e.element(),"left",i-s+"px"),Ni(e.element(),"top",a-u+"px")},onLeft:wx,onRight:xx,onUp:_x,onDown:kx,edgeActions:Cx}),Tx=kf({name:"Slider",configFields:[Ze("stepSize",1),Ze("onChange",n),Ze("onChoose",n),Ze("onInit",n),Ze("onDragStart",n),Ze("onDragEnd",n),Ze("snapToGrid",!1),Ze("rounded",!0),We("snapStart"),Ie("model",Se("mode",{x:[Ze("minX",0),Ze("maxX",100),on("value",(function(t){return an(t.mode.minX)})),Re("getInitialValue"),es("manager",ix)],y:[Ze("minY",0),Ze("maxY",100),on("value",(function(t){return an(t.mode.minY)})),Re("getInitialValue"),es("manager",gx)],xy:[Ze("minX",0),Ze("maxX",100),Ze("minY",0),Ze("maxY",100),on("value",(function(t){return an({x:o(t.mode.minX),y:o(t.mode.minY)})})),Re("getInitialValue"),es("manager",Sx)]})),yc("sliderBehaviours",[Sh,vc]),on("mouseIsDown",(function(){return an(!1)}))],partFields:rw,factory:function(t,e,n,r){var i,a=function(e){return uf(e,t,"thumb")},s=function(e){return uf(e,t,"spectrum")},u=function(e){return sf(e,t,"left-edge")},l=function(e){return sf(e,t,"right-edge")},c=function(e){return sf(e,t,"top-edge")},f=function(e){return sf(e,t,"bottom-edge")},d=t.model,h=d.manager,p=function(e,n){h.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:l,getTopEdge:c,getBottomEdge:f,getSpectrum:s})},m=function(e,n){d.value.set(n);var r=a(e);return p(e,r),t.onChange(e,r,n),b.some(!0)},g=function(e){var n=t.mouseIsDown.get();t.mouseIsDown.set(!1),n&&sf(e,t,"thumb").each((function(n){var r=d.value.get();t.onChoose(e,n,r)}))},v=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,a(e))},y=function(e,n){n.stop(),t.onDragEnd(e,a(e)),g(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.sliderBehaviours,[Sh.config({mode:"special",focusIn:function(e){return sf(e,t,"spectrum").map(Sh.focusIn).map(o(!0))}}),vc.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),$s.config({channels:(i={},i[tc()]={onReceive:g},i)})]),events:Br([zr(ow(),(function(t,e){m(t,e.event().value())})),Yr((function(e,n){var r=d.getInitialValue();d.value.set(r);var o=a(e);p(e,o);var i=s(e);t.onInit(e,o,i,d.value.get())})),zr(Hn(),v),zr(Un(),y),zr(Vn(),v),zr(Yn(),y)]),apis:{resetToMin:function(e){h.setToMin(e,t)},resetToMax:function(e){h.setToMax(e,t)},changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),Ex=function(t,e){var n=Tx.parts().spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),r=Tx.parts().thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return Tx.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:o({y:o(0)})},components:[n,r],sliderBehaviours:Fs([Ih.config({})]),onChange:function(t,e,n){Pr(t,$b,{value:n})}})},Ox=[yc("formBehaviours",[vc])],Ax=function(t){return"<alloy.field."+t+">"},Dx=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.formBehaviours,[vc.config({store:{mode:"manual",getValue:function(e){var n=cf(e,t);return xt(n,(function(t,e){return t().bind((function(t){var n,r,o=Of.getCurrent(t);return n=o,r=new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+No(t.element())),n.fold((function(){return it.error(r)}),it.value)})).map(vc.getValue)}))},setValue:function(e,n){wt(n,(function(n,r){sf(e,t,r).each((function(t){Of.getCurrent(t).each((function(t){vc.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return sf(e,t,n).bind(Of.getCurrent)}}}},Nx={getField:Zo((function(t,e,n){return t.getField(e,n)})),sketch:function(t){var e=function(){var t=[];return{field:function(e,n){return t.push(e),ef("form",Ax(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),o=j(r,(function(t){return $c({name:t,pname:Ax(t)})}));return vf("form",Ox,o,Dx,n)}},Px=Ro("valid-input"),Mx=Ro("invalid-input"),Lx=Ro("validating-input"),Rx=function(t,e,r,o){var i=function(n,r){return bb.config({invalidClass:e("invalid"),notify:{onValidate:function(t){Pr(t,Lx,{type:n})},onValid:function(t){Pr(t,Px,{type:n,value:vc.getValue(t)})},onInvalid:function(t){Pr(t,Mx,{type:n,value:vc.getValue(t)})}},validator:{validate:function(e){var n=vc.getValue(e),o=r(n)?it.value(!0):it.error(t("aria.input.invalid"));return lb(o)},validateOnLoad:!1}})},a=function(r,o,a,s,u){var l=t("colorcustom.rgb.range"),c=[Ny.parts().label({dom:{tag:"label",innerHtml:a,attributes:{"aria-label":s}}}),Ny.parts().field({data:u,factory:Qy,inputAttributes:d({type:"text"},"hex"===o?{"aria-live":"polite"}:{}),inputClasses:[e("textfield")],inputBehaviours:Fs([i(o,r),Ly.config({})]),onSetValue:function(t){bb.isInvalid(t)&&bb.run(t).get(n)}})],f="hex"!==o?[Ny.parts()["aria-descriptor"]({text:l})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(f)}},s=function(t,e){var n=e.red,r=e.green,o=e.blue;vc.setValue(t,{red:n,green:r,blue:o})},u=Dp({dom:{tag:"div",classes:[e("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),l=function(t,e){u.getOpt(t).each((function(t){Ni(t.element(),"background-color","#"+e.value)}))};return _f({factory:function(){var n={red:an(b.some(255)),green:an(b.some(255)),blue:an(b.some(255)),hex:an(b.some("ffffff"))},i=function(t){return n[t].get()},c=function(t,e){n[t].set(e)},f=function(t){var e=t.red,n=t.green,r=t.blue;c("red",b.some(e)),c("green",b.some(n)),c("blue",b.some(r))},d=function(t,e){var n=e.event();"hex"!==n.type()?c(n.type(),b.none()):o(t)},h=function(t,e,n){var r=parseInt(n,10);c(e,b.some(r)),i("red").bind((function(t){return i("green").bind((function(e){return i("blue").map((function(n){return kv(t,e,n,1)}))}))})).each((function(e){var n=function(t,e){var n=vv(e);return Nx.getField(t,"hex").each((function(e){Ih.isFocused(e)||vc.setValue(t,{hex:n.value})})),n}(t,e);l(t,n)}))},p=function(t,e){var n=e.event();!function(t){return"hex"===t.type()}(n)?h(t,n.type(),n.value()):function(t,e){r(t);var n=fv(e);c("hex",b.some(e));var o=Tv(n);s(t,o),f(o),Pr(t,Vb,{hex:n}),l(t,n)}(t,n.value())},m=function(e){return{label:t("colorcustom.rgb."+e+".label"),description:t("colorcustom.rgb."+e+".description")}},g=m("red"),v=m("green"),y=m("blue"),w=m("hex");return Mt(Nx.sketch((function(n){return{dom:{tag:"form",classes:[e("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[n.field("red",Ny.sketch(a(Cv,"red",g.label,g.description,255))),n.field("green",Ny.sketch(a(Cv,"green",v.label,v.description,255))),n.field("blue",Ny.sketch(a(Cv,"blue",y.label,y.description,255))),n.field("hex",Ny.sketch(a(pv,"hex",w.label,w.description,"ffffff"))),u.asSpec()],formBehaviours:Fs([bb.config({invalidClass:e("form-invalid")}),Nh("rgb-form-events",[zr(Px,p),zr(Mx,d),zr(Lx,d)])])}})),{apis:{updateHex:function(t,e){vc.setValue(t,{hex:e.value}),function(t,e){var n=Tv(e);s(t,n),f(n)}(t,e),l(t,e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})},Ix=function(t,e){var n=Tx.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[e("sv-palette-spectrum")]}}),r=Tx.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette-thumb")],innerHtml:"<div class="+e("sv-palette-inner-thumb")+' role="presentation"></div>'}}),i=function(t,e){var n=t.width,r=t.height,o=t.getContext("2d");if(null!==o){o.fillStyle=e,o.fillRect(0,0,n,r);var i=o.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),o.fillStyle=i,o.fillRect(0,0,n,r);var a=o.createLinearGradient(0,0,0,r);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),o.fillStyle=a,o.fillRect(0,0,n,r)}};return _f({factory:function(t){var a=o({x:o(0),y:o(0)}),s=Fs([Of.config({find:b.some}),Ih.config({})]);return Tx.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[e("sv-palette")]},model:{mode:"xy",getInitialValue:a},rounded:!1,components:[n,r],onChange:function(t,e,n){Pr(t,Gb,{value:n})},onInit:function(t,e,n,r){i(n.element().dom(),Ov(Av))},sliderBehaviours:s})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){!function(t,e){var n=t.components()[0].element().dom();i(n,Ov(e))}(e,n)}},extraApis:{}})},Bx=function(t,e){return _f({name:"ColourPicker",configFields:[Re("dom"),Ze("onValidHex",n),Ze("onInvalidHex",n)],factory:function(n){var r,o=Rx(t,e,n.onValidHex,n.onInvalidHex),i=Ix(0,e),a={paletteRgba:an(Av)},s=Dp(i.sketch({})),u=Dp(o.sketch({})),l=function(t,e){s.getOpt(t).each((function(t){var n=Tv(e);a.paletteRgba.set(n),i.setRgba(t,n)}))},c=function(t,e){u.getOpt(t).each((function(t){o.updateHex(t,e)}))},f=function(t,e,n){z(n,(function(n){n(t,e)}))};return{uid:n.uid,dom:n.dom,components:[s.asSpec(),Ex(0,e),u.asSpec()],behaviours:Fs([Nh("colour-picker-events",[zr(Gb,(r=[c],function(t,e){var n=e.event().value(),o=function(t){var e,n=0,r=0,o=t.red/255,i=t.green/255,a=t.blue/255,s=Math.min(o,Math.min(i,a)),u=Math.max(o,Math.max(i,a));return s===u?Wb(0,0,100*(r=s)):(n=60*((n=o===s?3:a===s?1:5)-(o===s?i-a:a===s?o-i:a-o)/(u-s)),e=(u-s)/u,r=u,Wb(Math.round(n),Math.round(100*e),Math.round(100*r)))}(a.paletteRgba.get()),i=Wb(o.hue,n.x(),100-n.y()),s=Sv(i),u=vv(s);f(t,u,r)})),zr($b,function(){var t=[l,c];return function(e,n){var r=function(t){var e=Wb((100-t)/100*360,100,100),n=Sv(e);return vv(n)}(n.event().value().y());f(e,r,t)}}())]),Of.config({find:function(t){return u.getOpt(t)}}),Sh.config({mode:"acyclic"})])}}})},Fx=function(){return Of.config({find:b.some})},jx=function(t){return Of.config({find:t.getOpt})},zx=function(t){return Of.config({find:function(e){return fo(e.element(),t).bind((function(t){return e.getSystem().getByDom(t).toOption()}))}})},Hx={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},qx=function(t){return function(t){return Hx[t]}(t)},Ux=tinymce.util.Tools.resolve("tinymce.Resource"),Wx=ae([Ze("preprocess",i),Ze("postprocess",i)]),Vx=function(t,e,n){return vc.config(Mt({store:{mode:"manual",getValue:e,setValue:n}},t.map((function(t){return{store:{initialValue:t}}})).getOr({})))},$x=function(t,e,n){return Vx(t,(function(t){return e(t.element())}),(function(t,e){return n(t.element(),e)}))},Gx=function(t,e){var n=_e("RepresentingConfigs.memento processors",Wx,e);return vc.config({store:{mode:"manual",getValue:function(e){var r=t.get(e),o=vc.getValue(r);return n.postprocess(o)},setValue:function(e,r){var o=n.preprocess(r),i=t.get(e);vc.setValue(i,o)}}})},Yx=Vx,Kx=function(t){return $x(t,xo,_o)},Zx=function(t){return vc.config({store:{mode:"memory",initialValue:t}})},Xx=function(t,e){var n=function(t,e){e.stop()},r=function(t){return function(e,n){z(t,(function(t){t(e,n)}))}},o=function(t,e){if(!ig.isDisabled(t)){var n=e.event().raw();a(t,n.dataTransfer.files)}},i=function(t,e){var n=e.event().raw().target.files;a(t,n)},a=function(e,n){vc.setValue(e,function(t){var e=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i");return q(et(t),(function(t){return e.test(t.name)}))}(n)),Pr(e,jy,{name:t.name})},s=Dp({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Fs([Nh("input-file-events",[Vr(nr()),Vr(dr())])])}),u=t.label.map((function(t){return Fy(t,e)})),l=Ny.parts().field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Fs([Zx([]),Fx(),ig.config({}),Yh.config({toggleClass:"dragenter",toggleOnExecute:!1}),Nh("dropzone-events",[zr("dragenter",r([n,Yh.toggle])),zr("dragleave",r([n,Yh.toggle])),zr("dragover",n),zr("drop",r([n,o])),zr(er(),i)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},Ap.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(t){s.get(t).element().dom().click()},buttonBehaviours:Fs([Ly.config({}),Rg(e.isReadOnly),Mg()])})]}]}}}});return Ry(u,l,["tox-form__group--stretched"],[])},Jx=Ro("alloy-fake-before-tabstop"),Qx=Ro("alloy-fake-after-tabstop"),t_=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Fs([Ih.config({ignore:!0}),Ly.config({})])}},e_=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[t_([Jx]),t,t_([Qx])],behaviours:Fs([zx(1)])}},n_=function(t,e){Pr(t,Jn(),{raw:{which:9,shiftKey:e}})},r_=function(t,e){var n=e.element();gi(n,Jx)?n_(t,!0):gi(n,Qx)&&n_(t,!1)},o_=function(t){return dy(t,["."+Jx,"."+Qx].join(","),o(!1))},i_=!(An().browser.isIE()||An().browser.isEdge()),a_=function(t,e){var n=i_&&t.sandboxed,r=d(d({},t.label.map((function(t){return{title:t}})).getOr({})),n?{sandbox:"allow-scripts allow-same-origin"}:{}),o=function(t){var e=an("");return{getValue:function(t){return e.get()},setValue:function(n,r){if(t)Co(n.element(),"srcdoc",r);else{Co(n.element(),"src","javascript:''");var o=n.element().dom().contentWindow.document;o.open(),o.write(r),o.close()}e.set(r)}}}(n),i=t.label.map((function(t){return Fy(t,e)})),a=Ny.parts().field({factory:{sketch:function(t){return e_({uid:t.uid,dom:{tag:"iframe",attributes:r},behaviours:Fs([Ly.config({}),Ih.config({}),Yx(b.none(),o.getValue,o.setValue)])})}}});return Ry(i,a,["tox-form__group--stretched"],[])};function s_(t,n){return c_(e.document.createElement("canvas"),t,n)}function u_(t){var e=s_(t.width,t.height);return l_(e).drawImage(t,0,0),e}function l_(t){return t.getContext("2d")}function c_(t,e,n){return t.width=e,t.height=n,t}function f_(t){return t.naturalWidth||t.width}function d_(t){return t.naturalHeight||t.height}var h_=window.Promise?window.Promise:function(){var t=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,r(a,this),r(s,this))},n=t.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(r(e,t),r(a,this),r(s,this))}this._state=!0,this._value=t,u.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new l(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),e)}r[i]=a,0==--n&&t(r)}catch(t){e(t)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}}))},t}();function p_(t){return new h_((function(n,r){(function(t){var n=t.split(","),r=/data:([^;]+)/.exec(n[0]);if(!r)return b.none();for(var o=r[1],i=n[1],a=e.atob(i),s=a.length,u=Math.ceil(s/1024),l=new Array(u),c=0;c<u;++c){for(var f=1024*c,d=Math.min(f+1024,s),h=new Array(d-f),p=f,m=0;p<d;++m,++p)h[m]=a[p].charCodeAt(0);l[c]=new Uint8Array(h)}return b.some(new e.Blob(l,{type:o}))})(t).fold((function(){r("uri is not base64: "+t)}),n)}))}function m_(t,n,r){return n=n||"image/png",e.HTMLCanvasElement.prototype.toBlob?new h_((function(e,o){t.toBlob((function(t){t?e(t):o()}),n,r)})):p_(t.toDataURL(n,r))}function g_(t){return function(t){return new h_((function(n,r){var o=e.URL.createObjectURL(t),i=new e.Image,a=function(){i.removeEventListener("load",s),i.removeEventListener("error",u)};function s(){a(),n(i)}function u(){a(),r("Unable to load data of type "+t.type+": "+o)}i.addEventListener("load",s),i.addEventListener("error",u),i.src=o,i.complete&&s()}))}(t).then((function(t){!function(t){e.URL.revokeObjectURL(t.src)}(t);var n=s_(f_(t),d_(t));return l_(n).drawImage(t,0,0),n}))}function v_(t,e,n){var r=e.type;function i(e,n){return t.then((function(t){return function(t,e,n){return e=e||"image/png",t.toDataURL(e,n)}(t,e,n)}))}return{getType:o(r),toBlob:function(){return h_.resolve(e)},toDataURL:o(n),toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(e,n){return t.then((function(t){return m_(t,e,n)}))},toAdjustedDataURL:i,toAdjustedBase64:function(t,e){return i(t,e).then((function(t){return t.split(",")[1]}))},toCanvas:function(){return t.then(u_)}}}function y_(t){return function(t){return new h_((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(t)}))}(t).then((function(e){return v_(g_(t),t,e)}))}function b_(t,e){return m_(t,e).then((function(e){return v_(h_.resolve(t),e,t.toDataURL())}))}function w_(t,e,n){var r="string"==typeof t?parseFloat(t):t;return r>n?r=n:r<e&&(r=e),r}var x_=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function __(t,e){for(var n,r=[],o=new Array(25),i=0;i<5;i++){for(var a=0;a<5;a++)r[a]=e[a+5*i];for(a=0;a<5;a++){n=0;for(var s=0;s<5;s++)n+=t[a+5*s]*r[s];o[a+5*i]=n}}return o}function k_(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=l_(t);var o=function(t,e){for(var n,r,o,i,a=t.data,s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],d=e[5],h=e[6],p=e[7],m=e[8],g=e[9],v=e[10],y=e[11],b=e[12],w=e[13],x=e[14],_=e[15],k=e[16],C=e[17],S=e[18],T=e[19],E=0;E<a.length;E+=4)n=a[E],r=a[E+1],o=a[E+2],i=a[E+3],a[E]=n*s+r*u+o*l+i*c+f,a[E+1]=n*d+r*h+o*p+i*m+g,a[E+2]=n*v+r*y+o*b+i*w+x,a[E+3]=n*_+r*k+o*C+i*S+T;return t}(r.getImageData(0,0,t.width,t.height),n);return r.putImageData(o,0,0),b_(t,e)}(n,t.getType(),e)}))}function C_(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=l_(t);var o=r.getImageData(0,0,t.width,t.height),i=r.getImageData(0,0,t.width,t.height);return i=function(t,e,n){function r(t,e,n){return t>n?t=n:t<e&&(t=e),t}for(var o=Math.round(Math.sqrt(n.length)),i=Math.floor(o/2),a=t.data,s=e.data,u=t.width,l=t.height,c=0;c<l;c++)for(var f=0;f<u;f++){for(var d=0,h=0,p=0,m=0;m<o;m++)for(var g=0;g<o;g++){var v=r(f+g-i,0,u-1),y=4*(r(c+m-i,0,l-1)*u+v),b=n[m*o+g];d+=a[y]*b,h+=a[y+1]*b,p+=a[y+2]*b}var w=4*(c*u+f);s[w]=r(d,0,255),s[w+1]=r(h,0,255),s[w+2]=r(p,0,255)}return e}(o,i,n),r.putImageData(i,0,0),b_(t,e)}(n,t.getType(),e)}))}function S_(t){return function(e,n){return k_(e,t([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],n))}}var T_,E_,O_=function(t){return function(e){return k_(e,t)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),A_=S_((function(t,e){return __(t,[1,0,0,0,e=w_(255*e,-255,255),0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])})),D_=S_((function(t,e){var n;return e=w_(e,-1,1),__(t,[(n=(e*=100)<0?127+e/100*127:127*(n=0===(n=e%1)?x_[e]:x_[Math.floor(e)]*(1-n)+x_[Math.floor(e)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])})),N_=function(t,e,n,r){return k_(t,function(t,e,n,r){return __(t,[e=w_(e,0,2),0,0,0,0,0,n=w_(n,0,2),0,0,0,0,0,r=w_(r,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],e,n,r))},P_=(T_=[0,-1,0,-1,5,-1,0,-1,0],function(t){return C_(t,T_)}),M_=(E_=function(t,e){return 255*Math.pow(t/255,1-e)},function(t,e){return t.toCanvas().then((function(n){return function(t,e,n){for(var r=l_(t),o=new Array(256),i=0;i<o.length;i++)o[i]=E_(i,n);var a=function(t,e){for(var n=t.data,r=0;r<n.length;r+=4)n[r]=e[n[r]],n[r+1]=e[n[r+1]],n[r+2]=e[n[r+2]];return t}(r.getImageData(0,0,t.width,t.height),o);return r.putImageData(a,0,0),b_(t,e)}(n,t.getType(),e)}))});function L_(t,e,n){var r=f_(t),o=d_(t),i=e/r,a=n/o,s=!1;(i<.5||i>2)&&(i=i<.5?.5:2,s=!0),(a<.5||a>2)&&(a=a<.5?.5:2,s=!0);var u=function(t,e,n){return new h_((function(r){var o=f_(t),i=d_(t),a=Math.floor(o*e),s=Math.floor(i*n),u=s_(a,s);l_(u).drawImage(t,0,0,o,i,0,0,a,s),r(u)}))}(t,i,a);return s?u.then((function(t){return L_(t,e,n)})):u}function R_(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=s_(t.width,t.height),o=l_(r),i=0,a=0;90!==(n=n<0?360+n:n)&&270!==n||c_(r,r.height,r.width);90!==n&&180!==n||(i=r.width);270!==n&&180!==n||(a=r.height);return o.translate(i,a),o.rotate(n*Math.PI/180),o.drawImage(t,0,0),b_(r,e)}(n,t.getType(),e)}))}function I_(t,e){return t.toCanvas().then((function(n){return function(t,e,n){var r=s_(t.width,t.height),o=l_(r);"v"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0));return b_(r,e)}(n,t.getType(),e)}))}function B_(t,e,n,r,o){return t.toCanvas().then((function(i){return function(t,e,n,r,o,i){var a=s_(o,i);return l_(a).drawImage(t,-n,-r),b_(a,e)}(i,t.getType(),e,n,r,o)}))}var F_=function(t){return O_(t)},j_=function(t){return P_(t)},z_=function(t,e){return M_(t,e)},H_=function(t,e){return A_(t,e)},q_=function(t,e){return D_(t,e)},U_=function(t,e){return I_(t,e)},W_=function(t,e,n){return function(t,e,n){return t.toCanvas().then((function(r){return L_(r,e,n).then((function(e){return b_(e,t.getType())}))}))}(t,e,n)},V_=function(t,e){return R_(t,e)},$_=function(t,e){return d({dom:{tag:"span",innerHtml:t,classes:["tox-icon","tox-tbtn__icon-wrap"]}},e)},G_=function(t,e){return $_(Pp(t,e),{})},Y_=function(t,e){return $_(Pp(t,e),{behaviours:Fs([Dh.config({})])})},K_=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Fs([Dh.config({})])}},Z_=Ro("toolbar.button.execute"),X_={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},J_=Ro("update-menu-text"),Q_=Ro("update-menu-icon"),tk=function(t,e,r){var o=an(n),i=t.text.map((function(t){return Dp(K_(t,e,r.providers))})),a=t.icon.map((function(t){return Dp(Y_(t,r.providers.icons))})),s=function(t,e){var n=vc.getValue(t);return Ih.focus(n),Pr(n,"keydown",{raw:e.event().raw()}),Bb.close(n),b.some(!0)},u=t.role.fold((function(){return{}}),(function(t){return{role:t}})),l=t.tooltip.fold((function(){return{}}),(function(t){var e=r.providers.translate(t);return{title:e,"aria-label":e}}));return Dp(Bb.sketch(d(d({},u),{dom:{tag:"button",classes:[e,e+"--select"].concat(j(t.classes,(function(t){return e+"--"+t}))),attributes:d({},l)},components:Ug([a.map((function(t){return t.asSpec()})),i.map((function(t){return t.asSpec()})),b.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:Pp("chevron-down",r.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Fs(p(t.dropdownBehaviours,[Rg((function(){return t.disabled||r.providers.isReadOnly()})),Mg(),jb.config({}),Dh.config({}),Nh("dropdown-events",[jg(t,o),zg(t,o)]),Nh("menubutton-update-display-text",[zr(J_,(function(t,e){i.bind((function(e){return e.getOpt(t)})).each((function(t){Dh.set(t,[Zi(r.providers.translate(e.event().text()))])}))})),zr(Q_,(function(t,e){a.bind((function(e){return e.getOpt(t)})).each((function(t){Dh.set(t,[Y_(e.event().icon(),r.providers.icons)])}))}))])])),eventOrder:Mt(X_,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Fs([Sh.config({mode:"special",onLeft:s,onRight:s})]),lazySink:r.getSink,toggleClass:e+"--active",parts:{menu:bm(0,t.columns,t.presets)},fetch:function(){return ub(t.fetch)}}))).asSpec()},ek=function(t){return"separator"===t.type},nk={type:"separator"},rk=function(t,e){var n=W(t,(function(t,n){return function(t){return _(t)}(n)?""===n?t:"|"===n?t.length>0&&!ek(t[t.length-1])?t.concat([nk]):t:Ot(e,n.toLowerCase())?t.concat([e[n.toLowerCase()]]):t:t.concat([n])}),[]);return n.length>0&&ek(n[n.length-1])&&n.pop(),n},ok=function(t,e){return function(t){return Ot(t,"getSubmenuItems")}(t)?function(t,e){var n=t.getSubmenuItems(),r=ik(n,e);return{item:t,menus:Mt(r.menus,Vt(t.value,r.items)),expansions:Mt(r.expansions,Vt(t.value,t.value))}}(t,e):{item:t,menus:{},expansions:{}}},ik=function(t,e){var n=rk(_(t)?t.split(" "):t,e);return U(n,(function(t,n){var r=function(t){if(ek(t))return t;var e=Et(t,"value").getOrThunk((function(){return Ro("generated-menu-item")}));return Mt({value:e},t)}(n),o=ok(r,e);return{menus:Mt(t.menus,o.menus),items:[o.item].concat(t.items),expansions:Mt(t.expansions,o.expansions)}}),{menus:{},expansions:{},items:[]})},ak=function(t,e,n,r){var o=Ro("primary-menu"),i=ik(t,n.shared.providers.menuItems());if(0===i.items.length)return b.none();var a=iy(o,i.items,e,n,r),s=xt(i.menus,(function(t,r){return iy(r,t,e,n,!1)})),u=Mt(s,Vt(o,a));return b.from(mp.tieredData(o,u,i.expansions))},sk=function(t){return{isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)},setActive:function(e){var n=t.element();e?(hi(n,"tox-tbtn--enabled"),Co(n,"aria-pressed",!0)):(mi(n,"tox-tbtn--enabled"),Oo(n,"aria-pressed"))},isActive:function(){return gi(t.element(),"tox-tbtn--enabled")}}},uk=function(t,e,n,r){return tk({text:t.text,icon:t.icon,tooltip:t.tooltip,role:r,fetch:function(e){t.fetch((function(t){e(ak(t,sm.CLOSE_ON_EXECUTE,n,!1))}))},onSetup:t.onSetup,getApi:sk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Ly.config({})]},e,n.shared)},lk=function(t,e,n){var r=function(t){return function(r){var o=!r.isActive();r.setActive(o),t.storage.set(o),n.shared.getSink().each((function(n){e().getOpt(n).each((function(e){Ys(e.element()),Pr(e,qy,{name:t.name,value:t.storage.get()})}))}))}},o=function(t){return function(e){e.setActive(t.storage.get())}};return function(e){e(j(t,(function(t){var e=t.text.fold((function(){return{}}),(function(t){return{text:t}}));return d(d({type:t.type,active:!1},e),{onAction:r(t),onSetup:o(t)})})))}},ck=function(t,e,n,r,o,i){void 0===n&&(n=[]);var a=e.fold((function(){return{}}),(function(t){return{action:t}})),s=d({buttonBehaviours:Fs([Rg((function(){return t.disabled||i.isReadOnly()})),Mg(),Ly.config({}),Nh("button press",[jr("click"),jr("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),u=Mt(s,{dom:r});return Mt(u,{components:o})},fk=function(t,e,n,r){void 0===r&&(r=[]);var o={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map((function(t){return{"aria-label":n.translate(t),title:n.translate(t)}})).getOr({})},i=t.icon.map((function(t){return G_(t,n.icons)})),a=Ug([i]);return ck(t,e,r,o,a,n)},dk=function(t,e,n,r){void 0===r&&(r=[]);var o=fk(t,b.some(e),n,r);return Ap.sketch(o)},hk=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=n.translate(t.text),a=t.icon?t.icon.map((function(t){return G_(t,n.icons)})):b.none(),s=a.isSome()?Ug([a]):[],u=a.isSome()?{}:{innerHtml:i},l=p(t.primary||t.borderless?["tox-button"]:["tox-button","tox-button--secondary"],a.isSome()?["tox-button--icon"]:[],t.borderless?["tox-button--naked"]:[],o),c=d(d({tag:"button",classes:l},u),{attributes:{title:i}});return ck(t,e,r,c,s,n)},pk=function(t,e,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var i=hk(t,b.some(e),n,r,o);return Ap.sketch(i)},mk=function(t,n){return function(r){"custom"===n?Pr(r,qy,{name:t,value:{}}):"submit"===n?Nr(r,Uy):"cancel"===n?Nr(r,Hy):e.console.error("Unknown button type: ",n)}},gk=function(t,r,o){if(function(t,e){return"menu"===e}(0,r)){var i=t,a=d(d({},t),{onSetup:function(e){return e.setDisabled(t.disabled),n},fetch:lk(i.items,(function(){return s}),o)}),s=Dp(uk(a,"tox-tbtn",o,b.none()));return s.asSpec()}if(function(t,e){return"custom"===e||"cancel"===e||"submit"===e}(0,r)){var u=mk(t.name,r),l=d(d({},t),{borderless:!1});return pk(l,u,o.shared.providers,[])}e.console.error("Unknown footer button type: ",r)},vk=function(t,e){var n,r,o=mk(t.name,"custom");return n=b.none(),r=Ny.parts().field(d({factory:Ap},hk(t,b.some(o),e,[Zx(""),Fx()]))),Ry(n,r,[],[])},yk=o([Ze("field1Name","field1"),Ze("field2Name","field2"),Qa("onLockedChange"),Ka(["lockClass"]),Ze("locked",!1),xc("coupledFieldBehaviours",[Of,vc])]),bk=function(t,e){return $c({factory:Ny,name:t,overrides:function(t){return{fieldBehaviours:Fs([Nh("coupled-input-behaviour",[zr(tr(),(function(n){(function(t,e,n){return sf(t,e,n).bind(Of.getCurrent)})(n,t,e).each((function(e){sf(n,t,"lock").each((function(r){Yh.isOn(r)&&t.onLockedChange(n,e,r)}))}))}))])])}}})},wk=o([bk("field1","field2"),bk("field2","field1"),$c({factory:Ap,schema:[Re("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Fs([Yh.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),xk=kf({name:"FormCoupledInputs",configFields:yk(),partFields:wk(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:_c(t.coupledFieldBehaviours,[Of.config({find:b.some}),vc.config({store:{mode:"manual",getValue:function(e){var n,r=df(e,t,["field1","field2"]);return(n={})[t.field1Name]=vc.getValue(r.field1()),n[t.field2Name]=vc.getValue(r.field2()),n},setValue:function(e,n){var r=df(e,t,["field1","field2"]);At(n,t.field1Name)&&vc.setValue(r.field1(),n[t.field1Name]),At(n,t.field2Name)&&vc.setValue(r.field2(),n[t.field2Name])}}})]),apis:{getField1:function(e){return sf(e,t,"field1")},getField2:function(e){return sf(e,t,"field2")},getLock:function(e){return sf(e,t,"lock")}}}},apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),_k=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null!==e){var n=parseFloat(e[1]),r=e[2];return it.value({value:n,unit:r})}return it.error(t)},kk=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},r=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?b.some(t.value):r(t.unit)&&r(e)?n[t.unit]===n[e]?b.some(t.value):b.some(t.value/n[t.unit]*n[e]):b.none()},Ck=function(t){return b.none()},Sk=function(t,e){var n,r,o,i=_k(t).toOption(),a=_k(e).toOption();return(n=i,r=a,o=function(t,e){return kk(t,e.unit).map((function(t){return e.value/t})).map((function(t){return function(t,e){return function(n){return kk(n,e).map((function(n){return{value:n*t,unit:e}}))}}(t,e.unit)})).getOr(Ck)},n.isSome()&&r.isSome()?b.some(o(n.getOrDie(),r.getOrDie())):b.none()).getOr(Ck)},Tk=function(t,e){var n=Ck,r=Ro("ratio-event"),o=xk.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:e.translate(t.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:Pp("lock",e.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:Pp("unlock",e.icons)}}],buttonBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()}}),Mg(),Ly.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-form__group"]},components:t}},a=function(n){return Ny.parts().field({factory:Qy,inputClasses:["tox-textfield"],inputBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()}}),Mg(),Ly.config({}),Nh("size-input-events",[zr(Zn(),(function(t,e){Pr(t,r,{isField1:n})})),zr(er(),(function(e,n){Pr(e,jy,{name:t.name})}))])]),selectOnFocus:!1})},s=function(t){return{dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}},u=xk.parts().field1(i([Ny.parts().label(s("Width")),a(!0)])),l=xk.parts().field2(i([Ny.parts().label(s("Height")),a(!1)]));return xk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[u,l,i([s("&nbsp;"),o])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,e,r){_k(vc.getValue(t)).each((function(t){n(t).each((function(t){vc.setValue(e,function(t){var e,n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},r=t.value.toFixed((e=t.unit)in n?n[e]:1);return-1!==r.indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+t.unit}(t))}))}))},coupledFieldBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()},onDisabled:function(t){xk.getField1(t).bind(Ny.getField).each(ig.disable),xk.getField2(t).bind(Ny.getField).each(ig.disable),xk.getLock(t).each(ig.disable)},onEnabled:function(t){xk.getField1(t).bind(Ny.getField).each(ig.enable),xk.getField2(t).bind(Ny.getField).each(ig.enable),xk.getLock(t).each(ig.enable)}}),Mg(),Nh("size-input-events2",[zr(r,(function(t,e){var r=e.event().isField1(),o=r?xk.getField1(t):xk.getField2(t),i=r?xk.getField2(t):xk.getField1(t),a=o.map(vc.getValue).getOr(""),s=i.map(vc.getValue).getOr("");n=Sk(a,s)}))])])})},Ek={undo:o(Ro("undo")),redo:o(Ro("redo")),zoom:o(Ro("zoom")),back:o(Ro("back")),apply:o(Ro("apply")),swap:o(Ro("swap")),transform:o(Ro("transform")),tempTransform:o(Ro("temp-transform")),transformApply:o(Ro("transform-apply"))},Ok=o("save-state"),Ak=o("disable"),Dk=o("enable"),Nk={formActionEvent:qy,saveState:Ok,disable:Ak,enable:Dk},Pk=function(t,e){var r=function(t,n,r,o){return Dp(pk({name:t,text:t,disabled:r,primary:o,icon:b.none(),borderless:!1},n,e))},i=function(t,n,r,o){return Dp(dk({name:t,icon:b.some(t),tooltip:b.some(n),disabled:o,primary:!1,borderless:!1},r,e))},a=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(ig)&&ig.disable(n)}))},s=function(t,e){t.map((function(t){var n=t.get(e);n.hasConfigured(ig)&&ig.enable(n)}))},u={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},l=n,c=function(t,e,n){Pr(t,e,n)},f=function(t){return Nr(t,Nk.disable())},d=function(t){return Nr(t,Nk.enable())},h=function(t,e){f(t),c(t,Ek.transform(),{transform:e}),d(t)},p=function(t){return function(){et.getOpt(t).each((function(t){Dh.set(t,[Q])}))}},m=function(t,e){f(t),c(t,Ek.transformApply(),{transform:e,swap:p(t)}),d(t)},g=function(){return r("Back",(function(t){return c(t,Ek.back(),{swap:p(t)})}),!1,!1)},v=function(){return Dp({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Fs([ig.config({})])})},y=function(){return r("Apply",(function(t){return c(t,Ek.apply(),{swap:p(t)})}),!0,!0)},w=function(){return function(e){var n=t.getRect();return function(t,e,n,r,o){return B_(t,e,n,r,o)}(e,n.x,n.y,n.w,n.h)}},x=[g(),v(),r("Apply",(function(e){var n=w();m(e,n),t.hideCrop()}),!1,!0)],_=Ey.sketch({dom:u,components:x.map((function(t){return t.asSpec()})),containerBehaviours:Fs([Nh("image-tools-crop-buttons-events",[zr(Nk.disable(),(function(t,e){a(x,t)})),zr(Nk.enable(),(function(t,e){s(x,t)}))])])}),k=Dp(Tk({name:"size",label:b.none(),constrain:!0,disabled:!1},e)),C=[g(),v(),k,v(),r("Apply",(function(t){k.getOpt(t).each((function(e){var n=vc.getValue(e),r=function(t,e){return function(n){return W_(n,t,e)}}(parseInt(n.width,10),parseInt(n.height,10));m(t,r)}))}),!1,!0)],S=Ey.sketch({dom:u,components:C.map((function(t){return t.asSpec()})),containerBehaviours:Fs([Nh("image-tools-resize-buttons-events",[zr(Nk.disable(),(function(t,e){a(C,t)})),zr(Nk.enable(),(function(t,e){s(C,t)}))])])}),T=function(t,e){return function(n){return t(n,e)}},E=T(U_,"h"),O=T(U_,"v"),A=T(V_,-90),D=T(V_,90),N=function(t,e){!function(t,e){f(t),c(t,Ek.tempTransform(),{transform:e}),d(t)}(t,e)},P=[g(),v(),i("flip-horizontally","Flip horizontally",(function(t){N(t,E)}),!1),i("flip-vertically","Flip vertically",(function(t){N(t,O)}),!1),i("rotate-left","Rotate counterclockwise",(function(t){N(t,A)}),!1),i("rotate-right","Rotate clockwise",(function(t){N(t,D)}),!1),v(),y()],M=Ey.sketch({dom:u,components:P.map((function(t){return t.asSpec()})),containerBehaviours:Fs([Nh("image-tools-fliprotate-buttons-events",[zr(Nk.disable(),(function(t,e){a(P,t)})),zr(Nk.enable(),(function(t,e){s(P,t)}))])])}),L=function(t,n,r,i,a){var s=Tx.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}}),u=Tx.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),l=Tx.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Dp(Tx.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:r,maxX:a,getInitialValue:o({x:o(i)})},components:[s,u,l],sliderBehaviours:Fs([Ih.config({})]),onChoose:n}))},R=function(t,e,n,r,o){return L(t,(function(t,n,r){var o=T(e,r.x()/100);h(t,o)}),n,r,o)},I=function(t,e,n,r,o){var i=function(t,e,n,r,o){return[g(),R(t,e,n,r,o),y()]}(t,e,n,r,o);return Ey.sketch({dom:u,components:i.map((function(t){return t.asSpec()})),containerBehaviours:Fs([Nh("image-tools-filter-panel-buttons-events",[zr(Nk.disable(),(function(t,e){a(i,t)})),zr(Nk.enable(),(function(t,e){s(i,t)}))])])})},B=[g(),v(),y()],F=Ey.sketch({dom:u,components:B.map((function(t){return t.asSpec()}))}),j=I("Brightness",H_,-100,0,100),z=I("Contrast",q_,-100,0,100),H=I("Gamma",z_,-100,0,100),q=function(t,e,n){return function(r){return function(t,e,n,r){return N_(t,e,n,r)}(r,t,e,n)}},U=function(t){return L(t,(function(t,e,n){var r=W.getOpt(t),o=$.getOpt(t),i=V.getOpt(t);r.each((function(e){o.each((function(n){i.each((function(r){var o=vc.getValue(e).x()/100,i=vc.getValue(r).x()/100,a=vc.getValue(n).x()/100,s=q(o,i,a);h(t,s)}))}))}))}),0,100,200)},W=U("R"),V=U("G"),$=U("B"),G=[g(),W,V,$,y()],Y=Ey.sketch({dom:u,components:G.map((function(t){return t.asSpec()}))}),K=function(t,e,n){return function(r){c(r,Ek.swap(),{transform:e,swap:function(){et.getOpt(r).each((function(e){Dh.set(e,[t]),n(e)}))}})}},Z=b.some(j_),X=b.some(F_),J=[i("crop","Crop",K(_,b.none(),(function(e){t.showCrop()})),!1),i("resize","Resize",K(S,b.none(),(function(e){k.getOpt(e).each((function(e){var n=t.getMeasurements(),r=n.width,o=n.height;vc.setValue(e,{width:r,height:o})}))})),!1),i("orientation","Orientation",K(M,b.none(),l),!1),i("brightness","Brightness",K(j,b.none(),l),!1),i("sharpen","Sharpen",K(F,Z,l),!1),i("contrast","Contrast",K(z,b.none(),l),!1),i("color-levels","Color levels",K(Y,b.none(),l),!1),i("gamma","Gamma",K(H,b.none(),l),!1),i("invert","Invert",K(F,X,l),!1)],Q=Ey.sketch({dom:u,components:J.map((function(t){return t.asSpec()}))}),tt=Ey.sketch({dom:{tag:"div"},components:[Q],containerBehaviours:Fs([Dh.config({})])}),et=Dp(tt);return{memContainer:et,getApplyButton:function(t){return et.getOpt(t).map((function(t){var e=t.components()[0];return e.components()[e.components().length-1]}))}}},Mk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Lk=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Rk=tinymce.util.Tools.resolve("tinymce.util.Observable"),Ik=tinymce.util.Tools.resolve("tinymce.util.Tools"),Bk=tinymce.util.Tools.resolve("tinymce.util.VK");function Fk(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function jk(t,n){var r,o,i,a,s=n.document||e.document;n=n||{};var u=s.getElementById(n.handle||t),l=function(t){if(Fk(t),t.button!==o)return c(t);t.deltaX=t.screenX-i,t.deltaY=t.screenY-a,t.preventDefault(),n.drag(t)},c=function(t){Fk(t),Mk(s).off("mousemove touchmove",l).off("mouseup touchend",c),r.remove(),n.stop&&n.stop(t)};this.destroy=function(){Mk(u).off()},Mk(u).on("mousedown touchstart",(function(t){var f,d=function(t){var e=Math.max,n=t.documentElement,r=t.body,o=e(n.scrollWidth,r.scrollWidth),i=e(n.clientWidth,r.clientWidth),a=e(n.offsetWidth,r.offsetWidth),s=e(n.scrollHeight,r.scrollHeight),u=e(n.clientHeight,r.clientHeight);return{width:o<a?i:o,height:s<e(n.offsetHeight,r.offsetHeight)?u:s}}(s);Fk(t),t.preventDefault(),o=t.button;var h=u;i=t.screenX,a=t.screenY,f=e.window.getComputedStyle?e.window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,r=Mk("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(s.body),Mk(s).on("mousemove touchmove",l).on("mouseup touchend",c),n.start(t)}))}var zk=0,Hk=function(t,e,n,r,o){var i,a="tox-crid-"+zk++,s=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],u=["top","right","bottom","left"],l=function(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}};function c(e,r,o,i){var a,s,u,c,f;a=r.x,s=r.y,u=r.w,c=r.h,a+=o*e.deltaX,s+=i*e.deltaY,(u+=o*e.deltaW)<20&&(u=20),(c+=i*e.deltaH)<20&&(c=20),f=t=Lk.clamp({x:a,y:s,w:u,h:c},n,"move"===e.name),f=l(n,f),p.fire("updateRect",{rect:f}),h(f)}function f(t){function n(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),Mk("#"+a+"-"+t,r).css({left:e.x,top:e.y,width:e.w,height:e.h})}Ik.each(s,(function(e){Mk("#"+a+"-"+e.name,r).css({left:t.w*e.xMul+t.x,top:t.h*e.yMul+t.y})})),n("top",{x:e.x,y:e.y,w:e.w,h:t.y-e.y}),n("right",{x:t.x+t.w,y:t.y,w:e.w-t.x-t.w+e.x,h:t.h}),n("bottom",{x:e.x,y:t.y+t.h,w:e.w,h:e.h-t.y-t.h+e.y}),n("left",{x:e.x,y:t.y,w:t.x-e.x,h:t.h}),n("move",t)}function d(e){f(t=e)}function h(t){var e,r;d((e=n,{x:(r=t).x+e.x,y:r.y+e.y,w:r.w,h:r.h}))}Mk('<div id="'+a+'" class="tox-croprect-container" role="grid" aria-dropeffect="execute">').appendTo(r),Ik.each(u,(function(t){Mk("#"+a,r).append('<div id="'+a+"-"+t+'"class="tox-croprect-block" style="display: none" data-mce-bogus="all">')})),Ik.each(s,(function(t){Mk("#"+a,r).append('<div id="'+a+"-"+t.name+'" class="tox-croprect-handle tox-croprect-handle-'+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')})),i=Ik.map(s,(function(e){var n;return new jk(a,{document:r.ownerDocument,handle:a+"-"+e.name,start:function(){n=t},drag:function(t){c(e,n,t.deltaX,t.deltaY)}})})),f(t),Mk(r).on("focusin focusout",(function(t){Mk(t.target).attr("aria-grabbed","focus"===t.type?"true":"false")})),Mk(r).on("keydown",(function(e){var n;function r(t,e,r,o,i){t.stopPropagation(),t.preventDefault(),c(n,r,o,i)}switch(Ik.each(s,(function(t){if(e.target.id===a+"-"+t.name)return n=t,!1})),e.keyCode){case Bk.LEFT:r(e,0,t,-10,0);break;case Bk.RIGHT:r(e,0,t,10,0);break;case Bk.UP:r(e,0,t,0,-10);break;case Bk.DOWN:r(e,0,t,0,10);break;case Bk.ENTER:case Bk.SPACEBAR:e.preventDefault(),o()}}));var p=Ik.extend({toggleVisibility:function(t){var e=Ik.map(s,(function(t){return"#"+a+"-"+t.name})).concat(Ik.map(u,(function(t){return"#"+a+"-"+t}))).join(",");t?Mk(e,r).show():Mk(e,r).hide()},setClampRect:function(e){n=e,f(t)},setRect:d,getInnerRect:function(){return l(n,t)},setInnerRect:h,setViewPortRect:function(n){e=n,f(t)},destroy:function(){Ik.each(i,(function(t){t.destroy()})),i=[]}},Rk);return p},qk=function(t){var e=Dp({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=an(1),r=an(b.none()),o=an({x:0,y:0,w:1,h:1}),i=an({x:0,y:0,w:1,h:1}),a=function(t,i){l.getOpt(t).each((function(t){var a=n.get(),s=fa(t.element()),u=ra(t.element()),l=i.dom().naturalWidth*a,c=i.dom().naturalHeight*a,f=Math.max(0,s/2-l/2),d=Math.max(0,u/2-c/2),h={left:f.toString()+"px",top:d.toString()+"px",width:l.toString()+"px",height:c.toString()+"px",position:"absolute"};Pi(i,h),e.getOpt(t).each((function(t){Pi(t.element(),h)})),r.get().each((function(t){var e=o.get();t.setRect({x:e.x*a+f,y:e.y*a+d,w:e.w*a,h:e.h*a}),t.setClampRect({x:f,y:d,w:l,h:c}),t.setViewPortRect({x:0,y:0,w:s,h:u})}))}))},s=function(t,e){var r,s=un.fromTag("img");return Co(s,"src",e),(r=s.dom(),new Kp((function(t){var e=function(){r.removeEventListener("load",e),t(r)};r.complete?t(r):r.addEventListener("load",e)}))).then((function(){return l.getOpt(t).map((function(t){var e=Xi({element:s});Dh.replaceAt(t,1,b.some(e));var r=i.get(),u={x:0,y:0,w:s.dom().naturalWidth,h:s.dom().naturalHeight};i.set(u);var c=Lk.inflate(u,-20,-20);return o.set(c),r.w===u.w&&r.h===u.h||function(t,e){l.getOpt(t).each((function(t){var r=fa(t.element()),o=ra(t.element()),i=e.dom().naturalWidth,a=e.dom().naturalHeight,s=Math.min(r/i,o/a);s>=1?n.set(1):n.set(s)}))}(t,s),a(t,s),s}))}))},u=Ey.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[e.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Fs([Nh("image-panel-crop-events",[Yr((function(t){l.getOpt(t).each((function(t){var e=t.element().dom(),i=Hk({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},e,(function(){}));i.toggleVisibility(!1),i.on("updateRect",(function(t){var e=t.rect,r=n.get(),i={x:Math.round(e.x/r),y:Math.round(e.y/r),w:Math.round(e.w/r),h:Math.round(e.h/r)};o.set(i)})),r.set(b.some(i))}))}))])])}],containerBehaviours:Fs([Dh.config({}),Nh("image-panel-events",[Yr((function(e){s(e,t)}))])])}),l=Dp(u);return{memContainer:l,updateSrc:s,zoom:function(t,e){var r=n.get(),o=e>0?Math.min(2,r+.1):Math.max(.1,r-.1);n.set(o),l.getOpt(t).each((function(t){var e=t.components()[1].element();a(t,e)}))},showCrop:function(){r.get().each((function(t){t.toggleVisibility(!0)}))},hideCrop:function(){r.get().each((function(t){t.toggleVisibility(!1)}))},getRect:function(){return o.get()},getMeasurements:function(){var t=i.get();return{width:t.w,height:t.h}}}},Uk=function(t,e,n,r,o){return dk({name:t,icon:b.some(e),disabled:n,tooltip:b.some(t),primary:!1,borderless:!1},r,o)},Wk=function(t,e){e?ig.enable(t):ig.disable(t)};var Vk,$k,Gk=function(t){var n=an(t),r=an(b.none()),o=function(){var t=[],e=-1;function n(){return e>0}function r(){return-1!==e&&e<t.length-1}return{data:t,add:function(n){var r=t.splice(++e);return t.push(n),{state:n,removed:r}},undo:function(){if(n())return t[--e]},redo:function(){if(r())return t[++e]},canUndo:n,canRedo:r}}();o.add(t);var i=function(t){n.set(t)},a=function(t){return{blob:t,url:e.URL.createObjectURL(t)}},s=function(t){e.URL.revokeObjectURL(t.url)},u=function(){r.get().each(s),r.set(b.none())},l=function(t){var e=a(t);i(e);var n,r=o.add(e).removed;return n=r,Ik.each(n,s),e.url};return{getBlobState:function(){return n.get()},setBlobState:i,addBlobState:l,getTempState:function(){return r.get().fold((function(){return n.get()}),(function(t){return t}))},updateTempState:function(t){var e=a(t);return u(),r.set(b.some(e)),e.url},addTempState:function(t){var e=a(t);return r.set(b.some(e)),e.url},applyTempState:function(t){return r.get().fold((function(){}),(function(e){l(e.blob),t()}))},destroyTempState:u,undo:function(){var t=o.undo();return i(t),t.url},redo:function(){var t=o.redo();return i(t),t.url},getHistoryStates:function(){return{undoEnabled:o.canUndo(),redoEnabled:o.canRedo()}}}},Yk=function(t,r){var o=Gk(t.currentState),i=function(t){var e=o.getHistoryStates();p.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),Pr(t,Nk.formActionEvent,{name:Nk.saveState(),value:e.undoEnabled})},a=function(t){return t.toBlob()},s=function(t){Pr(t,Nk.formActionEvent,{name:Nk.disable(),value:{}})},u=function(t){m.getApplyButton(t).each((function(t){ig.enable(t)})),Pr(t,Nk.formActionEvent,{name:Nk.enable(),value:{}})},l=function(t,e){return s(t),h.updateSrc(t,e)},c=function(t,n,r,o,c){return s(t),function(t){return y_(t)}(n).then(r).then(a).then(o).then((function(e){return l(t,e).then((function(e){return i(t),c(),u(t),e}))})).catch((function(n){return e.console.log(n),u(t),n}))},f=function(t,e,n){var r=o.getBlobState().blob;c(t,r,e,(function(t){return o.updateTempState(t)}),n)},d=function(t){var e=o.getBlobState().url;return o.destroyTempState(),i(t),e},h=qk(t.currentState.url),p=function(t){var e=Dp(Uk("Undo","undo",!0,(function(t){Pr(t,Ek.undo(),{direction:1})}),t)),n=Dp(Uk("Redo","redo",!0,(function(t){Pr(t,Ek.redo(),{direction:1})}),t));return{container:Ey.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[e.asSpec(),n.asSpec(),Uk("Zoom in","zoom-in",!1,(function(t){Pr(t,Ek.zoom(),{direction:1})}),t),Uk("Zoom out","zoom-out",!1,(function(t){Pr(t,Ek.zoom(),{direction:-1})}),t)]}),updateButtonUndoStates:function(t,r,o){e.getOpt(t).each((function(t){Wk(t,r)})),n.getOpt(t).each((function(t){Wk(t,o)}))}}}(r),m=Pk(h,r);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[m.memContainer.asSpec(),h.memContainer.asSpec(),p.container],behaviours:Fs([vc.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Nh("image-tools-events",[zr(Ek.undo(),(function(t,e){var n=o.undo();l(t,n).then((function(e){u(t),i(t)}))})),zr(Ek.redo(),(function(t,e){var n=o.redo();l(t,n).then((function(e){u(t),i(t)}))})),zr(Ek.zoom(),(function(t,e){var n=e.event().direction();h.zoom(t,n)})),zr(Ek.back(),(function(t,e){!function(t){var e=d(t);l(t,e).then((function(e){u(t)}))}(t),e.event().swap()(),h.hideCrop()})),zr(Ek.apply(),(function(t,e){o.applyTempState((function(){d(t),e.event().swap()()}))})),zr(Ek.transform(),(function(t,e){return f(t,e.event().transform(),n)})),zr(Ek.tempTransform(),(function(t,e){return function(t,e){var r=o.getTempState().blob;c(t,r,e,(function(t){return o.addTempState(t)}),n)}(t,e.event().transform())})),zr(Ek.transformApply(),(function(t,e){return function(t,e,n){var r=o.getBlobState().blob;c(t,r,e,(function(e){var n=o.addBlobState(e);return d(t),n}),n)}(t,e.event().transform(),e.event().swap())})),zr(Ek.swap(),(function(t,e){!function(t){p.updateButtonUndoStates(t,!1,!1)}(t);var n=e.event().transform(),r=e.event().swap();n.fold((function(){r()}),(function(e){f(t,e,r)}))}))]),Fx()])}},Kk=_f({name:"HtmlSelect",configFields:[Re("options"),yc("selectBehaviours",[Ih,vc]),Ze("selectClasses",[]),Ze("selectAttributes",{}),We("data")],factory:function(t,e){var n=j(t.options,(function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}})),r=t.data.map((function(t){return Vt("initialValue",t)})).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:n,behaviours:wc(t.selectBehaviours,[Ih.config({}),vc.config({store:d({mode:"manual",getValue:function(t){return Hi(t.element())},setValue:function(e,n){V(t.options,(function(t){return t.value===n})).isSome()&&qi(e.element(),n)}},r)})])}}}),Zk=function(t,e){var n=t.label.map((function(t){return Fy(t,e)})),r=[ig.config({disabled:function(){return t.disabled||e.isReadOnly()}}),Mg(),Sh.config({mode:"execution",useEnter:!0!==t.multiline,useControlEnter:!0===t.multiline,execute:function(t){return Nr(t,Uy),b.some(!0)}}),Nh("textfield-change",[zr(tr(),(function(e,n){Pr(e,jy,{name:t.name})})),zr(ur(),(function(e,n){Pr(e,jy,{name:t.name})}))]),Ly.config({})],i=t.validation.map((function(t){return bb.config({getRoot:function(t){return uo(t.element())},invalidClass:"tox-invalid",validator:{validate:function(e){var n=vc.getValue(e),r=t.validator(n);return lb(!0===r?it.value(n):it.error(r))},validateOnLoad:t.validateOnLoad}})})).toArray(),a=t.placeholder.fold(o({}),(function(t){return{placeholder:e.translate(t)}})),s=t.inputMode.fold(o({}),(function(t){return{inputmode:t}})),u=d(d({},a),s),l=Ny.parts().field({tag:!0===t.multiline?"textarea":"input",inputAttributes:u,inputClasses:[t.classname],inputBehaviours:Fs(G([r,i])),selectOnFocus:!1,factory:Qy}),c=(t.flex?["tox-form__group--stretched"]:[]).concat(t.maximized?["tox-form-group--maximize"]:[]),f=[ig.config({disabled:function(){return t.disabled||e.isReadOnly()},onDisabled:function(t){Ny.getField(t).each(ig.disable)},onEnabled:function(t){Ny.getField(t).each(ig.enable)}}),Mg()];return Ry(n,l,c,f)},Xk=Object.freeze({__proto__:null,events:function(t,e){var n=t.stream.streams.setup(t,e);return Br([zr(t.event,n),Kr((function(){return e.cancel()}))].concat(t.cancelEvent.map((function(t){return[zr(t,(function(){return e.cancel()}))]})).getOr([])))}}),Jk=function(t){var e=an(null);return Jo({readState:function(){return{timer:null!==e.get()?"set":"unset"}},setTimer:function(t){e.set(t)},cancel:function(){var t=e.get();null!==t&&t.cancel()}})},Qk=Object.freeze({__proto__:null,throttle:Jk,init:function(t){return t.stream.streams.state(t)}}),tC=[Ie("stream",Se("mode",{throttle:[Re("delay"),Ze("stopEvent",!0),es("streams",{setup:function(t,e){var n=t.stream,r=Fp(t.onStream,n.delay);return e.setTimer(r),function(t,e){r.throttle(t,e),n.stopEvent&&e.stop()}},state:Jk})]})),Ze("event","input"),We("cancelEvent"),Qa("onStream")],eC=zs({fields:tC,name:"streaming",active:Xk,state:Qk}),nC=function(t,e,n){var r=vc.getValue(n);vc.setValue(e,r),oC(e)},rC=function(t,e){var n=t.element(),r=Hi(n),o=n.dom();"number"!==So(n,"type")&&e(o,r)},oC=function(t){rC(t,(function(t,e){return t.setSelectionRange(e.length,e.length)}))},iC=function(t,e,n){if(t.selectsOver){var r=vc.getValue(e),o=t.getDisplayText(r),i=vc.getValue(n);return 0===t.getDisplayText(i).indexOf(o)?b.some((function(){nC(0,e,n),function(t,e){rC(t,(function(t,n){return t.setSelectionRange(e,n.length)}))}(e,o.length)})):b.none()}return b.none()},aC=o("alloy.typeahead.itemexecute"),sC=o([We("lazySink"),Re("fetch"),Ze("minChars",5),Ze("responseTime",1e3),Xa("onOpen"),Ze("getHotspot",b.some),Ze("getAnchorOverrides",o({})),Ze("layouts",b.none()),Ze("eventOrder",{}),rn("model",{},[Ze("getDisplayText",(function(t){return void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.value})),Ze("selectsOver",!0),Ze("populateFromBrowse",!0)]),Xa("onSetValue"),Ja("onExecute"),Xa("onItemExecute"),Ze("inputClasses",[]),Ze("inputAttributes",{}),Ze("inputStyles",{}),Ze("matchWidth",!0),Ze("useMinWidth",!1),Ze("dismissOnBlur",!0),Ka(["openClass"]),We("initialData"),yc("typeaheadBehaviours",[Ih,vc,eC,Sh,Yh,_b]),on("previewing",(function(){return an(!0)}))].concat(Ky()).concat(Lb())),uC=o([Gc({schema:[Ya()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(e,n){t.previewing.get()?e.getSystem().getByUid(t.uid).each((function(r){iC(t.model,r,n).fold((function(){return jf.dehighlight(e,n)}),(function(t){return t()}))})):e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&nC(t.model,e,n)})),t.previewing.set(!1)},onExecute:function(e,n){return e.getSystem().getByUid(t.uid).toOption().map((function(t){return Pr(t,aC(),{item:n}),!0}))},onHover:function(e,n){t.previewing.set(!1),e.getSystem().getByUid(t.uid).each((function(e){t.model.populateFromBrowse&&nC(t.model,e,n)}))}}}})]),lC=kf({name:"Typeahead",configFields:sC(),partFields:uC(),factory:function(t,e,r,o){var i=function(e,r,i){t.previewing.set(!1);var a=_b.getCoupled(e,"sandbox");if(Xl.isOpen(a))Of.getCurrent(a).each((function(t){jf.getHighlighted(t).fold((function(){i(t)}),(function(){Ir(a,t.element(),"keydown",r)}))}));else{Tb(t,s(e),e,a,o,(function(t){Of.getCurrent(t).each(i)}),nb.HighlightFirst).get(n)}},a=Zy(t),s=function(t){return function(e){return e.map((function(e){var n=Tt(e.menus),r=Y(n,(function(t){return q(t.items,(function(t){return"item"===t.type}))}));return vc.getState(t).update(j(r,(function(t){return t.data}))),e}))}},u=[Ih.config({}),vc.config({onSetValue:t.onSetValue,store:d({mode:"dataset",getDataKey:function(t){return Hi(t.element())},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(e,n){qi(e.element(),t.model.getDisplayText(n))}},t.initialData.map((function(t){return Vt("initialValue",t)})).getOr({}))}),eC.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(e,r){var i=_b.getCoupled(e,"sandbox");if(Ih.isFocused(e)&&Hi(e.element()).length>=t.minChars){var a=Of.getCurrent(i).bind((function(t){return jf.getHighlighted(t).map(vc.getValue)}));t.previewing.set(!0);Tb(t,s(e),e,i,o,(function(e){Of.getCurrent(i).each((function(e){a.fold((function(){t.model.selectsOver&&jf.highlightFirst(e)}),(function(t){jf.highlightBy(e,(function(e){return vc.getValue(e).value===t.value})),jf.getHighlighted(e).orThunk((function(){return jf.highlightFirst(e),b.none()}))}))}))}),nb.HighlightFirst).get(n)}},cancelEvent:mr()}),Sh.config({mode:"special",onDown:function(t,e){return i(t,e,jf.highlightFirst),b.some(!0)},onEscape:function(t){var e=_b.getCoupled(t,"sandbox");return Xl.isOpen(e)?(Xl.close(e),b.some(!0)):b.none()},onUp:function(t,e){return i(t,e,jf.highlightLast),b.some(!0)},onEnter:function(e){var n=_b.getCoupled(e,"sandbox"),r=Xl.isOpen(n);if(r&&!t.previewing.get())return Of.getCurrent(n).bind((function(t){return jf.getHighlighted(t)})).map((function(t){return Pr(e,aC(),{item:t}),!0}));var o=vc.getValue(e);return Nr(e,mr()),t.onExecute(n,e,o),r&&Xl.close(n),b.some(!0)}}),Yh.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),_b.config({others:{sandbox:function(e){return Pb(t,e,{onOpen:function(){return Yh.on(e)},onClose:function(){return Yh.off(e)}})}}}),Nh("typeaheadevents",[Xr((function(e){var r=n;Ob(t,s(e),e,o,r,nb.HighlightFirst).get(n)})),zr(aC(),(function(e,n){var r=_b.getCoupled(e,"sandbox");nC(t.model,e,n.event().item()),Nr(e,mr()),t.onItemExecute(e,r,n.event().item(),vc.getValue(e)),Xl.close(r),oC(e)}))].concat(t.dismissOnBlur?[zr(sr(),(function(t){var e=_b.getCoupled(t,"sandbox");Zs(e.element()).isNone()&&Xl.close(e)}))]:[]))];return{uid:t.uid,dom:Jy(Mt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:d(d({},a),wc(t.typeaheadBehaviours,u)),eventOrder:t.eventOrder}}}),cC=function(t){return d(d({},t),{toCached:function(){return cC(t.toCached())},bindFuture:function(e){return cC(t.bind((function(t){return t.fold((function(t){return lb(it.error(t))}),(function(t){return e(t)}))})))},bindResult:function(e){return cC(t.map((function(t){return t.bind(e)})))},mapResult:function(e){return cC(t.map((function(t){return t.map(e)})))},mapError:function(e){return cC(t.map((function(t){return t.mapError(e)})))},foldResult:function(e,n){return t.map((function(t){return t.fold(e,n)}))},withTimeout:function(n,r){return cC(ub((function(o){var i=!1,a=e.setTimeout((function(){i=!0,o(it.error(r()))}),n);t.get((function(t){i||(e.clearTimeout(a),o(t))}))})))}})},fC=function(t){return cC(ub(t))},dC=fC,hC={type:"separator"},pC=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},mC=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:void 0},onAction:function(){}}},gC=function(t,e){return function(t){return j(t,pC)}(function(t,e){return q(e,(function(e){return e.type===t}))}(t,e))},vC=function(t){return gC("header",t.targets)},yC=function(t){return gC("anchor",t.targets)},bC=function(t){return b.from(t.anchorTop).map((function(t){return mC("<top>",t)})).toArray()},wC=function(t){return b.from(t.anchorBottom).map((function(t){return mC("<bottom>",t)})).toArray()},xC=function(t,e){var n=t.toLowerCase();return q(e,(function(t){var e=void 0!==t.meta&&void 0!==t.meta.text?t.meta.text:t.text;return bn(e.toLowerCase(),n)||bn(t.value.toLowerCase(),n)}))},_C=function(t,e,n){var r=vc.getValue(e),o=void 0!==r.meta.text?r.meta.text:r.value;return n.getLinkInformation().fold((function(){return[]}),(function(e){var r,i=xC(o,function(t){return j(t,(function(t){return mC(t,t)}))}(n.getHistory(t)));return"file"===t?(r=[i,xC(o,vC(e)),xC(o,G([bC(e),yC(e),wC(e)]))],W(r,(function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(hC,e)}),[])):i}))},kC=Ro("aria-invalid"),CC=function(t){return function(e,n,r){return Et(n,"name").fold((function(){return t(n,r)}),(function(o){return e.field(o,t(n,r))}))}},SC={bar:CC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:j(t.items,e.interpreter)}}(t,e.shared)})),collection:CC((function(t,e){return Yy(t,e.shared.providers)})),alertbanner:CC((function(t,e){return function(t,e){return Ey.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Ap.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Pp(t.icon,e.icons),attributes:{title:e.translate(t.iconTooltip)}},action:function(e){Pr(e,qy,{name:"alert-banner",value:t.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:e.translate(t.text)}}]})}(t,e.shared.providers)})),input:CC((function(t,e){return function(t,e){return Zk({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),textarea:CC((function(t,e){return function(t,e){return Zk({name:t.name,multiline:!0,label:t.label,inputMode:b.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:b.none(),maximized:t.maximized},e)}(t,e.shared.providers)})),label:CC((function(t,e){return function(t,e){var n={dom:{tag:"label",innerHtml:e.providers.translate(t.label),classes:["tox-label"]}},r=j(t.items,e.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[n].concat(r),behaviours:Fs([Fx(),Dh.config({}),Kx(b.none()),Sh.config({mode:"acyclic"})])}}(t,e.shared)})),iframe:function(t){return function(e,n,r){var o=Mt(n,{source:"dynamic"});return CC(t)(e,o,r)}}((function(t,e){return a_(t,e.shared.providers)})),button:CC((function(t,e){return vk(t,e.shared.providers)})),checkbox:CC((function(t,e){return function(t,e){var n=vc.config({store:{mode:"manual",getValue:function(t){return t.element().dom().checked},setValue:function(t,e){t.element().dom().checked=e}}}),r=function(t){return t.element().dom().click(),b.some(!0)},o=Ny.parts().field({factory:{sketch:i},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Fs([Fx(),ig.config({disabled:function(){return t.disabled||e.isReadOnly()}}),Ly.config({}),Ih.config({}),n,Sh.config({mode:"special",onEnter:r,onSpace:r,stopSpaceKeyup:!0}),Nh("checkbox-events",[zr(er(),(function(e,n){Pr(e,jy,{name:t.name})}))])])}),a=Ny.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:e.translate(t.label)},behaviours:Fs([jb.config({})])}),s=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:Pp("checked"===t?"selected":"unselected",e.icons)}}},u=Dp({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[s("checked"),s("unchecked")]});return Ny.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[o,u.asSpec(),a],fieldBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(t){Ny.getField(t).each(ig.disable)},onEnabled:function(t){Ny.getField(t).each(ig.enable)}}),Mg()])})}(t,e.shared.providers)})),colorinput:CC((function(t,e){return Ub(t,e.shared,e.colorinput)})),colorpicker:CC((function(t){var n=function(t){return"tox-"+t},r=Bx(qx,n),o=Dp(r.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){Pr(t,qy,{name:"hex-valid",value:!0})},onInvalidHex:function(t){Pr(t,qy,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Fs([vc.config({store:{mode:"manual",getValue:function(t){var e=o.get(t);return Of.getCurrent(e).bind((function(t){return vc.getValue(t).hex})).map((function(t){return"#"+t})).getOr("")},setValue:function(t,n){var r=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),i=o.get(t);Of.getCurrent(i).fold((function(){e.console.log("Can not find form")}),(function(t){vc.setValue(t,{hex:b.from(r[1]).getOr("")}),Nx.getField(t,"hex").each((function(t){Nr(t,tr())}))}))}}}),Fx()])}})),dropzone:CC((function(t,e){return Xx(t,e.shared.providers)})),grid:CC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:j(t.items,e.interpreter)}}(t,e.shared)})),selectbox:CC((function(t,e){return function(t,e){var n=j(t.items,(function(t){return{text:e.translate(t.text),value:t.value}})),r=t.label.map((function(t){return Fy(t,e)})),o=Ny.parts().field({dom:{},selectAttributes:{size:t.size},options:n,factory:Kk,selectBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()}}),Ly.config({}),Nh("selectbox-change",[zr(er(),(function(e,n){Pr(e,jy,{name:t.name})}))])])}),i=t.size>1?b.none():b.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:Pp("chevron-down",e.icons)}}),a={dom:{tag:"div",classes:["tox-selectfield"]},components:G([[o],i.toArray()])};return Ny.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:G([r.toArray(),[a]]),fieldBehaviours:Fs([ig.config({disabled:function(){return t.disabled||e.isReadOnly()},onDisabled:function(t){Ny.getField(t).each(ig.disable)},onEnabled:function(t){Ny.getField(t).each(ig.enable)}}),Mg()])})}(t,e.shared.providers)})),sizeinput:CC((function(t,e){return Tk(t,e.shared.providers)})),urlinput:CC((function(t,e){return function(t,e,r){var o,i=e.shared.providers,a=function(e){var n=vc.getValue(e);r.addToHistory(n.value,t.filetype)},s=Ny.parts().field({factory:lC,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":kC,type:"url"},minChars:0,responseTime:0,fetch:function(n){var o=_C(t.filetype,n,r),i=ak(o,sm.BUBBLE_TO_SANDBOX,e,!1);return lb(i)},getHotspot:function(t){return p.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(bb)&&bb.run(t).get(n)},typeaheadBehaviours:Fs(G([r.getValidationHandler().map((function(e){return bb.config({getRoot:function(t){return uo(t.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(t,e){l.getOpt(t).each((function(t){Co(t.element(),"title",i.translate(e))}))}},validator:{validate:function(n){var r=vc.getValue(n);return dC((function(n){e({type:t.filetype,url:r.value},(function(t){if("invalid"===t.status){var e=it.error(t.message);n(e)}else{var r=it.value(t.message);n(r)}}))}))},validateOnLoad:!1}})})).toArray(),[ig.config({disabled:function(){return t.disabled||i.isReadOnly()}}),Ly.config({}),Nh("urlinput-events",G(["file"===t.filetype?[zr(tr(),(function(e){Pr(e,jy,{name:t.name})}))]:[],[zr(er(),(function(e){Pr(e,jy,{name:t.name}),a(e)})),zr(ur(),(function(e){Pr(e,jy,{name:t.name}),a(e)}))]]))]])),eventOrder:(o={},o[tr()]=["streaming","urlinput-events","invalidating"],o),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:e.shared.getSink,parts:{menu:bm(0,0,"normal")},onExecute:function(t,e,n){Pr(e,Uy,{})},onItemExecute:function(e,n,r,o){a(e),Pr(e,jy,{name:t.name})}}),u=t.label.map((function(t){return Fy(t,i)})),l=Dp(function(t,e,n,r){return void 0===n&&(n=t),void 0===r&&(r=t),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+t],innerHtml:Pp(n,i.icons),attributes:d({title:i.translate(r),"aria-live":"polite"},e.fold((function(){return{}}),(function(t){return{id:t}})))}}}("invalid",b.some(kC),"warning")),c=Dp({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[l.asSpec()]}),f=r.getUrlPicker(t.filetype),h=Ro("browser.url.event"),p=Dp({dom:{tag:"div",classes:["tox-control-wrap"]},components:[s,c.asSpec()],behaviours:Fs([ig.config({disabled:function(){return t.disabled||i.isReadOnly()}})])}),m=Dp(pk({name:t.name,icon:b.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},(function(t){return Nr(t,h)}),i,[],["tox-browse-url"]));return Ny.sketch({dom:By([]),components:u.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:G([[p.asSpec()],f.map((function(){return m.asSpec()})).toArray()])}]),fieldBehaviours:Fs([ig.config({disabled:function(){return t.disabled||i.isReadOnly()},onDisabled:function(t){Ny.getField(t).each(ig.disable),m.getOpt(t).each(ig.disable)},onEnabled:function(t){Ny.getField(t).each(ig.enable),m.getOpt(t).each(ig.enable)}}),Mg(),Nh("url-input-events",[zr(h,(function(e){Of.getCurrent(e).each((function(n){var r=vc.getValue(n),o=d({fieldname:t.name},r);f.each((function(r){r(o).get((function(r){vc.setValue(n,r),Pr(e,jy,{name:t.name})}))}))}))}))])])})}(t,e,e.urlinput)})),customeditor:CC((function(t){var e=an(b.none()),n=Dp({dom:{tag:t.tag}}),r=an(b.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Fs([Nh("editor-foo-events",[Yr((function(o){n.getOpt(o).each((function(n){(!function(t){return Object.prototype.hasOwnProperty.call(t,"init")}(t)?Ux.load(t.scriptId,t.scriptUrl).then((function(e){return e(n.element().dom(),t.settings)})):t.init(n.element().dom())).then((function(t){r.get().each((function(e){t.setValue(e)})),r.set(b.none()),e.set(b.some(t))}))}))}))]),vc.config({store:{mode:"manual",getValue:function(){return e.get().fold((function(){return r.get().getOr("")}),(function(t){return t.getValue()}))},setValue:function(t,n){e.get().fold((function(){r.set(b.some(n))}),(function(t){return t.setValue(n)}))}}}),Fx()]),components:[n.asSpec()]}})),htmlpanel:CC((function(t){return"presentation"===t.presets?Ey.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):Ey.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Fs([Ly.config({}),Ih.config({})])})})),imagetools:CC((function(t,e){return Yk(t,e.shared.providers)})),table:CC((function(t,e){return function(t,e){var n,r,o=function(t){return{dom:{tag:"th",innerHtml:e.translate(t)}}},i=function(t){return{dom:{tag:"td",innerHtml:e.translate(t)}}},a=function(t){return{dom:{tag:"tr"},components:j(t,i)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(r=t.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:j(r,o)}]}),(n=t.cells,{dom:{tag:"tbody"},components:j(n,a)})],behaviours:Fs([Ly.config({}),Ih.config({})])}}(t,e.shared.providers)})),panel:CC((function(t,e){return function(t,e){return{dom:{tag:"div",classes:t.classes},components:j(t.items,e.shared.interpreter)}}(t,e)}))},TC={field:function(t,e){return e}},EC=function(t,e,n){var r=Mt(n,{shared:{interpreter:function(e){return OC(t,e,r)}}});return OC(t,e,r)},OC=function(t,n,r){return Et(SC,n.type).fold((function(){return e.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n}),(function(e){return e(t,n,r)}))},AC={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},DC=function(t,e,n){var r=wu(-12,12,AC),o={maxHeightFunction:gu()};return function(){return n()?{anchor:"node",root:Oi(oo(t())),node:b.from(t()),bubble:r,layouts:{onRtl:function(){return[Sp]},onLtr:function(){return[Cp]}},overrides:o}:{anchor:"hotspot",hotspot:e(),bubble:r,layouts:{onRtl:function(){return[xs]},onLtr:function(){return[_s]}},overrides:o}}},NC=function(t,e,n){return function(){return n()?{anchor:"node",root:Oi(oo(t())),node:b.from(t()),layouts:{onRtl:function(){return[Tp]},onLtr:function(){return[Tp]}}}:{anchor:"hotspot",hotspot:e(),layouts:{onRtl:function(){return[Ts]},onLtr:function(){return[Ts]}}}}},PC=function(t,e){return function(){return{anchor:"selection",root:e(),getSelection:function(){var e=t.selection.getRng();return b.some(Lu.range(un.fromDom(e.startContainer),e.startOffset,un.fromDom(e.endContainer),e.endOffset))}}}},MC=function(t){return function(e){return{anchor:"node",root:t(),node:e}}},LC=function(t,e,n){var r=kg(t),o=function(){return un.fromDom(t.getBody())},i=function(){return un.fromDom(t.getContentAreaContainer())},a=function(){return r||!n()};return{inlineDialog:DC(i,e,a),banner:NC(i,e,a),cursor:PC(t,o),node:MC(o)}},RC=function(t){return function(e,n){Vv(t)(e,n)}},IC=function(t){return function(){return Rv(t)}},BC=function(t){return function(){return Iv(t)}},FC=function(t){return function(){return Fv(t)}},jC=function(t){return{colorPicker:RC(t),hasCustomColors:IC(t),getColors:BC(t),getColorCols:FC(t)}},zC=function(t){return function(){return function(t){return t.getParam("draggable_modal",!1,"boolean")}(t)}},HC=function(t){return{isDraggableModal:zC(t)}},qC=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],UC=function(t){return W(t,(function(t,e){if(Ot(e,"items")){var n=UC(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(function(t){return Ot(t,"inline")}(e)||function(t){return Ot(t,"block")}(e)||function(t){return Ot(t,"selector")}(e)){var r="custom-"+e.title.toLowerCase();return{customFormats:t.customFormats.concat([{name:r,format:e}]),formats:t.formats.concat([{title:e.title,format:r,icon:e.icon}])}}return d(d({},t),{formats:t.formats.concat(e)})}),{customFormats:[],formats:[]})},WC=function(t){return function(t){return b.from(t.getParam("style_formats")).filter(C)}(t).map((function(e){var n=function(t,e){var n=UC(e),r=function(e){z(e,(function(e){t.formatter.has(e.name)||t.formatter.register(e.name,e.format)}))};return t.formatter?r(n.customFormats):t.on("init",(function(){r(n.customFormats)})),n.formats}(t,e);return function(t){return t.getParam("style_formats_merge",!1,"boolean")}(t)?qC.concat(n):n})).getOr(qC)},VC=function(t,e,n){var r={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return Mt(t,r)},$C=function(t,e,n,r){var o=function(e){return j(e,(function(e){var i=yt(e);if(At(e,"items")){var a=o(e.items);return Mt(function(t){return Mt(t,{type:"submenu"})}(e),{getStyleItems:function(){return a}})}return At(e,"format")?function(t){return VC(t,n,r)}(e):1===i.length&&R(i,"title")?Mt(e,{type:"separator"}):function(e){var o=Ro(e.title),i={type:"formatter",format:o,isSelected:n(o),getStylePreview:r(o)},a=Mt(e,i);return t.formatter.register(o,a),a}(e)}))};return o(e)},GC=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},r=function(t){var e=t.items;return void 0!==e&&e.length>0?Y(e,r):[t.format]},o=an([]),i=an([]),a=an([]),s=an([]),u=an(!1);t.on("PreInit",(function(a){var s=WC(t),u=$C(t,s,e,n);o.set(u),i.set(Y(u,r))})),t.on("addStyleModifications",(function(o){var i=$C(t,o.items,e,n);a.set(i),u.set(o.replace),s.set(Y(i,r))}));return{getData:function(){var t=u.get()?[]:o.get(),e=a.get();return t.concat(e)},getFlattenedKeys:function(){var t=u.get()?[]:i.get(),e=s.get();return t.concat(e)}}},YC=Ik.trim,KC=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},ZC=KC("true"),XC=KC("false"),JC=function(t,e,n,r,o){return{type:t,title:e,url:n,level:r,attach:o}},QC=function(t){return t.innerText||t.textContent},tS=function(t){return function(t){return t&&"A"===t.nodeName&&void 0!==(t.id||t.name)}(t)&&nS(t)},eS=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},nS=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return ZC(t)}return!1}(t)&&!XC(t)},rS=function(t){return eS(t)&&nS(t)},oS=function(t){var e=function(t){return t.id?t.id:Ro("h")}(t);return JC("header",QC(t),"#"+e,function(t){return eS(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=e}))},iS=function(t){var e=t.id||t.name,r=QC(t);return JC("anchor",r||"#"+e,"#"+e,0,n)},aS=function(t){var e,n;return e="h1,h2,h3,h4,h5,h6,a:not([href])",n=t,j($u(un.fromDom(n),e),(function(t){return t.dom()}))},sS=function(t){return YC(t.title).length>0},uS=function(t){var e=aS(t);return q(function(t){return j(q(t,rS),oS)}(e).concat(function(t){return j(q(t,tS),iS)}(e)),sS)},lS="tinymce-url-history",cS=function(t){return _(t)&&/^https?/.test(t)},fS=function(t){return k(t)&&St(t,(function(t){return!(C(e=t)&&e.length<=5&&K(e,cS));var e})).isNone()},dS=function(){var t,n=Nv.getItem(lS);if(null===n)return{};try{t=JSON.parse(n)}catch(t){if(t instanceof SyntaxError)return e.console.log("Local storage "+lS+" was not valid JSON",t),{};throw t}return fS(t)?t:(e.console.log("Local storage "+lS+" was not valid format",t),{})},hS=function(t){var e=dS();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},pS=function(t,e){if(cS(t)){var n=dS(),r=Object.prototype.hasOwnProperty.call(n,e)?n[e]:[],o=q(r,(function(e){return e!==t}));n[e]=[t].concat(o).slice(0,5),function(t){if(!fS(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));Nv.setItem(lS,JSON.stringify(t))}(n)}},mS=function(t){return!!t},gS=function(t){return xt(Ik.makeMap(t,/[, ]/),mS)},vS=function(t){return b.from(function(t){return t.getParam("file_picker_callback")}(t)).filter(O)},yS=function(t,e){var n=function(t){var e=b.some(function(t){return t.getParam("file_picker_types")}(t)).filter(mS),n=b.some(function(t){return t.getParam("file_browser_callback_types")}(t)).filter(mS),r=e.or(n).map(gS);return vS(t).fold((function(){return!1}),(function(t){return r.fold((function(){return!0}),(function(t){return yt(t).length>0&&t}))}))}(t);return S(n)?n?vS(t):b.none():n[e]?vS(t):b.none()},bS=function(t){return{getHistory:hS,addToHistory:pS,getLinkInformation:function(){return function(t){return function(t){return!1===t.getParam("typeahead_urls")}(t)?b.none():b.some({targets:uS(t.getBody()),anchorTop:Og(t),anchorBottom:Ag(t)})}(t)},getValidationHandler:function(){return function(t){return b.from(function(t){var e=t.getParam("file_picker_validator_handler",void 0,"function");return void 0===e?t.getParam("filepicker_validator_handler",void 0,"function"):e}(t))}(t)},getUrlPicker:function(e){return function(t,e){return yS(t,e).map((function(n){return function(r){return ub((function(o){var i=d({filetype:e,fieldname:r.fieldname},b.from(r.meta).getOr({}));n.call(t,(function(t,e){if(!_(t))throw new Error("Expected value to be string");if(void 0!==e&&!k(e))throw new Error("Expected meta to be a object");o({value:t,meta:e})}),r.value,i)}))}}))}(t,e)}}},wS=function(t,e,n){var r=an(!1),o=function(t){var e=an(xg(t)?"bottom":"top");return{isPositionedAtTop:function(){return"top"===e.get()},getDockingMode:e.get,setDockingMode:e.set}}(e),i={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},menuItems:function(){return e.ui.registry.getAll().menuItems},translate:Vm.translate,isReadOnly:function(){return e.mode.isReadOnly()}},interpreter:function(t){return function(t,e){return OC(TC,t,e)}(t,i)},anchors:LC(e,n,o.isPositionedAtTop),header:o,getSink:function(){return it.value(t)}},urlinput:bS(e),styleselect:GC(e),colorinput:jC(e),dialog:HC(e),isContextMenuOpen:function(){return r.get()},setContextMenuState:function(t){return r.set(t)}};return i},xS=o((function(t,e){!function(t,e){var n=ca.max(t,e,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Ni(t,"max-width",n+"px")}(t,Math.floor(e))})),_S=o([Re("items"),Ka(["itemSelector"]),yc("tgroupBehaviours",[Sh])]),kS=o([Kc({name:"items",unit:"item"})]),CS=kf({name:"ToolbarGroup",configFields:_S(),partFields:kS(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.tgroupBehaviours,[Sh.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),SS=o([Re("dom"),Ze("shell",!0),yc("toolbarBehaviours",[Dh])]),TS=o([Yc({name:"groups",overrides:function(){return{behaviours:Fs([Dh.config({})])}}})]),ES=kf({name:"Toolbar",configFields:SS(),partFields:TS(),factory:function(t,n,r,o){var i=function(e){return t.shell?b.some(e):sf(e,t,"groups")},a=t.shell?{behaviours:[Dh.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:wc(t.toolbarBehaviours,a.behaviours),apis:{setGroups:function(t,n){i(t).fold((function(){throw e.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){Dh.set(t,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),OS=function(t,e,n){return{within:o(t),extra:o(e),withinWidth:o(n)}},AS=function(t,e,n){var r,i=(r=function(t,e){var r=n(t);return b.some({element:o(t),start:o(e),finish:o(e+r),width:o(r)})},W(t,(function(t,e){return r(e,t.len).fold(o(t),(function(e){return{len:e.finish(),list:t.list.concat([e])}}))}),{len:0,list:[]}).list),a=q(i,(function(t){return t.finish()<=e})),s=U(a,(function(t,e){return t+e.width()}),0),u=i.slice(a.length);return{within:o(a),extra:o(u),withinWidth:o(s)}},DS=function(t){return j(t,(function(t){return t.element()}))},NS=function(t,e,n,r){var o=function(t,e,n){var r=AS(e,t,n);return 0===r.extra().length?b.some(r):b.none()}(t,e,n).getOrThunk((function(){return AS(e,t-n(r),n)})),i=o.within(),a=o.extra(),s=o.withinWidth();return 1===a.length&&a[0].width()<=n(r)?function(t,e,n){var r=DS(t.concat(e));return OS(r,[],n)}(i,a,s):a.length>=1?function(t,e,n,r){var o=DS(t).concat([n]);return OS(o,DS(e),r)}(i,a,r,s):function(t,e,n){return OS(DS(t),[],n)}(i,0,s)},PS=function(t,e){var n=j(e,(function(t){return ta(t)}));ES.setGroups(t,n)},MS=function(t,e,n){var r=uf(t,e,"primary"),o=_b.getCoupled(t,"overflowGroup");Ni(r.element(),"visibility","hidden");var i=e.builtGroups.get().concat([o]),a=nt(i,(function(t){return Zs(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))}));n([]),PS(r,i);var s=fa(r.element()),u=NS(s,e.builtGroups.get(),(function(t){return fa(t.element())}),o);0===u.extra().length?(Dh.remove(r,o),n([])):(PS(r,u.within()),n(u.extra())),ji(r.element(),"visibility"),zi(r.element()),a.each(Ih.focus)},LS=o([yc("splitToolbarBehaviours",[_b]),on("builtGroups",(function(){return an([])}))]),RS=o([Ka(["overflowToggledClass"]),Ye("getOverflowBounds"),Re("lazySink"),on("overflowGroups",(function(){return an([])}))].concat(LS())),IS=o([$c({factory:ES,schema:SS(),name:"primary"}),Gc({schema:SS(),name:"overflow"}),Gc({name:"overflow-button"}),Gc({name:"overflow-group"})]),BS=o([Ka(["toggledClass"]),Re("lazySink"),ze("fetch"),Ye("getBounds"),Ke("fireDismissalEventInstead",[Ze("event",kr())]),Tu()]),FS=o([Gc({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Fs([Yh.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Gc({factory:ES,schema:SS(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Fs([Sh.config({mode:"cyclic",onEscape:function(e){return sf(e,t,"button").each(Ih.focus),b.none()}})])}}})]),jS=function(t,e){var n=_b.getCoupled(t,"toolbarSandbox");Xl.isOpen(n)?Xl.close(n):Xl.open(n,e.toolbar())},zS=function(t,e,n,r){var o=n.getBounds.map((function(t){return t()})),i=n.lazySink(t).getOrDie();Al.positionWithinBounds(i,{anchor:"hotspot",hotspot:t,layouts:r,overrides:{maxWidthFunction:xS()}},e,o)},HS=function(t,e,n,r,o){ES.setGroups(e,o),zS(t,e,n,r),Yh.on(t)},qS=kf({name:"FloatingToolbarButton",factory:function(t,e,n,r){return d(d({},Ap.sketch(d(d({},r.button()),{action:function(t){jS(t,r)},buttonBehaviours:_c({dump:r.button().buttonBehaviours},[_b.config({others:{toolbarSandbox:function(e){return function(t,e,n){var r=Ra();return{dom:{tag:"div",attributes:{id:r.id}},behaviours:Fs([Sh.config({mode:"special",onEscape:function(t){return Xl.close(t),b.some(!0)}}),Xl.config({onOpen:function(o,i){n.fetch().get((function(o){HS(t,i,n,e.layouts,o),r.link(t.element()),Sh.focusIn(i)}))},onClose:function(){Yh.off(t),Ih.focus(t),r.unlink(t.element())},isPartOf:function(e,n,r){return Ba(n,r)||Ba(t,r)},getAttachPoint:function(){return n.lazySink(t).getOrDie()}}),$s.config({channels:d(d({},nc(d({isExtraPart:l},n.fireDismissalEventInstead.map((function(t){return{fireEventInstead:{event:t.event}}})).getOr({})))),oc({doReposition:function(){Xl.getState(_b.getCoupled(t,"toolbarSandbox")).each((function(r){zS(t,r,n,e.layouts)}))}}))})])}}(e,n,t)}}})])}))),{apis:{setGroups:function(e,r){Xl.getState(_b.getCoupled(e,"toolbarSandbox")).each((function(o){HS(e,o,t,n.layouts,r)}))},reposition:function(e){Xl.getState(_b.getCoupled(e,"toolbarSandbox")).each((function(r){zS(e,r,t,n.layouts)}))},toggle:function(t){jS(t,r)},getToolbar:function(t){return Xl.getState(_b.getCoupled(t,"toolbarSandbox"))}}})},configFields:BS(),partFields:FS(),apis:{setGroups:function(t,e,n){t.setGroups(e,n)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getToolbar:function(t,e){return t.getToolbar(e)}}}),US=function(t){return j(t,(function(t){return ta(t)}))},WS=function(t,e,n){MS(t,n,(function(r){n.overflowGroups.set(r),e.getOpt(t).each((function(t){qS.setGroups(t,US(r))}))}))},VS=kf({name:"SplitFloatingToolbar",configFields:RS(),partFields:IS(),factory:function(t,e,n,r){var o=Dp(qS.sketch({fetch:function(){return ub((function(e){e(US(t.overflowGroups.get()))}))},layouts:{onLtr:function(){return[_s,xs]},onRtl:function(){return[xs,_s]},onBottomLtr:function(){return[Cs,ks]},onBottomRtl:function(){return[ks,Cs]}},getBounds:n.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:r["overflow-button"](),toolbar:r.overflow()}}));return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.splitToolbarBehaviours,[_b.config({others:{overflowGroup:function(){return CS.sketch(d(d({},r["overflow-group"]()),{items:[o.asSpec()]}))}}})]),apis:{setGroups:function(e,n){t.builtGroups.set(j(n,e.getSystem().build)),WS(e,o,t)},refresh:function(e){return WS(e,o,t)},toggle:function(t){o.getOpt(t).each((function(t){qS.toggle(t)}))},reposition:function(t){o.getOpt(t).each((function(t){qS.reposition(t)}))},getOverflow:function(t){return o.getOpt(t).bind((function(t){return qS.getToolbar(t)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},reposition:function(t,e){t.reposition(e)},toggle:function(t,e){t.toggle(e)},getOverflow:function(t,e){return t.getOverflow(e)}}}),$S=function(t,e){return e.getAnimationRoot.fold((function(){return t.element()}),(function(e){return e(t)}))},GS=function(t){return t.dimension.property},YS=function(t,e){return t.dimension.getDimension(e)},KS=function(t,e){var n=$S(t,e);yi(n,[e.shrinkingClass,e.growingClass])},ZS=function(t,e){mi(t.element(),e.openClass),hi(t.element(),e.closedClass),Ni(t.element(),GS(e),"0px"),zi(t.element())},XS=function(t,e){mi(t.element(),e.closedClass),hi(t.element(),e.openClass),ji(t.element(),GS(e))},JS=function(t,e,n,r){n.setCollapsed(),Ni(t.element(),GS(e),YS(e,t.element())),zi(t.element()),KS(t,e),ZS(t,e),e.onStartShrink(t),e.onShrunk(t)},QS=function(t,e,n,r){var o=r.getOrThunk((function(){return YS(e,t.element())}));n.setCollapsed(),Ni(t.element(),GS(e),o),zi(t.element());var i=$S(t,e);mi(i,e.growingClass),hi(i,e.shrinkingClass),ZS(t,e),e.onStartShrink(t)},tT=function(t,e,n){var r=YS(e,t.element());("0px"===r?JS:QS)(t,e,n,b.some(r))},eT=function(t,e,n){var r=$S(t,e),o=gi(r,e.shrinkingClass),i=YS(e,t.element());XS(t,e);var a=YS(e,t.element());(o?function(){Ni(t.element(),GS(e),i),zi(t.element())}:function(){ZS(t,e)})(),mi(r,e.shrinkingClass),hi(r,e.growingClass),XS(t,e),Ni(t.element(),GS(e),a),n.setExpanded(),e.onStartGrow(t)},nT=function(t,e,n){var r=$S(t,e);return!0===gi(r,e.growingClass)},rT=function(t,e,n){var r=$S(t,e);return!0===gi(r,e.shrinkingClass)},oT=Object.freeze({__proto__:null,refresh:function(t,e,n){if(n.isExpanded()){ji(t.element(),GS(e));var r=YS(e,t.element());Ni(t.element(),GS(e),r)}},grow:function(t,e,n){n.isExpanded()||eT(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&tT(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&JS(t,e,n,b.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:nT,isShrinking:rT,isTransitioning:function(t,e,n){return!0===nT(t,e)||!0===rT(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?tT:eT)(t,e,n)},disableTransitions:KS}),iT=Object.freeze({__proto__:null,exhibit:function(t,e,n){var r=e.expanded;return ti(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Vt(e.dimension.property,"0px")})},events:function(t,e){return Br([Gr(rr(),(function(n,r){r.event().raw().propertyName===t.dimension.property&&(KS(n,t),e.isExpanded()&&ji(n.element(),t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))}))])}}),aT=[Re("closedClass"),Re("openClass"),Re("shrinkingClass"),Re("growingClass"),We("getAnimationRoot"),Xa("onShrunk"),Xa("onStartShrink"),Xa("onGrown"),Xa("onStartGrow"),Ze("expanded",!1),Ie("dimension",Se("property",{width:[es("property","width"),es("getDimension",(function(t){return fa(t)+"px"}))],height:[es("property","height"),es("getDimension",(function(t){return ra(t)+"px"}))]}))],sT=zs({fields:aT,name:"sliding",active:iT,apis:oT,state:Object.freeze({__proto__:null,init:function(t){var e=an(t.expanded);return Jo({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:a(e.set,!1),setExpanded:a(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),uT=o([Ka(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Xa("onOpened"),Xa("onClosed")].concat(LS())),lT=o([$c({factory:ES,schema:SS(),name:"primary"}),$c({factory:ES,schema:SS(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Fs([sT.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(e){sf(e,t,"overflow-button").each((function(t){Yh.off(t),Ih.focus(t)})),t.onClosed(e)},onGrown:function(e){Sh.focusIn(e),t.onOpened(e)},onStartGrow:function(e){sf(e,t,"overflow-button").each(Yh.on)}}),Sh.config({mode:"acyclic",onEscape:function(e){return sf(e,t,"overflow-button").each(Ih.focus),b.some(!0)}})])}}}),Gc({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Fs([Yh.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Gc({name:"overflow-group"})]),cT=function(t,e){sf(t,e,"overflow").each((function(n){MS(t,e,(function(t){var e=j(t,(function(t){return ta(t)}));ES.setGroups(n,e)})),sf(t,e,"overflow-button").each((function(t){sT.hasGrown(n)&&Yh.on(t)})),sT.refresh(n)}))},fT=kf({name:"SplitSlidingToolbar",configFields:uT(),partFields:lT(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:wc(t.splitToolbarBehaviours,[_b.config({others:{overflowGroup:function(t){return CS.sketch(d(d({},r["overflow-group"]()),{items:[Ap.sketch(d(d({},r["overflow-button"]()),{action:function(e){Nr(t,"alloy.toolbar.toggle")}}))]}))}}}),Nh("toolbar-toggle-events",[zr("alloy.toolbar.toggle",(function(e){sf(e,t,"overflow").each((function(n){cT(e,t),sT.toggleGrow(n)}))}))])]),apis:{setGroups:function(e,n){!function(e,n){var r=j(n,e.getSystem().build);t.builtGroups.set(r)}(e,n),cT(e,t)},refresh:function(e){return cT(e,t)},toggle:function(e){return function(t,e){sf(t,e,"overflow").each((function(n){cT(t,e),sT.toggleGrow(n)}))}(e,t)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)},refresh:function(t,e){t.refresh(e)},toggle:function(t,e){t.toggle(e)}}}),dT=o(Ro("toolbar-height-change")),hT=function(t){var e=t.title.fold((function(){return{}}),(function(t){return{attributes:{title:t}}}));return{dom:d({tag:"div",classes:["tox-toolbar__group"]},e),components:[CS.parts().items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Fs([Ly.config({}),Ih.config({})])}},pT=function(t){return CS.sketch(hT(t))},mT=function(t,e){var n=Yr((function(e){var n=j(t.initGroups,pT);ES.setGroups(e,n)}));return Fs([Bg(t.providers.isReadOnly),Mg(),Sh.config({mode:e,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Nh("toolbar-events",[n])])},gT=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":hT({title:b.none(),items:[]}),"overflow-button":fk({name:"more",icon:b.some("more-drawer"),disabled:!1,tooltip:b.some("More..."),primary:!1,borderless:!1},b.none(),t.providers)},splitToolbarBehaviours:mT(t,e)}},vT=function(t){var e=gT(t),n=VS.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return VS.sketch(d(d({},e),{lazySink:t.getSink,getOverflowBounds:function(){var e=t.moreDrawerData.lazyHeader().element(),n=Sa(e),r=ao(e),o=Sa(r),i=Math.max(r.dom().scrollHeight,o.height);return ka(n.x+4,o.y,n.width-8,i)},parts:d(d({},e.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},yT=function(t){var e=fT.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=fT.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),r=gT(t);return fT.sketch(d(d({},r),{components:[e,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(t){t.getSystem().broadcastOn([dT()],{type:"opened"})},onClosed:function(t){t.getSystem().broadcastOn([dT()],{type:"closed"})}}))},bT=function(t){var e=t.cyclicKeying?"cyclic":"acyclic";return ES.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===am.scrolling?["tox-toolbar--scrolling"]:[])},components:[ES.parts().groups({})],toolbarBehaviours:mT(t,e)})},wT=[en("disabled",!1),Ge("tooltip"),Ge("icon"),Ge("text"),nn("onSetup",(function(){return n}))],xT=ae([Fe("type"),ze("onAction")].concat(wT)),_T=function(t){return we("toolbarbutton",xT,t)},kT=[Ge("text"),Ge("tooltip"),Ge("icon"),ze("fetch"),nn("onSetup",(function(){return n}))],CT=ae(p([Fe("type")],kT)),ST=function(t){return we("menubutton",CT,t)},TT=ae([Fe("type"),Ge("tooltip"),Ge("icon"),Ge("text"),Ye("select"),ze("fetch"),nn("onSetup",(function(){return n})),tn("presets","normal",["normal","color","listpreview"]),Ze("columns",1),ze("onAction"),ze("onItemAction")]),ET=[en("active",!1)].concat(wT),OT=ae(ET.concat([Fe("type"),ze("onAction")])),AT=function(t){return we("ToggleButton",OT,t)},DT=ae([Fe("type"),Ie("items",(Vk=[ge([Fe("name"),Ue("items",Ae)]),Ae],{extract:function(t,e,n){for(var r=[],o=0,i=Vk;o<i.length;o++){var a=i[o].extract(t,e,n);if(a.stype===m.Value)return a;r.push(a)}return Zt(r)},toString:function(){return"oneOf("+j(Vk,(function(t){return t.toString()})).join(", ")+")"}}))].concat(wT)),NT=[nn("predicate",(function(){return!1})),tn("scope","node",["node","editor"]),tn("position","selection",["node","selection","line"])],PT=wT.concat([Ze("type","contextformbutton"),Ze("primary",!1),ze("onAction"),on("original",i)]),MT=ET.concat([Ze("type","contextformbutton"),Ze("primary",!1),ze("onAction"),on("original",i)]),LT=wT.concat([Ze("type","contextformbutton")]),RT=ET.concat([Ze("type","contextformtogglebutton")]),IT=Se("type",{contextformbutton:PT,contextformtogglebutton:MT}),BT=ae([Ze("type","contextform"),nn("initValue",(function(){return""})),Ge("label"),Ue("commands",IT),Ve("launch",Se("type",{contextformbutton:LT,contextformtogglebutton:RT}))].concat(NT)),FT=ae([Ze("type","contexttoolbar"),Fe("items")].concat(NT)),jT=Object.freeze({__proto__:null,getState:function(t,e,n){return n}}),zT=Object.freeze({__proto__:null,events:function(t,e){var n=function(n,r){t.updateState.each((function(t){var o=t(n,r);e.set(o)})),t.renderComponents.each((function(t){var o=t(r,e.get()),i=j(o,n.getSystem().build);Ml(n,i)}))};return Br([zr(lr(),(function(e,r){var o=r,i=t.channel;R(o.channels(),i)&&n(e,o.data())})),Yr((function(e,r){t.initialData.each((function(t){n(e,t)}))}))])}}),HT=Object.freeze({__proto__:null,init:function(){var t=an(b.none());return{readState:function(){return t.get().fold((function(){return"none"}),(function(t){return t}))},get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(b.none())}}}}),qT=[Re("channel"),We("renderComponents"),We("updateState"),We("initialData")],UT=zs({fields:qT,name:"reflecting",active:zT,apis:jT,state:HT}),WT=o([Re("toggleClass"),Re("fetch"),Qa("onExecute"),Ze("getHotspot",b.some),Ze("getAnchorOverrides",o({})),Tu(),Qa("onItemExecute"),We("lazySink"),Re("dom"),Xa("onOpen"),yc("splitDropdownBehaviours",[_b,Sh,Ih]),Ze("matchWidth",!1),Ze("useMinWidth",!1),Ze("eventOrder",{}),We("role")].concat(Lb())),VT=$c({factory:Ap,schema:[Re("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Fs([Ih.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each(Mr)},buttonBehaviours:Fs([Yh.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),$T=$c({factory:Ap,schema:[Re("dom")],name:"button",defaults:function(){return{buttonBehaviours:Fs([Ih.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(e){e.getSystem().getByUid(t.uid).each((function(n){t.onExecute(n,e)}))}}}}),GT=o([VT,$T,Yc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Re("text")],name:"aria-descriptor"}),Gc({schema:[Ya()],name:"menu",defaults:function(t){return{onExecute:function(e,n){e.getSystem().getByUid(t.uid).each((function(r){t.onItemExecute(r,e,n)}))}}}}),Cb()]),YT=kf({name:"SplitDropdown",configFields:WT(),partFields:GT(),factory:function(t,e,r,o){var i=function(t){Of.getCurrent(t).each((function(t){jf.highlightFirst(t),Sh.focusIn(t)}))},a=function(e){Ob(t,(function(t){return t}),e,o,i,nb.HighlightFirst).get(n)},s=function(e){var n=uf(e,t,"button");return Mr(n),b.some(!0)},u=d(d({},Br([Yr((function(e,n){sf(e,t,"aria-descriptor").each((function(t){var n=Ro("aria");Co(t.element(),"id",n),Co(e.element(),"aria-describedby",n)}))}))])),Zh(b.some(a))),l={repositionMenus:function(t){Yh.isOn(t)&&Mb(t)}};return{uid:t.uid,dom:t.dom,components:e,apis:l,eventOrder:d(d({},t.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:u,behaviours:wc(t.splitDropdownBehaviours,[_b.config({others:{sandbox:function(e){var n=uf(e,t,"arrow");return Pb(t,e,{onOpen:function(){Yh.on(n),Yh.on(e)},onClose:function(){Yh.off(n),Yh.off(e)}})}}}),Sh.config({mode:"special",onSpace:s,onEnter:s,onDown:function(t){return a(t),b.some(!0)}}),Ih.config({}),Yh.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(t,e){return t.repositionMenus(e)}}}),KT=function(t){return{isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},ZT=function(t){return{setActive:function(e){Yh.set(t,e)},isActive:function(){return Yh.isOn(t)},isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)}}},XT=function(t,e){return t.map((function(t){return{"aria-label":e.translate(t),title:e.translate(t)}})).getOr({})},JT=Ro("focus-button"),QT=["checklist","ordered-list"],tE=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],eE=function(t,e,n,r,o,i){var a,s=function(t){return Vm.isRtl()&&R(QT,t)?t+"-rtl":t},u=Vm.isRtl()&&t.exists((function(t){return R(tE,t)}));return{dom:{tag:"button",classes:["tox-tbtn"].concat(e.isSome()?["tox-tbtn--select"]:[]).concat(u?["tox-tbtn__icon-rtl"]:[]),attributes:XT(n,i)},components:Ug([t.map((function(t){return G_(s(t),i.icons)})),e.map((function(t){return K_(t,"tox-tbtn",i)}))]),eventOrder:(a={},a[Vn()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Fs([Bg(i.isReadOnly),Mg(),Nh("common-button-display-events",[zr(Vn(),(function(t,e){e.event().prevent(),Nr(t,JT)}))])].concat(r.map((function(n){return UT.config({channel:n,initialData:{icon:t,text:e},renderComponents:function(t,e){return Ug([t.icon.map((function(t){return G_(s(t),i.icons)})),t.text.map((function(t){return K_(t,"tox-tbtn",i)}))])}})})).toArray()).concat(o.getOr([])))}},nE=function(t,e,r){var o,i=an(n),a=eE(t.icon,t.text,t.tooltip,b.none(),b.none(),r);return Ap.sketch({dom:a.dom,components:a.components,eventOrder:X_,buttonBehaviours:Fs([Nh("toolbar-button-events",[(o={onAction:t.onAction,getApi:e.getApi},Xr((function(t,e){Fg(o,t)((function(e){Pr(t,Z_,{buttonApi:e}),o.onAction(e)}))}))),jg(e,i),zg(e,i)]),Bg((function(){return t.disabled||r.isReadOnly()})),Mg()].concat(e.toolbarButtonBehaviours))})},rE=function(t,e,n){return nE(t,{toolbarButtonBehaviours:[].concat(n.length>0?[Nh("toolbarButtonWith",n)]:[]),getApi:KT,onSetup:t.onSetup},e)},oE=function(t,e,n){return Mt(nE(t,{toolbarButtonBehaviours:[Dh.config({}),Yh.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(n.length>0?[Nh("toolbarToggleButtonWith",n)]:[]),getApi:ZT,onSetup:t.onSetup},e))},iE=function(t,e,n){return function(r){return ub((function(t){return e.fetch(t)})).map((function(o){return b.from(ay(Mt($v(Ro("menu-value"),o,(function(n){e.onItemAction(t(r),n)}),e.columns,e.presets,sm.CLOSE_ON_EXECUTE,e.select.getOr((function(){return!1})),n),{movement:Yv(e.columns,e.presets),menuBehaviours:Rm("auto"!==e.columns?[]:[Yr((function(t,n){Mm(t,4,hm(e.presets)).each((function(e){var n=e.numRows,r=e.numColumns;Sh.setGridSize(t,n,r)}))}))])})))}))}},aE=function(t,e){return zr(Z_,(function(n,r){var o=function(t){return{hide:function(){return Nr(t,pr())},getValue:function(){return vc.getValue(t)}}}(t.get(n));e.onAction(o,r.event().buttonApi())}))},sE=function(t,e,n){var r={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?function(t,e,n){var r=e.original,o=(r.primary,h(r,["primary"])),i=xe(AT(d(d({},o),{type:"togglebutton",onAction:function(){}})));return oE(i,n.backstage.shared.providers,[aE(t,e)])}(t,e,r):function(t,e,n){var r=e.original,o=(r.primary,h(r,["primary"])),i=xe(_T(d(d({},o),{type:"button",onAction:function(){}})));return rE(i,n.backstage.shared.providers,[aE(t,e)])}(t,e,r)},uE=function(t,e){var n=t.label.fold((function(){return{}}),(function(t){return{"aria-label":t}})),r=Dp(Qy.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:n,selectOnFocus:!0,inputBehaviours:Fs([Sh.config({mode:"special",onEnter:function(t){return o.findPrimary(t).map((function(t){return Mr(t),!0}))},onLeft:function(t,e){return e.cut(),b.none()},onRight:function(t,e){return e.cut(),b.none()}})])})),o=function(t,e,n){var r=j(e,(function(e){return Dp(sE(t,e,n))}));return{asSpecs:function(){return j(r,(function(t){return t.asSpec()}))},findPrimary:function(t){return nt(e,(function(e,n){return e.primary?b.from(r[n]).bind((function(e){return e.getOpt(t)})).filter(s(ig.isDisabled)):b.none()}))}}}(r,t.commands,e);return[{title:b.none(),items:[r.asSpec()]},{title:b.none(),items:o.asSpecs()}]},lE=uE,cE=function(t,n){var r=ba(e.window),o=Ca(un.fromDom(t.getContentAreaContainer())),i=hg(t)||pg(t)||gg(t),a=function(t,e){var n=Math.max(e.x,t.x),r=t.right-n,o=e.width-(n-e.x);return{x:n,width:Math.min(r,o)}}(o,r),s=a.x,u=a.width;if(t.inline&&!i)return ka(s,r.y,u,r.height);var l=function(t,e,n,r){var o=un.fromDom(t.getContainer()),i=Ma(o,".tox-editor-header").getOr(o),a=Ca(i),s=a.y>=e.bottom,u=r&&!s;if(t.inline&&u)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(t.inline&&!u)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var l=Ca(o);return u?{y:Math.max(a.bottom,n.y),bottom:Math.min(l.bottom,n.bottom)}:{y:Math.max(l.y,n.y),bottom:Math.min(a.y,n.bottom)}}(t,o,r,n.header.isPositionedAtTop()),c=l.y,f=l.bottom;return ka(s,c,u,f-c)},fE=function(t,e){var n=q(e,(function(e){return e.predicate(t.dom())})),r=H(n,(function(t){return"contexttoolbar"===t.type}));return{contextToolbars:r.pass,contextForms:r.fail}},dE=function(t,e,n){var r=fE(t,e);if(r.contextForms.length>0)return b.some({elem:t,toolbars:[r.contextForms[0]]});var o=fE(t,n);if(o.contextForms.length>0)return b.some({elem:t,toolbars:[o.contextForms[0]]});if(r.contextToolbars.length>0||o.contextToolbars.length>0){var i=function(t){if(t.length<=1)return t;var e=function(e){return I(t,(function(t){return t.position===e}))},n=function(e){return q(t,(function(t){return t.position===e}))},r=e("selection"),o=e("node");if(r||o){if(o&&r){var i=n("node"),a=j(n("selection"),(function(t){return d(d({},t),{position:"node"})}));return i.concat(a)}return n(r?"selection":"node")}return n("line")}(r.contextToolbars.concat(o.contextToolbars));return b.some({elem:t,toolbars:i})}return b.none()},hE=function(t,e,n){return t(e)?b.none():In(e,(function(t){var e=fE(t,n.inNodeScope),r=e.contextToolbars,o=e.contextForms,i=o.length>0?o:function(t){if(t.length<=1)return t;var e=function(e){return V(t,(function(t){return t.position===e}))};return e("selection").orThunk((function(){return e("node")})).orThunk((function(){return e("line")})).map((function(t){return t.position})).fold((function(){return[]}),(function(e){return q(t,(function(t){return t.position===e}))}))}(r);return i.length>0?b.some({elem:t,toolbars:i}):b.none()}),t)},pE=function(t,e){var n={},r=[],o=[],i={},a={},s=function(t,s){var u=xe(we("ContextForm",BT,s));n[t]=u,u.launch.map((function(n){i["form:"+t]=d(d({},s.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){e(u)}})})),"editor"===u.scope?o.push(u):r.push(u),a[t]=u},u=function(t,e){var n;(n=e,we("ContextToolbar",FT,n)).each((function(n){"editor"===e.scope?o.push(n):r.push(n),a[t]=n}))},l=yt(t);return z(l,(function(e){var n=t[e];"contextform"===n.type?s(e,n):"contexttoolbar"===n.type&&u(e,n)})),{forms:n,inNodeScope:r,inEditorScope:o,lookupTable:a,formNavigators:i}},mE=Ro("forward-slide"),gE=Ro("backward-slide"),vE=Ro("change-slide-event"),yE=function(t,e,n){var r=function(t,r,i,a){var s=e.shared.providers.translate(t.title);if("separator"===t.type)return b.some({type:"separator",text:s});if("submenu"===t.type){var u=Y(t.getStyleItems(),(function(t){return o(t,r,a)}));return 0===r&&u.length<=0?b.none():b.some({type:"nestedmenuitem",text:s,disabled:u.length<=0,getSubmenuItems:function(){return Y(t.getStyleItems(),(function(t){return o(t,r,a)}))}})}return b.some(d({type:"togglemenuitem",text:s,icon:t.icon,active:t.isSelected(a),disabled:i,onAction:n.onAction(t)},t.getStylePreview().fold((function(){return{}}),(function(t){return{meta:{style:t}}}))))},o=function(t,e,o){var i="formatter"===t.type&&n.isInvalid(t);return 0===e?i?[]:r(t,e,!1,o).toArray():r(t,e,i,o).toArray()},i=function(t){var e=n.getCurrentValue(),r=n.shouldHide?0:1;return Y(t,(function(t){return o(t,r,e)}))};return{validateItems:i,getFetch:function(t,e){return function(n){var r=e(),o=i(r);n(ak(o,sm.CLOSE_ON_EXECUTE,t,!1))}}}},bE=function(t,e,n){var r=n.dataset,o="basic"===r.type?function(){return j(r.data,(function(t){return VC(t,n.isSelectedFor,n.getPreviewFor)}))}:r.getData;return{items:yE(0,e,n),getStyleItems:o}},wE=function(t,e,r){var o=bE(0,e,r),i=o.items,a=o.getStyleItems;return tk({text:r.icon.isSome()?b.none():b.some(""),icon:r.icon,tooltip:b.from(r.tooltip),role:b.none(),fetch:i.getFetch(e,a),onSetup:function(e){return r.setInitialValue.each((function(t){return t(e.getComponent())})),r.nodeChangeHandler.map((function(n){var r=n(e.getComponent());return t.on("NodeChange",r),function(){t.off("NodeChange",r)}})).getOr(n)},getApi:function(t){return{getComponent:function(){return t}}},columns:1,presets:"normal",classes:r.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",e.shared)};!function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"}($k||($k={}));var xE,_E=function(t,e,n,r){return{type:"basic",data:function(t){return j(t,(function(t){var e=t,n=t,r=t.split("=");return r.length>1&&(e=r[0],n=r[1]),{title:e,format:n}}))}(function(t,e){return e===$k.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")}(t.getParam(e,n,"string"),r))}},kE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],CE=function(t){var e=function(e){var n=V(kE,(function(e){return t.formatter.match(e.format)})).fold((function(){return"left"}),(function(t){return t.title.toLowerCase()}));Pr(e,Q_,{icon:"align-"+n})},n=b.some((function(t){return function(){return e(t)}})),r=b.some((function(t){return e(t)})),i={type:"basic",data:kE};return{tooltip:"Align",icon:b.some("align-left"),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(t){return function(){return b.none()}},onAction:function(e){return function(){return V(kE,(function(t){return t.format===e.format})).each((function(e){return t.execCommand(e.command)}))}},setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},SE=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],TE=function(t){var e=t.split(/\s*,\s*/);return j(e,(function(t){return t.replace(/^['"]+|['"]+$/g,"")}))},EE=function(t){var e=function(){var e=function(t){return t?TE(t)[0]:""},n=t.queryCommandValue("FontName"),r=i.data,o=n?n.toLowerCase():"";return{matchOpt:V(r,(function(t){var n=t.format;return n.toLowerCase()===o||e(n).toLowerCase()===e(o).toLowerCase()})).orThunk((function(){return function(t){var e;return 0===t.indexOf("-apple-system")&&(e=TE(t.toLowerCase()),K(SE,(function(t){return e.indexOf(t.toLowerCase())>-1})))}(o)?b.from({title:"System Font",format:o}):b.none()})),font:n}},n=function(t){var n=e(),r=n.matchOpt,o=n.font,i=r.fold((function(){return o}),(function(t){return t.title}));Pr(t,J_,{text:i})},r=b.some((function(t){return function(){return n(t)}})),o=b.some((function(t){return n(t)})),i=_E(t,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",$k.SemiColon);return{tooltip:"Fonts",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getCurrentValue:function(){return e().matchOpt},getPreviewFor:function(t){return function(){return b.some({tag:"div",styles:-1===t.indexOf("dings")?{"font-family":t}:{}})}},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontName",!1,e.format)}))}},setInitialValue:o,nodeChangeHandler:r,dataset:i,shouldHide:!1,isInvalid:function(){return!1}}},OE={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},AE=function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t},DE=function(t){var e=function(){var e=b.none(),n=s.data,r=t.queryCommandValue("FontSize");if(r)for(var o=function(t){var o=AE(r,t),i=function(t){return Et(OE,t).getOr("")}(o);e=V(n,(function(t){return t.format===r||t.format===o||t.format===i}))},i=3;e.isNone()&&i>=0;i--)o(i);return{matchOpt:e,size:r}},n=o(o(b.none())),r=function(t){var n=e(),r=n.matchOpt,o=n.size,i=r.fold((function(){return o}),(function(t){return t.title}));Pr(t,J_,{text:i})},i=b.some((function(t){return function(){return r(t)}})),a=b.some((function(t){return r(t)})),s=_E(t,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",$k.Space);return{tooltip:"Font sizes",icon:b.none(),isSelectedFor:function(t){return function(e){return e.exists((function(e){return e.format===t}))}},getPreviewFor:n,getCurrentValue:function(){return e().matchOpt},onAction:function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("FontSize",!1,e.format)}))}},setInitialValue:a,nodeChangeHandler:i,dataset:s,shouldHide:!1,isInvalid:function(){return!1}}},NE=function(t,e,n){var r=e();return nt(n,(function(e){return V(r,(function(n){return t.formatter.matchNode(e,n.format)}))})).orThunk((function(){return t.formatter.match("p")?b.some({title:"Paragraph",format:"p"}):b.none()}))},PE=function(t){var e=t.selection.getStart(!0)||t.getBody();return t.dom.getParents(e,(function(){return!0}),t.getBody())},ME=function(t,e){return function(n){var r=an(b.none()),o=function(){n.setActive(t.formatter.match(e));var o=t.formatter.formatChanged(e,n.setActive).unbind;r.set(b.some(o))};return t.initialized?o():t.on("init",o),function(){return r.get().each((function(t){return t()}))}}},LE=function(t){return function(e){return function(){t.undoManager.transact((function(){t.focus(),t.execCommand("mceToggleFormat",!1,e.format)}))}}},RE=function(t){var e=function(e,n){var r=NE(t,(function(){return i.data}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));Pr(n,J_,{text:r})},n=b.some((function(t){return function(n){return e(n.parents,t)}})),r=b.some((function(n){var r=PE(t);e(r,n)})),i=_E(t,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",$k.SemiColon);return{tooltip:"Blocks",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))})}},onAction:LE(t),setInitialValue:r,nodeChangeHandler:n,dataset:i,shouldHide:!1,isInvalid:function(e){return!t.formatter.canApply(e.format)}}},IE=function(t,e){var n=function(e,n){var r=function(t){var e=t.items;return void 0!==e&&e.length>0?Y(e,r):[{title:t.title,format:t.format}]},o=Y(WC(t),r),i=NE(t,(function(){return o}),e).fold((function(){return"Paragraph"}),(function(t){return t.title}));Pr(n,J_,{text:i})},r=b.some((function(t){return function(e){return n(e.parents,t)}})),i=b.some((function(e){var r=PE(t);n(r,e)}));return{tooltip:"Formats",icon:b.none(),isSelectedFor:function(e){return function(){return t.formatter.match(e)}},getCurrentValue:o(b.none()),getPreviewFor:function(e){return function(){var n=t.formatter.get(e);return void 0!==n?b.some({tag:n.length>0&&(n[0].inline||n[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(e))}):b.none()}},onAction:LE(t),setInitialValue:i,nodeChangeHandler:r,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(e){return!t.formatter.canApply(e.format)},dataset:e}},BE=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],FE=function(t,e){return function(n,r,o){var i=t(n).mapError((function(t){return ke(t)})).getOrDie();return e(i,r,o)}},jE={button:FE(_T,(function(t,e){return n=t,r=e.backstage.shared.providers,rE(n,r,[]);var n,r})),togglebutton:FE(AT,(function(t,e){return n=t,r=e.backstage.shared.providers,oE(n,r,[]);var n,r})),menubutton:FE(ST,(function(t,e){return uk(t,"tox-tbtn",e.backstage,b.none())})),splitbutton:FE((function(t){return we("SplitButton",TT,t)}),(function(t,e){return function(t,e){var r,o=Ro("channel-update-split-dropdown-display"),i=function(t){return{isDisabled:function(){return ig.isDisabled(t)},setDisabled:function(e){return ig.set(t,e)},setIconFill:function(e,n){Ma(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Co(t,"fill",n)}))},setIconStroke:function(e,n){Ma(t.element(),'svg path[id="'+e+'"], rect[id="'+e+'"]').each((function(t){Co(t,"stroke",n)}))},setActive:function(e){Co(t.element(),"aria-pressed",e),Ma(t.element(),"span").each((function(n){t.getSystem().getByDom(n).each((function(t){return Yh.set(t,e)}))}))},isActive:function(){return Ma(t.element(),"span").exists((function(e){return t.getSystem().getByDom(e).exists(Yh.isOn)}))}}},a=an(n),s={getApi:i,onSetup:t.onSetup};return YT.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:d({"aria-pressed":!1},XT(t.tooltip,e.providers))},onExecute:function(e){t.onAction(i(e))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Fs([Ig(e.providers.isReadOnly),Mg(),Nh("split-dropdown-events",[zr(JT,Ih.focus),jg(s,a),zg(s,a)]),jb.config({})]),eventOrder:(r={},r[xr()]=["alloy.base.behaviour","split-dropdown-events"],r),toggleClass:"tox-tbtn--enabled",lazySink:e.getSink,fetch:iE(i,t,e.providers),parts:{menu:bm(0,t.columns,t.presets)},components:[YT.parts().button(eE(t.icon,t.text,b.none(),b.some(o),b.some([Yh.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),e.providers)),YT.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Pp("chevron-down",e.providers.icons)},buttonBehaviours:Fs([Ig(e.providers.isReadOnly),Mg()])}),YT.parts()["aria-descriptor"]({text:e.providers.translate("To open the popup, press Shift+Enter")})]})}(t,e.backstage.shared)})),grouptoolbarbutton:FE((function(t){return we("GroupToolbarButton",DT,t)}),(function(t,e,n){var r,o=n.ui.registry.getAll().buttons,i=((r={})[Cu]=e.backstage.shared.header.isPositionedAtTop()?Fa.TopToBottom:Fa.BottomToTop,r);switch(yg(n)){case am.floating:return function(t,e,n,r){var o=e.shared;return qS.sketch({lazySink:o.getSink,fetch:function(){return ub((function(e){e(j(n(t.items),pT))}))},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:eE(t.icon,t.text,t.tooltip,b.none(),b.none(),o.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:r}}}})}(t,e.backstage,(function(t){return UE(n,{buttons:o,toolbar:t,allowToolbarGroups:!1},e,b.none())}),i);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}})),styleSelectButton:function(t,e){return function(t,e){var n=d({type:"advanced"},e.styleselect);return wE(t,e,IE(t,n))}(t,e.backstage)},fontsizeSelectButton:function(t,e){return function(t,e){return wE(t,e,DE(t))}(t,e.backstage)},fontSelectButton:function(t,e){return function(t,e){return wE(t,e,EE(t))}(t,e.backstage)},formatButton:function(t,e){return function(t,e){return wE(t,e,RE(t))}(t,e.backstage)},alignMenuButton:function(t,e){return function(t,e){return wE(t,e,CE(t))}(t,e.backstage)}},zE={styleselect:jE.styleSelectButton,fontsizeselect:jE.fontsizeSelectButton,fontselect:jE.fontSelectButton,formatselect:jE.formatButton,align:jE.alignMenuButton},HE=function(t){var n,r=t.toolbar,o=t.buttons;return!1===r?[]:void 0===r||!0===r?function(t){var e=j(BE,(function(e){var n=q(e.items,(function(e){return Ot(t,e)||Ot(zE,e)}));return{name:e.name,items:n}}));return q(e,(function(t){return t.items.length>0}))}(o):_(r)?(n=r.split("|"),j(n,(function(t){return{items:t.trim().split(" ")}}))):function(t){return D(t,(function(t){return Ot(t,"name")&&Ot(t,"items")}))}(r)?r:(e.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},qE=function(t,n,r,o,i,a){return Et(n,r.toLowerCase()).orThunk((function(){return a.bind((function(t){return nt(t,(function(t){return Et(n,t+r.toLowerCase())}))}))})).fold((function(){return Et(zE,r.toLowerCase()).map((function(e){return e(t,i)})).orThunk((function(){return b.none()}))}),(function(n){return"grouptoolbarbutton"!==n.type||o?function(t,n,r){return Et(jE,t.type).fold((function(){return e.console.error("skipping button defined by",t),b.none()}),(function(e){return b.some(e(t,n,r))}))}(n,i,t):(e.console.warn("Ignoring the '"+r+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),b.none())}))},UE=function(t,e,n,r){var o=HE(e),i=j(o,(function(o){var i=Y(o.items,(function(o){return 0===o.trim().length?[]:qE(t,e.buttons,o,e.allowToolbarGroups,n,r).toArray()}));return{title:b.from(t.translate(o.name)),items:i}}));return q(i,(function(t){return t.items.length>0}))},WE={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},VE={maxHeightFunction:gu(),maxWidthFunction:xS()},$E={onLtr:function(){return[Ss,Ts,ks,xs,Cs,_s,Tp,Ep,Cp,_p,Sp,kp]},onRtl:function(){return[Ss,Ts,Cs,_s,ks,xs,Tp,Ep,Sp,kp,Cp,_p]}},GE={onLtr:function(){return[Ts,xs,_s,ks,Cs,Ss,Tp,Ep,Cp,_p,Sp,kp]},onRtl:function(){return[Ts,_s,xs,Cs,ks,Ss,Tp,Ep,Sp,kp,Cp,_p]}},YE=function(t,e,n,r){var o,i,a=An().deviceType.isTouch,s=Qi((o={sink:n,onEscape:function(){return t.focus(),b.some(!0)}},i=an([]),gp.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){i.set([]),gp.getContent(t).each((function(t){ji(t.element(),"visibility")})),mi(t.element(),"tox-pop--resizing"),ji(t.element(),"width")},inlineBehaviours:Fs([Nh("context-toolbar-events",[Gr(rr(),(function(t,e){mi(t.element(),"tox-pop--resizing"),ji(t.element(),"width")})),zr(vE,(function(t,e){ji(t.element(),"width");var n=fa(t.element());gp.setContent(t,e.event().contents()),hi(t.element(),"tox-pop--resizing");var r=fa(t.element());Ni(t.element(),"width",n+"px"),gp.getContent(t).each((function(n){e.event().focus().bind((function(e){return Ys(e),Zs(t.element())})).orThunk((function(){return Sh.focusIn(n),Ks()}))})),Op.setTimeout((function(){Ni(t.element(),"width",r+"px")}),0)})),zr(mE,(function(t,e){gp.getContent(t).each((function(t){i.set(i.get().concat([{bar:t,focus:Ks()}]))})),Pr(t,vE,{contents:e.event().forwardContents(),focus:b.none()})})),zr(gE,(function(t,e){tt(i.get()).each((function(e){i.set(i.get().slice(0,i.get().length-1)),Pr(t,vE,{contents:ta(e.bar),focus:e.focus})}))}))]),Sh.config({mode:"special",onEscape:function(t){return tt(i.get()).fold((function(){return o.onEscape()}),(function(e){return Nr(t,gE),b.some(!0)}))}})]),lazySink:function(){return it.value(o.sink)}}))),u=function(){return cE(t,r.backstage.shared)},l=function(){if(a()&&r.backstage.isContextMenuOpen())return!0;var e,n,o,i,s,l,c=(e=p.get().map((function(t){return t.getBoundingClientRect()})).getOrThunk((function(){return t.selection.getRng().getBoundingClientRect()})),n=t.inline?ga().top():Sa(un.fromDom(t.getBody())).y,{y:e.top+n,bottom:e.bottom+n}),f=u();return o=c.y,i=c.bottom,s=f.y,l=f.bottom,!(Math.max(o,s)<=Math.min(i,l))},c=function(){gp.hide(s)},f=function(){h.get().each((function(t){var e=s.element();ji(e,"display"),l()?Ni(e,"display","none"):Al.positionWithinBounds(n,t,s,b.some(u()))}))},h=an(b.none()),p=an(b.none()),m=an(null),g=function(e){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[e],behaviours:Fs([Sh.config({mode:"acyclic"}),Nh("pop-dialog-wrap-events",[Yr((function(e){t.shortcuts.add("ctrl+F9","focus statusbar",(function(){return Sh.focusIn(e)}))})),Kr((function(e){t.shortcuts.remove("ctrl+F9")}))])])}},v=Rt((function(){return pE(e,(function(t){var e=y([t]);Pr(s,mE,{forwardContents:g(e)})}))})),y=function(e){var n=t.ui.registry.getAll().buttons,o=v(),i=d(d({},n),o.formNavigators),a=yg(t)===am.scrolling?am.scrolling:am.default,s=G(j(e,(function(e){return"contexttoolbar"===e.type?function(e,n){return UE(t,{buttons:e,toolbar:n.items,allowToolbarGroups:!1},r,b.some(["form:"]))}(i,e):function(t,e){return lE(t,e)}(e,r.backstage.shared.providers)})));return bT({type:a,uid:Ro("context-toolbar"),initGroups:s,onEscape:b.none,cyclicKeying:!0,providers:r.backstage.shared.providers})};t.on("contexttoolbar-show",(function(e){var n=v();Et(n.lookupTable,e.toolbarKey).each((function(n){x([n],e.target===t?b.none():b.some(e)),gp.getContent(s).each(Sh.focusIn)}))}));var w=function(t,e){var n="node"===t?r.backstage.shared.anchors.node(e):r.backstage.shared.anchors.cursor();return Mt(n,function(t,e){return"line"===t?{bubble:wu(12,0,WE),layouts:{onLtr:function(){return[Es]},onRtl:function(){return[Os]}},overrides:VE}:{bubble:wu(0,12,WE),layouts:e?GE:$E,overrides:VE}}(t,a()))},x=function(t,e){if(k(),!a()||!r.backstage.isContextMenuOpen()){var n=y(t),o=e.map(un.fromDom),i=w(t[0].position,o);h.set(b.some(i)),p.set(e);var c=s.element();ji(c,"display"),gp.showWithinBounds(s,i,g(n),(function(){return b.some(u())})),l()&&Ni(c,"display","none")}},_=function(){t.hasFocus()&&function(t,e){var n=un.fromDom(e.getBody()),r=function(t){return Pn(t,n)},o=un.fromDom(e.selection.getNode());return function(t){return!r(t)&&!Ln(n,t)}(o)?b.none():dE(o,t.inNodeScope,t.inEditorScope).orThunk((function(){return hE(r,o,t)}))}(v(),t).fold((function(){h.set(b.none()),gp.hide(s)}),(function(t){x(t.toolbars,b.some(t.elem.dom()))}))},k=function(){var t=m.get();null!==t&&(Op.clearTimeout(t),m.set(null))},C=function(t){k(),m.set(t)};t.on("init",(function(){t.on("contexttoolbar-hide",c),t.on("ScrollContent ScrollWindow longpress",f),t.on("click keyup focus SetContent ObjectResized ResizeEditor",(function(){C(Op.setEditorTimeout(t,_,0))})),t.on("focusout",(function(e){Op.setEditorTimeout(t,(function(){Zs(n.element()).isNone()&&Zs(s.element()).isNone()&&(h.set(b.none()),gp.hide(s))}),0)})),t.on("SwitchMode",(function(){t.mode.isReadOnly()&&(h.set(b.none()),gp.hide(s))})),t.on("NodeChange",(function(e){Zs(s.element()).fold((function(){C(Op.setEditorTimeout(t,_,0))}),(function(t){}))}))}))},KE=mf,ZE=Xc,XE=o([Ze("shell",!1),Re("makeItem"),Ze("setupItem",n),xc("listBehaviours",[Dh])]),JE=Yc({name:"items",overrides:function(){return{behaviours:Fs([Dh.config({})])}}}),QE=o([JE]),tO=o("CustomList"),eO=kf({name:tO(),configFields:XE(),partFields:QE(),factory:function(t,n,r,o){var i=t.shell?{behaviours:[Dh.config({})],components:[]}:{behaviours:[],components:n},a=function(e){return t.shell?b.some(e):sf(e,t,"items")};return{uid:t.uid,dom:t.dom,components:i.components,behaviours:wc(t.listBehaviours,i.behaviours),apis:{setItems:function(n,r){a(n).fold((function(){throw e.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")}),(function(e){var o=Dh.contents(e),i=r.length,a=i-o.length,s=a>0?B(a,(function(){return t.makeItem()})):[],u=o.slice(i);z(u,(function(t){return Dh.remove(e,t)})),z(s,(function(t){return Dh.append(e,t)}));var l=Dh.contents(e);z(l,(function(e,o){t.setupItem(n,e,r[o],o)}))}))}}}},apis:{setItems:function(t,e,n){t.setItems(e,n)}}}),nO=function(t){return(Ii(t,"position").is("fixed")?b.none():lo(t)).orThunk((function(){var e=un.fromTag("span");return uo(t).bind((function(t){go(t,e);var n=lo(e);return bo(e),n}))}))},rO=function(t){return nO(t).map(ua).getOrThunk((function(){return aa(0,0)}))},oO=Dt([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),iO=function(t,e){var n=t.element();hi(n,e.transitionClass),mi(n,e.fadeOutClass),hi(n,e.fadeInClass),e.onShow(t)},aO=function(t,e){var n=t.element();hi(n,e.transitionClass),mi(n,e.fadeInClass),hi(n,e.fadeOutClass),e.onHide(t)},sO=function(t,e,n){return K(t,(function(t){switch(t){case"bottom":return function(t,e){return t.bottom<=e.bottom}(e,n);case"top":return function(t,e){return t.y>=e.y}(e,n)}}))},uO=function(t,e){return e.getInitialPosition().map((function(e){return ka(e.bounds.x,e.bounds.y,fa(t),ra(t))}))},lO=function(t,e,n){return n.getInitialPosition().bind((function(r){switch(n.setInitialPosition(b.none()),r.position){case"static":return b.some(oO.static());case"absolute":var o=nO(t).map(Ca).getOrThunk((function(){return Ca(Ei())}));return b.some(oO.absolute(Js("absolute",Et(r.style,"left").map((function(t){return e.x-o.x})),Et(r.style,"top").map((function(t){return e.y-o.y})),Et(r.style,"right").map((function(t){return o.right-e.right})),Et(r.style,"bottom").map((function(t){return o.bottom-e.bottom})))));default:return b.none()}}))},cO=function(t,e,n){var r=Ca(t);if(sO(n.getModes(),r,e))return b.none();!function(t,e,n){n.setInitialPosition(b.some({style:Bi(t),position:Li(t,"position")||"static",bounds:e}))}(t,r,n);var o=Ta(),i=r.x-o.x,a=e.y-o.y,s=o.bottom-e.bottom,u=r.y<=e.y;return b.some(oO.fixed(Js("fixed",b.some(i),u?b.some(a):b.none(),b.none(),u?b.none():b.some(s))))},fO=function(t,e,n){var r=t.element();return Ii(r,"position").is("fixed")?function(t,e,n){return uO(t,n).filter((function(t){return sO(n.getModes(),t,e)})).bind((function(e){return lO(t,e,n)}))}(r,e,n):cO(r,e,n)},dO=function(t,e){z(["left","right","top","bottom","position"],(function(e){return ji(t.element(),e)})),e.onUndocked(t)},hO=function(t,e,n){Qs(t.element(),n),("fixed"===n.position()?e.onDocked:e.onUndocked)(t)},pO=function(t,e,n,r,o){void 0===o&&(o=!1),e.contextual.each((function(e){e.lazyContext(t).each((function(i){var a=function(t,e){return t.y<e.bottom&&t.bottom>e.y}(i,r);a!==n.isVisible()&&(n.setVisible(a),o&&!a?(vi(t.element(),[e.fadeOutClass]),e.onHide(t)):(a?iO:aO)(t,e))}))}))},mO=function(t,e,r){var o=t.element();r.setDocked(!1),function(t,e){var n=t.element();return uO(n,e).bind((function(t){return lO(n,t,e)}))}(t,r).each((function(r){r.fold((function(){return dO(t,e)}),(function(n){return hO(t,e,n)}),n)})),r.setVisible(!0),e.contextual.each((function(e){yi(o,[e.fadeInClass,e.fadeOutClass,e.transitionClass]),e.onShow(t)})),gO(t,e,r)},gO=function(t,e,n){t.getSystem().isConnected()&&function(t,e,n){var r=e.lazyViewport(t),o=n.isDocked();o&&pO(t,e,n,r),fO(t,r,n).each((function(i){n.setDocked(!o),i.fold((function(){return dO(t,e)}),(function(n){return hO(t,e,n)}),(function(o){pO(t,e,n,r,!0),hO(t,e,o)}))}))}(t,e,n)},vO=function(t,e,n){n.isDocked()&&mO(t,e,n)},yO=Object.freeze({__proto__:null,refresh:gO,reset:vO,isDocked:function(t,e,n){return n.isDocked()},getModes:function(t,e,n){return n.getModes()},setModes:function(t,e,n,r){return n.setModes(r)}}),bO=Object.freeze({__proto__:null,events:function(t,e){return Br([Gr(rr(),(function(n,r){t.contextual.each((function(t){gi(n.element(),t.transitionClass)&&(yi(n.element(),[t.transitionClass,t.fadeInClass]),(e.isVisible()?t.onShown:t.onHidden)(n));r.stop()}))})),zr(br(),(function(n,r){gO(n,t,e)})),zr(wr(),(function(n,r){vO(n,t,e)}))])}}),wO=[Ke("contextual",[Fe("fadeInClass"),Fe("fadeOutClass"),Fe("transitionClass"),ze("lazyContext"),Xa("onShow"),Xa("onShown"),Xa("onHide"),Xa("onHidden")]),nn("lazyViewport",Ta),function(t,e,n){return Xe(t,e,se(n))}("modes",["top","bottom"],Ae),Xa("onDocked"),Xa("onUndocked")],xO=Object.freeze({__proto__:null,init:function(t){var e=an(!1),n=an(!0),r=an(b.none()),o=an(t.modes);return Jo({isDocked:e.get,setDocked:e.set,getInitialPosition:r.get,setInitialPosition:r.set,isVisible:n.get,setVisible:n.set,getModes:o.get,setModes:o.set,readState:function(){return"docked:  "+e.get()+", visible: "+n.get()+", modes: "+o.get().join(",")}})}}),_O=zs({fields:wO,name:"docking",active:bO,apis:yO,state:xO}),kO={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},CO=function(t){var e=t.element();uo(e).each((function(n){var r="padding-"+_O.getModes(t)[0];if(_O.isDocked(t)){var o=fa(n);Ni(e,"width",o+"px"),Ni(n,r,function(t){return oa(t)+(parseInt(Li(t,"margin-top"),10)||0)+(parseInt(Li(t,"margin-bottom"),10)||0)}(e)+"px")}else ji(e,"width"),ji(n,r)}))},SO=function(t,e){e?(mi(t,kO.fadeOutClass),vi(t,[kO.transitionClass,kO.fadeInClass])):(mi(t,kO.fadeInClass),vi(t,[kO.fadeOutClass,kO.transitionClass]))},TO=function(t,e){var n=un.fromDom(t.getContainer());e?(hi(n,"tox-tinymce--toolbar-sticky-on"),mi(n,"tox-tinymce--toolbar-sticky-off")):(hi(n,"tox-tinymce--toolbar-sticky-off"),mi(n,"tox-tinymce--toolbar-sticky-on"))},EO=function(t,e){var n,r=an(b.none()),o=e.getSink,i=function(t){o().each((function(e){return t(e.element())}))},a=function(e){t.inline||CO(e),TO(t,_O.isDocked(e)),e.getSystem().broadcastOn([Ql()],{}),o().each((function(t){return t.getSystem().broadcastOn([Ql()],{})}))},s=t.inline?[]:[$s.config({channels:(n={},n[dT()]={onReceive:CO},n)})];return p([Ih.config({}),_O.config({contextual:d({lazyContext:function(e){var n,r,o=oa(e.element()),i=t.inline?t.getContentAreaContainer():t.getContainer(),a=Ca(un.fromDom(i)),s=a.height-o,u=a.y+(n=e,r="top",R(_O.getModes(n),r)?0:o);return b.some(ka(a.x,u,a.width,s))},onShow:function(){i((function(t){return SO(t,!0)}))},onShown:function(t){i((function(t){return yi(t,[kO.transitionClass,kO.fadeInClass])})),r.get().each((function(e){var n,o,i;n=t.element(),i=oo(o=e),Ks(i).filter((function(t){return!Pn(o,t)})).filter((function(t){return Pn(t,un.fromDom(i.dom().body))||Ln(n,t)})).each((function(){return Ys(o)})),r.set(b.none())}))},onHide:function(t){r.set(function(t,e){return Zs(t).orThunk((function(){return e().toOption().bind((function(t){return Zs(t.element())}))}))}(t.element(),o)),i((function(t){return SO(t,!1)}))},onHidden:function(){i((function(t){return yi(t,[kO.transitionClass])}))}},kO),modes:[e.header.getDockingMode()],onDocked:a,onUndocked:a})],s)},OO=Object.freeze({__proto__:null,setup:function(t,e,n){t.inline||(e.header.isPositionedAtTop()||t.on("ResizeEditor",(function(){n().each(_O.reset)})),t.on("ResizeWindow ResizeEditor",(function(){n().each(CO)})),t.on("SkinLoaded",(function(){n().each((function(t){_O.isDocked(t)?_O.reset(t):_O.refresh(t)}))})),t.on("FullscreenStateChanged",(function(){n().each(_O.reset)}))),t.on("AfterScrollIntoView",(function(t){n().each((function(e){_O.refresh(e);var n=e.element();bd(n)&&function(t,e){var n=oo(e),r=n.dom().defaultView.innerHeight,o=ga(n),i=un.fromDom(t.elm),a=Sa(i),s=ra(i),u=a.y,l=u+s,c=ua(e),f=ra(e),d=c.top(),h=d+f,p=Math.abs(d-o.top())<2,m=Math.abs(h-(o.top()+r))<2;if(p&&u<h)va(o.left(),u-f,n);else if(m&&l>d){var g=u-r+s+f;va(o.left(),g,n)}}(t,n)}))})),t.on("PostRender",(function(){TO(t,!1)}))},isDocked:function(t){return t().map(_O.isDocked).getOr(!1)},getBehaviours:EO}),AO=n,DO=l,NO=o([]),PO=Object.freeze({__proto__:null,setup:AO,isDocked:DO,getBehaviours:NO}),MO=_f({factory:function(t,e){var n={focus:Sh.focusIn,setMenus:function(t,n){var r=j(n,(function(t){var n={type:"menubutton",text:t.text,fetch:function(e){e(t.getItems())}},r=ST(n).mapError((function(t){return ke(t)})).getOrDie();return uk(r,"tox-mbtn",e.backstage,b.some("menuitem"))}));Dh.set(t,r)}};return{uid:t.uid,dom:t.dom,components:[],behaviours:Fs([Dh.config({}),Nh("menubar-events",[Yr((function(e){t.onSetup(e)})),zr(Kn(),(function(t,e){Ma(t.element(),".tox-mbtn--active").each((function(n){La(e.event().target(),".tox-mbtn").each((function(e){Pn(n,e)||t.getSystem().getByDom(n).each((function(n){t.getSystem().getByDom(e).each((function(t){Bb.expand(t),Bb.close(n),Ih.focus(t)}))}))}))}))})),zr(Sr(),(function(t,e){e.event().prevFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(n){e.event().newFocus().bind((function(e){return t.getSystem().getByDom(e).toOption()})).each((function(t){Bb.isOpen(n)&&(Bb.expand(t),Bb.close(n))}))}))}))]),Sh.config({mode:"flow",selector:".tox-mbtn",onEscape:function(e){return t.onEscape(e),b.some(!0)}}),Ly.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Re("dom"),Re("uid"),Re("onEscape"),Re("backstage"),Ze("onSetup",n)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),LO=[yc("slotBehaviours",[])],RO=function(t){return"<alloy.field."+t+">"},IO=function(t,e){var n,r=function(e){return ff(t)},o=function(e,n){return function(r,o){return sf(r,t,o).map((function(t){return e(t,o)})).getOr(n)}},i=function(t,e){return"true"!==So(t.element(),"aria-hidden")},a=o(i,!1),s=o((function(t,e){if(i(t)){var n=t.element();Ni(n,"display","none"),Co(n,"aria-hidden","true"),Pr(t,Tr(),{name:e,visible:!1})}})),u=(n=s,function(t,e){z(e,(function(e){return n(t,e)}))}),l=o((function(t,e){if(!i(t)){var n=t.element();ji(n,"display"),Oo(n,"aria-hidden"),Pr(t,Tr(),{name:e,visible:!0})}})),c={getSlotNames:r,getSlot:function(e,n){return sf(e,t,n)},isShowing:a,hideSlot:s,hideAllSlots:function(t){return u(t,r())},showSlot:l};return{uid:t.uid,dom:t.dom,components:e,behaviours:bc(t.slotBehaviours),apis:c}},BO=xt({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},(function(t){return Zo(t)})),FO=d(d({},BO),{sketch:function(t){var e=function(){var t=[];return{slot:function(e,n){return t.push(e),ef("container",RO(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),o=j(r,(function(t){return $c({name:t,pname:RO(t)})}));return vf("container",LO,o,IO,n)}}),jO=ae([Ge("icon"),Ge("tooltip"),nn("onShow",n),nn("onHide",n),nn("onSetup",(function(){return n}))]),zO=function(t){return{element:function(){return t.element().dom()}}},HO=function(t,e){var r=j(yt(e),(function(t){var n=e[t],r=xe(function(t){return we("sidebar",jO,t)}(n));return{name:t,getApi:zO,onSetup:r.onSetup,onShow:r.onShow,onHide:r.onHide}}));return j(r,(function(e){var o=an(n);return t.slot(e.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Rm([jg(e,o),zg(e,o),zr(Tr(),(function(t,e){var n=e.event();V(r,(function(t){return t.name===n.name()})).each((function(e){(n.visible()?e.onShow:e.onHide)(e.getApi(t))}))}))])})}))},qO=function(t){return FO.sketch((function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:HO(e,t),slotBehaviours:Rm([Yr((function(t){return FO.hideAllSlots(t)}))])}}))},UO=function(t){return Of.getCurrent(t).bind((function(t){return sT.isGrowing(t)||sT.hasGrown(t)?Of.getCurrent(t).bind((function(t){return V(FO.getSlotNames(t),(function(e){return FO.isShowing(t,e)}))})):b.none()}))},WO=Ro("FixSizeEvent"),VO=Ro("AutoSizeEvent"),$O=function(t){var e=un.fromHtml(t),n=co(e),r=function(t){var e=void 0!==t.dom().attributes?t.dom().attributes:[];return W(e,(function(t,e){var n;return"class"===e.name?t:d(d({},t),((n={})[e.name]=e.value,n))}),{})}(e),o=function(t){return Array.prototype.slice.call(t.dom().classList,0)}(e),i=0===n.length?{}:{innerHtml:xo(e)};return d({tag:Jr(e),classes:o,attributes:r},i)},GO=function(t){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:$O('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Fs([Sh.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Ih.config({})])}},YO=function(t,e,n){var r=an(!1),o=an(b.none()),i=function(t){t!==r.get()&&(!function(t,e,n){var r=t.element();!0===e?(Dh.set(t,[GO(n)]),ji(r,"display"),Oo(r,"aria-hidden")):(Dh.set(t,[]),Ni(r,"display","none"),Co(r,"aria-hidden","true"))}(e(),t,n.providers),r.set(t))};t.on("ProgressState",(function(e){if(o.get().each(Op.clearTimeout),A(e.time)){var n=Op.setEditorTimeout(t,(function(){return i(e.state)}),e.time);o.set(b.some(n))}else i(e.state),o.set(b.none())}))},KO=ZE.optional({factory:MO,name:"menubar",schema:[Re("backstage")]}),ZO=ZE.optional({factory:{sketch:function(t){return eO.sketch({uid:t.uid,dom:t.dom,listBehaviours:Fs([Sh.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return bT({type:t.type,uid:Ro("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return b.none()}})},setupItem:function(t,e,n,r){ES.setGroups(e,n)},shell:!0})}},name:"multiple-toolbar",schema:[Re("dom"),Re("onEscape")]}),XO=ZE.optional({factory:{sketch:function(t){return function(t){return t.type===am.sliding?yT:t.type===am.floating?vT:bT}(t)({type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),b.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes})}},name:"toolbar",schema:[Re("dom"),Re("onEscape"),Re("getSink")]}),JO=ZE.optional({factory:{sketch:function(t){var e=t.editor,n=t.sticky?EO:NO;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Fs(n(e,t.sharedBackstage))}}},name:"header",schema:[Re("dom")]}),QO=ZE.optional({name:"socket",schema:[Re("dom")]}),tA=ZE.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Fs([Ly.config({}),Ih.config({}),sT.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){Of.getCurrent(t).each(FO.hideAllSlots),Nr(t,VO)},onGrown:function(t){Nr(t,VO)},onStartGrow:function(t){Pr(t,WO,{width:Ii(t.element(),"width").getOr("")})},onStartShrink:function(t){Pr(t,WO,{width:fa(t.element())+"px"})}}),Dh.config({}),Of.config({find:function(t){var e=Dh.contents(t);return Q(e)}})])}],behaviours:Fs([zx(0),Nh("sidebar-sliding-events",[zr(WO,(function(t,e){Ni(t.element(),"width",e.event().width())})),zr(VO,(function(t,e){ji(t.element(),"width")}))])])}}},name:"sidebar",schema:[Re("dom")]}),eA=ZE.optional({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Fs([Dh.config({})]),components:[]}}},name:"throbber",schema:[Re("dom")]}),nA=kf({name:"OuterContainer",factory:function(t,e,n){var r={getSocket:function(e){return KE.getPart(e,t,"socket")},setSidebar:function(e,n){KE.getPart(e,t,"sidebar").each((function(t){return function(t,e){Of.getCurrent(t).each((function(t){return Dh.set(t,[qO(e)])}))}(t,n)}))},toggleSidebar:function(e,n){KE.getPart(e,t,"sidebar").each((function(t){return function(t,e){Of.getCurrent(t).each((function(t){Of.getCurrent(t).each((function(n){sT.hasGrown(t)?FO.isShowing(n,e)?sT.shrink(t):(FO.hideAllSlots(n),FO.showSlot(n,e)):(FO.hideAllSlots(n),FO.showSlot(n,e),sT.grow(t))}))}))}(t,n)}))},whichSidebar:function(e){return KE.getPart(e,t,"sidebar").bind(UO).getOrNull()},getHeader:function(e){return KE.getPart(e,t,"header")},getToolbar:function(e){return KE.getPart(e,t,"toolbar")},setToolbar:function(e,n){KE.getPart(e,t,"toolbar").each((function(t){t.getApis().setGroups(t,n)}))},setToolbars:function(e,n){KE.getPart(e,t,"multiple-toolbar").each((function(t){eO.setItems(t,n)}))},refreshToolbar:function(e){KE.getPart(e,t,"toolbar").each((function(t){return t.getApis().refresh(t)}))},getThrobber:function(e){return KE.getPart(e,t,"throbber")},focusToolbar:function(e){KE.getPart(e,t,"toolbar").orThunk((function(){return KE.getPart(e,t,"multiple-toolbar")})).each((function(t){Sh.focusIn(t)}))},setMenubar:function(e,n){KE.getPart(e,t,"menubar").each((function(t){MO.setMenus(t,n)}))},focusMenubar:function(e){KE.getPart(e,t,"menubar").each((function(t){MO.focus(t)}))}};return{uid:t.uid,dom:t.dom,components:e,apis:r,behaviours:t.behaviours}},configFields:[Re("dom"),Re("behaviours")],partFields:[JO,KO,XO,ZO,QO,tA,eA],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getHeader:function(t,e){return t.getHeader(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var r=j(n,(function(t){return pT(t)}));t.setToolbar(e,r)},setToolbars:function(t,e,n){var r=j(n,(function(t){return j(t,pT)}));t.setToolbars(e,r)},refreshToolbar:function(t,e){return t.refreshToolbar(e)},getThrobber:function(t,e){return t.getThrobber(e)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),rA={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},oA=function(t){return"string"==typeof t?t.split(" "):t},iA=function(t,e){var n=d(d({},rA),e.menus),r=yt(e.menus).length>0,o=void 0===e.menubar||!0===e.menubar?oA("file edit view insert format tools table help"):oA(!1===e.menubar?"":e.menubar),i=q(o,(function(t){return r&&e.menus.hasOwnProperty(t)&&e.menus[t].hasOwnProperty("items")||rA.hasOwnProperty(t)})),a=j(i,(function(r){var o=n[r];return function(t,e,n){var r=function(t){return t.getParam("removed_menuitems","")}(n).split(/[ ,]/);return{text:t.title,getItems:function(){return Y(t.items,(function(t){var n=t.toLowerCase();return 0===n.trim().length||I(r,(function(t){return t===n}))?[]:"separator"===n||"|"===n?[{type:"separator"}]:e.menuItems[n]?[e.menuItems[n]]:[]}))}}}({title:o.title,items:oA(o.items)},e,t)}));return q(a,(function(t){return t.getItems().length>0&&I(t.getItems(),(function(t){return"separator"!==t.type}))}))},aA=function(t){var e=function(){t._skinLoaded=!0,function(t){t.fire("SkinLoaded")}(t)};return function(){t.initialized?e():t.on("init",e)}},sA=function(t,e){var n,r=function(t){var e=t.getParam("skin"),n=t.getParam("skin_url");if(!1!==e){var r=e||"oxide";n=n?t.documentBaseURI.toAbsolute(n):ag.baseURL+"/skins/ui/"+r}return n}(e);r&&(n=r+"/skin.min.css",e.contentCSS.push(r+(t?"/content.inline":"/content")+".min.css")),!1===function(t){return!1===t.getParam("skin")}(e)&&n?e.ui.styleSheetLoader.load(n,aA(e),function(t,e){return function(){return function(t,e){return t.fire("SkinLoadError",e)}(t,{message:e})}}(e,"Skin could not be loaded")):aA(e)()},uA=a(sA,!1),lA=a(sA,!0),cA=function(t,e,n,r){var o=e.outerContainer,i=n.toolbar,a=n.buttons;if(D(i,_)){var s=i.map((function(e){var o={toolbar:e,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return UE(t,o,{backstage:r},b.none())}));nA.setToolbars(o,s)}else nA.setToolbar(o,UE(t,n,{backstage:r},b.none()))},fA=Wm.DOM,dA=An(),hA=dA.os.isiOS()&&dA.os.version.major<=12,pA=Object.freeze({__proto__:null,render:function(t,n,r,o,i){var a=an(0);uA(t);var s,u=un.fromDom(i.targetNode),l=(s=ki(u),wi(s)?s:un.fromDom(io(s).dom().body));!function(t,e){zl(t,e,po)}(u,n.mothership),jl(l,n.uiMothership),t.on("PostRender",(function(){cA(t,n,r,o),a.set(t.getWin().innerWidth),nA.setMenubar(n.outerContainer,iA(t,r)),nA.setSidebar(n.outerContainer,r.sidebar),function(t){var e=t.getWin(),n=t.getDoc().documentElement,r=an(aa(e.innerWidth,e.innerHeight)),o=an(aa(n.offsetWidth,n.offsetHeight)),i=function(n){var o=r.get();o.left()===e.innerWidth&&o.top()===e.innerHeight||(r.set(aa(e.innerWidth,e.innerHeight)),Dv(t,n))},a=function(e){var n=t.getDoc().documentElement,r=o.get();r.left()===n.offsetWidth&&r.top()===n.offsetHeight||(o.set(aa(n.offsetWidth,n.offsetHeight)),Dv(t,e))},s=function(e){return function(t,e){return t.fire("ScrollContent",e)}(t,e)};fA.bind(e,"resize",i),fA.bind(e,"scroll",s);var u=cy(un.fromDom(t.getBody()),"load",a);t.on("NodeChange",a),t.on("remove",(function(){u.unbind(),fA.unbind(e,"resize",i),fA.unbind(e,"scroll",s)}))}(t)}));var c,f,d,h=nA.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===hA){Pi(h.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var p=(c=function(){t.fire("ScrollContent")},f=20,d=null,{cancel:function(){null!==d&&(e.clearTimeout(d),d=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===d&&(d=e.setTimeout((function(){c.apply(null,t),d=null}),f))}});ly(h.element(),"scroll",p.throttle)}Pg(t,n),t.addCommand("ToggleSidebar",(function(e,r){nA.toggleSidebar(n.outerContainer,r),t.fire("ToggleSidebar")})),t.addQueryValueHandler("ToggleSidebar",(function(){return nA.whichSidebar(n.outerContainer)}));var m=yg(t);return m!==am.sliding&&m!==am.floating||t.on("ResizeWindow ResizeEditor ResizeContent",(function(){var e=t.getWin().innerWidth;e!==a.get()&&(nA.refreshToolbar(n.outerContainer),a.set(e))})),{iframeContainer:h.element().dom(),editorContainer:n.outerContainer.element().dom()}}}),mA=function(){return function(t){var e=an(b.none()),n=function(){e.get().each(t)};return{clear:function(){n(),e.set(b.none())},isSet:function(){return e.get().isSome()},set:function(t){n(),e.set(b.some(t))}}}((function(t){t.unbind()}))},gA=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?b.some(parseInt(""+t,10)):b.none()},vA=function(t){return A(t)?t+"px":t},yA=function(t,e,n){var r=e.filter((function(e){return t<e})),o=n.filter((function(e){return t>e}));return r.or(o).getOr(t)},bA=function(t){return function(t){var e=sg(t),n=cg(t),r=dg(t);return gA(e).map((function(t){return yA(t,n,r)}))}(t).getOr(sg(t))},wA=function(t){var e=ug(t),n=lg(t),r=fg(t);return gA(e).map((function(t){return yA(t,n,r)}))},xA=function(t,e,n,r,o){var i=n.uiMothership,a=n.outerContainer,s=Wm.DOM,u=kg(t),l=Sg(t),c=fg(t).or(wA(t)),f=r.shared.header,d=f.isPositionedAtTop,h=yg(t),p=h===am.sliding||h===am.floating,m=an(!1),g=function(){return m.get()&&!t.removed},v=function(t){return p?t.fold((function(){return 0}),(function(t){return t.components().length>1?ra(t.components()[1].element()):0})):0},y=function(){i.broadcastOn([Ql()],{})},b=function(t){if(void 0===t&&(t=!1),g()){var n;if(u||(n=c.getOrThunk((function(){var t=gA(Li(Ei(),"margin-left")).getOr(0);return fa(Ei())-ua(e).left()+t})),Ni(o.get().element(),"max-width",n+"px")),p&&nA.refreshToolbar(a),u||function(){var t=nA.getToolbar(a),n=v(t),r=Ca(e),i=d()?Math.max(r.y-ra(o.get().element())+n,0):r.bottom;Pi(a.element(),{position:"absolute",top:Math.round(i)+"px",left:Math.round(r.x)+"px"})}(),l){var r=o.get();t?_O.reset(r):_O.refresh(r)}y()}},w=function(n){if(void 0===n&&(n=!0),!u&&l&&g()){var r=f.getDockingMode(),i=function(n){switch(wg(t)){case vg.auto:var r=nA.getToolbar(a),o=v(r),i=ra(n.element())-o,s=Ca(e);if(s.y>i)return"top";var u=ao(e),l=Math.max(u.dom().scrollHeight,ra(u));return s.bottom<l-i||Ta().bottom<s.bottom-i?"bottom":"top";case vg.bottom:return"bottom";case vg.top:default:return"top"}}(o.get());i!==r&&(!function(t){var e=o.get();_O.setModes(e,[t]),f.setDockingMode(t);var n=d()?Fa.TopToBottom:Fa.BottomToTop;Co(e.element(),Cu,n)}(i),n&&b(!0))}};return{isVisible:g,isPositionedAtTop:d,show:function(){m.set(!0),Ni(a.element(),"display","flex"),s.addClass(t.getBody(),"mce-edit-focus"),ji(i.element(),"display"),w(!1),b()},hide:function(){m.set(!1),n.outerContainer&&(Ni(a.element(),"display","none"),s.removeClass(t.getBody(),"mce-edit-focus")),Ni(i.element(),"display","none")},update:b,updateMode:w,repositionPopups:y}},_A=function(t,e){var n=Ca(t);return{pos:e?n.y:n.bottom,bounds:n}},kA=Object.freeze({__proto__:null,render:function(t,e,n,r,o){var i=e.mothership,a=e.uiMothership,s=e.outerContainer,u=an(null),l=un.fromDom(o.targetNode),c=xA(t,l,e,r,u);lA(t);var f=function(){if(u.get())c.show();else{u.set(nA.getHeader(s).getOrDie());var o=function(t){return _g(t).getOr(Ei())}(t);jl(o,i),jl(o,a),cA(t,e,n,r),nA.setMenubar(s,iA(t,n)),c.show(),function(t,e,n){var r=an(_A(e,n.isPositionedAtTop())),o=function(o){var i=_A(e,n.isPositionedAtTop()),a=i.pos,s=i.bounds,u=r.get(),l=u.pos,c=u.bounds,f=s.height!==c.height||s.width!==c.width;r.set({pos:a,bounds:s}),f&&Dv(t,o),n.isVisible()&&(l!==a?n.update(!0):f&&(n.updateMode(),n.repositionPopups()))};t.on("activate",n.show),t.on("deactivate",n.hide),t.on("SkinLoaded ResizeWindow",(function(){return n.update(!0)})),t.on("NodeChange keydown",(function(t){Op.requestAnimationFrame((function(){return o(t)}))})),t.on("ScrollWindow",(function(){return n.updateMode()}));var i=mA();i.set(cy(un.fromDom(t.getBody()),"load",o)),t.on("remove",(function(){i.clear()}))}(t,l,c),t.nodeChanged()}};return t.on("focus",f),t.on("blur hide",c.hide),t.on("init",(function(){t.hasFocus()&&f()})),Pg(t,e),{editorContainer:s.element().dom()}}}),CA=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},SA=function(t){!function(t){Ik.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(function(e,n){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onSetup:ME(t,e.name),onAction:CA(t,e.name)})}));for(var e=1;e<=6;e++){var n="h"+e;t.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+e,onSetup:ME(t,n),onAction:CA(t,n)})}}(t),function(t){Ik.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],(function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}))}(t),function(t){Ik.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)},onSetup:ME(t,e.name)})}))}(t)},TA=function(t){SA(t),function(t){Ik.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],(function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})})),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:CA(t,"code")})}(t)},EA=function(t,e,n){var r=function(){return!!e.undoManager&&e.undoManager[n]()},o=function(){t.setDisabled(e.mode.isReadOnly()||!r())};return t.setDisabled(!r()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",o)}},OA=function(t){!function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return EA(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return EA(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t),function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return EA(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return EA(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}})}(t)},AA=function(t,e){!function(t,e){var n=bE(0,e,CE(t));t.ui.registry.addNestedMenuItem("align",{text:e.shared.providers.translate("Align"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=bE(0,e,EE(t));t.ui.registry.addNestedMenuItem("fontformats",{text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=d({type:"advanced"},e.styleselect),r=bE(0,e,IE(t,n));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}})}(t,e),function(t,e){var n=bE(0,e,RE(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e),function(t,e){var n=bE(0,e,DE(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return n.items.validateItems(n.getStyleItems())}})}(t,e)},DA=function(t,e){!function(t){Ik.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],(function(e){t.ui.registry.addToggleButton(e.name,{tooltip:e.text,onAction:function(){return t.execCommand(e.cmd)},icon:e.icon,onSetup:ME(t,e.name)})}));var e="alignnone",n="No alignment",r="JustifyNone",o="align-none";t.ui.registry.addButton(e,{tooltip:n,onAction:function(){return t.execCommand(r)},icon:o})}(t),TA(t),AA(t,e),OA(t),function(t){!function(t){t.addCommand("mceApplyTextcolor",(function(e,n){!function(t,e,n){t.undoManager.transact((function(){t.focus(),t.formatter.apply(e,{value:n}),t.nodeChanged()}))}(t,e,n)})),t.addCommand("mceRemoveTextcolor",(function(e){!function(t,e){t.undoManager.transact((function(){t.focus(),t.formatter.remove(e,{value:null},null,!0),t.nodeChanged()}))}(t,e)}))}(t);var e=an(null),n=an(null);Uv(t,"forecolor","forecolor","Text color",e),Uv(t,"backcolor","hilitecolor","Background color",n),Wv(t,"forecolor","forecolor","Text color"),Wv(t,"backcolor","hilitecolor","Background color")}(t),function(t){!function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return t.execCommand("mceToggleVisualAid")}})}(t),function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return function(t,e){t.setActive(e.hasVisual);var n=function(e){t.setActive(e.hasVisual)};return e.on("VisualAid",n),function(){return e.off("VisualAid",n)}}(e,t)},onAction:function(){t.execCommand("mceToggleVisualAid")}})}(t)}(t),function(t){!function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(t,e){t.setDisabled(!e.queryCommandState("outdent"));var n=function(){t.setDisabled(!e.queryCommandState("outdent"))};return e.on("NodeChange",n),function(){return e.off("NodeChange",n)}}(e,t)},onAction:function(){return t.execCommand("outdent")}}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return t.execCommand("indent")}})}(t)}(t)},NA=function(t,e){return{anchor:"makeshift",x:t,y:e}},PA=function(t){return"longpress"===t.type||0===t.type.indexOf("touch")},MA=function(t,e){var n=Wm.DOM.getPos(t);return function(t,e,n){return NA(t.x+e,t.y+n)}(e,n.x,n.y)},LA=function(t,e){return"contextmenu"===e.type||"longpress"===e.type?t.inline?function(t){if(PA(t)){var e=t.touches[0];return NA(e.pageX,e.pageY)}return NA(t.pageX,t.pageY)}(e):MA(t.getContentAreaContainer(),function(t){if(PA(t)){var e=t.touches[0];return NA(e.clientX,e.clientY)}return NA(t.clientX,t.clientY)}(e)):RA(t)},RA=function(t){return{anchor:"selection",root:un.fromDom(t.selection.getNode())}},IA=function(t){return{anchor:"node",node:b.some(un.fromDom(t.selection.getNode())),root:un.fromDom(t.getBody())}},BA=function(t,e,n,r,o,i){var a=n(),s=function(t,e,n){return n?IA(t):LA(t,e)}(t,e,i);ak(a,sm.CLOSE_ON_EXECUTE,r,!1).map((function(t){e.preventDefault(),gp.showMenuAt(o,s,{menu:{markers:gm("normal")},data:t})}))},FA={onLtr:function(){return[Ts,xs,_s,ks,Cs,Ss,Tp,Ep,Cp,_p,Sp,kp]},onRtl:function(){return[Ts,_s,xs,Cs,ks,Ss,Tp,Ep,Sp,kp,Cp,_p]}},jA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},zA=function(t,e,n,r,o,i,a){var s=function(t,e,n){var r=e?IA(t):LA(t,n);return d({bubble:wu(0,12,jA),layouts:FA,overrides:{maxWidthFunction:xS(),maxHeightFunction:gu()}},r)}(t,i,e);ak(n,sm.CLOSE_ON_EXECUTE,r,!0).map((function(n){e.preventDefault(),gp.showMenuWithinBounds(o,s,{menu:{markers:gm("normal"),highlightImmediately:a},data:n,type:"horizontal"},(function(){return b.some(cE(t,r.shared))})),t.fire("contexttoolbar-hide")}))},HA=function(t,e,n,r,o,i){var a=An(),s=a.os.isiOS(),u=a.os.isOSX(),l=a.os.isAndroid(),c=a.deviceType.isTouch(),f=function(){var a=n();zA(t,e,a,r,o,i,!(l||s||u&&c))};if(!u&&!s||i)l&&!i&&t.selection.setCursorLocation(e.target,0),f();else{var d=function(){!function(t){var e=t.selection.getRng(),n=function(){Op.setEditorTimeout(t,(function(){t.selection.setRng(e)}),10),i()};t.once("touchend",n);var r=function(t){t.preventDefault(),t.stopImmediatePropagation()};t.on("mousedown",r,!0);var o=function(){return i()};t.once("longpresscancel",o);var i=function(){t.off("touchend",n),t.off("longpresscancel",o),t.off("mousedown",r)}}(t),f()};!function(t,e){var n=t.selection;if(n.isCollapsed()||e.touches.length<1)return!1;var r=e.touches[0],o=n.getRng();return Ku(t.getWin(),Lu.domRange(o)).exists((function(t){return t.left()<=r.clientX&&t.right()>=r.clientX&&t.top()<=r.clientY&&t.bottom()>=r.clientY}))}(t,e)?(t.once("selectionchange",d),t.once("touchend",(function(){return t.off("selectionchange",d)}))):d()}},qA=function(t){return"string"==typeof t?t.split(/[ ,]/):t},UA=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},WA=function(t){return function(t,e,n){var r=t.ui.registry.getAll().contextMenus;return b.from(t.getParam(e)).map(qA).getOrThunk((function(){return q(qA(n),(function(t){return Ot(r,t)}))}))}(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},VA=function(t){return _(t)?"|"===t:"separator"===t.type},$A={type:"separator"},GA=function(t){if(_(t))return t;switch(t.type){case"separator":return $A;case"submenu":return{type:"nestedmenuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){var e=t.getSubmenuItems();return _(e)?e:j(e,GA)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:(e=t.onAction,function(){return e()})}}var e},YA=function(t,e){if(0===e.length)return t;var n=tt(t).filter((function(t){return!VA(t)})).fold((function(){return[]}),(function(t){return[$A]}));return t.concat(n).concat(e).concat([$A])},KA=function(t,e,n){var r=An().deviceType.isTouch,o=Qi(gp.sketch({dom:{tag:"div"},lazySink:e,onEscape:function(){return t.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Fs([Nh("dismissContextMenu",[zr(kr(),(function(e,n){Xl.close(e),t.focus()}))])])})),i=function(t){return gp.hide(o)},a=function(e){if(UA(t)&&e.preventDefault(),!function(t,e){return e.ctrlKey&&!UA(t)}(t,e)&&!function(t){return!1===t.getParam("contextmenu")}(t)){var i=function(t,e){return"longpress"!==e.type&&(2!==e.button||e.target===t.getBody()&&""===e.pointerType)}(t,e);(r()?HA:BA)(t,e,(function(){var n=i?t.selection.getStart(!0):e.target,r=t.ui.registry.getAll(),o=WA(t);return function(t,e,n){var r=W(e,(function(e,r){if(Ot(t,r)){var o=t[r].update(n);if(_(o))return YA(e,o.split(" "));if(o.length>0){var i=j(o,GA);return YA(e,i)}return e}return e.concat([r])}),[]);return r.length>0&&VA(r[r.length-1])&&r.pop(),r}(r.contextMenus,o,n)}),n,o,i)}};t.on("init",(function(){var e="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(r()?"":" ResizeWindow");t.on(e,i),t.on("longpress contextmenu",a)}))},ZA=Dt([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),XA=function(t){return function(e){return e.translate(-t.left(),-t.top())}},JA=function(t){return function(e){return e.translate(t.left(),t.top())}},QA=function(t){return function(e,n){return W(t,(function(t,e){return e(t)}),aa(e,n))}},tD=function(t,e,n){return t.fold(QA([JA(n),XA(e)]),QA([XA(e)]),QA([]))},eD=function(t,e,n){return t.fold(QA([JA(n)]),QA([]),QA([JA(e)]))},nD=function(t,e,n){return t.fold(QA([]),QA([XA(n)]),QA([JA(e),XA(n)]))},rD=function(t,e,n){var r=t.fold((function(t,e){return{position:b.some("absolute"),left:b.some(t+"px"),top:b.some(e+"px")}}),(function(t,e){return{position:b.some("absolute"),left:b.some(t-n.left()+"px"),top:b.some(e-n.top()+"px")}}),(function(t,e){return{position:b.some("fixed"),left:b.some(t+"px"),top:b.some(e+"px")}}));return d({right:b.none(),bottom:b.none()},r)},oD=function(t,e,n,r){var o=function(t,o){return function(i,a){var s=t(e,n,r);return o(i.getOr(s.left()),a.getOr(s.top()))}};return t.fold(o(nD,iD),o(eD,aD),o(tD,sD))},iD=ZA.offset,aD=ZA.absolute,sD=ZA.fixed,uD=function(t,e){var n=So(t,e);return T(n)?NaN:parseInt(n,10)},lD=function(t,e,n,r){return function(t,e){var n=t.element(),r=uD(n,e.leftAttr),o=uD(n,e.topAttr);return isNaN(r)||isNaN(o)?b.none():b.some(aa(r,o))}(t,e).fold((function(){return n}),(function(t){return sD(t.left()+r.left(),t.top()+r.top())}))},cD=function(t,e,n,r,o,i){var a=lD(t,e,n,r),s=e.mustSnap?hD(t,e,a,o,i):pD(t,e,a,o,i),u=tD(a,o,i);return function(t,e,n){var r=t.element();Co(r,e.leftAttr,n.left()+"px"),Co(r,e.topAttr,n.top()+"px")}(t,e,u),s.fold((function(){return{coord:sD(u.left(),u.top()),extra:b.none()}}),(function(t){return{coord:t.output,extra:t.extra}}))},fD=function(t,e){!function(t,e){var n=t.element();Oo(n,e.leftAttr),Oo(n,e.topAttr)}(t,e)},dD=function(t,e,n,r){return nt(t,(function(t){var o=t.sensor;return function(t,e,n,r,o,i){var a=eD(t,o,i),s=eD(e,o,i);return Math.abs(a.left()-s.left())<=n&&Math.abs(a.top()-s.top())<=r}(e,o,t.range.left(),t.range.top(),n,r)?b.some({output:oD(t.output,e,n,r),extra:t.extra}):b.none()}))},hD=function(t,e,n,r,o){var i=e.getSnapPoints(t);return dD(i,n,r,o).orThunk((function(){return W(i,(function(t,e){var i=e.sensor,a=function(t,e,n,r,o,i){var a=eD(t,o,i),s=eD(e,o,i),u=Math.abs(a.left()-s.left()),l=Math.abs(a.top()-s.top());return aa(u,l)}(n,i,e.range.left(),e.range.top(),r,o);return t.deltas.fold((function(){return{deltas:b.some(a),snap:b.some(e)}}),(function(n){return(a.left()+a.top())/2<=(n.left()+n.top())/2?{deltas:b.some(a),snap:b.some(e)}:t}))}),{deltas:b.none(),snap:b.none()}).snap.map((function(t){return{output:oD(t.output,n,r,o),extra:t.extra}}))}))},pD=function(t,e,n,r,o){var i=e.getSnapPoints(t);return dD(i,n,r,o)},mD=Object.freeze({__proto__:null,snapTo:function(t,e,n,r){var o=e.getTarget(t.element());if(e.repositionTarget){var i=oo(t.element()),a=ga(i),s=rO(o),u=function(t,e,n){return{coord:oD(t.output,t.output,e,n),extra:t.extra}}(r,a,s),l=rD(u.coord,0,s);Mi(o,l)}}}),gD=function(t,e){t.getSystem().addToGui(e),function(t){uo(t.element()).filter(to).each((function(e){Ii(e,"z-index").each((function(t){Co(e,"data-initial-z-index",t)})),Ni(e,"z-index",Li(t.element(),"z-index"))}))}(e)},vD=function(t){!function(t){uo(t.element()).filter(to).each((function(t){To(t,"data-initial-z-index").fold((function(){return ji(t,"z-index")}),(function(e){return Ni(t,"z-index",e)})),Oo(t,"data-initial-z-index")}))}(t),t.getSystem().removeFromGui(t)},yD=function(t,e,n){return t.getSystem().build(Ey.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[e]},events:n}))},bD=Ke("snaps",[Re("getSnapPoints"),Xa("onSensor"),Re("leftAttr"),Re("topAttr"),Ze("lazyViewport",Ta),Ze("mustSnap",!1)]),wD=[Ze("useFixed",l),Re("blockerClass"),Ze("getTarget",i),Ze("onDrag",n),Ze("repositionTarget",!0),Ze("onDrop",n),nn("getBounds",Ta),bD],xD=function(t){return(e=Ii(t,"left"),n=Ii(t,"top"),r=Ii(t,"position"),o=function(t,e,n){return("fixed"===n?sD:iD)(parseInt(t,10),parseInt(e,10))},e.isSome()&&n.isSome()&&r.isSome()?b.some(o(e.getOrDie(),n.getOrDie(),r.getOrDie())):b.none()).getOrThunk((function(){var e=ua(t);return aD(e.left(),e.top())}));var e,n,r,o},_D=function(t,e,n,r,o,i,a){return function(t,e,n,r,o){var i=o.bounds,a=eD(e,n,r),s=lu(a.left(),i.x,i.x+i.width-o.width),u=lu(a.top(),i.y,i.y+i.height-o.height),l=aD(s,u);return e.fold((function(){var t=nD(l,n,r);return iD(t.left(),t.top())}),(function(){return l}),(function(){var t=tD(l,n,r);return sD(t.left(),t.top())}))}(0,e.fold((function(){var t,e,a,s=(t=n,e=i.left(),a=i.top(),t.fold((function(t,n){return iD(t+e,n+a)}),(function(t,n){return aD(t+e,n+a)}),(function(t,n){return sD(t+e,n+a)}))),u=tD(s,r,o);return sD(u.left(),u.top())}),(function(e){var a=cD(t,e,n,i,r,o);return a.extra.each((function(n){e.onSensor(t,n)})),a.coord})),r,o,a)},kD=function(t,e){return{bounds:t.getBounds(),height:oa(e.element()),width:da(e.element())}},CD=function(t,e,n,r,o){var i=n.update(r,o),a=n.getStartData().getOrThunk((function(){return kD(e,t)}));i.each((function(n){!function(t,e,n,r){var o=e.getTarget(t.element());if(e.repositionTarget){var i=oo(t.element()),a=ga(i),s=rO(o),u=xD(o),l=_D(t,e.snaps,u,a,s,r,n),c=rD(l,0,s);Mi(o,c)}e.onDrag(t,o,r)}(t,e,a,n)}))},SD=function(t,e,n,r){e.each(vD),n.snaps.each((function(e){fD(t,e)}));var o=n.getTarget(t.element());r.reset(),n.onDrop(t,o)},TD=function(t){return function(e,n){var r=function(t){n.setStartData(kD(e,t))};return Br(p([zr(br(),(function(t){n.getStartData().each((function(){return r(t)}))}))],t(e,n,r)))}},ED=Object.freeze({__proto__:null,getData:function(t){return b.from(aa(t.x(),t.y()))},getDelta:function(t,e){return aa(e.left()-t.left(),e.top()-t.top())}}),OD=function(t,e,n){return[zr(Vn(),(function(r,o){if(0===o.event().raw().button){o.stop();var i=function(){return SD(r,b.some(u),t,e)},a=hy(i,200),s={drop:i,delayDrop:a.schedule,forceDrop:i,move:function(n){a.cancel(),CD(r,t,e,ED,n)}},u=yD(r,t.blockerClass,function(t){return Br([zr(Vn(),t.forceDrop),zr(Yn(),t.drop),zr($n(),(function(e,n){t.move(n.event())})),zr(Gn(),t.delayDrop)])}(s));n(r),gD(r,u)}}))]},AD=p(wD,[es("dragger",{handlers:TD(OD)})]),DD=Object.freeze({__proto__:null,getData:function(t){var e=t.raw().touches;return 1===e.length?function(t){var e=t[0];return b.some(aa(e.clientX,e.clientY))}(e):b.none()},getDelta:function(t,e){return aa(e.left()-t.left(),e.top()-t.top())}}),ND=function(t,e,n){var r=an(b.none());return[zr(Hn(),(function(o,i){i.stop();var a=function(){SD(o,r.get(),t,e),r.set(b.none())},s={drop:a,delayDrop:function(){},forceDrop:a,move:function(n){CD(o,t,e,DD,n)}},u=yD(o,t.blockerClass,function(t){return Br([zr(Hn(),t.forceDrop),zr(Un(),t.drop),zr(Wn(),t.drop),zr(qn(),(function(e,n){t.move(n.event())}))])}(s));r.set(b.some(u));n(o),gD(o,u)})),zr(qn(),(function(n,r){r.stop(),CD(n,t,e,DD,r.event())})),zr(Un(),(function(n,o){o.stop(),SD(n,r.get(),t,e),r.set(b.none())})),zr(Wn(),(function(n){SD(n,r.get(),t,e),r.set(b.none())}))]},PD=AD,MD=p(wD,[es("dragger",{handlers:TD(ND)})]),LD=p(wD,[es("dragger",{handlers:TD((function(t,e,n){return p(OD(t,e,n),ND(t,e,n))}))})]),RD=qs({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:PD,touch:MD,mouseOrTouch:LD}),name:"dragging",active:{events:function(t,e){return t.dragger.handlers(t,e)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:b.from(t.extra)}}},state:Object.freeze({__proto__:null,init:function(){var t=b.none(),e=b.none(),n=o({});return Jo({readState:n,reset:function(){t=b.none(),e=b.none()},update:function(e,n){return e.getData(n).bind((function(n){return function(e,n){var r=t.map((function(t){return e.getDelta(t,n)}));return t=b.some(n),r}(e,n)}))},getStartData:function(){return e},setStartData:function(t){e=b.some(t)}})}}),apis:mD}),ID=function(t,e,n,r,o,i){return t.fold((function(){return RD.snap({sensor:aD(n-20,r-20),range:aa(o,i),output:aD(b.some(n),b.some(r)),extra:{td:e}})}),(function(t){var o=n-20,i=r-20,a=t.element().dom().getBoundingClientRect();return RD.snap({sensor:aD(o,i),range:aa(40,40),output:aD(b.some(n-a.width/2),b.some(r-a.height/2)),extra:{td:e}})}))},BD=function(t,e,n){return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(t,r){var o=r.td;(function(t,e){return t.exists((function(t){return Pn(t,e)}))})(e.get(),o)||(e.set(b.some(o)),n(o))},mustSnap:!0}},FD=function(t){return Dp(Ap.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Fs([RD.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),jb.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},jD=function(t,e){var n=an([]),r=an([]),o=an(!1),i=an(b.none()),a=an(b.none()),s=function(t){var n=Sa(t);return ID(f.getOpt(e),t,n.x,n.y,n.width,n.height)},u=function(t){var n=Sa(t);return ID(d.getOpt(e),t,n.right,n.bottom,n.width,n.height)},l=BD((function(){return j(n.get(),(function(t){return s(t)}))}),i,(function(e){a.get().each((function(n){t.fire("TableSelectorChange",{start:e,finish:n})}))})),c=BD((function(){return j(r.get(),(function(t){return u(t)}))}),a,(function(e){i.get().each((function(n){t.fire("TableSelectorChange",{start:n,finish:e})}))})),f=FD(l),d=FD(c),h=Qi(f.asSpec()),p=Qi(d.asSpec()),m=function(e,n,r,o){var i=r(n);RD.snapTo(e,i);!function(e,n,r,o){var i=n.dom().getBoundingClientRect();ji(e.element(),"display");var a=so(un.fromDom(t.getBody())).dom().innerHeight,s=r(i),u=o(i,a);(s||u)&&Ni(e.element(),"display","none")}(e,n,(function(t){return t[o]<0}),(function(t,e){return t[o]>e}))},g=function(t){return m(h,t,s,"top")},v=function(t){return m(p,t,u,"bottom")};An().deviceType.isTouch()&&(t.on("TableSelectionChange",(function(t){o.get()||(Ll(e,h),Ll(e,p),o.set(!0)),i.set(b.some(t.start)),a.set(b.some(t.finish)),t.otherCells.each((function(e){n.set(e.upOrLeftCells),r.set(e.downOrRightCells),g(t.start),v(t.finish)}))})),t.on("ResizeEditor ResizeWindow ScrollContent",(function(){i.get().each(g),a.get().each(v)})),t.on("TableSelectionClear",(function(){o.get()&&(Bl(h),Bl(p),o.set(!1)),i.set(b.none()),a.set(b.none())})))};!function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"}(xE||(xE={}));var zD=function(t,e,n){var r=un.fromDom(t.getContainer()),o=function(t,e,n,r,o){var i={};return i.height=yA(r+e.top(),cg(t),dg(t)),n===xE.Both&&(i.width=yA(o+e.left(),lg(t),fg(t))),i}(t,e,n,ra(r),fa(r));wt(o,(function(t,e){return Ni(r,e,vA(t))})),function(t){t.fire("ResizeEditor")}(t)},HD=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},qD=function(t,e,n){e.delimiter||(e.delimiter="»");return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Fs([Sh.config({mode:"flow",selector:"div[role=button]"}),ig.config({disabled:n.isReadOnly}),Mg(),Ly.config({}),Dh.config({}),Nh("elementPathEvents",[Yr((function(r,o){t.shortcuts.add("alt+F11","focus statusbar elementpath",(function(){return Sh.focusIn(r)})),t.on("NodeChange",(function(o){var i,a,s=function(e){for(var n=[],r=e.length;r-- >0;){var o=e[r];if(1===o.nodeType&&!HD(o)){var i=t.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(i.isDefaultPrevented()||n.push({name:i.name,element:o}),i.isPropagationStopped())break}}return n}(o.parents);s.length>0?Dh.set(r,(i=j(s||[],(function(e,r){return Ap.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":r,"tab-index":-1,"aria-level":r+1},innerHtml:e.name},action:function(n){t.focus(),t.selection.select(e.element),t.nodeChanged()},buttonBehaviours:Fs([Rg(n.isReadOnly),Mg()])})})),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+e.delimiter+" "}},W(i.slice(1),(function(t,e){var n=t;return n.push(a),n.push(e),n}),[i[0]]))):Dh.set(r,[])}))}))])]),components:[]}},UD=function(t,e){var n=function(){var n,r=[];return t.getParam("elementpath",!0,"boolean")&&r.push(qD(t,{},e)),bn(t.getParam("plugins","","string"),"wordcount")&&r.push(function(t,e){var n=function(t,n,r){return Dh.set(t,[Zi(e.translate(["{0} "+r,n[r]]))])};return Ap.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Fs([Rg(e.isReadOnly),Mg(),Ly.config({}),Dh.config({}),vc.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Nh("wordcount-events",[Xr((function(t){var e=vc.getValue(t),r="words"===e.mode?"characters":"words";vc.setValue(t,{mode:r,count:e.count}),n(t,e.count,r)})),Yr((function(e){t.on("wordCountUpdate",(function(t){var r=vc.getValue(e).mode;vc.setValue(e,{mode:r,count:t.wordCount}),n(e,t.wordCount,r)}))}))])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}})}(t,e)),t.getParam("branding",!0,"boolean")&&r.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(n=Vm.translate(["Powered by {0}","Tiny"]))+'">'+n+"</a>"}}),r.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:r}]:[]};return{dom:{tag:"div",classes:["tox-statusbar"]},components:function(){var r=n(),o=function(t){var e=!bn(t.getParam("plugins","","string"),"autoresize"),n=t.getParam("resize",e);return!1===n?xE.None:"both"===n?xE.Both:xE.Vertical}(t);return o!==xE.None&&r.push(function(n){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:e.translate("Resize"),"aria-hidden":"true"},innerHtml:Pp("resize-handle",e.icons)},behaviours:Fs([RD.config({mode:"mouse",repositionTarget:!1,onDrag:function(e,r,o){zD(t,o,n)},blockerClass:"tox-blocker"})])}}(o)),r}()}},WD=function(t){var n,r=t.inline,o=r?kA:pA,i=Sg(t)?OO:PO,a=b.none(),s=An(),u=s.browser.isIE()?["tox-platform-ie"]:[],l=s.deviceType.isTouch()?["tox-platform-touch"]:[],c=xg(t),f=Vm.isRtl()?{attributes:{dir:"rtl"}}:{},h={attributes:(n={},n[Cu]=c?Fa.BottomToTop:Fa.TopToBottom,n)},p=function(){return a.bind(nA.getHeader)},m=Qi({dom:d({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(u).concat(l)},f),behaviours:Fs([Al.config({useFixed:function(){return i.isDocked(p)}})])}),g=function(){return it.value(m)},v=Dp({dom:{tag:"div",classes:["tox-anchorbar"]}}),y=function(){return a.bind((function(t){return nA.getThrobber(t)})).getOrDie("Could not find throbber element")},w=wS(m,t,(function(){return a.bind((function(t){return v.getOpt(t)})).getOrDie("Could not find a anchor bar element")})),x=nA.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:w,onEscape:function(){t.focus()}}),_=yg(t),k=nA.parts().toolbar(d({dom:{tag:"div",classes:["tox-toolbar"]},getSink:g,providers:w.shared.providers,onEscape:function(){t.focus()},type:_,lazyToolbar:function(){return a.bind((function(t){return nA.getToolbar(t)})).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return p().getOrDie("Could not find header element")}},h)),C=nA.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:w.shared.providers,onEscape:function(){},type:_}),S=nA.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),T=nA.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),E=nA.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:w}),O=t.getParam("statusbar",!0,"boolean")&&!r?b.some(UD(t,w.shared.providers)):b.none(),A={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[S,T]},D=gg(t),N=pg(t),P=hg(t),M=nA.parts().header({dom:d({tag:"div",classes:["tox-editor-header"]},h),components:G([P?[x]:[],D?[C]:N?[k]:[],kg(t)?[]:[v.asSpec()]]),sticky:Sg(t),editor:t,sharedBackstage:w.shared}),L=G([c?[]:[M],r?[]:[A],c?[M]:[]]),R=G([[{dom:{tag:"div",classes:["tox-editor-container"]},components:L}],r?[]:O.toArray(),[E]]),I=Cg(t),B=d(d({role:"application"},Vm.isRtl()?{dir:"rtl"}:{}),I?{"aria-hidden":"true"}:{}),F=Qi(nA.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(r?["tox-tinymce-inline"]:[]).concat(c?["tox-tinymce--toolbar-bottom"]:[]).concat(l).concat(u),styles:d({visibility:"hidden"},I?{opacity:"0",border:"0"}:{}),attributes:B},components:R,behaviours:Fs([Sh.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));a=b.some(F),t.shortcuts.add("alt+F9","focus menubar",(function(){nA.focusMenubar(F)})),t.shortcuts.add("alt+F10","focus toolbar",(function(){nA.focusToolbar(F)}));var j=Oy(F),H=Oy(m);!function(t,n,r){var o=function(t,e){z([n,r],(function(n){n.broadcastEvent(t,e)}))},i=function(t,e){z([n,r],(function(n){n.broadcastOn([t],e)}))},a=function(t){return i(Jl(),{target:t.target()})},s=ly(un.fromDom(e.document),"touchstart",a),u=ly(un.fromDom(e.document),"touchmove",(function(t){return o(vr(),t)})),l=ly(un.fromDom(e.document),"touchend",(function(t){return o(yr(),t)})),c=ly(un.fromDom(e.document),"mousedown",a),f=ly(un.fromDom(e.document),"mouseup",(function(t){0===t.raw().button&&i(tc(),{target:t.target()})})),d=function(t){return i(Jl(),{target:un.fromDom(t.target)})},h=function(t){0===t.button&&i(tc(),{target:un.fromDom(t.target)})},p=function(t){return o(br(),fy(t))},m=function(t){i(Ql(),{}),o(wr(),fy(t))},g=function(){return i(Ql(),{})};t.on("PostRender",(function(){t.on("click",d),t.on("tap",d),t.on("mouseup",h),t.on("ScrollWindow",p),t.on("ResizeWindow",m),t.on("ResizeEditor",g)})),t.on("remove",(function(){t.off("click",d),t.off("tap",d),t.off("mouseup",h),t.off("ScrollWindow",p),t.off("ResizeWindow",m),t.off("ResizeEditor",g),c.unbind(),s.unbind(),u.unbind(),l.unbind(),f.unbind()})),t.on("detach",(function(){Hl(n),Hl(r),n.destroy(),r.destroy()}))}(t,j,H);var q=function(){var e=vA(bA(t)),n=vA(function(t){return wA(t).getOr(ug(t))}(t));return t.inline||(Fi("div","width",n)&&Ni(F.element(),"width",n),Fi("div","height",e)?Ni(F.element(),"height",e):Ni(F.element(),"height","200px")),e};return{mothership:j,uiMothership:H,backstage:w,renderUI:function(){i.setup(t,w.shared,p),DA(t,w),KA(t,g,w),function(t){var e=t.ui.registry.getAll().sidebars;z(yt(e),(function(n){var r=e[n],o=function(){return b.from(t.queryCommandValue("ToggleSidebar")).is(n)};t.ui.registry.addToggleButton(n,{icon:r.icon,tooltip:r.tooltip,onAction:function(e){t.execCommand("ToggleSidebar",!1,n),e.setActive(o())},onSetup:function(e){var n=function(){return e.setActive(o())};return t.on("ToggleSidebar",n),function(){t.off("ToggleSidebar",n)}}})}))}(t),YO(t,y,w.shared),xt(function(t){return t.getParam("toolbar_groups",{},"object")}(t),(function(e,n){t.ui.registry.addGroupToolbarButton(n,e)}));var e=t.ui.registry.getAll(),n=e.buttons,r=e.menuItems,a=e.contextToolbars,s=e.sidebars,u=mg(t),l={menuItems:r,menus:Tg(t),menubar:Eg(t),toolbar:u.getOrThunk((function(){return function(t){return t.getParam("toolbar",!0)}(t)})),allowToolbarGroups:_===am.floating,buttons:n,sidebar:s};YE(t,a,m,{backstage:w}),jD(t,m);var c=t.getElement(),f=q(),d={mothership:j,uiMothership:H,outerContainer:F},h={targetNode:c,height:f};return o.render(t,d,l,w,h)},getUi:function(){return{channels:{broadcastAll:H.broadcast,broadcastOn:H.broadcastOn,register:function(){}}}}}},VD=o([Re("lazySink"),We("dragBlockClass"),nn("getBounds",Ta),Ze("useTabstopAt",o(!0)),Ze("eventOrder",{}),yc("modalBehaviours",[Sh]),Ja("onExecute"),ts("onEscape")]),$D={sketch:i},GD=o([Yc({name:"draghandle",overrides:function(t,e){return{behaviours:Fs([RD.config({mode:"mouse",getTarget:function(t){return Pa(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(e,null,2)).message),getBounds:t.getDragBounds})])}}}),$c({schema:[Re("dom")],name:"title"}),$c({factory:$D,schema:[Re("dom")],name:"close"}),$c({factory:$D,schema:[Re("dom")],name:"body"}),Yc({factory:$D,schema:[Re("dom")],name:"footer"}),Gc({factory:{sketch:function(t,e){return d(d({},t),{dom:e.dom,components:e.components})}},schema:[Ze("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ze("components",[])],name:"blocker"})]),YD=kf({name:"ModalDialog",configFields:VD(),partFields:GD(),factory:function(t,e,n,r){var o=Ro("alloy.dialog.busy"),a=Ro("alloy.dialog.idle"),s=Fs([Sh.config({mode:"special",onTab:function(){return b.some(!0)},onShiftTab:function(){return b.some(!0)}}),Ih.config({})]),u=Ro("modal-events"),l=d(d({},t.eventOrder),{"alloy.system.attached":[u].concat(t.eventOrder["alloy.system.attached"]||[])});return{uid:t.uid,dom:t.dom,components:e,apis:{show:function(e){var n=t.lazySink(e).getOrDie(),i=an(b.none()),u=r.blocker(),l=n.getSystem().build(d(d({},u),{components:u.components.concat([ta(e)]),behaviours:Fs([Ih.config({}),Nh("dialog-blocker-events",[Gr(Zn(),(function(){Sh.focusIn(e)})),zr(a,(function(t,n){Eo(e.element(),"aria-busy")&&(Oo(e.element(),"aria-busy"),i.get().each((function(t){return Dh.remove(e,t)})))})),zr(o,(function(t,n){Co(e.element(),"aria-busy","true");var r=n.event().getBusySpec();i.get().each((function(t){Dh.remove(e,t)}));var o=r(e,s),a=t.getSystem().build(o);i.set(b.some(a)),Dh.append(e,ta(a)),a.hasConfigured(Sh)&&Sh.focusIn(a)}))])])}));Ll(n,l),Sh.focusIn(e)},hide:function(t){uo(t.element()).each((function(e){t.getSystem().getByDom(e).each((function(t){Bl(t)}))}))},getBody:function(e){return uf(e,t,"body")},getFooter:function(e){return uf(e,t,"footer")},setIdle:function(t){Nr(t,a)},setBusy:function(t,e){Pr(t,o,{getBusySpec:e})}},eventOrder:l,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:wc(t.modalBehaviours,[Dh.config({}),Sh.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Nh(u,[Yr((function(e){var n,r,o,a,s,u;n=e.element(),r=uf(e,t,"title").element(),o=b.from(So(n,"id")).fold((function(){var t=Ro("dialog-label");return Co(r,"id",t),t}),i),Co(n,"aria-labelledby",o),a=e.element(),s=uf(e,t,"body").element(),u=b.from(So(a,"id")).fold((function(){var t=Ro("dialog-describe");return Co(s,"id",t),t}),i),Co(a,"aria-describedby",u)}))])])}},apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),KD=ae([Fe("type"),Fe("name")].concat(Em)),ZD=De,XD=[de("name","name",Ht((function(){return Ro("button-name")})),Ae),Ge("icon"),tn("align","end",["start","end"]),en("primary",!1),en("disabled",!1)],JD=p(XD,[Fe("text")]),QD=p([je("type",["submit","cancel","custom"])],JD),tN=p([je("type",["menu"]),Ge("text"),Ge("tooltip"),Ge("icon"),Ue("items",KD)],XD),eN=Se("type",{submit:QD,cancel:QD,custom:QD,menu:tN}),nN=[Fe("type"),Fe("text"),je("level",["info","warn","error","success"]),Fe("icon"),Ze("url","")],rN=ae(nN),oN=[Fe("type"),Fe("text"),en("disabled",!1),en("primary",!1),de("name","name",Ht((function(){return Ro("button-name")})),Ae),Ge("icon"),en("borderless",!1)],iN=ae(oN),aN=[Fe("type"),Fe("name"),Fe("label"),en("disabled",!1)],sN=ae(aN),uN=De,lN=[Fe("type"),Fe("name")],cN=lN.concat([Ge("label")]),fN=ae(cN),dN=Ae,hN=ae(cN),pN=Ae,mN=ae(cN),gN=se(me),vN=function(t){return[Fe("type"),Be("columns"),t]},yN=cN.concat([en("sandboxed",!0)]),bN=ae(yN),wN=Ae,xN=cN.concat([Ge("inputMode"),Ge("placeholder"),en("maximized",!1),en("disabled",!1)]),_N=ae(xN),kN=Ae,CN=cN.concat([qe("items",[Fe("text"),Fe("value")]),Je("size",1),en("disabled",!1)]),SN=ae(CN),TN=Ae,EN=cN.concat([en("constrain",!0),en("disabled",!1)]),ON=ae(EN),AN=ae([Fe("width"),Fe("height")]),DN=cN.concat([Ge("placeholder"),en("maximized",!1),en("disabled",!1)]),NN=ae(DN),PN=Ae,MN=cN.concat([tn("filetype","file",["image","media","file"]),Ze("disabled",!1)]),LN=ae(MN),RN=ae([Fe("value"),Ze("meta",{})]),IN=lN.concat([Qe("tag","textarea"),Fe("scriptId"),Fe("scriptUrl"),function(t,e){return Xe(t,e,Me)}("settings",void 0)]),BN=lN.concat([Qe("tag","textarea"),ze("init")]),FN=ye((function(t){return we("customeditor.old",ie(BN),t).orThunk((function(){return we("customeditor.new",ie(IN),t)}))})),jN=Ae,zN=[Fe("type"),Fe("html"),tn("presets","presentation",["presentation","document"])],HN=ae(zN),qN=cN.concat([Ie("currentState",ae([Re("blob"),Fe("url")]))]),UN=ae(qN),WN=cN.concat([Ze("columns","auto")]),VN=ae(WN),$N=ge([Fe("value"),Fe("text"),Fe("icon")]),GN=function(t){return[Fe("type"),Fe("label"),t]},YN=[Fe("type"),Ue("header",Ae),Ue("cells",se(Ae))],KN=ae(YN),ZN=function(t){return de("items","items",jt(),se(ye((function(e){return we("Checking item of "+t,XN,e).fold((function(t){return it.error(ke(t))}),(function(t){return it.value(t)}))}))))},XN=ve((function(){return Ce("type",{alertbanner:rN,bar:ae((t=ZN("bar"),[Fe("type"),t])),button:iN,checkbox:sN,colorinput:fN,colorpicker:hN,dropzone:mN,grid:ae(vN(ZN("grid"))),iframe:bN,input:_N,selectbox:SN,sizeinput:ON,textarea:NN,urlinput:LN,customeditor:FN,htmlpanel:HN,imagetools:UN,collection:VN,label:ae(GN(ZN("label"))),table:KN,panel:QN});var t})),JN=[Fe("type"),Ze("classes",[]),Ue("items",XN)],QN=ae(JN),tP=[de("name","name",Ht((function(){return Ro("tab-name")})),Ae),Fe("title"),Ue("items",XN)],eP=[Fe("type"),qe("tabs",tP)],nP=ae(eP),rP=JD,oP=eN,iP=ae([Fe("title"),Ie("body",Ce("type",{panel:QN,tabpanel:nP})),Qe("size","normal"),Ue("buttons",oP),Ze("initialData",{}),nn("onAction",n),nn("onChange",n),nn("onSubmit",n),nn("onClose",n),nn("onCancel",n),Ze("onTabChange",n)]),aP=function(t){return k(t)?[t].concat(Y(Tt(t),aP)):C(t)?Y(t,aP):[]},sP=function(t){return _(t.type)&&_(t.name)},uP={checkbox:uN,colorinput:dN,colorpicker:pN,dropzone:gN,input:kN,iframe:wN,sizeinput:AN,selectbox:TN,size:AN,textarea:PN,urlinput:RN,customeditor:jN,collection:$N,togglemenuitem:ZD},lP=function(t){var e=function(t){return q(aP(t),sP)}(t),n=Y(e,(function(t){return function(t){return b.from(uP[t.type])}(t).fold((function(){return[]}),(function(e){return[Ie(t.name,e)]}))}));return ae(n)},cP=ae(p([je("type",["cancel","custom"])],rP)),fP=ae([Fe("title"),Fe("url"),$e("height"),$e("width"),function(t,e){return Ve(t,se(e))}("buttons",cP),nn("onAction",n),nn("onCancel",n),nn("onClose",n),nn("onMessage",n)]),dP=function(t){return{internalDialog:xe(we("dialog",iP,t)),dataValidator:lP(t),initialData:t.initialData}},hP={open:function(t,e){var n=dP(e);return t(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(t,e){return t(xe(we("dialog",fP,e)))},redial:function(t){return dP(t)}},pP=function(t){var e=[],n={};return wt(t,(function(t,r){t.fold((function(){e.push(r)}),(function(t){n[r]=t}))})),e.length>0?it.error(e):it.value(n)},mP=function(t,n){var r=Dp(Nx.sketch((function(e){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:j(t.items,(function(t){return EC(e,t,n)}))}})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[r.asSpec()]}],behaviours:Fs([Sh.config({mode:"acyclic",useTabstopAt:s(o_)}),jx(r),Gx(r,{postprocess:function(t){return pP(t).fold((function(t){return e.console.error(t),{}}),(function(t){return t}))}})])}},gP=_f({name:"TabButton",configFields:[Ze("uid",void 0),Re("value"),de("dom","dom",qt((function(){return{attributes:{role:"tab",id:Ro("aria"),"aria-selected":"false"}}})),Te()),We("action"),Ze("domModification",{}),yc("tabButtonBehaviours",[Ih,Sh,vc]),Re("view")],factory:function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Zh(t.action),behaviours:wc(t.tabButtonBehaviours,[Ih.config({}),Sh.config({mode:"execution",useSpace:!0,useEnter:!0}),vc.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),vP=o([Re("tabs"),Re("dom"),Ze("clickToDismiss",!1),yc("tabbarBehaviours",[jf,Sh]),Ka(["tabClass","selectedClass"])]),yP=Kc({factory:gP,name:"tabs",unit:"tab",overrides:function(t){var e=function(t,e){jf.dehighlight(t,e),Pr(t,Or(),{tabbar:t,button:e})},r=function(t,e){jf.highlight(t,e),Pr(t,Er(),{tabbar:t,button:e})};return{action:function(o){var i=o.getSystem().getByUid(t.uid).getOrDie(),a=jf.isHighlighted(i,o);(a&&t.clickToDismiss?e:a?n:r)(i,o)},domModification:{classes:[t.markers.tabClass]}}}}),bP=o([yP]),wP=kf({name:"Tabbar",configFields:vP(),partFields:bP(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:wc(t.tabbarBehaviours,[jf.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){Co(e.element(),"aria-selected","true")},onDehighlight:function(t,e){Co(e.element(),"aria-selected","false")}}),Sh.config({mode:"flow",getInitial:function(t){return jf.getHighlighted(t).map((function(t){return t.element()}))},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),xP=_f({name:"Tabview",configFields:[yc("tabviewBehaviours",[Dh])],factory:function(t,e){return{uid:t.uid,dom:t.dom,behaviours:wc(t.tabviewBehaviours,[Dh.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),_P=o([Ze("selectFirst",!0),Xa("onChangeTab"),Xa("onDismissTab"),Ze("tabs",[]),yc("tabSectionBehaviours",[])]),kP=$c({factory:wP,schema:[Re("dom"),He("markers",[Re("tabClass"),Re("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),CP=$c({factory:xP,name:"tabview"}),SP=o([kP,CP]),TP=kf({name:"TabSection",configFields:_P(),partFields:SP(),factory:function(t,e,n,r){var o=function(e,n){sf(e,t,"tabbar").each((function(t){n(t).each(Mr)}))};return{uid:t.uid,dom:t.dom,components:e,behaviours:bc(t.tabSectionBehaviours),events:Br(G([t.selectFirst?[Yr((function(t,e){o(t,jf.getFirst)}))]:[],[zr(Er(),(function(e,n){!function(e){var n=vc.getValue(e);sf(e,t,"tabview").each((function(r){V(t.tabs,(function(t){return t.value===n})).each((function(n){var o=n.view();To(e.element(),"id").each((function(t){Co(r.element(),"aria-labelledby",t)})),Dh.set(r,o),t.onChangeTab(r,e,o)}))}))}(n.event().button())})),zr(Or(),(function(e,n){var r=n.event().button();t.onDismissTab(e,r)}))]])),apis:{getViewItems:function(e){return sf(e,t,"tabview").map((function(t){return Dh.contents(t)})).getOr([])},showTab:function(t,e){o(t,(function(t){var n=jf.getCandidates(t);return V(n,(function(t){return vc.getValue(t)===e})).filter((function(e){return!jf.isHighlighted(t,e)}))}))}}}},apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),EP=function(t,e){Ni(t,"height",e+"px"),An().browser.isIE()?ji(t,"flex-basis"):Ni(t,"flex-basis",e+"px")},OP=function(t,n,r){Pa(t,'[role="dialog"]').each((function(t){Ma(t,'[role="tablist"]').each((function(o){r.get().map((function(r){return Ni(n,"height","0"),Ni(n,"flex-basis","0"),Math.min(r,function(t,n,r){var o,i=ao(t).dom(),a=Pa(t,".tox-dialog-wrap").getOr(t);o="fixed"===Li(a,"position")?Math.max(i.clientHeight,e.window.innerHeight):Math.max(i.offsetHeight,i.scrollHeight);var s=ra(n),u=n.dom().offsetLeft>=r.dom().offsetLeft+fa(r)?Math.max(ra(r),s):s,l=parseInt(Li(t,"margin-top"),10)||0,c=parseInt(Li(t,"margin-bottom"),10)||0;return o-(ra(t)+l+c-u)}(t,n,o))})).each((function(t){EP(n,t)}))}))}))},AP=function(t){return Ma(t,'[role="tabpanel"]')},DP=function(t){var e;return{smartTabHeight:(e=an(b.none()),{extraEvents:[Yr((function(n){var r=n.element();AP(r).each((function(o){Ni(o,"visibility","hidden"),n.getSystem().getByDom(o).toOption().each((function(n){var r=function(t){return Q(J(t,(function(t,e){return t>e?-1:t<e?1:0})))}(function(t,e,n){return j(t,(function(r,o){Dh.set(n,t[o].view());var i=e.dom().getBoundingClientRect();return Dh.set(n,[]),i.height}))}(t,o,n));e.set(r)})),OP(r,o,e),ji(o,"visibility"),function(t,e){Q(t).each((function(t){return TP.showTab(e,t.value)}))}(t,n),Op.requestAnimationFrame((function(){OP(r,o,e)}))}))})),zr(wr(),(function(t){var n=t.element();AP(n).each((function(t){OP(n,t,e)}))})),zr(Gy,(function(t,n){var r=t.element();AP(r).each((function(t){var n=Ks();Ni(t,"visibility","hidden");var o=Ii(t,"height").map((function(t){return parseInt(t,10)}));ji(t,"height"),ji(t,"flex-basis");var i=t.dom().getBoundingClientRect().height;o.forall((function(t){return i>t}))?(e.set(b.from(i)),OP(r,t,e)):o.each((function(e){EP(t,e)})),ji(t,"visibility"),n.each(Ys)}))}))],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},NP=function(t,e){var n=an({}),r=function(t){var e=vc.getValue(t),r=pP(e).getOr({}),o=n.get(),i=Mt(o,r);n.set(i)},o=function(t){var e=n.get();vc.setValue(t,e)},i=an(null),a=j(t.tabs,(function(t){return{value:t.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:e.shared.providers.translate(t.title)},view:function(){return[Nx.sketch((function(n){return{dom:{tag:"div",classes:["tox-form"]},components:j(t.items,(function(t){return EC(n,t,e)})),formBehaviours:Fs([Sh.config({mode:"acyclic",useTabstopAt:s(o_)}),Nh("TabView.form.events",[Yr(o),Kr(r)]),$s.config({channels:$t([{key:"send-data-to-section",value:{onReceive:r}},{key:"send-data-to-view",value:{onReceive:o}}])})])}}))]}}})),u=DP(a).smartTabHeight;return TP.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var r=vc.getValue(e);Pr(t,$y,{name:r,oldName:i.get()}),i.set(r)},tabs:a,components:[TP.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[wP.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Fs([Ly.config({})])}),TP.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:u.selectFirst,tabSectionBehaviours:Fs([Nh("tabpanel",u.extraEvents),Sh.config({mode:"acyclic"}),Of.config({find:function(t){return Q(TP.getViewItems(t))}}),vc.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn(["send-data-to-section"],{}),n.get()},setValue:function(t,e){n.set(e),t.getSystem().broadcastOn(["send-data-to-view"],{})}}})])})},PP=Ro("update-dialog"),MP=Ro("update-title"),LP=Ro("update-body"),RP=Ro("update-footer"),IP=Ro("body-send-message"),BP=function(t,e,n,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:d(d({},e.map((function(t){return{id:t}})).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:Fs([zx(0),UT.config({channel:LP,updateState:function(t,e){return b.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[NP(t.body,n)];default:return[mP(t.body,n)]}},initialData:t})])}},FP=$g.deviceType.isTouch(),jP=function(t,e){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,e]}},zP=function(t,e){return YD.parts().close(Ap.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close")}},action:t,buttonBehaviours:Fs([Ly.config({})])}))},HP=function(){return YD.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},qP=function(t,e){return YD.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:$O("<p>"+e.translate(t)+"</p>")}]}]})},UP=function(t){return YD.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},WP=function(t,e){return[Ey.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Ey.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},VP=function(t){var e,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",i=n+"__disable-scroll";return YD.sketch({lazySink:t.lazySink,onEscape:function(e){return t.onEscape(e),b.some(!0)},useTabstopAt:function(t){return!o_(t)},dom:{tag:"div",classes:[n].concat(t.extraClasses),styles:d({position:"relative"},t.extraStyles)},components:p([t.header,t.body],t.footer.toArray()),parts:{blocker:{dom:$O('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:FP?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Fs(p([Ih.config({}),Nh("dialog-events",t.dialogEvents.concat([Gr(Zn(),(function(t,e){Sh.focusIn(t)}))])),Nh("scroll-lock",[Yr((function(){hi(Ei(),i)})),Kr((function(){mi(Ei(),i)}))])],t.extraBehaviours)),eventOrder:d((e={},e[cr()]=["dialog-events"],e[xr()]=["scroll-lock","dialog-events","alloy.base.behaviour"],e[_r()]=["alloy.base.behaviour","dialog-events","scroll-lock"],e),t.eventOrder)})},$P=function(t){return Ap.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(t){Nr(t,Hy)}})},GP=function(t,e,n){var r=function(t){return[Zi(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:d({},e.map((function(t){return{id:t}})).getOr({}))},components:r(t),behaviours:Fs([UT.config({channel:MP,renderComponents:r})])}},YP=function(){return{dom:$O('<div class="tox-dialog__draghandle"></div>')}},KP=function(t,e){return function(t,e){var n=YD.parts().title(GP(t,b.none(),e)),r=YD.parts().draghandle(YP()),o=YD.parts().close($P(e)),i=[n].concat(t.draggable?[r]:[]).concat([o]);return Ey.sketch({dom:$O('<div class="tox-dialog__header"></div>'),components:i})}({title:e.shared.providers.translate(t),draggable:e.dialog.isDraggableModal()},e.shared.providers)},ZP=function(t,e){return{onClose:function(){return e.closeWindow()},onBlock:function(e){YD.setBusy(t(),(function(t,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":e.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:$O('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}))},onUnblock:function(){YD.setIdle(t())}}},XP=function(t,e,n,r){var o;return Qi(VP(d(d({},t),{lazySink:r.shared.getSink,extraBehaviours:p([UT.config({channel:PP,updateState:function(t,e){return b.some(e)},initialData:e}),Zx({})],t.extraBehaviours),onEscape:function(t){Nr(t,Hy)},dialogEvents:n,eventOrder:(o={},o[lr()]=["reflecting","receiving"],o[xr()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],o[_r()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],o)})))},JP=function(t){return j(t,(function(t){return"menu"===t.type?function(t){var e=j(t.items,(function(t){var e=an(!1);return d(d({},t),{storage:e})}));return d(d({},t),{items:e})}(t):t}))},QP=function(t){return W(t,(function(t,e){return"menu"===e.type?W(e.items,(function(t,e){return t[e.name]=e.storage,t}),t):t}),{})},tM=function(t,e){return[Wr(Zn(),r_),t(zy,(function(t,n){e.onClose(),n.onClose()})),t(Hy,(function(t,e,n,r){e.onCancel(t),Nr(r,zy)})),zr(Vy,(function(t,n){return e.onUnblock()})),zr(Wy,(function(t,n){return e.onBlock(n.event())}))]},eM=function(t,e){var n=function(e,n){return zr(e,(function(e,o){r(e,(function(r,i){n(t(),r,o.event(),e)}))}))},r=function(t,e){UT.getState(t).get().each((function(n){e(n,t)}))};return p(tM(n,e),[n(qy,(function(t,e,n){e.onAction(t,{name:n.name()})}))])},nM=function(t,e,n){var r=function(e,n){return zr(e,(function(e,r){o(e,(function(o,i){n(t(),o,r.event(),e)}))}))},o=function(t,e){UT.getState(t).get().each((function(n){e(n.internalDialog,t)}))};return p(tM(r,e),[r(Uy,(function(t,e){return e.onSubmit(t)})),r(jy,(function(t,e,n){e.onChange(t,{name:n.name()})})),r(qy,(function(t,e,r,o){var i=function(){return Sh.focusIn(o)},a=function(t){return Eo(t,"disabled")||To(t,"aria-disabled").exists((function(t){return"true"===t}))},s=Ks();e.onAction(t,{name:r.name(),value:r.value()}),Ks().fold(i,(function(t){a(t)||s.exists((function(e){return Ln(t,e)&&a(e)}))?i():n().toOption().filter((function(e){return!Ln(e.element(),t)})).each(i)}))})),r($y,(function(t,e,n){e.onTabChange(t,{newTabName:n.name(),oldTabName:n.oldName()})})),Kr((function(e){var n=t();vc.setValue(e,n.getData())}))])},rM=function(t,e){var n=e.map((function(t){return t.footerButtons})).getOr([]),r=H(n,(function(t){return"start"===t.align})),o=function(t,e){return Ey.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:j(e,(function(t){return t.memento.asSpec()}))})};return[o("start",r.pass),o("end",r.fail)]},oM=function(t,e){return{dom:$O('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Fs([UT.config({channel:RP,initialData:t,updateState:function(t,n){var r=j(n.buttons,(function(t){var n=Dp(function(t,e){return gk(t,t.type,e)}(t,e));return{name:t.name,align:t.align,memento:n}}));return b.some({lookupByName:function(t,e){return function(t,e,n){return V(e,(function(t){return t.name===n})).bind((function(e){return e.memento.getOpt(t)}))}(t,r,e)},footerButtons:r})},renderComponents:rM})])}},iM=function(t,e){return YD.parts().footer(oM(t,e))},aM=function(t,e){if(t.getRoot().getSystem().isConnected()){var n=Of.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return Nx.getField(n,e).fold((function(){var r=t.getFooter();return UT.getState(r).get().bind((function(t){return t.lookupByName(n,e)}))}),(function(t){return b.some(t)}))}return b.none()},sM=function(t,e,n){var r=function(e){var n=t.getRoot();n.getSystem().isConnected()&&e(n)},o={getData:function(){var e=t.getRoot(),r=e.getSystem().isConnected()?t.getFormWrapper():e,o=vc.getValue(r),i=xt(n,(function(t){return t.get()}));return d(d({},o),i)},setData:function(e){r((function(r){var i=o.getData(),a=d(d({},i),e),s=function(t,e){var n=t.getRoot();return UT.getState(n).get().map((function(t){return xe(we("data",t.dataValidator,e))})).getOr(e)}(t,a),u=t.getFormWrapper();vc.setValue(u,s),wt(n,(function(t,e){Ot(a,e)&&t.set(a[e])}))}))},disable:function(e){aM(t,e).each(ig.disable)},enable:function(e){aM(t,e).each(ig.enable)},focus:function(e){aM(t,e).each(Ih.focus)},block:function(t){if(!_(t))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r((function(e){Pr(e,Wy,{message:t})}))},unblock:function(){r((function(t){Nr(t,Vy)}))},showTab:function(e){r((function(n){var r=t.getBody();UT.getState(r).get().exists((function(t){return t.isTabPanel()}))&&Of.getCurrent(r).each((function(t){TP.showTab(t,e)}))}))},redial:function(t){r((function(n){var r=e(t);n.getSystem().broadcastOn([PP],r),n.getSystem().broadcastOn([MP],r.internalDialog),n.getSystem().broadcastOn([LP],r.internalDialog),n.getSystem().broadcastOn([RP],r.internalDialog),o.setData(r.initialData)}))},close:function(){r((function(t){Nr(t,zy)}))}};return o},uM=function(t,e,n){var r=KP(t.internalDialog.title,n),o=function(t,e){var n=BP(t,b.none(),e,!1);return YD.parts().body(n)}({body:t.internalDialog.body},n),i=JP(t.internalDialog.buttons),a=QP(i),s=iM({buttons:i},n),u=nM((function(){return d}),ZP((function(){return f}),e),n.shared.getSink),l="normal"!==t.internalDialog.size?"large"===t.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],c={header:r,body:o,footer:b.some(s),extraClasses:l,extraBehaviours:[],extraStyles:{}},f=XP(c,t,u,n),d=sM({getRoot:function(){return f},getBody:function(){return YD.getBody(f)},getFooter:function(){return YD.getFooter(f)},getFormWrapper:function(){var t=YD.getBody(f);return Of.getCurrent(t).getOr(t)}},e.redial,a);return{dialog:f,instanceApi:d}},lM=function(t,e,n,r){var o,i,a,s,u,l=Ro("dialog-label"),c=Ro("dialog-content"),f=Dp((a={title:t.internalDialog.title,draggable:!0},s=l,u=n.shared.providers,Ey.sketch({dom:$O('<div class="tox-dialog__header"></div>'),components:[GP(a,b.some(s),u),YP(),$P(u)],containerBehaviours:Fs([RD.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return La(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),d=Dp(function(t,e,n,r){return BP(t,b.some(e),n,r)}({body:t.internalDialog.body},c,n,r)),h=JP(t.internalDialog.buttons),p=QP(h),m=Dp(function(t,e){return oM(t,e)}({buttons:h},n)),g=nM((function(){return y}),{onBlock:function(){},onUnblock:function(){},onClose:function(){return e.closeWindow()}},n.shared.getSink),v=Qi({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(o={role:"dialog"},o["aria-labelledby"]=l,o["aria-describedby"]=""+c,o)},eventOrder:(i={},i[lr()]=[UT.name(),$s.name()],i[cr()]=["execute-on-form"],i[xr()]=["reflecting","execute-on-form"],i),behaviours:Fs([Sh.config({mode:"cyclic",onEscape:function(t){return Nr(t,zy),b.some(!0)},useTabstopAt:function(t){return!o_(t)&&("button"!==Jr(t)||"disabled"!==So(t,"disabled"))}}),UT.config({channel:PP,updateState:function(t,e){return b.some(e)},initialData:t}),Ih.config({}),Nh("execute-on-form",g.concat([Gr(Zn(),(function(t,e){Sh.focusIn(t)}))])),Zx({})]),components:[f.asSpec(),d.asSpec(),m.asSpec()]}),y=sM({getRoot:function(){return v},getFooter:function(){return m.get(v)},getBody:function(){return d.get(v)},getFormWrapper:function(){var t=d.get(v);return Of.getCurrent(t).getOr(t)}},e.redial,p);return{dialog:v,instanceApi:y}},cM=tinymce.util.Tools.resolve("tinymce.util.URI"),fM=["insertContent","setContent","execCommand","close","block","unblock"],dM=function(t){return k(t)&&-1!==fM.indexOf(t.mceAction)},hM=function(t,n,r,o){var i,a,u,l=KP(t.title,o),c=function(t){var e={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[e_({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Fs([Ly.config({}),Ih.config({})])})]}],behaviours:Fs([Sh.config({mode:"acyclic",useTabstopAt:s(o_)})])};return YD.parts().body(e)}(t),f=t.buttons.bind((function(t){return 0===t.length?b.none():b.some(iM({buttons:t},o))})),h=eM((function(){return C}),ZP((function(){return x}),n)),p=d(d({},t.height.fold((function(){return{}}),(function(t){return{height:t+"px","max-height":t+"px"}}))),t.width.fold((function(){return{}}),(function(t){return{width:t+"px","max-width":t+"px"}}))),m=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],g=new cM(t.url,{base_uri:new cM(e.window.location.href)}),v=g.protocol+"://"+g.host+(g.port?":"+g.port:""),y=an(b.none()),w=[Nh("messages",[Yr((function(){var n=ly(un.fromDom(e.window),"message",(function(e){if(g.isSameOrigin(new cM(e.raw().origin))){var n=e.raw().data;dM(n)?function(t,e,n){switch(n.mceAction){case"insertContent":t.insertContent(n.content);break;case"setContent":t.setContent(n.content);break;case"execCommand":var r=!!S(n.ui)&&n.ui;t.execCommand(n.cmd,r,n.value);break;case"close":e.close();break;case"block":e.block(n.message);break;case"unblock":e.unblock()}}(r,C,n):function(t){return!dM(t)&&k(t)&&Ot(t,"mceAction")}(n)&&t.onMessage(C,n)}}));y.set(b.some(n))})),Kr((function(){y.get().each((function(t){return t.unbind()}))}))]),$s.config({channels:(i={},i[IP]={onReceive:function(t,e){Ma(t.element(),"iframe").each((function(t){t.dom().contentWindow.postMessage(e,v)}))}},i)})],x=XP({header:l,body:c,footer:f,extraClasses:m,extraBehaviours:w,extraStyles:p},t,h,o),C=(a=x,u=function(t){a.getSystem().isConnected()&&t(a)},{block:function(t){if(!_(t))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u((function(e){Pr(e,Wy,{message:t})}))},unblock:function(){u((function(t){Nr(t,Vy)}))},close:function(){u((function(t){Nr(t,zy)}))},sendMessage:function(t){u((function(e){e.getSystem().broadcastOn([IP],t)}))}});return{dialog:x,instanceApi:C}},pM=function(t,e,n){return e&&n?[]:[_O.config({contextual:{lazyContext:function(){return b.some(Ca(un.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},mM=function(t){var e=t.backstage,n=t.editor,r=Sg(n),o=function(t){var e=t.backstage.shared;return{open:function(n,r){var o=function(){YD.hide(u),r()},i=Dp(gk({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage)),a=HP(),s=zP(o,e.providers),u=Qi(VP({lazySink:function(){return e.getSink()},header:jP(a,s),body:qP(n,e.providers),footer:b.some(UP(WP([],[i.asSpec()]))),onEscape:o,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zr(Hy,o)],eventOrder:{}}));YD.show(u);var l=i.get(u);Ih.focus(l)}}}(t),i=function(t){var e=t.backstage.shared;return{open:function(n,r){var o=function(t){YD.hide(l),r(t)},i=Dp(gk({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:b.none()},"submit",t.backstage)),a=gk({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:b.none()},"cancel",t.backstage),s=HP(),u=zP((function(){return o(!1)}),e.providers),l=Qi(VP({lazySink:function(){return e.getSink()},header:jP(s,u),body:qP(n,e.providers),footer:b.some(UP(WP([],[a,i.asSpec()]))),onEscape:function(){return o(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[zr(Hy,(function(){return o(!1)})),zr(Uy,(function(){return o(!0)}))],eventOrder:{}}));YD.show(l);var c=i.get(l);Ih.focus(c)}}}(t),a=function(t,r){return hP.openUrl((function(t){var o=hM(t,{closeWindow:function(){YD.hide(o.dialog),r(o.instanceApi)}},n,e);return YD.show(o.dialog),o.instanceApi}),t)},s=function(t,n){return hP.open((function(t,r,o){var i=r,a=uM({dataValidator:o,initialData:i,internalDialog:t},{redial:hP.redial,closeWindow:function(){YD.hide(a.dialog),n(a.instanceApi)}},e);return YD.show(a.dialog),a.instanceApi.setData(i),a.instanceApi}),t)},u=function(t,o,i,a){return hP.open((function(t,s,u){var l,c=xe(we("data",u,s)),f=(l=an(b.none()),{clear:function(){l.set(b.none())},set:function(t){l.set(b.some(t))},isSet:function(){return l.get().isSome()},on:function(t){l.get().each(t)}}),h=e.shared.header.isPositionedAtTop(),m=function(){return f.on((function(t){gp.reposition(t),_O.refresh(t)}))},g=lM({dataValidator:u,initialData:c,internalDialog:t},{redial:hP.redial,closeWindow:function(){f.on(gp.hide),n.off("ResizeEditor",m),f.clear(),i(g.instanceApi)}},e,a),v=Qi(gp.sketch(d(d({lazySink:e.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},h?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Fs(p([Nh("window-manager-inline-events",[zr(kr(),(function(t,e){Nr(g.dialog,Hy)}))])],pM(n,r,h))),isExtraPart:function(t,e){return function(t){return dy(t,".tox-alert-dialog")||dy(t,".tox-confirm-dialog")}(e)}})));return f.set(v),gp.showWithin(v,o,ta(g.dialog),b.some(Ei())),r&&h||(_O.refresh(v),n.on("ResizeEditor",m)),g.instanceApi.setData(c),Sh.focusIn(g.dialog),g.instanceApi}),t)};return{open:function(t,n,r){return void 0!==n&&"toolbar"===n.inline?u(t,e.shared.anchors.inlineDialog(),r,n.ariaAttrs):void 0!==n&&"cursor"===n.inline?u(t,e.shared.anchors.cursor(),r,n.ariaAttrs):s(t,r)},openUrl:function(t,e){return a(t,e)},alert:function(t,e){o.open(t,(function(){e()}))},close:function(t){t.close()},confirm:function(t,e){i.open(t,(function(t){e(t)}))}}};f.add("silver",(function(t){var e=WD(t),n=e.uiMothership,r=e.backstage,i=e.renderUI,a=e.getUi;sy(t,r.shared);var s=mM({editor:t,backstage:r});return{renderUI:i,getWindowManagerImpl:o(s),getNotificationManagerImpl:function(){return Ip(0,{backstage:r},n)},ui:a()}}))}(window)}).call(this,n("yLpj"))},B9FH:function(t,e,n){n("lM69")},BOjI:function(t,e,n){"use strict";n.d(e,"a",(function(){return R})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return B})),n.d(e,"d",(function(){return P}));var r=function(){function t(t,e){this.eventTarget=t,this.eventName=e,this.unorderedBindings=new Set}return t.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},t.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},t.prototype.bindingConnected=function(t){this.unorderedBindings.add(t)},t.prototype.bindingDisconnected=function(t){this.unorderedBindings.delete(t)},t.prototype.handleEvent=function(t){for(var e=function(t){if("immediatePropagationStopped"in t)return t;var e=t.stopImmediatePropagation;return Object.assign(t,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,e.call(this)}})}(t),n=0,r=this.bindings;n<r.length;n++){var o=r[n];if(e.immediatePropagationStopped)break;o.handleEvent(e)}},Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort((function(t,e){var n=t.index,r=e.index;return n<r?-1:n>r?1:0}))},enumerable:!0,configurable:!0}),t}();var o=function(){function t(t){this.application=t,this.eventListenerMaps=new Map,this.started=!1}return t.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach((function(t){return t.connect()})))},t.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach((function(t){return t.disconnect()})))},Object.defineProperty(t.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce((function(t,e){return t.concat(Array.from(e.values()))}),[])},enumerable:!0,configurable:!0}),t.prototype.bindingConnected=function(t){this.fetchEventListenerForBinding(t).bindingConnected(t)},t.prototype.bindingDisconnected=function(t){this.fetchEventListenerForBinding(t).bindingDisconnected(t)},t.prototype.handleError=function(t,e,n){void 0===n&&(n={}),this.application.handleError(t,"Error "+e,n)},t.prototype.fetchEventListenerForBinding=function(t){var e=t.eventTarget,n=t.eventName;return this.fetchEventListener(e,n)},t.prototype.fetchEventListener=function(t,e){var n=this.fetchEventListenerMapForEventTarget(t),r=n.get(e);return r||(r=this.createEventListener(t,e),n.set(e,r)),r},t.prototype.createEventListener=function(t,e){var n=new r(t,e);return this.started&&n.connect(),n},t.prototype.fetchEventListenerMapForEventTarget=function(t){var e=this.eventListenerMaps.get(t);return e||(e=new Map,this.eventListenerMaps.set(t,e)),e},t}(),i=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/;var a=function(){function t(t,e,n){this.element=t,this.index=e,this.eventTarget=n.eventTarget||t,this.eventName=n.eventName||function(t){var e=t.tagName.toLowerCase();if(e in s)return s[e](t)}(t)||u("missing event name"),this.identifier=n.identifier||u("missing identifier"),this.methodName=n.methodName||u("missing method name")}return t.forToken=function(t){return new this(t.element,t.index,(n=t.content,r=n.trim().match(i)||[],{eventTarget:(e=r[4],"window"==e?window:"document"==e?document:void 0),eventName:r[2],identifier:r[5],methodName:r[7]}));var e,n,r},t.prototype.toString=function(){var t=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+t+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(t.prototype,"eventTargetName",{get:function(){return(t=this.eventTarget)==window?"window":t==document?"document":void 0;var t},enumerable:!0,configurable:!0}),t}(),s={a:function(t){return"click"},button:function(t){return"click"},form:function(t){return"submit"},input:function(t){return"submit"==t.getAttribute("type")?"click":"change"},select:function(t){return"change"},textarea:function(t){return"change"}};function u(t){throw new Error(t)}var l=function(){function t(t,e){this.context=t,this.action=e}return Object.defineProperty(t.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(t){this.willBeInvokedByEvent(t)&&this.invokeWithEvent(t)},Object.defineProperty(t.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){var t=this.controller[this.methodName];if("function"==typeof t)return t;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),t.prototype.invokeWithEvent=function(t){try{this.method.call(this.controller,t)}catch(n){var e={identifier:this.identifier,controller:this.controller,element:this.element,index:this.index,event:t};this.context.handleError(n,'invoking action "'+this.action+'"',e)}},t.prototype.willBeInvokedByEvent=function(t){var e=t.target;return this.element===e||(!(e instanceof Element&&this.element.contains(e))||this.scope.containsElement(e))},Object.defineProperty(t.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),t}(),c=function(){function t(t,e){var n=this;this.element=t,this.started=!1,this.delegate=e,this.elements=new Set,this.mutationObserver=new MutationObserver((function(t){return n.processMutations(t)}))}return t.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},t.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},t.prototype.refresh=function(){if(this.started){for(var t=new Set(this.matchElementsInTree()),e=0,n=Array.from(this.elements);e<n.length;e++){var r=n[e];t.has(r)||this.removeElement(r)}for(var o=0,i=Array.from(t);o<i.length;o++){r=i[o];this.addElement(r)}}},t.prototype.processMutations=function(t){if(this.started)for(var e=0,n=t;e<n.length;e++){var r=n[e];this.processMutation(r)}},t.prototype.processMutation=function(t){"attributes"==t.type?this.processAttributeChange(t.target,t.attributeName):"childList"==t.type&&(this.processRemovedNodes(t.removedNodes),this.processAddedNodes(t.addedNodes))},t.prototype.processAttributeChange=function(t,e){var n=t;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,e):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},t.prototype.processRemovedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],o=this.elementFromNode(r);o&&this.processTree(o,this.removeElement)}},t.prototype.processAddedNodes=function(t){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e],o=this.elementFromNode(r);o&&this.elementIsActive(o)&&this.processTree(o,this.addElement)}},t.prototype.matchElement=function(t){return this.delegate.matchElement(t)},t.prototype.matchElementsInTree=function(t){return void 0===t&&(t=this.element),this.delegate.matchElementsInTree(t)},t.prototype.processTree=function(t,e){for(var n=0,r=this.matchElementsInTree(t);n<r.length;n++){var o=r[n];e.call(this,o)}},t.prototype.elementFromNode=function(t){if(t.nodeType==Node.ELEMENT_NODE)return t},t.prototype.elementIsActive=function(t){return t.isConnected==this.element.isConnected&&this.element.contains(t)},t.prototype.addElement=function(t){this.elements.has(t)||this.elementIsActive(t)&&(this.elements.add(t),this.delegate.elementMatched&&this.delegate.elementMatched(t))},t.prototype.removeElement=function(t){this.elements.has(t)&&(this.elements.delete(t),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(t))},t}(),f=function(){function t(t,e,n){this.attributeName=e,this.delegate=n,this.elementObserver=new c(t,this)}return Object.defineProperty(t.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.elementObserver.start()},t.prototype.stop=function(){this.elementObserver.stop()},t.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(t.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),t.prototype.matchElement=function(t){return t.hasAttribute(this.attributeName)},t.prototype.matchElementsInTree=function(t){var e=this.matchElement(t)?[t]:[],n=Array.from(t.querySelectorAll(this.selector));return e.concat(n)},t.prototype.elementMatched=function(t){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(t,this.attributeName)},t.prototype.elementUnmatched=function(t){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(t,this.attributeName)},t.prototype.elementAttributeChanged=function(t,e){this.delegate.elementAttributeValueChanged&&this.attributeName==e&&this.delegate.elementAttributeValueChanged(t,e)},t}();function d(t,e,n){p(t,e).add(n)}function h(t,e,n){p(t,e).delete(n),function(t,e){var n=t.get(e);null!=n&&0==n.size&&t.delete(e)}(t,e)}function p(t,e){var n=t.get(e);return n||(n=new Set,t.set(e,n)),n}var m,g=function(){function t(){this.valuesByKey=new Map}return Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t.concat(Array.from(e))}),[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce((function(t,e){return t+e.size}),0)},enumerable:!0,configurable:!0}),t.prototype.add=function(t,e){d(this.valuesByKey,t,e)},t.prototype.delete=function(t,e){h(this.valuesByKey,t,e)},t.prototype.has=function(t,e){var n=this.valuesByKey.get(t);return null!=n&&n.has(e)},t.prototype.hasKey=function(t){return this.valuesByKey.has(t)},t.prototype.hasValue=function(t){return Array.from(this.valuesByKey.values()).some((function(e){return e.has(t)}))},t.prototype.getValuesForKey=function(t){var e=this.valuesByKey.get(t);return e?Array.from(e):[]},t.prototype.getKeysForValue=function(t){return Array.from(this.valuesByKey).filter((function(e){e[0];return e[1].has(t)})).map((function(t){var e=t[0];t[1];return e}))},t}(),v=(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),y=(function(t){function e(){var e=t.call(this)||this;return e.keysByValue=new Map,e}v(e,t),Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),e.prototype.add=function(e,n){t.prototype.add.call(this,e,n),d(this.keysByValue,n,e)},e.prototype.delete=function(e,n){t.prototype.delete.call(this,e,n),h(this.keysByValue,n,e)},e.prototype.hasValue=function(t){return this.keysByValue.has(t)},e.prototype.getKeysForValue=function(t){var e=this.keysByValue.get(t);return e?Array.from(e):[]}}(g),function(){function t(t,e,n){this.attributeObserver=new f(t,e,this),this.delegate=n,this.tokensByElement=new g}return Object.defineProperty(t.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.attributeObserver.start()},t.prototype.stop=function(){this.attributeObserver.stop()},t.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.elementMatchedAttribute=function(t){this.tokensMatched(this.readTokensForElement(t))},t.prototype.elementAttributeValueChanged=function(t){var e=this.refreshTokensForElement(t),n=e[0],r=e[1];this.tokensUnmatched(n),this.tokensMatched(r)},t.prototype.elementUnmatchedAttribute=function(t){this.tokensUnmatched(this.tokensByElement.getValuesForKey(t))},t.prototype.tokensMatched=function(t){var e=this;t.forEach((function(t){return e.tokenMatched(t)}))},t.prototype.tokensUnmatched=function(t){var e=this;t.forEach((function(t){return e.tokenUnmatched(t)}))},t.prototype.tokenMatched=function(t){this.delegate.tokenMatched(t),this.tokensByElement.add(t.element,t)},t.prototype.tokenUnmatched=function(t){this.delegate.tokenUnmatched(t),this.tokensByElement.delete(t.element,t)},t.prototype.refreshTokensForElement=function(t){var e,n,r,o=this.tokensByElement.getValuesForKey(t),i=this.readTokensForElement(t),a=(e=o,n=i,r=Math.max(e.length,n.length),Array.from({length:r},(function(t,r){return[e[r],n[r]]}))).findIndex((function(t){return!function(t,e){return t&&e&&t.index==e.index&&t.content==e.content}(t[0],t[1])}));return-1==a?[[],[]]:[o.slice(a),i.slice(a)]},t.prototype.readTokensForElement=function(t){var e=this.attributeName;return function(t,e,n){return t.trim().split(/\s+/).filter((function(t){return t.length})).map((function(t,r){return{element:e,attributeName:n,content:t,index:r}}))}(t.getAttribute(e)||"",t,e)},t}());var b=function(){function t(t,e,n){this.tokenListObserver=new y(t,e,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(t.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.tokenListObserver.start()},t.prototype.stop=function(){this.tokenListObserver.stop()},t.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(t.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),t.prototype.tokenMatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).set(t,n),this.delegate.elementMatchedValue(e,n))},t.prototype.tokenUnmatched=function(t){var e=t.element,n=this.fetchParseResultForToken(t).value;n&&(this.fetchValuesByTokenForElement(e).delete(t),this.delegate.elementUnmatchedValue(e,n))},t.prototype.fetchParseResultForToken=function(t){var e=this.parseResultsByToken.get(t);return e||(e=this.parseToken(t),this.parseResultsByToken.set(t,e)),e},t.prototype.fetchValuesByTokenForElement=function(t){var e=this.valuesByTokenByElement.get(t);return e||(e=new Map,this.valuesByTokenByElement.set(t,e)),e},t.prototype.parseToken=function(t){try{return{value:this.delegate.parseValueForToken(t)}}catch(t){return{error:t}}},t}(),w=function(){function t(t,e){this.context=t,this.delegate=e,this.bindingsByAction=new Map}return t.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new b(this.element,this.actionAttribute,this),this.valueListObserver.start())},t.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(t.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),t.prototype.connectAction=function(t){var e=new l(this.context,t);this.bindingsByAction.set(t,e),this.delegate.bindingConnected(e)},t.prototype.disconnectAction=function(t){var e=this.bindingsByAction.get(t);e&&(this.bindingsByAction.delete(t),this.delegate.bindingDisconnected(e))},t.prototype.disconnectAllActions=function(){var t=this;this.bindings.forEach((function(e){return t.delegate.bindingDisconnected(e)})),this.bindingsByAction.clear()},t.prototype.parseValueForToken=function(t){var e=a.forToken(t);if(e.identifier==this.identifier)return e},t.prototype.elementMatchedValue=function(t,e){this.connectAction(e)},t.prototype.elementUnmatchedValue=function(t,e){this.disconnectAction(e)},t}(),x=function(){function t(t,e){this.module=t,this.scope=e,this.controller=new t.controllerConstructor(this),this.bindingObserver=new w(this,this.dispatcher);try{this.controller.initialize()}catch(t){this.handleError(t,"initializing controller")}}return t.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(t){this.handleError(t,"connecting controller")}},t.prototype.disconnect=function(){try{this.controller.disconnect()}catch(t){this.handleError(t,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(t.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),t.prototype.handleError=function(t,e,n){void 0===n&&(n={});var r=this.identifier,o=this.controller,i=this.element;n=Object.assign({identifier:r,controller:o,element:i},n),this.application.handleError(t,"Error "+e,n)},t}(),_=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function k(t){var e=C(t);return e.bless(),e}var C=function(){function t(t){function e(){var n=this&&this instanceof e?this.constructor:void 0;return Reflect.construct(t,arguments,n)}return e.prototype=Object.create(t.prototype,{constructor:{value:e}}),Reflect.setPrototypeOf(e,t),e}try{return(e=t((function(){this.a.call(this)}))).prototype.a=function(){},new e,t}catch(t){return function(t){return function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e}(t)}}var e}(),S=function(){function t(t,e){this.application=t,this.definition=function(t){return{identifier:t.identifier,controllerConstructor:k(t.controllerConstructor)}}(e),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(t.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),t.prototype.connectContextForScope=function(t){var e=this.fetchContextForScope(t);this.connectedContexts.add(e),e.connect()},t.prototype.disconnectContextForScope=function(t){var e=this.contextsByScope.get(t);e&&(this.connectedContexts.delete(e),e.disconnect())},t.prototype.fetchContextForScope=function(t){var e=this.contextsByScope.get(t);return e||(e=new x(this,t),this.contextsByScope.set(t,e)),e},t}(),T=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return t=this.getFormattedKey(t),this.element.getAttribute(t)},t.prototype.set=function(t,e){return t=this.getFormattedKey(t),this.element.setAttribute(t,e),this.get(t)},t.prototype.has=function(t){return t=this.getFormattedKey(t),this.element.hasAttribute(t)},t.prototype.delete=function(t){return!!this.has(t)&&(t=this.getFormattedKey(t),this.element.removeAttribute(t),!0)},t.prototype.getFormattedKey=function(t){return"data-"+this.identifier+"-"+t.replace(/([A-Z])/g,(function(t,e){return"-"+e.toLowerCase()}))},t}();function E(t,e){return"["+t+'~="'+e+'"]'}var O=function(){function t(t){this.scope=t}return Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return null!=this.find(t)},t.prototype.find=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findElement(n)},t.prototype.findAll=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.getSelectorForTargetNames(t);return this.scope.findAllElements(n)},t.prototype.getSelectorForTargetNames=function(t){var e=this;return t.map((function(t){return e.getSelectorForTargetName(t)})).join(", ")},t.prototype.getSelectorForTargetName=function(t){var e=this.identifier+"."+t;return E(this.schema.targetAttribute,e)},t}(),A=function(){function t(t,e,n){this.schema=t,this.identifier=e,this.element=n,this.targets=new O(this),this.data=new T(this)}return t.prototype.findElement=function(t){return this.findAllElements(t)[0]},t.prototype.findAllElements=function(t){var e=this.element.matches(t)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(t)));return e.concat(n)},t.prototype.filterElements=function(t){var e=this;return t.filter((function(t){return e.containsElement(t)}))},t.prototype.containsElement=function(t){return t.closest(this.controllerSelector)===this.element},Object.defineProperty(t.prototype,"controllerSelector",{get:function(){return E(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),t}(),D=function(){function t(t,e,n){this.element=t,this.schema=e,this.delegate=n,this.valueListObserver=new b(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return t.prototype.start=function(){this.valueListObserver.start()},t.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),t.prototype.parseValueForToken=function(t){var e=t.element,n=t.content,r=this.fetchScopesByIdentifierForElement(e),o=r.get(n);return o||(o=new A(this.schema,n,e),r.set(n,o)),o},t.prototype.elementMatchedValue=function(t,e){var n=(this.scopeReferenceCounts.get(e)||0)+1;this.scopeReferenceCounts.set(e,n),1==n&&this.delegate.scopeConnected(e)},t.prototype.elementUnmatchedValue=function(t,e){var n=this.scopeReferenceCounts.get(e);n&&(this.scopeReferenceCounts.set(e,n-1),1==n&&this.delegate.scopeDisconnected(e))},t.prototype.fetchScopesByIdentifierForElement=function(t){var e=this.scopesByIdentifierByElement.get(t);return e||(e=new Map,this.scopesByIdentifierByElement.set(t,e)),e},t}(),N=function(){function t(t){this.application=t,this.scopeObserver=new D(this.element,this.schema,this),this.scopesByIdentifier=new g,this.modulesByIdentifier=new Map}return Object.defineProperty(t.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contexts",{get:function(){return this.modules.reduce((function(t,e){return t.concat(e.contexts)}),[])},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.scopeObserver.start()},t.prototype.stop=function(){this.scopeObserver.stop()},t.prototype.loadDefinition=function(t){this.unloadIdentifier(t.identifier);var e=new S(this.application,t);this.connectModule(e)},t.prototype.unloadIdentifier=function(t){var e=this.modulesByIdentifier.get(t);e&&this.disconnectModule(e)},t.prototype.getContextForElementAndIdentifier=function(t,e){var n=this.modulesByIdentifier.get(e);if(n)return n.contexts.find((function(e){return e.element==t}))},t.prototype.handleError=function(t,e,n){this.application.handleError(t,e,n)},t.prototype.scopeConnected=function(t){this.scopesByIdentifier.add(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.connectContextForScope(t)},t.prototype.scopeDisconnected=function(t){this.scopesByIdentifier.delete(t.identifier,t);var e=this.modulesByIdentifier.get(t.identifier);e&&e.disconnectContextForScope(t)},t.prototype.connectModule=function(t){this.modulesByIdentifier.set(t.identifier,t),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.connectContextForScope(e)}))},t.prototype.disconnectModule=function(t){this.modulesByIdentifier.delete(t.identifier),this.scopesByIdentifier.getValuesForKey(t.identifier).forEach((function(e){return t.disconnectContextForScope(e)}))},t}(),P={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},M=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n((function(e){e(t.value)})).then(a,s)}u((r=r.apply(t,e||[])).next())}))},L=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},R=function(){function t(t,e){void 0===t&&(t=document.documentElement),void 0===e&&(e=P),this.element=t,this.schema=e,this.dispatcher=new o(this),this.router=new N(this)}return t.start=function(e,n){var r=new t(e,n);return r.start(),r},t.prototype.start=function(){return M(this,void 0,void 0,(function(){return L(this,(function(t){switch(t.label){case 0:return[4,new Promise((function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()}))];case 1:return t.sent(),this.router.start(),this.dispatcher.start(),[2]}}))}))},t.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},t.prototype.register=function(t,e){this.load({identifier:t,controllerConstructor:e})},t.prototype.load=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.isArray(t)?t:[t].concat(n);o.forEach((function(t){return e.router.loadDefinition(t)}))},t.prototype.unload=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=Array.isArray(t)?t:[t].concat(n);o.forEach((function(t){return e.router.unloadIdentifier(t)}))},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map((function(t){return t.controller}))},enumerable:!0,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,e){var n=this.router.getContextForElementAndIdentifier(t,e);return n?n.controller:null},t.prototype.handleError=function(t,e,n){},t}();function I(t){var e=t.prototype;(function(t){var e=function(t){var e=[];for(;t;)e.push(t),t=Object.getPrototypeOf(t);return e}(t);return Array.from(e.reduce((function(t,e){return function(t){var e=t.targets;return Array.isArray(e)?e:[]}(e).forEach((function(e){return t.add(e)})),t}),new Set))})(t).forEach((function(t){var n,r,o;return r=e,(n={})[t+"Target"]={get:function(){var e=this.targets.find(t);if(e)return e;throw new Error('Missing target element "'+this.identifier+"."+t+'"')}},n[t+"Targets"]={get:function(){return this.targets.findAll(t)}},n["has"+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(t)+"Target"]={get:function(){return this.targets.has(t)}},o=n,void Object.keys(o).forEach((function(t){if(!(t in r)){var e=o[t];Object.defineProperty(r,t,e)}}))}))}var B=function(){function t(t){this.context=t}return t.bless=function(){I(this)},Object.defineProperty(t.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){},t.prototype.connect=function(){},t.prototype.disconnect=function(){},t.targets=[],t}()},CAtV:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=function(t){return t.getParam("pagebreak_split_block",!1)},r=function(){return'<img src="'+e.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'};t.add("pagebreak",(function(t){!function(t){t.addCommand("mcePageBreak",(function(){n(t)?t.insertContent("<p>"+r()+"</p>"):t.insertContent(r())}))}(t),function(t){t.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return t.execCommand("mcePageBreak")}}),t.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return t.execCommand("mcePageBreak")}})}(t),function(t){var e=function(t){return t.getParam("pagebreak_separator","\x3c!-- pagebreak --\x3e")}(t),o=new RegExp(e.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(function(t){return"\\"+t})),"gi");t.on("BeforeSetContent",(function(t){t.content=t.content.replace(o,r())})),t.on("PreInit",(function(){t.serializer.addNodeFilter("img",(function(r){for(var o,i,a=r.length;a--;)if((i=(o=r[a]).attr("class"))&&-1!==i.indexOf("mce-pagebreak")){var s=o.parent;if(t.schema.getBlockElements()[s.name]&&n(t)){s.type=3,s.value=e,s.raw=!0,o.remove();continue}o.type=3,o.value=e,o.raw=!0}}))}))}(t),function(t){t.on("ResolveName",(function(e){"IMG"===e.target.nodeName&&t.dom.hasClass(e.target,"mce-pagebreak")&&(e.name="pagebreak")}))}(t)}))}()},CQIl:function(t,e,n){n("iLZO")},CgaS:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("MLWZ"),i=n("9rSQ"),a=n("UnBK"),s=n("SntB");function u(t){this.defaults=t,this.interceptors={request:new i,response:new i}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=s(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=u},DWi2:function(t,e,n){n("Aw8l")},DfZB:function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},DjPg:function(t,e,n){(function(r){var o,i,a;i=[n("EVdn")],void 0===(a="function"==typeof(o=function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;return function(){var t,n,r;e&&e.requirejs||(e?n=e:e={},function(e){var o,i,a,s,u={},l={},c={},f={},d=Object.prototype.hasOwnProperty,h=[].slice,p=/\.js$/;function m(t,e){return d.call(t,e)}function g(t,e){var n,r,o,i,a,s,u,l,f,d,h,m=e&&e.split("/"),g=c.map,v=g&&g["*"]||{};if(t){for(a=(t=t.split("/")).length-1,c.nodeIdCompat&&p.test(t[a])&&(t[a]=t[a].replace(p,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),f=0;f<t.length;f++)if("."===(h=t[f]))t.splice(f,1),f-=1;else if(".."===h){if(0===f||1===f&&".."===t[2]||".."===t[f-1])continue;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}if((m||v)&&g){for(f=(n=t.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),m)for(d=m.length;d>0;d-=1)if((o=g[m.slice(0,d).join("/")])&&(o=o[r])){i=o,s=f;break}if(i)break;!u&&v&&v[r]&&(u=v[r],l=f)}!i&&u&&(i=u,s=l),i&&(n.splice(0,s,i),t=n.join("/"))}return t}function v(t,e){return function(){var n=h.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),i.apply(void 0,n.concat([t,e]))}}function y(t){return function(e){u[t]=e}}function b(t){if(m(l,t)){var e=l[t];delete l[t],f[t]=!0,o.apply(void 0,e)}if(!m(u,t)&&!m(f,t))throw new Error("No "+t);return u[t]}function w(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function x(t){return t?w(t):[]}function _(t){return function(){return c&&c.config&&c.config[t]||{}}}a=function(t,e){var n,r,o=w(t),i=o[0],a=e[1];return t=o[1],i&&(n=b(i=g(i,a))),i?t=n&&n.normalize?n.normalize(t,(r=a,function(t){return g(t,r)})):g(t,a):(i=(o=w(t=g(t,a)))[0],t=o[1],i&&(n=b(i))),{f:i?i+"!"+t:t,n:t,pr:i,p:n}},s={require:function(t){return v(t)},exports:function(t){var e=u[t];return void 0!==e?e:u[t]={}},module:function(t){return{id:t,uri:"",exports:u[t],config:_(t)}}},o=function(t,e,n,r){var o,i,c,d,h,p,g,w=[],_=typeof n;if(p=x(r=r||t),"undefined"===_||"function"===_){for(e=!e.length&&n.length?["require","exports","module"]:e,h=0;h<e.length;h+=1)if("require"===(i=(d=a(e[h],p)).f))w[h]=s.require(t);else if("exports"===i)w[h]=s.exports(t),g=!0;else if("module"===i)o=w[h]=s.module(t);else if(m(u,i)||m(l,i)||m(f,i))w[h]=b(i);else{if(!d.p)throw new Error(t+" missing "+i);d.p.load(d.n,v(r,!0),y(i),{}),w[h]=u[i]}c=n?n.apply(u[t],w):void 0,t&&(o&&void 0!==o.exports&&o.exports!==u[t]?u[t]=o.exports:void 0===c&&g||(u[t]=c))}else t&&(u[t]=n)},t=n=i=function(t,e,n,r,u){if("string"==typeof t)return s[t]?s[t](e):b(a(t,x(e)).f);if(!t.splice){if((c=t).deps&&i(c.deps,c.callback),!e)return;e.splice?(t=e,e=n,n=null):t=void 0}return e=e||function(){},"function"==typeof n&&(n=r,r=u),r?o(void 0,t,e,n):setTimeout((function(){o(void 0,t,e,n)}),4),i},i.config=function(t){return i(t)},t._defined=u,(r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),m(u,t)||m(l,t)||(l[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=r)}(),e.define("almond",(function(){})),e.define("jquery",[],(function(){var e=t||r;return null==e&&console&&console.error,e})),e.define("select2/utils",["jquery"],(function(t){var e={};function n(t){var e=t.prototype,n=[];for(var r in e)"function"==typeof e[r]&&"constructor"!==r&&n.push(r);return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},e.Decorate=function(t,e){var r=n(e),o=n(t);function i(){var n=Array.prototype.unshift,r=e.prototype.constructor.length,o=t.prototype.constructor;r>0&&(n.call(arguments,t.prototype.constructor),o=e.prototype.constructor),o.apply(this,arguments)}e.displayName=t.displayName,i.prototype=new function(){this.constructor=i};for(var a=0;a<o.length;a++){var s=o[a];i.prototype[s]=t.prototype[s]}for(var u=function(t){var n=function(){};t in i.prototype&&(n=i.prototype[t]);var r=e.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,n),r.apply(this,arguments)}},l=0;l<r.length;l++){var c=r[l];i.prototype[c]=u(c)}return i};var r=function(){this.listeners={}};r.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},r.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].apply(this,e)},e.Observable=r,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),r=t;if(1!==n.length){for(var o=0;o<n.length;o++){var i=n[o];(i=i.substring(0,1).toLowerCase()+i.substring(1))in r||(r[i]={}),o==n.length-1&&(r[i]=t[e]),r=r[i]}delete t[e]}}return t},e.hasScroll=function(e,n){var r=t(n),o=n.style.overflowX,i=n.style.overflowY;return(o!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===o||"scroll"===i||r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var r=t();t.map(n,(function(t){r=r.add(t)})),n=r}e.append(n)},e.__cache={};var o=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},e.StoreData=function(t,n,r){var o=e.GetUniqueElementId(t);e.__cache[o]||(e.__cache[o]={}),e.__cache[o][n]=r},e.GetData=function(n,r){var o=e.GetUniqueElementId(n);return r?e.__cache[o]&&null!=e.__cache[o][r]?e.__cache[o][r]:t(n).data(r):e.__cache[o]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e})),e.define("select2/results",["jquery","./utils"],(function(t,e){function n(t,e,r){this.$element=t,this.data=r,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);r.append(n(o(e.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var r=t.results[n],o=this.option(r);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(r){var o=t.map(r,(function(t){return t.id.toString()}));n.$results.find(".select2-results__option[aria-selected]").each((function(){var n=t(this),r=e.GetData(this,"data"),i=""+r.id;null!=r.element&&r.element.selected||null==r.element&&t.inArray(i,o)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")}))}))},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var r=document.createElement("li");r.className="select2-results__option";var o={role:"option","aria-selected":"false"},i=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&i.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(r.id=n._resultId),n.title&&(r.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o){var s=o[a];r.setAttribute(a,s)}if(n.children){var u=t(r),l=document.createElement("strong");l.className="select2-results__group",t(l),this.template(n,l);for(var c=[],f=0;f<n.children.length;f++){var d=n.children[f],h=this.option(d);c.push(h)}var p=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});p.append(c),u.append(l),u.append(p)}else this.template(n,r);return e.StoreData(r,"data",n),r},n.prototype.bind=function(n,r){var o=this,i=n.id+"-results";this.$results.attr("id",i),n.on("results:all",(function(t){o.clear(),o.append(t.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(t){o.append(t.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(t){o.hideMessages(),o.showLoading(t)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),n.on("results:select",(function(){var t=o.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var r=n-1;0===t.length&&(r=0);var i=e.eq(r);i.trigger("mouseenter");var a=o.$results.offset().top,s=i.offset().top,u=o.$results.scrollTop()+(s-a);0===r?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(u)}})),n.on("results:next",(function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var i=o.$results.offset().top+o.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),s=o.$results.scrollTop()+a-i;0===n?o.$results.scrollTop(0):a>i&&o.$results.scrollTop(s)}})),n.on("results:focus",(function(t){t.element.addClass("select2-results__option--highlighted")})),n.on("results:message",(function(t){o.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,i=t.deltaY<0&&n<=o.$results.height();r?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):i&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option[aria-selected]",(function(n){var r=t(this),i=e.GetData(this,"data");"true"!==r.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:i}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:i}):o.trigger("close",{})})),this.$results.on("mouseenter",".select2-results__option[aria-selected]",(function(n){var r=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:r,element:t(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,r=t.offset().top,o=this.$results.scrollTop()+(r-n),i=r-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(i>this.$results.outerHeight()||i<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var r=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),i=r(e,n);null==i?n.style.display="none":"string"==typeof i?n.innerHTML=o(i):t(n).append(i)},n})),e.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),e.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,n){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return e.Extend(r,e.Observable),r.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},r.prototype.bind=function(t,e){var r=this,o=t.id+"-results";this.container=t,this.$selection.on("focus",(function(t){r.trigger("focus",t)})),this.$selection.on("blur",(function(t){r._handleBlur(t)})),this.$selection.on("keydown",(function(t){r.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){r.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){r.update(t.data)})),t.on("open",(function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",o),r._attachCloseHandler(t)})),t.on("close",(function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(t)})),t.on("enable",(function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")})),t.on("disable",(function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")}))},r.prototype._handleBlur=function(e){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)}),1)},r.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,(function(n){var r=t(n.target).closest(".select2");t(".select2.select2-container--open").each((function(){this!=r[0]&&e.GetData(this,"element").select2("close")}))}))},r.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},r.prototype.position=function(t,e){e.find(".selection").append(t)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r})),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,n,r){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var r=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",(function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(t){})),this.$selection.on("blur",(function(t){})),t.on("focus",(function(e){t.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(e,n);n.empty().append(r);var o=e.title||e.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),e.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,n){function r(t,e){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},r.prototype.bind=function(e,o){var i=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",(function(t){i.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){if(!i.isDisabled()){var r=t(this).parent(),o=n.GetData(r[0],"data");i.trigger("unselect",{originalEvent:e,data:o})}}))},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],r=0;r<t.length;r++){var o=t[r],i=this.selectionContainer(),a=this.display(o,i);i.append(a);var s=o.title||o.text;s&&i.attr("title",s),n.StoreData(i[0],"data",o),e.push(i)}var u=this.$selection.find(".select2-selection__rendered");n.appendMany(u,e)}},r})),e.define("select2/selection/placeholder",["../utils"],(function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e})),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(t,e,n){function r(){}return r.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error,this.$selection.on("mousedown",".select2-selection__clear",(function(t){r._handleClear(t)})),e.on("keypress",(function(t){r._handleKeyboardClear(t,e)}))},r.prototype._handleClear=function(t,e){if(!this.isDisabled()){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){e.stopPropagation();var o=n.GetData(r[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(i);else{for(var s=0;s<o.length;s++)if(a={data:o[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},r.prototype._handleKeyboardClear=function(t,n,r){r.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},r.prototype.update=function(e,r){if(e.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0||0===r.length)){var o=this.options.get("translations").get("removeAllItems"),i=t('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(i[0],"data",r),this.$selection.find(".select2-selection__rendered").prepend(i)}},r})),e.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,n){function r(t,e,n){t.call(this,e,n)}return r.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=e.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(t,r,o){var i=this,a=r.id+"-results";t.call(this,r,o),r.on("open",(function(){i.$search.attr("aria-controls",a),i.$search.trigger("focus")})),r.on("close",(function(){i.$search.val(""),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.trigger("focus")})),r.on("enable",(function(){i.$search.prop("disabled",!1),i._transferTabIndex()})),r.on("disable",(function(){i.$search.prop("disabled",!0)})),r.on("focus",(function(t){i.$search.trigger("focus")})),r.on("results:focus",(function(t){t.data._resultId?i.$search.attr("aria-activedescendant",t.data._resultId):i.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(t){i.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){i._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){if(t.stopPropagation(),i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===i.$search.val()){var r=i.$searchContainer.prev(".select2-selection__choice");if(r.length>0){var o=e.GetData(r[0],"data");i.searchRemoveChoice(o),t.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(t){i.$search.val()&&t.stopPropagation()}));var s=document.documentMode,u=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(t){u?i.$selection.off("input.search input.searchcheck"):i.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){if(u&&"input"===t.type)i.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&i.handleSearch(t)}}))},r.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},r.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},r})),e.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,n,r){var o=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,r),n.on("*",(function(e,n){if(-1!==t.inArray(e,i)){n=n||{};var r=t.Event("select2:"+e,{params:n});o.$element.trigger(r),-1!==t.inArray(e,a)&&(n.prevented=r.isDefaultPrevented())}}))},e})),e.define("select2/translation",["jquery","require"],(function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var r=e(t);n._cache[t]=r}return new n(n._cache[t])},n})),e.define("select2/diacritics",[],(function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}})),e.define("select2/data/base",["../utils"],(function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var r=e.id+"-result-";return r+=t.generateChars(4),null!=n.id?r+="-"+n.id.toString():r+="-"+t.generateChars(4),r},e})),e.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,n){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return e.Extend(r,t),r.prototype.current=function(t){var e=[],r=this;this.$element.find(":selected").each((function(){var t=n(this),o=r.item(t);e.push(o)})),t(e)},r.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(r){var o=[];(t=[t]).push.apply(t,r);for(var i=0;i<t.length;i++){var a=t[i].id;-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")}));else{var r=t.id;this.$element.val(r),this.$element.trigger("input").trigger("change")}},r.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(r){for(var o=[],i=0;i<r.length;i++){var a=r[i].id;a!==t.id&&-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")}))}},r.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",(function(t){n.select(t.data)})),t.on("unselect",(function(t){n.unselect(t.data)}))},r.prototype.destroy=function(){this.$element.find("*").each((function(){e.RemoveData(this)}))},r.prototype.query=function(t,e){var r=[],o=this;this.$element.children().each((function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var i=o.item(e),a=o.matches(t,i);null!==a&&r.push(a)}})),e({results:r})},r.prototype.addOptions=function(t){e.appendMany(this.$element,t)},r.prototype.option=function(t){var r;t.children?(r=document.createElement("optgroup")).label=t.text:void 0!==(r=document.createElement("option")).textContent?r.textContent=t.text:r.innerText=t.text,void 0!==t.id&&(r.value=t.id),t.disabled&&(r.disabled=!0),t.selected&&(r.selected=!0),t.title&&(r.title=t.title);var o=n(r),i=this._normalizeItem(t);return i.element=r,e.StoreData(r,"data",i),o},r.prototype.item=function(t){var r={};if(null!=(r=e.GetData(t[0],"data")))return r;if(t.is("option"))r={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){r={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),i=[],a=0;a<o.length;a++){var s=n(o[a]),u=this.item(s);i.push(u)}r.children=i}return(r=this._normalizeItem(r)).element=t[0],e.StoreData(t[0],"data",r),r},r.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},r.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},r})),e.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,n){function r(t,e){this._dataToConvert=e.get("data")||[],r.__super__.constructor.call(this,t,e)}return e.Extend(r,t),r.prototype.bind=function(t,e){r.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,n){return n.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),r.__super__.select.call(this,t)},r.prototype.convertToOptions=function(t){var r=this,o=this.$element.find("option"),i=o.map((function(){return r.item(n(this)).id})).get(),a=[];function s(t){return function(){return n(this).val()==t.id}}for(var u=0;u<t.length;u++){var l=this._normalizeItem(t[u]);if(n.inArray(l.id,i)>=0){var c=o.filter(s(l)),f=this.item(c),d=n.extend(!0,{},l,f),h=this.option(d);c.replaceWith(h)}else{var p=this.option(l);if(l.children){var m=this.convertToOptions(l.children);e.appendMany(p,m)}a.push(p)}}return a},r})),e.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,n){function r(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,t,e)}return e.Extend(r,t),r.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,r){var o=n.ajax(t);return o.then(e),o.fail(r),o}};return n.extend({},e,t,!0)},r.prototype.processResults=function(t){return t},r.prototype.query=function(t,e){var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function i(){var i=o.transport(o,(function(o){var i=r.processResults(o,t);r.options.get("debug")&&window.console&&console.error&&(!i||!i.results||n.isArray(i.results)),e(i)}),(function(){(!("status"in i)||0!==i.status&&"0"!==i.status)&&r.trigger("results:message",{message:"errorLoading"})}));r._request=i}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},r})),e.define("select2/data/tags",["jquery"],(function(t){function e(e,n,r){var o=r.get("tags"),i=r.get("createTag");void 0!==i&&(this.createTag=i);var a=r.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,r),t.isArray(o))for(var s=0;s<o.length;s++){var u=o[s],l=this._normalizeItem(u),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var r=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,(function t(o,i){for(var a=o.results,s=0;s<a.length;s++){var u=a[s],l=null!=u.children&&!t({results:u.children},!0);if((u.text||"").toUpperCase()===(e.term||"").toUpperCase()||l)return!i&&(o.data=a,void n(o))}if(i)return!0;var c=r.createTag(e);if(null!=c){var f=r.option(c);f.attr("data-select2-tag",!0),r.addOptions([f]),r.insertTag(a,c)}o.results=a,n(o)})):t.call(this,e,n)},e.prototype.createTag=function(e,n){var r=t.trim(n.term);return""===r?null:{id:r,text:r}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),e.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,r){var o=this;n.term=n.term||"";var i=this.tokenizer(n,this.options,(function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter((function(){return t(this).val()===n.id})).length){var r=o.option(n);r.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([r])}!function(t){o.trigger("select",{data:t})}(n)}));i.term!==n.term&&(this.$search.length&&(this.$search.val(i.term),this.$search.trigger("focus")),n.term=i.term),e.call(this,n,r)},e.prototype.tokenizer=function(e,n,r,o){for(var i=r.get("tokenSeparators")||[],a=n.term,s=0,u=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var l=a[s];if(-1!==t.inArray(l,i)){var c=a.substr(0,s),f=u(t.extend({},n,{term:c}));null!=f?(o(f),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e})),e.define("select2/data/minimumInputLength",[],(function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumInputLength",[],(function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",(function(){r._checkIfMaximumSelected()}))},t.prototype.query=function(t,e,n){var r=this;this._checkIfMaximumSelected((function(){t.call(r,e,n)}))},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current((function(t){var r=null!=t?t.length:0;n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()}))},t})),e.define("select2/dropdown",["jquery","./utils"],(function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),e.define("select2/dropdown/search",["jquery","../utils"],(function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),r=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(e,n,r){var o=this,i=n.id+"-results";e.call(this,n,r),this.$search.on("keydown",(function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(e){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){o.handleSearch(t)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",i),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))})),n.on("results:focus",(function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n})),e.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,r)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),r=e.length-1;r>=0;r--){var o=e[r];this.placeholder.id===o.id&&n.splice(r,1)}return n},t})),e.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,n,r){this.lastParams={},t.call(this,e,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("query",(function(t){r.lastParams=t,r.loading=!0})),e.on("query:append",(function(t){r.lastParams=t,r.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e})),e.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function n(e,n,r){this.$dropdownParent=t(r.get("dropdownParent")||document.body),e.call(this,n,r)}return n.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("open",(function(){r._showDropdown(),r._attachPositioningHandler(e),r._bindContainerResultHandlers(e)})),e.on("close",(function(){r._hideDropdown(),r._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),r=e.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,r){var o=this,i="scroll.select2."+r.id,a="resize.select2."+r.id,s="orientationchange.select2."+r.id,u=this.$container.parents().filter(e.hasScroll);u.each((function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),u.on(i,(function(n){var r=e.GetData(this,"select2-scroll-position");t(this).scrollTop(r.y)})),t(window).on(i+" "+a+" "+s,(function(t){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,r){var o="scroll.select2."+r.id,i="resize.select2."+r.id,a="orientationchange.select2."+r.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+i+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),o=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=i.top,a.bottom=i.top+a.height;var s=this.$dropdown.outerHeight(!1),u=e.scrollTop(),l=e.scrollTop()+e.height(),c=u<i.top-s,f=l>i.bottom+s,d={left:i.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p={top:0,left:0};(t.contains(document.body,h[0])||h[0].isConnected)&&(p=h.offset()),d.top-=p.top,d.left-=p.left,n||r||(o="below"),f||!c||n?!c&&f&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(d.top=a.top-p.top-s),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),e.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(t,e,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,r)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,r=0;r<e.length;r++){var o=e[r];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t})),e.define("select2/dropdown/selectOnClose",["../utils"],(function(t){function e(){}return e.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("close",(function(t){r._handleSelectOnClose(t)}))},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var r=n.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var i=t.GetData(o[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},e})),e.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",(function(t){r._selectTriggered(t)})),e.on("unselect",(function(t){r._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t})),e.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}})),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],(function(t,e,n,r,o,i,a,s,u,l,c,f,d,h,p,m,g,v,y,b,w,x,_,k,C,S,T,E,O){function A(){this.reset()}return A.prototype.apply=function(c){if(null==(c=t.extend(!0,{},this.defaults,c)).dataAdapter){if(null!=c.ajax?c.dataAdapter=p:null!=c.data?c.dataAdapter=h:c.dataAdapter=d,c.minimumInputLength>0&&(c.dataAdapter=l.Decorate(c.dataAdapter,v)),c.maximumInputLength>0&&(c.dataAdapter=l.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=l.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=l.Decorate(c.dataAdapter,m)),null==c.tokenSeparators&&null==c.tokenizer||(c.dataAdapter=l.Decorate(c.dataAdapter,g)),null!=c.query){var f=e(c.amdBase+"compat/query");c.dataAdapter=l.Decorate(c.dataAdapter,f)}if(null!=c.initSelection){var O=e(c.amdBase+"compat/initSelection");c.dataAdapter=l.Decorate(c.dataAdapter,O)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=l.Decorate(c.resultsAdapter,k)),null!=c.placeholder&&(c.resultsAdapter=l.Decorate(c.resultsAdapter,_)),c.selectOnClose&&(c.resultsAdapter=l.Decorate(c.resultsAdapter,T))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=w;else{var A=l.Decorate(w,x);c.dropdownAdapter=A}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=l.Decorate(c.dropdownAdapter,S)),c.closeOnSelect&&(c.dropdownAdapter=l.Decorate(c.dropdownAdapter,E)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var D=e(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=l.Decorate(c.dropdownAdapter,D)}c.dropdownAdapter=l.Decorate(c.dropdownAdapter,C)}if(null==c.selectionAdapter){if(c.multiple?c.selectionAdapter=o:c.selectionAdapter=r,null!=c.placeholder&&(c.selectionAdapter=l.Decorate(c.selectionAdapter,i)),c.allowClear&&(c.selectionAdapter=l.Decorate(c.selectionAdapter,a)),c.multiple&&(c.selectionAdapter=l.Decorate(c.selectionAdapter,s)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var N=e(c.amdBase+"compat/containerCss");c.selectionAdapter=l.Decorate(c.selectionAdapter,N)}c.selectionAdapter=l.Decorate(c.selectionAdapter,u)}c.language=this._resolveLanguage(c.language),c.language.push("en");for(var P=[],M=0;M<c.language.length;M++){var L=c.language[M];-1===P.indexOf(L)&&P.push(L)}return c.language=P,c.translations=this._processTranslations(c.language,c.debug),c},A.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return f[t]||t}))}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:l.escapeMarkup,language:{},matcher:function n(r,o){if(""===t.trim(r.term))return o;if(o.children&&o.children.length>0){for(var i=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--)null==n(r,o.children[a])&&i.children.splice(a,1);return i.children.length>0?i:n(r,i)}var s=e(o.text).toUpperCase(),u=e(r.term).toUpperCase();return s.indexOf(u)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},A.prototype.applyFromElement=function(t,e){var n=t.language,r=this.defaults.language,o=e.prop("lang"),i=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(i));return t.language=a,t},A.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var r=[],o=0;o<n.length;o++)if(r.push(n[o]),"string"==typeof n[o]&&n[o].indexOf("-")>0){var i=n[o].split("-")[0];r.push(i)}return r},A.prototype._processTranslations=function(e,n){for(var r=new c,o=0;o<e.length;o++){var i=new c,a=e[o];if("string"==typeof a)try{i=c.loadPath(a)}catch(t){try{a=this.defaults.amdLanguageBase+a,i=c.loadPath(a)}catch(t){n&&window.console&&console.warn}}else i=t.isPlainObject(a)?new c(a):a;r.extend(i)}return r},A.prototype.set=function(e,n){var r={};r[t.camelCase(e)]=n;var o=l._convertData(r);t.extend(!0,this.defaults,o)},new A})),e.define("select2/options",["require","jquery","./defaults","./utils"],(function(t,e,n,r){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var i=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,i)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),r.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn,r.StoreData(t[0],"data",r.GetData(t[0],"select2Tags")),r.StoreData(t[0],"tags",!0)),r.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn,t.attr("ajax--url",r.GetData(t[0],"ajaxUrl")),r.StoreData(t[0],"ajax-Url",r.GetData(t[0],"ajaxUrl")));var o={};function i(t,e){return e.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name;if("data-"==s.substr(0,"data-".length)){var u=s.substring("data-".length),l=r.GetData(t[0],u);o[u.replace(/-([a-z])/g,i)]=l}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(o=e.extend(!0,{},t[0].dataset,o));var c=e.extend(!0,{},r.GetData(t[0]),o);for(var f in c=r._convertData(c))e.inArray(f,n)>-1||(e.isPlainObject(this.options[f])?e.extend(this.options[f],c[f]):this.options[f]=c[f]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o})),e.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,n,r){var o=function(t,r){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),r=r||{},this.options=new e(r,t),o.__super__.constructor.call(this);var i=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",i),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var u=this.options.get("selectionAdapter");this.selection=new u(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var f=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){f.trigger("selection:update",{data:t})})),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var r=this._resolveWidth(t,"style");return null!=r?r:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var i=t.attr("style");if("string"!=typeof i)return null;for(var a=i.split(";"),s=0,u=a.length;s<u;s+=1){var l=a[s].replace(/\s/g,"").match(n);if(null!==l&&l.length>=1)return l[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",(function(){t.dataAdapter.current((function(e){t.trigger("selection:update",{data:e})}))})),this.$element.on("focus.select2",(function(e){t.trigger("focus",e)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e((function(e){t._syncA(),t._syncS(null,e)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",(function(){e.toggleDropdown()})),this.selection.on("focus",(function(t){e.focus(t)})),this.selection.on("*",(function(r,o){-1===t.inArray(r,n)&&e.trigger(r,o)}))},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container.addClass("select2-container--open")})),this.on("close",(function(){t.$container.removeClass("select2-container--open")})),this.on("enable",(function(){t.$container.removeClass("select2-container--disabled")})),this.on("disable",(function(){t.$container.addClass("select2-container--disabled")})),this.on("blur",(function(){t.$container.removeClass("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(n){t.trigger("results:all",{data:n,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(n){t.trigger("results:append",{data:n,query:e})}))})),this.on("keypress",(function(e){var n=e.which;t.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&e.altKey?(t.close(e),e.preventDefault()):n===r.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===r.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===r.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===r.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(e,n){var r=!1,o=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(n)if(n.addedNodes&&n.addedNodes.length>0)for(var i=0;i<n.addedNodes.length;i++)n.addedNodes[i].selected&&(r=!0);else n.removedNodes&&n.removedNodes.length>0?r=!0:t.isArray(n)&&t.each(n,(function(t,e){if(o._isChangeMutation(t,e))return r=!0,!1}));else r=!0;return r}},o.prototype._syncSubtree=function(t,e){var n=this._isChangeMutation(t,e),r=this;n&&this.dataAdapter.current((function(t){r.trigger("selection:update",{data:t})}))},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in r){var i=r[t],a={prevented:!1,name:t,args:e};if(n.call(this,i,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn,null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn;var t=[];return this.dataAdapter.current((function(e){t=e})),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn,null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,(function(t){return t.toString()}))),this.$element.val(n).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},o})),e.define("jquery-mousewheel",["jquery"],(function(t){return t})),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(t,e,n,r,o){if(null==t.fn.select2){var i=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each((function(){var r=t.extend(!0,{},e);new n(t(this),r)})),this;if("string"==typeof e){var r,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error,r=t[e].apply(t,a)})),t.inArray(e,i)>-1?this:r}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=r),n})),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})?o.apply(e,i):o)||(t.exports=a)}).call(this,n("EVdn"))},DlQD:function(t,e,n){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}var r=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){function e(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}t.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:e,changeDefaults:function(e){t.exports.defaults=e}}})),o=(r.defaults,r.getDefaults,r.changeDefaults,/[&<>"']/),i=/[&<>"']/g,a=/[<>"']|&(?!#?\w+;)/,s=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l=function(t){return u[t]},c=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function f(t){return t.replace(c,(function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))}var d=/(^|[^\[])\^/g,h=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,m={},g=/^[^:]+:\/*[^/]*$/,v=/^([^:]+:)[\s\S]*$/,y=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(t,e){m[" "+t]||(g.test(t)?m[" "+t]=t+"/":m[" "+t]=w(t,"/",!0));var n=-1===(t=m[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(v,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(y,"$1")+e:t+e}function w(t,e,n){var r=t.length;if(0===r)return"";for(var o=0;o<r;){var i=t.charAt(r-o-1);if(i!==e||n){if(i===e||!n)break;o++}else o++}return t.substr(0,r-o)}var x=function(t,e){if(e){if(o.test(t))return t.replace(i,l)}else if(a.test(t))return t.replace(s,l);return t},_=f,k=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(d,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},C=function(t,e,n){if(t){var r;try{r=decodeURIComponent(f(n)).replace(h,"").toLowerCase()}catch(t){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!p.test(n)&&(n=b(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(t){return null}return n},S={exec:function(){}},T=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},E=function(t,e){var n=t.replace(/\|/g,(function(t,e,n){for(var r=!1,o=e;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"})).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},O=w,A=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,o=0;o<n;o++)if("\\"===t[o])o++;else if(t[o]===e[0])r++;else if(t[o]===e[1]&&--r<0)return o;return-1},D=function(t){t&&t.sanitize&&t.silent},N=r.defaults,P=O,M=E,L=x,R=A;function I(t,e,n){var r=e.href,o=e.title?L(e.title):null,i=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:o,text:i}:{type:"image",raw:n,href:r,title:o,text:L(i)}}var B=function(){function t(t){this.options=t||N}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t,e){var n=this.rules.block.code.exec(t);if(n){var r=e[e.length-1];if(r&&"paragraph"===r.type)return{raw:n[0],text:n[0].trimRight()};var o=n[0].replace(/^ {4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?o:P(o,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map((function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t})).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[1].length,text:e[2]}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:M(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,o=n.align.length;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.cells.length,r=0;r<o;r++)n.cells[r]=M(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){for(var n,r,o,i,a,s,u,l=e[0],c=e[2],f=c.length>1,d=")"===c[c.length-1],h={type:"list",raw:l,ordered:f,start:f?+c.slice(0,-1):"",loose:!1,items:[]},p=e[0].match(this.rules.block.item),m=!1,g=p.length,v=0;v<g;v++)l=n=p[v],r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) */,"")).indexOf("\n ")&&(r-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+r+"}","gm"),"")),v!==g-1&&(o=this.rules.block.bullet.exec(p[v+1])[0],(f?1===o.length||!d&&")"===o[o.length-1]:o.length>1||this.options.smartLists&&o!==c)&&(i=p.slice(v+1).join("\n"),h.raw=h.raw.substring(0,h.raw.length-i.length),v=g-1)),a=m||/\n\n(?!\s*$)/.test(n),v!==g-1&&(m="\n"===n.charAt(n.length-1),a||(a=m)),a&&(h.loose=!0),u=void 0,(s=/^\[[ xX]\] /.test(n))&&(u=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,"")),h.items.push({type:"list_item",raw:l,task:s,checked:u,loose:a,text:n});return h}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):L(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:M(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,o=n.align.length;for(r=0;r<o;r++)/^ *-+: *$/.test(n.align[r])?n.align[r]="right":/^ *:-+: *$/.test(n.align[r])?n.align[r]="center":/^ *:-+ *$/.test(n.align[r])?n.align[r]="left":n.align[r]=null;for(o=n.cells.length,r=0;r<o;r++)n.cells[r]=M(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t,e){var n=this.rules.block.text.exec(t);if(n){var r=e[e.length-1];return r&&"text"===r.type?{raw:n[0],text:n[0]}:{type:"text",raw:n[0],text:n[0]}}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:L(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):L(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=R(e[2],"()");if(n>-1){var r=(0===e[0].indexOf("!")?5:4)+e[1].length+n;e[2]=e[2].substring(0,n),e[0]=e[0].substring(0,r).trim(),e[3]=""}var o=e[2],i="";if(this.options.pedantic){var a=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);a?(o=a[1],i=a[3]):i=""}else i=e[3]?e[3].slice(1,-1):"";return I(e,{href:(o=o.trim().replace(/^<([\s\S]*)>$/,"$1"))?o.replace(this.rules.inline._escapes,"$1"):o,title:i?i.replace(this.rules.inline._escapes,"$1"):i},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return I(n,r,n[0])}},e.strong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.strong.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var o,i="**"===r[0]?this.rules.inline.strong.endAst:this.rules.inline.strong.endUnd;for(i.lastIndex=0;null!=(r=i.exec(e));)if(o=this.rules.inline.strong.middle.exec(e.slice(0,r.index+3)))return{type:"strong",raw:t.slice(0,o[0].length),text:t.slice(2,o[0].length-2)}}},e.em=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.em.start.exec(t);if(r&&(!r[1]||r[1]&&(""===n||this.rules.inline.punctuation.exec(n)))){e=e.slice(-1*t.length);var o,i="*"===r[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd;for(i.lastIndex=0;null!=(r=i.exec(e));)if(o=this.rules.inline.em.middle.exec(e.slice(0,r.index+2)))return{type:"em",raw:t.slice(0,o[0].length),text:t.slice(1,o[0].length-1)}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),o=n.startsWith(" ")&&n.endsWith(" ");return r&&o&&(n=n.substring(1,n.length-1)),n=L(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[1]}},e.autolink=function(t,e){var n,r,o=this.rules.inline.autolink.exec(t);if(o)return r="@"===o[2]?"mailto:"+(n=L(this.options.mangle?e(o[1]):o[1])):n=L(o[1]),{type:"link",raw:o[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,o;if("@"===n[2])o="mailto:"+(r=L(this.options.mangle?e(n[0]):n[0]));else{var i;do{i=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(i!==n[0]);r=L(n[0]),o="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,o=this.rules.inline.text.exec(t);if(o)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):L(o[0]):o[0]:L(this.options.smartypants?n(o[0]):o[0]),{type:"text",raw:o[0],text:r}},t}(),F=S,j=k,z=T,H={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:F,table:F,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};H.def=j(H.def).replace("label",H._label).replace("title",H._title).getRegex(),H.bullet=/(?:[*+-]|\d{1,9}[.)])/,H.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,H.item=j(H.item,"gm").replace(/bull/g,H.bullet).getRegex(),H.list=j(H.list).replace(/bull/g,H.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+H.def.source+")").getRegex(),H._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",H._comment=/<!--(?!-?>)[\s\S]*?-->/,H.html=j(H.html,"i").replace("comment",H._comment).replace("tag",H._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),H.paragraph=j(H._paragraph).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.blockquote=j(H.blockquote).replace("paragraph",H.paragraph).getRegex(),H.normal=z({},H),H.gfm=z({},H.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),H.gfm.nptable=j(H.gfm.nptable).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.gfm.table=j(H.gfm.table).replace("hr",H.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",H._tag).getRegex(),H.pedantic=z({},H.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",H._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:F,paragraph:j(H.normal._paragraph).replace("hr",H.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",H.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var q={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:F,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation\s])|$)/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:F,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};q.punctuation=j(q.punctuation).replace(/punctuation/g,q._punctuation).getRegex(),q._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|<[^>]*?>",q._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*",q.em.start=j(q.em.start).replace(/punctuation/g,q._punctuation).getRegex(),q.em.middle=j(q.em.middle).replace(/punctuation/g,q._punctuation).replace(/overlapSkip/g,q._overlapSkip).getRegex(),q.em.endAst=j(q.em.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.em.endUnd=j(q.em.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.start=j(q.strong.start).replace(/punctuation/g,q._punctuation).getRegex(),q.strong.middle=j(q.strong.middle).replace(/punctuation/g,q._punctuation).replace(/blockSkip/g,q._blockSkip).getRegex(),q.strong.endAst=j(q.strong.endAst,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.strong.endUnd=j(q.strong.endUnd,"g").replace(/punctuation/g,q._punctuation).getRegex(),q.blockSkip=j(q._blockSkip,"g").getRegex(),q.overlapSkip=j(q._overlapSkip,"g").getRegex(),q._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,q._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,q._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,q.autolink=j(q.autolink).replace("scheme",q._scheme).replace("email",q._email).getRegex(),q._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,q.tag=j(q.tag).replace("comment",H._comment).replace("attribute",q._attribute).getRegex(),q._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,q._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,q._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,q.link=j(q.link).replace("label",q._label).replace("href",q._href).replace("title",q._title).getRegex(),q.reflink=j(q.reflink).replace("label",q._label).getRegex(),q.reflinkSearch=j(q.reflinkSearch,"g").replace("reflink",q.reflink).replace("nolink",q.nolink).getRegex(),q.normal=z({},q),q.pedantic=z({},q.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",q._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q._label).getRegex()}),q.gfm=z({},q.normal,{escape:j(q.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),q.gfm.url=j(q.gfm.url,"i").replace("email",q.gfm._extended_email).getRegex(),q.breaks=z({},q.gfm,{br:j(q.br).replace("{2,}","*").getRegex(),text:j(q.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var U={block:H,inline:q},W=r.defaults,V=U.block,$=U.inline;function G(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Y(t){var e,n,r="",o=t.length;for(e=0;e<o;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var K=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||W,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:V.normal,inline:$.normal};this.options.pedantic?(e.block=V.pedantic,e.inline=$.pedantic):this.options.gfm&&(e.block=V.gfm,this.options.breaks?e.inline=$.breaks:e.inline=$.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)};var n,r,o,i=e.prototype;return i.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(t,e,n){var r,o,i,a;for(void 0===e&&(e=[]),void 0===n&&(n=!0),t=t.replace(/^ +$/gm,"");t;)if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((a=e[e.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),i=r.items.length,o=0;o<i;o++)r.items[o].tokens=this.blockTokens(r.items[o].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.paragraph(t)))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.text(t,e))t=t.substring(r.raw.length),r.type?e.push(r):((a=e[e.length-1]).raw+="\n"+r.raw,a.text+="\n"+r.text);else if(t){var s="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw new Error(s)}return e},i.inline=function(t){var e,n,r,o,i,a,s=t.length;for(e=0;e<s;e++)switch((a=t[e]).type){case"paragraph":case"text":case"heading":a.tokens=[],this.inlineTokens(a.text,a.tokens);break;case"table":for(a.tokens={header:[],cells:[]},o=a.header.length,n=0;n<o;n++)a.tokens.header[n]=[],this.inlineTokens(a.header[n],a.tokens.header[n]);for(o=a.cells.length,n=0;n<o;n++)for(i=a.cells[n],a.tokens.cells[n]=[],r=0;r<i.length;r++)a.tokens.cells[n][r]=[],this.inlineTokens(i[r],a.tokens.cells[n][r]);break;case"blockquote":this.inline(a.tokens);break;case"list":for(o=a.items.length,n=0;n<o;n++)this.inline(a.items[n].tokens)}return t},i.inlineTokens=function(t,e,n,r,o){var i;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o="");var a,s=t;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;t;)if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.strong(t,s,o))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.em(t,s,o))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,Y))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,Y))){if(i=this.tokenizer.inlineText(t,r,G))t=t.substring(i.raw.length),o=i.raw.slice(-1),e.push(i);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent)break;throw new Error(l)}}else t=t.substring(i.raw.length),e.push(i);return e},n=e,o=[{key:"rules",get:function(){return{block:V,inline:$}}}],(r=null)&&t(n.prototype,r),o&&t(n,o),e}(),Z=r.defaults,X=C,J=x,Q=function(){function t(t){this.options=t||Z}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(t,r);null!=o&&o!==t&&(n=!0,t=o)}return r?'<pre><code class="'+this.options.langPrefix+J(r,!0)+'">'+(n?t:J(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:J(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=X(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+J(t)+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=X(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},e.text=function(t){return t},t}(),tt=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),et=function(){function t(){this.seen={}}return t.prototype.slug=function(t){var e=t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(e)){var n=e;do{this.seen[n]++,e=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(e))}return this.seen[e]=0,e},t}(),nt=r.defaults,rt=_,ot=function(){function t(t){this.options=t||nt,this.options.renderer=this.options.renderer||new Q,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tt,this.slugger=new et}t.parse=function(e,n){return new t(n).parse(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,o,i,a,s,u,l,c,f,d,h,p,m,g,v,y,b,w="",x=t.length;for(n=0;n<x;n++)switch((f=t[n]).type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(f.tokens),f.depth,rt(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(l="",u="",i=f.header.length,r=0;r<i;r++)u+=this.renderer.tablecell(this.parseInline(f.tokens.header[r]),{header:!0,align:f.align[r]});for(l+=this.renderer.tablerow(u),c="",i=f.cells.length,r=0;r<i;r++){for(u="",a=(s=f.tokens.cells[r]).length,o=0;o<a;o++)u+=this.renderer.tablecell(this.parseInline(s[o]),{header:!1,align:f.align[o]});c+=this.renderer.tablerow(u)}w+=this.renderer.table(l,c);continue;case"blockquote":c=this.parse(f.tokens),w+=this.renderer.blockquote(c);continue;case"list":for(d=f.ordered,h=f.start,p=f.loose,i=f.items.length,c="",r=0;r<i;r++)v=(g=f.items[r]).checked,y=g.task,m="",g.task&&(b=this.renderer.checkbox(v),p?g.tokens.length>0&&"text"===g.tokens[0].type?(g.tokens[0].text=b+" "+g.tokens[0].text,g.tokens[0].tokens&&g.tokens[0].tokens.length>0&&"text"===g.tokens[0].tokens[0].type&&(g.tokens[0].tokens[0].text=b+" "+g.tokens[0].tokens[0].text)):g.tokens.unshift({type:"text",text:b}):m+=b),m+=this.parse(g.tokens,p),c+=this.renderer.listitem(m,y,v);w+=this.renderer.list(c,d,h);continue;case"html":w+=this.renderer.html(f.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(c=f.tokens?this.parseInline(f.tokens):f.text;n+1<x&&"text"===t[n+1].type;)c+="\n"+((f=t[++n]).tokens?this.parseInline(f.tokens):f.text);w+=e?this.renderer.paragraph(c):c;continue;default:var _='Token with "'+f.type+'" type was not found.';if(this.options.silent)return;throw new Error(_)}return w},e.parseInline=function(t,e){e=e||this.renderer;var n,r,o="",i=t.length;for(n=0;n<i;n++)switch((r=t[n]).type){case"escape":o+=e.text(r.text);break;case"html":o+=e.html(r.text);break;case"link":o+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":o+=e.image(r.href,r.title,r.text);break;case"strong":o+=e.strong(this.parseInline(r.tokens,e));break;case"em":o+=e.em(this.parseInline(r.tokens,e));break;case"codespan":o+=e.codespan(r.text);break;case"br":o+=e.br();break;case"del":o+=e.del(this.parseInline(r.tokens,e));break;case"text":o+=e.text(r.text);break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return;throw new Error(a)}return o},t}(),it=T,at=D,st=x,ut=r.getDefaults,lt=r.changeDefaults,ct=r.defaults;function ft(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=it({},ft.defaults,e||{}),at(e),n){var r,o=e.highlight;try{r=K.lex(t,e)}catch(t){return n(t)}var i=function(t){var i;if(!t)try{i=ot.parse(r,e)}catch(e){t=e}return e.highlight=o,t?n(t):n(null,i)};if(!o||o.length<3)return i();if(delete e.highlight,!r.length)return i();var a=0;return ft.walkTokens(r,(function(t){"code"===t.type&&(a++,setTimeout((function(){o(t.text,t.lang,(function(e,n){if(e)return i(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--a&&i()}))}),0))})),void(0===a&&i())}try{var s=K.lex(t,e);return e.walkTokens&&ft.walkTokens(s,e.walkTokens),ot.parse(s,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+st(t.message+"",!0)+"</pre>";throw t}}return ft.options=ft.setOptions=function(t){return it(ft.defaults,t),lt(ft.defaults),ft},ft.getDefaults=ut,ft.defaults=ct,ft.use=function(t){var e=it({},t);if(t.renderer&&function(){var n=ft.defaults.renderer||new Q,r=function(e){var r=n[e];n[e]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.renderer[e].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}};for(var o in t.renderer)r(o);e.renderer=n}(),t.tokenizer&&function(){var n=ft.defaults.tokenizer||new B,r=function(e){var r=n[e];n[e]=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var s=t.tokenizer[e].apply(n,i);return!1===s&&(s=r.apply(n,i)),s}};for(var o in t.tokenizer)r(o);e.tokenizer=n}(),t.walkTokens){var n=ft.defaults.walkTokens;e.walkTokens=function(e){t.walkTokens(e),n&&n(e)}}ft.setOptions(e)},ft.walkTokens=function(t,e){for(var r,o=n(t);!(r=o()).done;){var i=r.value;switch(e(i),i.type){case"table":for(var a,s=n(i.tokens.header);!(a=s()).done;){var u=a.value;ft.walkTokens(u,e)}for(var l,c=n(i.tokens.cells);!(l=c()).done;)for(var f,d=n(l.value);!(f=d()).done;){var h=f.value;ft.walkTokens(h,e)}break;case"list":ft.walkTokens(i.items,e);break;default:i.tokens&&ft.walkTokens(i.tokens,e)}}},ft.Parser=ot,ft.parser=ot.parse,ft.Renderer=Q,ft.TextRenderer=tt,ft.Lexer=K,ft.lexer=K.lex,ft.Tokenizer=B,ft.Slugger=et,ft.parse=ft,ft}()},DvpE:function(t,e,n){n("S9xt")},EVdn:function(t,e,n){var r;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,o){"use strict";var i=[],a=Object.getPrototypeOf,s=i.slice,u=i.flat?function(t){return i.flat.call(t)}:function(t){return i.concat.apply([],t)},l=i.push,c=i.indexOf,f={},d=f.toString,h=f.hasOwnProperty,p=h.toString,m=p.call(Object),g={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},b=n.document,w={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,o,i=(n=n||b).createElement("script");if(i.text=t,e)for(r in w)(o=e[r]||e.getAttribute&&e.getAttribute(r))&&i.setAttribute(r,o);n.head.appendChild(i).parentNode.removeChild(i)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[d.call(t)]||"object":typeof t}var k=function(t,e){return new k.fn.init(t,e)};function C(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.5.1",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:i.sort,splice:i.splice},k.extend=k.fn.extend=function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(l&&r&&(k.isPlainObject(r)||(o=Array.isArray(r)))?(n=a[e],i=o&&!Array.isArray(n)?[]:o||k.isPlainObject(n)?n:{},o=!1,a[e]=k.extend(l,i,r)):void 0!==r&&(a[e]=r));return a},k.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t))&&(!(e=a(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&p.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(C(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?k.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,a=!n;o<i;o++)!e(t[o],o)!==a&&r.push(t[o]);return r},map:function(t,e,n){var r,o,i=0,a=[];if(C(t))for(r=t.length;i<r;i++)null!=(o=e(t[i],i,n))&&a.push(o);else for(i in t)null!=(o=e(t[i],i,n))&&a.push(o);return u(a)},guid:1,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=i[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var S=function(t){var e,n,r,o,i,a,s,u,l,c,f,d,h,p,m,g,v,y,b,w="sizzle"+1*new Date,x=t.document,_=0,k=0,C=ut(),S=ut(),T=ut(),E=ut(),O=function(t,e){return t===e&&(f=!0),0},A={}.hasOwnProperty,D=[],N=D.pop,P=D.push,M=D.push,L=D.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\["+B+"*("+F+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+B+"*\\]",z=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",H=new RegExp(B+"+","g"),q=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),W=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),V=new RegExp(B+"|>"),$=new RegExp(z),G=new RegExp("^"+F+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},at=wt((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{M.apply(D=L.call(x.childNodes),x.childNodes),D[x.childNodes.length].nodeType}catch(t){M={apply:D.length?function(t,e){P.apply(t,L.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,o){var i,s,l,c,f,p,v,y=e&&e.ownerDocument,x=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return r;if(!o&&(d(e),e=e||h,m)){if(11!==x&&(f=Q.exec(t)))if(i=f[1]){if(9===x){if(!(l=e.getElementById(i)))return r;if(l.id===i)return r.push(l),r}else if(y&&(l=y.getElementById(i))&&b(e,l)&&l.id===i)return r.push(l),r}else{if(f[2])return M.apply(r,e.getElementsByTagName(t)),r;if((i=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return M.apply(r,e.getElementsByClassName(i)),r}if(n.qsa&&!E[t+" "]&&(!g||!g.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===x&&(V.test(t)||W.test(t))){for((y=tt.test(t)&&vt(e.parentNode)||e)===e&&n.scope||((c=e.getAttribute("id"))?c=c.replace(rt,ot):e.setAttribute("id",c=w)),s=(p=a(t)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+bt(p[s]);v=p.join(",")}try{return M.apply(r,y.querySelectorAll(v)),r}catch(e){E(t,!0)}finally{c===w&&e.removeAttribute("id")}}}return u(t.replace(q,"$1"),e,r,o)}function ut(){var t=[];return function e(n,o){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function lt(t){return t[w]=!0,t}function ct(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),o=n.length;o--;)r.attrHandle[n[o]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function mt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},i=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!K.test(e||n&&n.nodeName||"HTML")},d=st.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:x;return a!=h&&9===a.nodeType&&a.documentElement?(p=(h=a).documentElement,m=!i(h),x!=h&&(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.scope=ct((function(t){return p.appendChild(t).appendChild(h.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(h.getElementsByClassName),n.getById=ct((function(t){return p.appendChild(t).id=w,!h.getElementsByName||!h.getElementsByName(w).length})),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=J.test(h.querySelectorAll))&&(ct((function(t){var e;p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+I+")"),t.querySelectorAll("[id~="+w+"-]").length||g.push("~="),(e=h.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",z)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(p.compareDocumentPosition),b=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t==h||t.ownerDocument==x&&b(x,t)?-1:e==h||e.ownerDocument==x&&b(x,e)?1:c?R(c,t)-R(c,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!o||!i)return t==h?-1:e==h?1:o?-1:i?1:c?R(c,t)-R(c,e):0;if(o===i)return dt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?dt(a[r],s[r]):a[r]==x?-1:s[r]==x?1:0},h):h},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&m&&!E[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){E(e,!0)}return st(e,h,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=h&&d(t),b(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=h&&d(t);var o=r.attrHandle[e.toLowerCase()],i=o&&A.call(r.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==i?i:n.attributes||!m?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},st.escape=function(t){return(t+"").replace(rt,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],o=0,i=0;if(f=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(O),f){for(;e=t[i++];)e===t[i]&&(o=r.push(i));for(;o--;)t.splice(r[o],1)}return c=null,t},o=st.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=o(e);return n},(r=st.selectors={cacheLength:50,createPseudo:lt,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&$.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+B+")"+t+"("+B+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var o=st.attr(r,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,u){var l,c,f,d,h,p,m=i!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,b=!1;if(g){if(i){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(b=(h=(l=(c=(f=(d=g)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===_&&l[1])&&l[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[_,h,b];break}}else if(y&&(b=h=(l=(c=(f=(d=e)[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===_&&l[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(f=d[w]||(d[w]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]=[_,b]),d!==e)););return(b-=o)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,o=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var r,i=o(t,e),a=i.length;a--;)t[r=R(t,i[a])]=!(n[r]=i[a])})):function(t){return o(t,0,n)}):o}},pseudos:{not:lt((function(t){var e=[],n=[],r=s(t.replace(q,"$1"));return r[w]?lt((function(t,e,n,o){for(var i,a=r(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))})):function(t,o,i){return e[0]=t,r(e,null,i,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return st(t,e).length>0}})),contains:lt((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||o(e)).indexOf(t)>-1}})),lang:lt((function(t){return G.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return Z.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t})),gt:gt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=pt(e);function yt(){}function bt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function wt(t,e,n){var r=e.dir,o=e.next,i=o||r,a=n&&"parentNode"===i,s=k++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,o);return!1}:function(e,n,u){var l,c,f,d=[_,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(c=(f=e[w]||(e[w]={}))[e.uniqueID]||(f[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[r]||e;else{if((l=c[i])&&l[0]===_&&l[1]===s)return d[2]=l[2];if(c[i]=d,d[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function _t(t,e,n,r,o){for(var i,a=[],s=0,u=t.length,l=null!=e;s<u;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),l&&e.push(s)));return a}function kt(t,e,n,r,o,i){return r&&!r[w]&&(r=kt(r)),o&&!o[w]&&(o=kt(o,i)),lt((function(i,a,s,u){var l,c,f,d=[],h=[],p=a.length,m=i||function(t,e,n){for(var r=0,o=e.length;r<o;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!i&&e?m:_t(m,d,t,s,u),v=n?o||(i?t:p||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(l=_t(v,h),r(l,[],s,u),c=l.length;c--;)(f=l[c])&&(v[h[c]]=!(g[h[c]]=f));if(i){if(o||t){if(o){for(l=[],c=v.length;c--;)(f=v[c])&&l.push(g[c]=f);o(null,v=[],l,u)}for(c=v.length;c--;)(f=v[c])&&(l=o?R(i,f):d[c])>-1&&(i[l]=!(a[l]=f))}}else v=_t(v===a?v.splice(p,v.length):v),o?o(null,a,v,u):M.apply(a,v)}))}function Ct(t){for(var e,n,o,i=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,c=wt((function(t){return t===e}),s,!0),f=wt((function(t){return R(e,t)>-1}),s,!0),d=[function(t,n,r){var o=!a&&(r||n!==l)||((e=n).nodeType?c(t,n,r):f(t,n,r));return e=null,o}];u<i;u++)if(n=r.relative[t[u].type])d=[wt(xt(d),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[w]){for(o=++u;o<i&&!r.relative[t[o].type];o++);return kt(u>1&&xt(d),u>1&&bt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(q,"$1"),n,u<o&&Ct(t.slice(u,o)),o<i&&Ct(t=t.slice(o)),o<i&&bt(t))}d.push(n)}return xt(d)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,o,i,a,s,u,l,c=S[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=r.preFilter;s;){for(a in n&&!(o=U.exec(s))||(o&&(s=s.slice(o[0].length)||s),u.push(i=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(q," ")}),s=s.slice(n.length)),r.filter)!(o=Y[a].exec(s))||l[a]&&!(o=l[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):S(t,u).slice(0)},s=st.compile=function(t,e){var n,o=[],i=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=Ct(e[n]))[w]?o.push(s):i.push(s);(s=T(t,function(t,e){var n=e.length>0,o=t.length>0,i=function(i,a,s,u,c){var f,p,g,v=0,y="0",b=i&&[],w=[],x=l,k=i||o&&r.find.TAG("*",c),C=_+=null==x?1:Math.random()||.1,S=k.length;for(c&&(l=a==h||a||c);y!==S&&null!=(f=k[y]);y++){if(o&&f){for(p=0,a||f.ownerDocument==h||(d(f),s=!m);g=t[p++];)if(g(f,a||h,s)){u.push(f);break}c&&(_=C)}n&&((f=!g&&f)&&v--,i&&b.push(f))}if(v+=y,n&&y!==v){for(p=0;g=e[p++];)g(b,w,a,s);if(i){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=N.call(u));w=_t(w)}M.apply(u,w),c&&!i&&w.length>0&&v+e.length>1&&st.uniqueSort(u)}return c&&(_=C,l=x),b};return n?lt(i):i}(i,o))).selector=t}return s},u=st.select=function(t,e,n,o){var i,u,l,c,f,d="function"==typeof t&&t,h=!o&&a(t=d.selector||t);if(n=n||[],1===h.length){if((u=h[0]=h[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===e.nodeType&&m&&r.relative[u[1].type]){if(!(e=(r.find.ID(l.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(i=Y.needsContext.test(t)?0:u.length;i--&&(l=u[i],!r.relative[c=l.type]);)if((f=r.find[c])&&(o=f(l.matches[0].replace(et,nt),tt.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(i,1),!(t=o.length&&bt(u)))return M.apply(n,o),n;break}}return(d||s(t,h))(o,e,!m,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=w.split("").sort(O).join("")===w,n.detectDuplicates=!!f,d(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ft("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ft("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ft(I,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),st}(n);k.find=S,k.expr=S.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var T=function(t,e,n){for(var r=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&k(t).is(n))break;r.push(t)}return r},E=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=k.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(t,e,n){return v(e)?k.grep(t,(function(t,r){return!!e.call(t,r,t)!==n})):e.nodeType?k.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?k.grep(t,(function(t){return c.call(e,t)>-1!==n})):k.filter(e,t,n)}k.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?k.find.matchesSelector(r,t)?[r]:[]:k.find.matches(t,k.grep(e,(function(t){return 1===t.nodeType})))},k.fn.extend({find:function(t){var e,n,r=this.length,o=this;if("string"!=typeof t)return this.pushStack(k(t).filter((function(){for(e=0;e<r;e++)if(k.contains(o[e],this))return!0})));for(n=this.pushStack([]),e=0;e<r;e++)k.find(t,o[e],n);return r>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(N(this,t||[],!1))},not:function(t){return this.pushStack(N(this,t||[],!0))},is:function(t){return!!N(this,"string"==typeof t&&O.test(t)?k(t):t||[],!1).length}});var P,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||P,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:b,!0)),D.test(r[1])&&k.isPlainObject(e))for(r in e)v(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(o=b.getElementById(r[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,P=k(b);var L=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function I(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0}))},closest:function(t,e){var n,r=0,o=this.length,i=[],a="string"!=typeof t&&k(t);if(!O.test(t))for(;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?k.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?c.call(k(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return I(t,"nextSibling")},prev:function(t){return I(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return E((t.parentNode||{}).firstChild,t)},children:function(t){return E(t.firstChild)},contents:function(t){return null!=t.contentDocument&&a(t.contentDocument)?t.contentDocument:(A(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},(function(t,e){k.fn[t]=function(n,r){var o=k.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=k.filter(r,o)),this.length>1&&(R[t]||k.uniqueSort(o),L.test(t)&&o.reverse()),this.pushStack(o)}}));var B=/[^\x20\t\r\n\f]+/g;function F(t){return t}function j(t){throw t}function z(t,e,n,r){var o;try{t&&v(o=t.promise)?o.call(t).done(e).fail(n):t&&v(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(B)||[],(function(t,n){e[n]=!0})),e}(t):k.extend({},t);var e,n,r,o,i=[],a=[],s=-1,u=function(){for(o=o||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<i.length;)!1===i[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=i.length,n=!1);t.memory||(n=!1),e=!1,o&&(i=n?[]:"")},l={add:function(){return i&&(n&&!e&&(s=i.length-1,a.push(n)),function e(n){k.each(n,(function(n,r){v(r)?t.unique&&l.has(r)||i.push(r):r&&r.length&&"string"!==_(r)&&e(r)}))}(arguments),n&&!e&&u()),this},remove:function(){return k.each(arguments,(function(t,e){for(var n;(n=k.inArray(e,i,n))>-1;)i.splice(n,1),n<=s&&s--})),this},has:function(t){return t?k.inArray(t,i)>-1:i.length>0},empty:function(){return i&&(i=[]),this},disable:function(){return o=a=[],i=n="",this},disabled:function(){return!i},lock:function(){return o=a=[],n||e||(i=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return k.Deferred((function(n){k.each(e,(function(e,r){var o=v(t[r[4]])&&t[r[4]];i[r[1]]((function(){var t=o&&o.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[t]:arguments)}))})),t=null})).promise()},then:function(t,r,o){var i=0;function a(t,e,r,o){return function(){var s=this,u=arguments,l=function(){var n,l;if(!(t<i)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");l=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(l)?o?l.call(n,a(i,e,F,o),a(i,e,j,o)):(i++,l.call(n,a(i,e,F,o),a(i,e,j,o),a(i,e,F,e.notifyWith))):(r!==F&&(s=void 0,u=[n]),(o||e.resolveWith)(s,u))}},c=o?l:function(){try{l()}catch(n){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(n,c.stackTrace),t+1>=i&&(r!==j&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),n.setTimeout(c))}}return k.Deferred((function(n){e[0][3].add(a(0,n,v(o)?o:F,n.notifyWith)),e[1][3].add(a(0,n,v(t)?t:F)),e[2][3].add(a(0,n,v(r)?r:j))})).promise()},promise:function(t){return null!=t?k.extend(t,o):o}},i={};return k.each(e,(function(t,n){var a=n[2],s=n[5];o[n[1]]=a.add,s&&a.add((function(){r=s}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),i[n[0]]=function(){return i[n[0]+"With"](this===i?void 0:this,arguments),this},i[n[0]+"With"]=a.fireWith})),o.promise(i),t&&t.call(i,i),i},when:function(t){var e=arguments.length,n=e,r=Array(n),o=s.call(arguments),i=k.Deferred(),a=function(t){return function(n){r[t]=this,o[t]=arguments.length>1?s.call(arguments):n,--e||i.resolveWith(r,o)}};if(e<=1&&(z(t,i.done(a(n)).resolve,i.reject,!e),"pending"===i.state()||v(o[n]&&o[n].then)))return i.then();for(;n--;)z(o[n],a(n),i.reject);return i.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&H.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){n.setTimeout((function(){throw t}))};var q=k.Deferred();function U(){b.removeEventListener("DOMContentLoaded",U),n.removeEventListener("load",U),k.ready()}k.fn.ready=function(t){return q.then(t).catch((function(t){k.readyException(t)})),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==t&&--k.readyWait>0||q.resolveWith(b,[k]))}}),k.ready.then=q.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(k.ready):(b.addEventListener("DOMContentLoaded",U),n.addEventListener("load",U));var W=function(t,e,n,r,o,i,a){var s=0,u=t.length,l=null==n;if("object"===_(n))for(s in o=!0,n)W(t,e,s,n[s],!0,i,a);else if(void 0!==r&&(o=!0,v(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(k(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return o?t:l?e.call(t):u?e(t[0],n):i},V=/^-ms-/,$=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function Y(t){return t.replace(V,"ms-").replace($,G)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=k.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[Y(e)]=n;else for(r in e)o[Y(r)]=e[r];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in r?[e]:e.match(B)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||k.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var X=new Z,J=new Z,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(n)}catch(t){}J.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return J.hasData(t)||X.hasData(t)},data:function(t,e,n){return J.access(t,e,n)},removeData:function(t,e){J.remove(t,e)},_data:function(t,e,n){return X.access(t,e,n)},_removeData:function(t,e){X.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,r,o,i=this[0],a=i&&i.attributes;if(void 0===t){if(this.length&&(o=J.get(i),1===i.nodeType&&!X.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=Y(r.slice(5)),et(i,r,o[r]));X.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){J.set(this,t)})):W(this,(function(e){var n;if(i&&void 0===e)return void 0!==(n=J.get(i,t))||void 0!==(n=et(i,t))?n:void 0;this.each((function(){J.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){J.remove(this,t)}))}}),k.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=X.get(t,e),n&&(!r||Array.isArray(n)?r=X.access(t,e,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),r=n.length,o=n.shift(),i=k._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,(function(){k.dequeue(t,e)}),i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return X.get(t,n)||X.access(t,n,{empty:k.Callbacks("once memory").add((function(){X.remove(t,[e+"queue",n])}))})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each((function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){k.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=k.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=X.get(i[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],it=b.documentElement,at=function(t){return k.contains(t.ownerDocument,t)},st={composed:!0};it.getRootNode&&(at=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===k.css(t,"display")};function lt(t,e,n,r){var o,i,a=20,s=r?function(){return r.cur()}:function(){return k.css(t,e,"")},u=s(),l=n&&n[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==l&&+u)&&rt.exec(k.css(t,e));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)k.style(t,e,c+l),(1-i)*(1-(i=s()/u||.5))<=0&&(a=0),c/=i;c*=2,k.style(t,e,c+l),n=n||[]}return n&&(c=+c||+u||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=o)),o}var ct={};function ft(t){var e,n=t.ownerDocument,r=t.nodeName,o=ct[r];return o||(e=n.body.appendChild(n.createElement(r)),o=k.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),ct[r]=o,o)}function dt(t,e){for(var n,r,o=[],i=0,a=t.length;i<a;i++)(r=t[i]).style&&(n=r.style.display,e?("none"===n&&(o[i]=X.get(r,"display")||null,o[i]||(r.style.display="")),""===r.style.display&&ut(r)&&(o[i]=ft(r))):"none"!==n&&(o[i]="none",X.set(r,"display",n)));for(i=0;i<a;i++)null!=o[i]&&(t[i].style.display=o[i]);return t}k.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?k(this).show():k(this).hide()}))}});var ht,pt,mt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i;ht=b.createDocumentFragment().appendChild(b.createElement("div")),(pt=b.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),ht.appendChild(pt),g.checkClone=ht.cloneNode(!0).cloneNode(!0).lastChild.checked,ht.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ht.cloneNode(!0).lastChild.defaultValue,ht.innerHTML="<option></option>",g.option=!!ht.lastChild;var yt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function bt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?k.merge([t],n):n}function wt(t,e){for(var n=0,r=t.length;n<r;n++)X.set(t[n],"globalEval",!e||X.get(e[n],"globalEval"))}yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td,g.option||(yt.optgroup=yt.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function _t(t,e,n,r,o){for(var i,a,s,u,l,c,f=e.createDocumentFragment(),d=[],h=0,p=t.length;h<p;h++)if((i=t[h])||0===i)if("object"===_(i))k.merge(d,i.nodeType?[i]:i);else if(xt.test(i)){for(a=a||f.appendChild(e.createElement("div")),s=(gt.exec(i)||["",""])[1].toLowerCase(),u=yt[s]||yt._default,a.innerHTML=u[1]+k.htmlPrefilter(i)+u[2],c=u[0];c--;)a=a.lastChild;k.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(e.createTextNode(i));for(f.textContent="",h=0;i=d[h++];)if(r&&k.inArray(i,r)>-1)o&&o.push(i);else if(l=at(i),a=bt(f.appendChild(i),"script"),l&&wt(a),n)for(c=0;i=a[c++];)vt.test(i.type||"")&&n.push(i);return f}var kt=/^key/,Ct=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function Ot(t,e){return t===function(){try{return b.activeElement}catch(t){}}()==("focus"===e)}function At(t,e,n,r,o,i){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)At(t,s,n,r,e[s],i);return t}if(null==r&&null==o?(o=n,r=n=void 0):null==o&&("string"==typeof n?(o=r,r=void 0):(o=r,r=n,n=void 0)),!1===o)o=Et;else if(!o)return t;return 1===i&&(a=o,(o=function(t){return k().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),t.each((function(){k.event.add(this,e,o,r,n)}))}function Dt(t,e,n){n?(X.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var r,o,i=X.get(this,e);if(1&t.isTrigger&&this[e]){if(i.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(i=s.call(arguments),X.set(this,e,i),r=n(this,e),this[e](),i!==(o=X.get(this,e))||r?X.set(this,e,!1):o={},i!==o)return t.stopImmediatePropagation(),t.preventDefault(),o.value}else i.length&&(X.set(this,e,{value:k.event.trigger(k.extend(i[0],k.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===X.get(t,e)&&k.event.add(t,e,Tt)}k.event={global:{},add:function(t,e,n,r,o){var i,a,s,u,l,c,f,d,h,p,m,g=X.get(t);if(K(t))for(n.handler&&(n=(i=n).handler,o=i.selector),o&&k.find.matchesSelector(it,o),n.guid||(n.guid=k.guid++),(u=g.events)||(u=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(B)||[""]).length;l--;)h=m=(s=St.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),h&&(f=k.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=k.event.special[h]||{},c=k.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&k.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=u[h])||((d=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[h]=!0)},remove:function(t,e,n,r,o){var i,a,s,u,l,c,f,d,h,p,m,g=X.hasData(t)&&X.get(t);if(g&&(u=g.events)){for(l=(e=(e||"").match(B)||[""]).length;l--;)if(h=m=(s=St.exec(e[l])||[])[1],p=(s[2]||"").split(".").sort(),h){for(f=k.event.special[h]||{},d=u[h=(r?f.delegateType:f.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||k.removeEvent(t,h,g.handle),delete u[h])}else for(h in u)k.event.remove(t,h+e[l],n,r,!0);k.isEmptyObject(u)&&X.remove(t,"handle events")}},dispatch:function(t){var e,n,r,o,i,a,s=new Array(arguments.length),u=k.event.fix(t),l=(X.get(this,"events")||Object.create(null))[u.type]||[],c=k.event.special[u.type]||{};for(s[0]=u,e=1;e<arguments.length;e++)s[e]=arguments[e];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){for(a=k.event.handlers.call(this,u,l),e=0;(o=a[e++])&&!u.isPropagationStopped();)for(u.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==i.namespace&&!u.rnamespace.test(i.namespace)||(u.handleObj=i,u.data=i.data,void 0!==(r=((k.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(t,e){var n,r,o,i,a,s=[],u=e.delegateCount,l=t.target;if(u&&l.nodeType&&!("click"===t.type&&t.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==t.type||!0!==l.disabled)){for(i=[],a={},n=0;n<u;n++)void 0===a[o=(r=e[n]).selector+" "]&&(a[o]=r.needsContext?k(o,this).index(l)>-1:k.find(o,this,null,[l]).length),a[o]&&i.push(r);i.length&&s.push({elem:l,handlers:i})}return l=this,u<e.length&&s.push({elem:l,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return mt.test(e.type)&&e.click&&A(e,"input")&&Dt(e,"click",Tt),!1},trigger:function(t){var e=this||t;return mt.test(e.type)&&e.click&&A(e,"input")&&Dt(e,"click"),!0},_default:function(t){var e=t.target;return mt.test(e.type)&&e.click&&A(e,"input")&&X.get(e,"click")||A(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Ct.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(t,e){k.event.special[t]={setup:function(){return Dt(this,t,Ot),!1},trigger:function(){return Dt(this,t),!0},delegateType:e}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,o=t.relatedTarget,i=t.handleObj;return o&&(o===r||k.contains(r,o))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}})),k.fn.extend({on:function(t,e,n,r){return At(this,t,e,n,r)},one:function(t,e,n,r){return At(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,k(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each((function(){k.event.remove(this,t,n,e)}))}});var Nt=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Lt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function It(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,r,o,i,a,s;if(1===e.nodeType){if(X.hasData(t)&&(s=X.get(t).events))for(o in X.remove(e,"handle events"),s)for(n=0,r=s[o].length;n<r;n++)k.event.add(e,o,s[o][n]);J.hasData(t)&&(i=J.access(t),a=k.extend({},i),J.set(e,a))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&mt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function jt(t,e,n,r){e=u(e);var o,i,a,s,l,c,f=0,d=t.length,h=d-1,p=e[0],m=v(p);if(m||d>1&&"string"==typeof p&&!g.checkClone&&Pt.test(p))return t.each((function(o){var i=t.eq(o);m&&(e[0]=p.call(this,o,i.html())),jt(i,e,n,r)}));if(d&&(i=(o=_t(e,t[0].ownerDocument,!1,t,r)).firstChild,1===o.childNodes.length&&(o=i),i||r)){for(s=(a=k.map(bt(o,"script"),Rt)).length;f<d;f++)l=o,f!==h&&(l=k.clone(l,!0,!0),s&&k.merge(a,bt(l,"script"))),n.call(t[f],l,f);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,It),f=0;f<s;f++)l=a[f],vt.test(l.type||"")&&!X.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):x(l.textContent.replace(Mt,""),l,c))}return t}function zt(t,e,n){for(var r,o=e?k.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||k.cleanData(bt(r)),r.parentNode&&(n&&at(r)&&wt(bt(r,"script")),r.parentNode.removeChild(r));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,o,i,a,s=t.cloneNode(!0),u=at(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(a=bt(s),r=0,o=(i=bt(t)).length;r<o;r++)Ft(i[r],a[r]);if(e)if(n)for(i=i||bt(t),a=a||bt(s),r=0,o=i.length;r<o;r++)Bt(i[r],a[r]);else Bt(t,s);return(a=bt(s,"script")).length>0&&wt(a,!u&&bt(t,"script")),s},cleanData:function(t){for(var e,n,r,o=k.event.special,i=0;void 0!==(n=t[i]);i++)if(K(n)){if(e=n[X.expando]){if(e.events)for(r in e.events)o[r]?k.event.remove(n,r):k.removeEvent(n,r,e.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return W(this,(function(t){return void 0===t?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return jt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Lt(this,t).appendChild(t)}))},prepend:function(){return jt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Lt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(bt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return k.clone(this,t,e)}))},html:function(t){return W(this,(function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!yt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(bt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,(function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(bt(this)),n&&n.replaceChild(e,this))}),t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){k.fn[t]=function(t){for(var n,r=[],o=k(t),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),k(o[a])[e](n),l.apply(r,n.get());return this.pushStack(r)}}));var Ht=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),qt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=function(t,e,n){var r,o,i={};for(o in e)i[o]=t.style[o],t.style[o]=e[o];for(o in r=n.call(t),e)t.style[o]=i[o];return r},Wt=new RegExp(ot.join("|"),"i");function Vt(t,e,n){var r,o,i,a,s=t.style;return(n=n||qt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||at(t)||(a=k.style(t,e)),!g.pixelBoxStyles()&&Ht.test(a)&&Wt.test(e)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i)),void 0!==a?a+"":a}function $t(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",it.appendChild(l).appendChild(c);var t=n.getComputedStyle(c);r="1%"!==t.top,u=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),o=36===e(t.width),c.style.position="absolute",i=12===e(c.offsetWidth/3),it.removeChild(l),c=null}}function e(t){return Math.round(parseFloat(t))}var r,o,i,a,s,u,l=b.createElement("div"),c=b.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),i},reliableTrDimensions:function(){var t,e,r,o;return null==s&&(t=b.createElement("table"),e=b.createElement("tr"),r=b.createElement("div"),t.style.cssText="position:absolute;left:-11111px",e.style.height="1px",r.style.height="9px",it.appendChild(t).appendChild(e).appendChild(r),o=n.getComputedStyle(e),s=parseInt(o.height)>3,it.removeChild(t)),s}}))}();var Gt=["Webkit","Moz","ms"],Yt=b.createElement("div").style,Kt={};function Zt(t){var e=k.cssProps[t]||Kt[t];return e||(t in Yt?t:Kt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Gt.length;n--;)if((t=Gt[n]+e)in Yt)return t}(t)||t)}var Xt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Qt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"};function ee(t,e,n){var r=rt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ne(t,e,n,r,o,i){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=k.css(t,n+ot[a],!0,o)),r?("content"===n&&(u-=k.css(t,"padding"+ot[a],!0,o)),"margin"!==n&&(u-=k.css(t,"border"+ot[a]+"Width",!0,o))):(u+=k.css(t,"padding"+ot[a],!0,o),"padding"!==n?u+=k.css(t,"border"+ot[a]+"Width",!0,o):s+=k.css(t,"border"+ot[a]+"Width",!0,o));return!r&&i>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-i-u-s-.5))||0),u}function re(t,e,n){var r=qt(t),o=(!g.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,r),i=o,a=Vt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(a)){if(!n)return a;a="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&A(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(t,"display",!1,r))&&t.getClientRects().length&&(o="border-box"===k.css(t,"boxSizing",!1,r),(i=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ne(t,e,n||(o?"border":"content"),i,r,a)+"px"}function oe(t,e,n,r,o){return new oe.prototype.init(t,e,n,r,o)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Vt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,a,s=Y(e),u=Jt.test(e),l=t.style;if(u||(e=Zt(s)),a=k.cssHooks[e]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(o=a.get(t,!1,r))?o:l[e];"string"===(i=typeof n)&&(o=rt.exec(n))&&o[1]&&(n=lt(t,e,o),i="number"),null!=n&&n==n&&("number"!==i||u||(n+=o&&o[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var o,i,a,s=Y(e);return Jt.test(e)||(e=Zt(s)),(a=k.cssHooks[e]||k.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Vt(t,e,r)),"normal"===o&&e in te&&(o=te[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),k.each(["height","width"],(function(t,e){k.cssHooks[e]={get:function(t,n,r){if(n)return!Xt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,r):Ut(t,Qt,(function(){return re(t,e,r)}))},set:function(t,n,r){var o,i=qt(t),a=!g.scrollboxSize()&&"absolute"===i.position,s=(a||r)&&"border-box"===k.css(t,"boxSizing",!1,i),u=r?ne(t,e,r,s,i):0;return s&&a&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(i[e])-ne(t,e,"border",!1,i)-.5)),u&&(o=rt.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),ee(0,n,u)}}})),k.cssHooks.marginLeft=$t(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Vt(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(t,e){k.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+ot[r]+e]=i[r]||i[r-2]||i[0];return o}},"margin"!==t&&(k.cssHooks[t+e].set=ee)})),k.fn.extend({css:function(t,e){return W(this,(function(t,e,n){var r,o,i={},a=0;if(Array.isArray(e)){for(r=qt(t),o=e.length;a<o;a++)i[e[a]]=k.css(t,e[a],!1,r);return i}return void 0!==n?k.style(t,e,n):k.css(t,e)}),t,e,arguments.length>1)}}),k.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(k.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=oe.prototype.init,k.fx.step={};var ie,ae,se=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function le(){ae&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(le):n.setTimeout(le,k.fx.interval),k.fx.tick())}function ce(){return n.setTimeout((function(){ie=void 0})),ie=Date.now()}function fe(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)o["margin"+(n=ot[r])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function de(t,e,n){for(var r,o=(he.tweeners[e]||[]).concat(he.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,e,t))return r}function he(t,e,n){var r,o,i=0,a=he.prefilters.length,s=k.Deferred().always((function(){delete u.elem})),u=function(){if(o)return!1;for(var e=ie||ce(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),i=0,a=l.tweens.length;i<a;i++)l.tweens[i].run(r);return s.notifyWith(t,[l,r,n]),r<1&&a?n:(a||s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||ce(),duration:n.duration,tweens:[],createTween:function(e,n){var r=k.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)l.tweens[n].run(1);return e?(s.notifyWith(t,[l,1,0]),s.resolveWith(t,[l,e])):s.rejectWith(t,[l,e]),this}}),c=l.props;for(!function(t,e){var n,r,o,i,a;for(n in t)if(o=e[r=Y(n)],i=t[n],Array.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in i=a.expand(i),delete t[r],i)n in t||(t[n]=i[n],e[n]=o);else e[r]=o}(c,l.opts.specialEasing);i<a;i++)if(r=he.prefilters[i].call(l,t,c,l.opts))return v(r.stop)&&(k._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return k.map(c,de,l),v(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),k.fx.timer(k.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l}k.Animation=k.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(B);for(var n,r=0,o=t.length;r<o;r++)n=t[r],he.tweeners[n]=he.tweeners[n]||[],he.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,o,i,a,s,u,l,c,f="width"in e||"height"in e,d=this,h={},p=t.style,m=t.nodeType&&ut(t),g=X.get(t,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,k.queue(t,"fx").length||a.empty.fire()}))}))),e)if(o=e[r],se.test(o)){if(delete e[r],i=i||"toggle"===o,o===(m?"hide":"show")){if("show"!==o||!g||void 0===g[r])continue;m=!0}h[r]=g&&g[r]||k.style(t,r)}if((u=!k.isEmptyObject(e))||!k.isEmptyObject(h))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=X.get(t,"display")),"none"===(c=k.css(t,"display"))&&(l?c=l:(dt([t],!0),l=t.style.display||l,c=k.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===k.css(t,"float")&&(u||(d.done((function(){p.display=l})),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),u=!1,h)u||(g?"hidden"in g&&(m=g.hidden):g=X.access(t,"fxshow",{display:l}),i&&(g.hidden=!m),m&&dt([t],!0),d.done((function(){for(r in m||dt([t]),X.remove(t,"fxshow"),h)k.style(t,r,h[r])}))),u=de(m?g[r]:0,r,d),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),k.speed=function(t,e,n){var r=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=k.isEmptyObject(t),i=k.speed(e,n,r),a=function(){var e=he(this,k.extend({},t),i);(o||X.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",i=k.timers,a=X.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ue.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||k.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=X.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(t,e){var n=k.fn[e];k.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(e,!0),t,r,o)}})),k.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){k.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}})),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),ie=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){ae||(ae=!0,le())},k.fx.stop=function(){ae=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,r){var o=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(o)}}))},function(){var t=b.createElement("input"),e=b.createElement("select").appendChild(b.createElement("option"));t.type="checkbox",g.checkOn=""!==t.value,g.optSelected=e.selected,(t=b.createElement("input")).value="t",t.type="radio",g.radioValue="t"===t.value}();var pe,me=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return W(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){k.removeAttr(this,t)}))}}),k.extend({attr:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return void 0===t.getAttribute?k.prop(t,e,n):(1===i&&k.isXMLDoc(t)||(o=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?pe:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:null==(r=k.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,o=e&&e.match(B);if(o&&1===t.nodeType)for(;n=o[r++];)t.removeAttribute(n)}}),pe={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=me[e]||k.find.attr;me[e]=function(t,e,r){var o,i,a=e.toLowerCase();return r||(i=me[a],me[a]=o,o=null!=n(t,e,r)?a:null,me[a]=i),o}}));var ge=/^(?:input|select|textarea|button)$/i,ve=/^(?:a|area)$/i;function ye(t){return(t.match(B)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}k.fn.extend({prop:function(t,e){return W(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[k.propFix[t]||t]}))}}),k.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&k.isXMLDoc(t)||(e=k.propFix[e]||e,o=k.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(r=o.set(t,n,e))?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||ve.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,u=0;if(v(t))return this.each((function(e){k(this).addClass(t.call(this,e,be(this)))}));if((e=we(t)).length)for(;n=this[u++];)if(o=be(n),r=1===n.nodeType&&" "+ye(o)+" "){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o!==(s=ye(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,u=0;if(v(t))return this.each((function(e){k(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[u++];)if(o=be(n),r=1===n.nodeType&&" "+ye(o)+" "){for(a=0;i=e[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");o!==(s=ye(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){k(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,o,i,a;if(r)for(o=0,i=k(this),a=we(t);e=a[o++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ye(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var xe=/\r/g;k.fn.extend({val:function(t){var e,n,r,o=this[0];return arguments.length?(r=v(t),this.each((function(n){var o;1===this.nodeType&&(null==(o=r?t.call(this,n,k(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=k.map(o,(function(t){return null==t?"":t+""}))),(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=k.valHooks[o.type]||k.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(xe,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ye(k.text(t))}},select:{get:function(t){var e,n,r,o=t.options,i=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?i+1:o.length;for(r=i<0?u:a?i:0;r<u;r++)if(((n=o[r]).selected||r===i)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=k(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,o=t.options,i=k.makeArray(e),a=o.length;a--;)((r=o[a]).selected=k.inArray(k.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),g.focusin="onfocusin"in n;var _e=/^(?:focusinfocus|focusoutblur)$/,ke=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,r,o){var i,a,s,u,l,c,f,d,p=[r||b],m=h.call(t,"type")?t.type:t,g=h.call(t,"namespace")?t.namespace.split("."):[];if(a=d=s=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!_e.test(m+k.event.triggered)&&(m.indexOf(".")>-1&&(g=m.split("."),m=g.shift(),g.sort()),l=m.indexOf(":")<0&&"on"+m,(t=t[k.expando]?t:new k.Event(m,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:k.makeArray(e,[t]),f=k.event.special[m]||{},o||!f.trigger||!1!==f.trigger.apply(r,e))){if(!o&&!f.noBubble&&!y(r)){for(u=f.delegateType||m,_e.test(u+m)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||b)&&p.push(s.defaultView||s.parentWindow||n)}for(i=0;(a=p[i++])&&!t.isPropagationStopped();)d=a,t.type=i>1?u:f.bindType||m,(c=(X.get(a,"events")||Object.create(null))[t.type]&&X.get(a,"handle"))&&c.apply(a,e),(c=l&&a[l])&&c.apply&&K(a)&&(t.result=c.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(p.pop(),e)||!K(r)||l&&v(r[m])&&!y(r)&&((s=r[l])&&(r[l]=null),k.event.triggered=m,t.isPropagationStopped()&&d.addEventListener(m,ke),r[m](),t.isPropagationStopped()&&d.removeEventListener(m,ke),k.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(t,e,n){var r=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(r,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each((function(){k.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,e);o||r.addEventListener(t,n,!0),X.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,o=X.access(r,e)-1;o?X.access(r,e,o):(r.removeEventListener(t,n,!0),X.remove(r,e))}}}));var Ce=n.location,Se={guid:Date.now()},Te=/\?/;k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var Ee=/\[\]$/,Oe=/\r?\n/g,Ae=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Ne(t,e,n,r){var o;if(Array.isArray(e))k.each(e,(function(e,o){n||Ee.test(t)?r(t,o):Ne(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)}));else if(n||"object"!==_(e))r(t,e);else for(o in e)Ne(t+"["+o+"]",e[o],n,r)}k.param=function(t,e){var n,r=[],o=function(t,e){var n=v(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,(function(){o(this.name,this.value)}));else for(n in t)Ne(n,t[n],e,o);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&De.test(this.nodeName)&&!Ae.test(t)&&(this.checked||!mt.test(t))})).map((function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(t){return{name:e.name,value:t.replace(Oe,"\r\n")}})):{name:e.name,value:n.replace(Oe,"\r\n")}})).get()}});var Pe=/%20/g,Me=/#.*$/,Le=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Be=/^\/\//,Fe={},je={},ze="*/".concat("*"),He=b.createElement("a");function qe(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(B)||[];if(v(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Ue(t,e,n,r){var o={},i=t===je;function a(s){var u;return o[s]=!0,k.each(t[s]||[],(function(t,s){var l=s(e,n,r);return"string"!=typeof l||i||o[l]?i?!(u=l):void 0:(e.dataTypes.unshift(l),a(l),!1)})),u}return a(e.dataTypes[0])||!o["*"]&&a("*")}function We(t,e){var n,r,o=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&k.extend(!0,t,r),t}He.href=Ce.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ze,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,k.ajaxSettings),e):We(k.ajaxSettings,t)},ajaxPrefilter:qe(Fe),ajaxTransport:qe(je),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,i,a,s,u,l,c,f,d,h=k.ajaxSetup({},e),p=h.context||h,m=h.context&&(p.nodeType||p.jquery)?k(p):k.event,g=k.Deferred(),v=k.Callbacks("once memory"),y=h.statusCode||{},w={},x={},_="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Re.exec(i);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(t,e){return null==l&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==l&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)C.always(t[C.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||_;return r&&r.abort(e),S(0,e),this}};if(g.promise(C),h.url=((t||h.url||Ce.href)+"").replace(Be,Ce.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){u=b.createElement("a");try{u.href=h.url,u.href=u.href,h.crossDomain=He.protocol+"//"+He.host!=u.protocol+"//"+u.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=k.param(h.data,h.traditional)),Ue(Fe,h,e,C),l)return C;for(f in(c=k.event&&h.global)&&0==k.active++&&k.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ie.test(h.type),o=h.url.replace(Me,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pe,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Te.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Le,"$1"),d=(Te.test(o)?"&":"?")+"_="+Se.guid+++d),h.url=o+d),h.ifModified&&(k.lastModified[o]&&C.setRequestHeader("If-Modified-Since",k.lastModified[o]),k.etag[o]&&C.setRequestHeader("If-None-Match",k.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ze+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(p,C,h)||l))return C.abort();if(_="abort",v.add(h.complete),C.done(h.success),C.fail(h.error),r=Ue(je,h,e,C)){if(C.readyState=1,c&&m.trigger("ajaxSend",[C,h]),l)return C;h.async&&h.timeout>0&&(s=n.setTimeout((function(){C.abort("timeout")}),h.timeout));try{l=!1,r.send(w,S)}catch(t){if(l)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,a,u){var f,d,b,w,x,_=e;l||(l=!0,s&&n.clearTimeout(s),r=void 0,i=u||"",C.readyState=t>0?4:0,f=t>=200&&t<300||304===t,a&&(w=function(t,e,n){for(var r,o,i,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){u.unshift(o);break}if(u[0]in n)i=u[0];else{for(o in n){if(!u[0]||t.converters[o+" "+u[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==u[0]&&u.unshift(i),n[i]}(h,C,a)),!f&&k.inArray("script",h.dataTypes)>-1&&(h.converters["text script"]=function(){}),w=function(t,e,n,r){var o,i,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(i=c.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=i,i=c.shift())if("*"===i)i=u;else if("*"!==u&&u!==i){if(!(a=l[u+" "+i]||l["* "+i]))for(o in l)if((s=o.split(" "))[1]===i&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[o]:!0!==l[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+i}}}return{state:"success",data:e}}(h,w,C,f),f?(h.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(k.lastModified[o]=x),(x=C.getResponseHeader("etag"))&&(k.etag[o]=x)),204===t||"HEAD"===h.type?_="nocontent":304===t?_="notmodified":(_=w.state,d=w.data,f=!(b=w.error))):(b=_,!t&&_||(_="error",t<0&&(t=0))),C.status=t,C.statusText=(e||_)+"",f?g.resolveWith(p,[d,_,C]):g.rejectWith(p,[C,_,b]),C.statusCode(y),y=void 0,c&&m.trigger(f?"ajaxSuccess":"ajaxError",[C,h,f?d:b]),v.fireWith(p,[C,_]),c&&(m.trigger("ajaxComplete",[C,h]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],(function(t,e){k[e]=function(t,n,r,o){return v(n)&&(o=o||r,r=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:o,data:n,success:r},k.isPlainObject(t)&&t))}})),k.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){k(this).wrapInner(t.call(this,e))})):this.each((function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){k(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ve={0:200,1223:204},$e=k.ajaxSettings.xhr();g.cors=!!$e&&"withCredentials"in $e,g.ajax=$e=!!$e,k.ajaxTransport((function(t){var e,r;if(g.cors||$e&&!t.crossDomain)return{send:function(o,i){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ve[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){e&&r()}))},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),k.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),k.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,o){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),b.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ge,Ye=[],Ke=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ye.pop()||k.expando+"_"+Se.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",(function(t,e,r){var o,i,a,s=!1!==t.jsonp&&(Ke.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ke.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return o=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ke,"$1"+o):!1!==t.jsonp&&(t.url+=(Te.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||k.error(o+" was not called"),a[0]},t.dataTypes[0]="json",i=n[o],n[o]=function(){a=arguments},r.always((function(){void 0===i?k(n).removeProp(o):n[o]=i,t[o]&&(t.jsonpCallback=e.jsonpCallback,Ye.push(o)),a&&v(i)&&i(a[0]),a=i=void 0})),"script"})),g.createHTMLDocument=((Ge=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ge.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((r=(e=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,e.head.appendChild(r)):e=b),i=!n&&[],(o=D.exec(t))?[e.createElement(o[1])]:(o=_t([t],e,i),i&&i.length&&k(i).remove(),k.merge([],o.childNodes)));var r,o,i},k.fn.load=function(t,e,n){var r,o,i,a=this,s=t.indexOf(" ");return s>-1&&(r=ye(t.slice(s)),t=t.slice(0,s)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&k.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){i=arguments,a.html(r?k("<div>").append(k.parseHTML(t)).find(r):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,i||[t.responseText,e,t])}))}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,(function(e){return t===e.elem})).length},k.offset={setOffset:function(t,e,n){var r,o,i,a,s,u,l=k.css(t,"position"),c=k(t),f={};"static"===l&&(t.style.position="relative"),s=c.offset(),i=k.css(t,"top"),u=k.css(t,"left"),("absolute"===l||"fixed"===l)&&(i+u).indexOf("auto")>-1?(a=(r=c.position()).top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(u)||0),v(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+o),"using"in e?e.using.call(t,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),c.css(f))}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){k.offset.setOffset(this,t,e)}));var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],o={top:0,left:0};if("fixed"===k.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((o=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),o.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-k.css(r,"marginTop",!0),left:e.left-o.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||it}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;k.fn[t]=function(r){return W(this,(function(t,r,o){var i;if(y(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===o)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o}),t,r,arguments.length)}})),k.each(["top","left"],(function(t,e){k.cssHooks[e]=$t(g.pixelPosition,(function(t,n){if(n)return n=Vt(t,e),Ht.test(n)?k(t).position()[e]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,r){k.fn[r]=function(o,i){var a=arguments.length&&(n||"boolean"!=typeof o),s=n||(!0===o||!0===i?"margin":"border");return W(this,(function(e,n,o){var i;return y(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===o?k.css(e,n,s):k.style(e,n,o,s)}),e,a?o:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){k.fn[e]=function(t){return this.on(e,t)}})),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ze=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,r,o;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return r=s.call(arguments,2),(o=function(){return t.apply(e||this,r.concat(s.call(arguments)))}).guid=t.guid=t.guid||k.guid++,o},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=v,k.isWindow=y,k.camelCase=Y,k.type=_,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ze,"")},void 0===(r=function(){return k}.apply(e,[]))||(t.exports=r);var Xe=n.jQuery,Je=n.$;return k.noConflict=function(t){return n.$===k&&(n.$=Je),t&&n.jQuery===k&&(n.jQuery=Xe),k},void 0===o&&(n.jQuery=n.$=k),k}))},"Fp/H":function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e){return"A"===e.tagName&&""===t.dom.getAttrib(e,"href")},n=function(t,n){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(n)?(function(t,n){var r=t.selection.getNode();e(t,r)?(r.removeAttribute("name"),r.id=n,t.undoManager.add()):(t.focus(),t.selection.collapse(!0),t.insertContent(t.dom.createHTML("a",{id:n})))}(t,n),!0):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},r=function(t){var r=function(t){var n=t.selection.getNode();return e(t,n)?n.getAttribute("id")||n.getAttribute("name"):""}(t);t.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:r},onSubmit:function(e){n(t,e.getData().id)&&e.close()}})},o=function(t){return function(e){for(var n=0;n<e.length;n++)(r=e[n]).attr("href")||!r.attr("id")&&!r.attr("name")||r.firstChild||e[n].attr("contenteditable",t);var r}};t.add("anchor",(function(t){!function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("a",o("false")),t.serializer.addNodeFilter("a",o(null))}))}(t),function(t){t.addCommand("mceAnchor",(function(){r(t)}))}(t),function(t){t.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return t.execCommand("mceAnchor")},onSetup:function(e){return t.selection.selectorChangedWithUnbind("a:not([href])",e.setActive).unbind}}),t.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return t.execCommand("mceAnchor")}})}(t)}))}()},"FvG+":function(t,e){!function(t){"use strict";var e,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(t,e){var n=function(t,e){return t.fire("insertCustomChar",{chr:e})}(t,e).chr;t.execCommand("mceInsertContent",!1,n)},s=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=function(){},l=function(t){return function(){return t}},c=l(!1),f=l(!0),d=function(){return h},h=(e=function(t){return t.isNone()},{fold:function(t,e){return t()},is:c,isSome:c,isNone:f,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:r,orThunk:n,map:d,each:u,bind:d,exists:c,forall:f,filter:d,equals:e,equals_:e,toArray:function(){return[]},toString:l("none()")}),p=function(t){var e=l(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return p(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:h},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}};return o},m={some:p,none:d,from:function(t){return null==t?h:p(t)}},g=(o="array",function(t){return n=typeof(e=t),(null===e?"null":"object"===n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n)===o;var e,n}),v=Array.prototype.push,y=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},b=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return m.some(i);if(n(i,r))break}return m.none()}(t,e,c)},w=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);v.apply(e,t[n])}return e}(y(t,e))},x=s.isArray,_=function(t){return x(t)?[].concat((e=t,s.grep(e,(function(t){return x(t)&&2===t.length})))):"function"==typeof t?t():[];var e},k=function(t){var e=function(t,e){var n=function(t){return t.getParam("charmap")}(t);n&&(e=[{name:"User Defined",characters:_(n)}]);var r=function(t){return t.getParam("charmap_append")}(t);if(r){var o=s.grep(e,(function(t){return"User Defined"===t.name}));return o.length?(o[0].characters=[].concat(o[0].characters).concat(_(r)),e):[].concat(e).concat({name:"User Defined",characters:_(r)})}return e}(t,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return e.length>1?[{name:"All",characters:w(e,(function(t){return t.characters}))}].concat(e):e},C=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},S=String.fromCodePoint,T=function(t,e){return-1!==t.indexOf(e)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(S)return S.apply(void 0,t);for(var n=[],r=0,o="",i=0,a=t.length;i!==a;++i){var s=+t[i];if(!(s<1114111&&s>>>0===s))throw RangeError("Invalid code point: "+s);s<=65535?r=n.push(s):(s-=65536,r=n.push(55296+(s>>10),s%1024+56320)),r>=16383&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o+String.fromCharCode.apply(null,n)},O=function(t,e){var n=[],r=e.toLowerCase();return function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}}(t.characters,(function(t){(function(t,e,n){return!!T(E(t).toLowerCase(),n)||(T(e.toLowerCase(),n)||T(e.toLowerCase().replace(/\s+/g,""),n))})(t[0],t[1],r)&&n.push(t)})),y(n,(function(t){return{text:t[1],value:E(t[0]),icon:E(t[0])}}))},A=function(e,n){var r,o,i,s=1===n.length?C("User Defined"):C("All"),u=(r=function(t){var e=t.getData().pattern;!function(t,e){b(n,(function(t){return t.name===s.get()})).each((function(n){var r=O(n,e);t.setData({results:r})}))}(t,e)},o=40,i=null,{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==i&&t.clearTimeout(i),i=t.setTimeout((function(){r.apply(null,e),i=null}),o)}}),l={title:"Special Character",size:"normal",body:1===n.length?{type:"panel",items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}:{type:"tabpanel",tabs:y(n,(function(t){return{title:t.name,name:t.name,items:[{label:"Search",type:"input",name:"pattern"},{type:"collection",name:"results"}]}}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:O(n[0],"")},onAction:function(t,n){"results"===n.name&&(a(e,n.value),t.close())},onTabChange:function(t,e){s.set(e.newTabName),u.throttle(t)},onChange:function(t,e){"pattern"===e.name&&u.throttle(t)}};e.windowManager.open(l).focus("pattern")},D=tinymce.util.Tools.resolve("tinymce.util.Promise");i.add("charmap",(function(t){var e=k(t);return function(t,e){t.addCommand("mceShowCharmap",(function(){A(t,e)}))}(t,e),function(t){t.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return t.execCommand("mceShowCharmap")}}),t.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return t.execCommand("mceShowCharmap")}})}(t),function(t,e){t.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(t,n){return new D((function(n,r){n(O(e,t))}))},onAction:function(e,n,r){t.selection.setRng(n),t.insertContent(r),e.hide()}})}(t,e[0]),function(t){return{getCharMap:function(){return k(t)},insertChar:function(e){a(t,e)}}}(t)}))}(window)},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),a=r[0],s=r[1],u=new i(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(c(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},HSsa:function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},HvfG:function(t,e,n){!function(t){"use strict";var e=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,r=/[*+-]\s/;function o(t,n){var r=n.line,o=0,i=0,a=e.exec(t.getLine(r)),s=a[1];do{var u=r+(o+=1),l=t.getLine(u),c=e.exec(l);if(c){var f=c[1],d=parseInt(a[3],10)+o-i,h=parseInt(c[3],10),p=h;if(s!==f||isNaN(h)){if(s.length>f.length)return;if(s.length<f.length&&1===o)return;i+=1}else d===h&&(p=h+1),d>h&&(p=d+1),t.replaceRange(l.replace(e,f+p+c[4]+c[5]),{line:u,ch:0},{line:u,ch:l.length})}}while(c)}t.commands.newlineAndIndentContinueMarkdownList=function(i){if(i.getOption("disableInput"))return t.Pass;for(var a=i.listSelections(),s=[],u=0;u<a.length;u++){var l=a[u].head,c=i.getStateAfter(l.line),f=t.innerMode(i.getMode(),c);if("markdown"!==f.mode.name)return void i.execCommand("newlineAndIndent");var d=!1!==(c=f.state).list,h=0!==c.quote,p=i.getLine(l.line),m=e.exec(p),g=/^\s*$/.test(p.slice(0,l.ch));if(!a[u].empty()||!d&&!h||!m||g)return void i.execCommand("newlineAndIndent");if(n.test(p)){var v=h&&/>\s*$/.test(p),y=!/>\s*$/.test(p);(v||y)&&i.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[u]="\n"}else{var b=m[1],w=m[5],x=!(r.test(m[2])||m[2].indexOf(">")>=0),_=x?parseInt(m[3],10)+1+m[4]:m[2].replace("x"," ");s[u]="\n"+b+_+w,x&&o(i,l)}}i.replaceSelections(s)}}(n("VrN/"))},I9E9:function(t,e,n){t.exports=n("JSZk")},J1jt:function(t,e,n){"use strict";n.r(e);var r=n("Y5Mo"),o=n("zwY0"),i=n.n(o);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}const h=["altFormat","ariaDateFormat","dateFormat"],p={string:["altInputClass","conjunction","mode","nextArrow","position","prevArrow"],boolean:["allowInput","altInput","animate","clickOpens","closeOnSelect","disableMobile","enableSeconds","enableTime","inline","noCalendar","shorthandCurrentMonth","static","time_24hr","weekNumbers","wrap"],date:["maxDate","minDate","maxTime","minTime","now"],array:["disable","enable","disableDaysOfWeek","enableDaysOfWeek"],number:["defaultHour","defaultMinute","defaultSeconds","hourIncrement","minuteIncrement","showMonths"],arrayOrString:["defaultDate"]},m=["change","open","close","monthChange","yearChange","ready","valueUpdate","dayCreate"],g=["calendarContainer","currentYearElement","days","daysContainer","input","nextMonthNav","monthNav","prevMonthNav","rContainer","selectedDateElem","todayDateElem","weekdayContainer"],v={"%Y":"Y","%y":"y","%C":"Y","%m":"m","%-m":"n","%_m":"n","%B":"F","%^B":"F","%b":"M","%^b":"M","%h":"M","%^h":"M","%d":"d","%-d":"j","%e":"j","%H":"H","%k":"H","%I":"h","%l":"h","%P":"K","%p":"K","%M":"i","%S":"S","%A":"l","%a":"D","%w":"w"},y=new RegExp(Object.keys(v).join("|").replace(new RegExp("\\^","g"),"\\^"),"g");let b=function(t){function e(){return a(this,e),d(this,c(e).apply(this,arguments))}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,t),n=e,(r=[{key:"initialize",value:function(){this.config={}}},{key:"connect",value:function(){this._initializeEvents(),this._initializeOptions(),this._initializeDateFormats(),this.fp=i()(this.flatpickrElement,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.config)),this._initializeElements()}},{key:"disconnect",value:function(){const t=this.inputTarget.value;this.fp.destroy(),this.inputTarget.value=t}},{key:"_initializeEvents",value:function(){m.forEach(t=>{if(this[t]){const n="on"+((e=t).charAt(0).toUpperCase()+e.slice(1));this.config[n]=this[t].bind(this)}var e})}},{key:"_initializeOptions",value:function(){Object.keys(p).forEach(t=>{p[t].forEach(e=>{const n=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase();this.data.has(n)&&(this.config[e]=this["_"+t](n))})}),this._handleDaysOfWeek()}},{key:"_handleDaysOfWeek",value:function(){this.config.disableDaysOfWeek&&(this.config.disableDaysOfWeek=this._validateDaysOfWeek(this.config.disableDaysOfWeek),this.config.disable=[...this.config.disable||[],this._disable.bind(this)]),this.config.enableDaysOfWeek&&(this.config.enableDaysOfWeek=this._validateDaysOfWeek(this.config.enableDaysOfWeek),this.config.enable=[...this.config.enable||[],this._enable.bind(this)])}},{key:"_validateDaysOfWeek",value:function(t){return Array.isArray(t)?t.map(t=>parseInt(t)):[]}},{key:"_disable",value:function(t){return this.config.disableDaysOfWeek.includes(t.getDay())}},{key:"_enable",value:function(t){return this.config.enableDaysOfWeek.includes(t.getDay())}},{key:"_initializeDateFormats",value:function(){h.forEach(t=>{this.data.has(t)&&(this.config[t]=this.data.get(t).replace(y,t=>v[t]))})}},{key:"_initializeElements",value:function(){g.forEach(t=>{this[t+"Target"]=this.fp[t]})}},{key:"_string",value:function(t){return this.data.get(t)}},{key:"_date",value:function(t){return this.data.get(t)}},{key:"_boolean",value:function(t){return!("0"==this.data.get(t)||"false"==this.data.get(t))}},{key:"_array",value:function(t){return JSON.parse(this.data.get(t))}},{key:"_number",value:function(t){return parseInt(this.data.get(t))}},{key:"_arrayOrString",value:function(t){const e=this.data.get(t);try{return JSON.parse(e)}catch(t){return e}}},{key:"flatpickrElement",get:function(){return this.hasInstanceTarget&&this.instanceTarget||this.element}}])&&s(n.prototype,r),o&&s(n,o),e}(r.Controller);u(b,"targets",["instance"]),e.default=b},JAFY:function(t,e){!function(t){"use strict";var e,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){},s=function(t){return function(){return t}},u=function(t){return function(e){return!t(e)}},l=s(!1),c=s(!0),f=function(){return d},d=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:e,map:f,each:a,bind:f,exists:l,forall:c,filter:f,equals:t,equals_:t,toArray:function(){return[]},toString:s("none()")}}(),h=function(t){var e=s(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return o},p={some:h,none:f,from:function(t){return null==t?d:h(t)}},m=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},g=function(t){return function(e){return typeof e===t}},v=m("string"),y=m("array"),b=g("boolean"),w=g("function"),x=g("number"),_=Array.prototype.slice,k=Array.prototype.push,C=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},S=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},T=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},E=function(t,e,n){return S(t,(function(t){n=e(n,t)})),n},O=function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return p.some(i);if(n(i,r))break}return p.none()},A=function(t,e){return O(t,e,l)},D=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!y(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);k.apply(e,t[n])}return e}(C(t,e))},N=function(t){var e=_.call(t,0);return e.reverse(),e},P=function(t){return 0===t.length?p.none():p.some(t[0])},M=function(t){return 0===t.length?p.none():p.some(t[t.length-1])},L=function(){return(L=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},R=function(){return I(0,0)},I=function(t,e){return{major:t,minor:e}},B={nu:I,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?R():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return I(r(1),r(2))}(t,n)},unknown:R},F=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},j={unknown:function(){return F({current:void 0,version:B.unknown()})},nu:F,edge:s("Edge"),chrome:s("Chrome"),ie:s("IE"),opera:s("Opera"),firefox:s("Firefox"),safari:s("Safari")},z=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},H={unknown:function(){return z({current:void 0,version:B.unknown()})},nu:z,windows:s("Windows"),ios:s("iOS"),android:s("Android"),linux:s("Linux"),osx:s("OSX"),solaris:s("Solaris"),freebsd:s("FreeBSD"),chromeos:s("ChromeOS")},q=function(t,e){var n=String(e).toLowerCase();return A(t,(function(t){return t.search(n)}))},U=function(t,e){return q(t,e).map((function(t){var n=B.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},W=function(t,e){return q(t,e).map((function(t){var n=B.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},V=function(t,e){return-1!==t.indexOf(e)},$=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,G=function(t){return function(e){return V(e,t)}},Y=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return V(t,"edge/")&&V(t,"chrome")&&V(t,"safari")&&V(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$],search:function(t){return V(t,"chrome")&&!V(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return V(t,"msie")||V(t,"trident")}},{name:"Opera",versionRegexes:[$,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:G("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:G("firefox")},{name:"Safari",versionRegexes:[$,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(V(t,"safari")||V(t,"mobile/"))&&V(t,"applewebkit")}}],K=[{name:"Windows",search:G("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return V(t,"iphone")||V(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:G("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:G("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:G("linux"),versionRegexes:[]},{name:"Solaris",search:G("sunos"),versionRegexes:[]},{name:"FreeBSD",search:G("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:G("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Z={browsers:s(Y),oses:s(K)},X=function(t,e){var n=Z.browsers(),r=Z.oses(),o=U(n,t).fold(j.unknown,j.nu),i=W(r,t).fold(H.unknown,H.nu),a=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),l=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!l,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!f;return{isiPad:s(o),isiPhone:s(i),isTablet:s(l),isPhone:s(c),isTouch:s(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:s(f),isDesktop:s(d)}}(i,o,t,e);return{browser:o,os:i,deviceType:a}},J=function(e){return t.window.matchMedia(e).matches},Q=(e=function(){return X(t.navigator.userAgent,J)},r=!1,function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return r||(r=!0,n=e.apply(null,t)),n}),tt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:s(t)}},et={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return tt(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return tt(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return tt(r)},fromDom:tt,fromPoint:function(t,e,n){var r=t.dom();return p.from(r.elementFromPoint(e,n)).map(tt)}},nt=function(t,e){return t.dom()===e.dom()},rt=function(e,n){return r=e.dom(),o=n.dom(),function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(r,o,t.Node.DOCUMENT_POSITION_CONTAINED_BY);var r,o},ot=function(t,e){return Q().browser.isIE()?rt(t,e):function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)}(t,e)},it=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},at=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),st=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ut=tinymce.util.Tools.resolve("tinymce.util.VK"),lt=function(t,e,n){return t.isSome()&&e.isSome()?p.some(n(t.getOrDie(),e.getOrDie())):p.none()},ct=(void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),ft=(o=1,function(t){return function(t){return t.dom().nodeType}(t)===o}),dt=function(t){return p.from(t.dom().parentNode).map(et.fromDom)},ht=function(t){return C(t.dom().childNodes,et.fromDom)},pt=function(t,e){var n=t.dom().childNodes;return p.from(n[e]).map(et.fromDom)},mt=function(t){return pt(t,0)},gt=function(t){return pt(t,t.dom().childNodes.length-1)},vt=function(t,e){dt(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},yt=function(t,e){t.dom().appendChild(e.dom())},bt=function(t,e){S(e,(function(e){yt(t,e)}))},wt=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},xt=function(t,e,n){return t.fire("ListMutation",{action:e,element:n})},_t=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),kt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ct=function(t){return function(e){return e&&e.nodeName.toLowerCase()===t}},St=function(t){return function(e){return e&&t.test(e.nodeName)}},Tt=function(t){return t&&3===t.nodeType},Et=St(/^(OL|UL|DL)$/),Ot=St(/^(OL|UL)$/),At=Ct("ol"),Dt=St(/^(LI|DT|DD)$/),Nt=St(/^(DT|DD)$/),Pt=St(/^(TH|TD)$/),Mt=Ct("br"),Lt=function(t,e){return e&&!!t.schema.getTextBlockElements()[e.nodeName]},Rt=function(t,e){return t&&t.nodeName in e},It=function(t,e,n){var r=t.isEmpty(e);return!(n&&t.select("span[data-mce-type=bookmark]",e).length>0)&&r},Bt=function(t,e){return t.isChildOf(e,t.getRoot())},Ft=function(t,e){var n=e||t.selection.getStart(!0);return t.dom.getParent(n,"OL,UL,DL",Ht(t,n))},jt=function(t){var e=Ft(t),n=t.selection.getSelectedBlocks();return function(t,e){return t&&1===e.length&&e[0]===t}(e,n)?function(t){return kt.grep(t.querySelectorAll("ol,ul,dl"),(function(t){return Et(t)}))}(e):kt.grep(n,(function(t){return Et(t)&&e!==t}))},zt=function(t){var e=t.selection.getSelectedBlocks();return kt.grep(function(t,e){var n=kt.map(e,(function(e){var n=t.dom.getParent(e,"li,dd,dt",Ht(t,e));return n||e}));return _t.unique(n)}(t,e),(function(t){return Dt(t)}))},Ht=function(t,e){var n=t.dom.getParents(e,"TD,TH");return n.length>0?n[0]:t.getBody()},qt=function(t,e){var n=t.dom.getParents(e,"ol,ul",Ht(t,e));return M(n)},Ut=function(t){var e=function(t){var e=qt(t,t.selection.getStart()),n=T(t.selection.getSelectedBlocks(),Ot);return e.toArray().concat(n)}(t);return Wt(t,e)},Wt=function(t,e){var n=C(e,(function(e){return qt(t,e).getOr(e)}));return _t.unique(n)},Vt=function(t,e){var n,r,o,i=t.dom,a=t.schema.getBlockElements(),s=i.createFragment(),u=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e}(t);if(u&&((r=i.create(u)).tagName===u.toUpperCase()&&i.setAttribs(r,function(t){return t.getParam("forced_root_block_attrs",{})}(t)),Rt(e.firstChild,a)||s.appendChild(r)),e)for(;n=e.firstChild;){var l=n.nodeName;o||"SPAN"===l&&"bookmark"===n.getAttribute("data-mce-type")||(o=!0),Rt(n,a)?(s.appendChild(n),r=null):u?(r||(r=i.create(u),s.appendChild(r)),r.appendChild(n)):s.appendChild(n)}return u?o||r.appendChild(i.create("br",{"data-mce-bogus":"1"})):s.appendChild(i.create("br")),s},$t=Object.keys,Gt=function(t,e){for(var n=$t(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},Yt=function(t,e){var n={};return function(t,e,n,r){Gt(t,(function(t,o){(e(t,o)?n:r)(t,o)}))}(t,e,function(t){return function(e,n){t[n]=e}}(n),a),n},Kt=function(e,n){var r=e.dom();Gt(n,(function(e,n){!function(e,n,r){if(!(v(r)||b(r)||x(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(r,n,e)}))},Zt=function(t){return E(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},Xt=(w(t.Element.prototype.attachShadow)&&w(t.Node.prototype.getRootNode),function(e,n,r){if(!v(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);(function(t){return void 0!==t.style&&w(t.style.getPropertyValue)})(e)&&e.style.setProperty(n,r)}),Jt=function(t){return function(t,e){return et.fromDom(t.dom().cloneNode(e))}(t,!0)},Qt=function(t,e){var n=function(t,e){var n=et.fromTag(e),r=Zt(t);return Kt(n,r),n}(t,e);vt(t,n);var r=ht(t);return bt(n,r),wt(t),n},te=function(t,e){yt(t.item,e.list)},ee=function(t,e){var n={list:et.fromTag(e,t),item:et.fromTag("li",t)};return yt(n.list,n.item),n},ne=function(t,e,n){var r=e.slice(0,n.depth);return M(r).each((function(e){!function(t,e){yt(t.list,e),t.item=e}(e,function(t,e,n){var r=et.fromTag("li",t);return Kt(r,e),bt(r,n),r}(t,n.itemAttributes,n.content)),function(t,e){ct(t.list)!==e.listType&&(t.list=Qt(t.list,e.listType)),Kt(t.list,e.listAttributes)}(e,n)})),r},re=function(t,e,n){var r,o=function(t,e,n){for(var r=[],o=0;o<n;o++)r.push(ee(t,e.listType));return r}(t,n,n.depth-e.length);return function(t){for(var e=1;e<t.length;e++)te(t[e-1],t[e])}(o),function(t,e){for(var n=0;n<t.length-1;n++)r=t[n].item,o="list-style-type",i="none",a=void 0,a=r.dom(),Xt(a,o,i);var r,o,i,a;M(t).each((function(t){Kt(t.list,e.listAttributes),Kt(t.item,e.itemAttributes),bt(t.item,e.content)}))}(o,n),r=o,lt(M(e),P(r),te),e.concat(o)},oe=function(t){return it(t,"OL,UL")},ie=function(t){return mt(t).map(oe).getOr(!1)},ae=function(t){return t.depth>0},se=function(t){return t.isSelected},ue=function(t){var e=ht(t),n=gt(t).map(oe).getOr(!1)?e.slice(0,-1):e;return C(n,Jt)},le=function(t){return S(t,(function(e,n){(function(t,e){var n=t[e].depth,r=function(t){return t.depth===n&&!t.dirty},o=function(t){return t.depth<n};return O(N(t.slice(0,e)),r,o).orThunk((function(){return O(t.slice(e+1),r,o)}))})(t,n).fold((function(){e.dirty&&function(t){t.listAttributes=Yt(t.listAttributes,(function(t,e){return"start"!==e}))}(e)}),(function(t){return r=t,(n=e).listType=r.listType,void(n.listAttributes=L({},r.listAttributes));var n,r}))})),t},ce=function(t,e,n,r){return mt(r).filter(oe).fold((function(){e.each((function(t){nt(t.start,r)&&n.set(!0)}));var o=function(t,e,n){return dt(t).filter(ft).map((function(r){return{depth:e,dirty:!1,isSelected:n,content:ue(t),itemAttributes:Zt(t),listAttributes:Zt(r),listType:ct(r)}}))}(r,t,n.get());e.each((function(t){nt(t.end,r)&&n.set(!1)}));var i=gt(r).filter(oe).map((function(r){return fe(t,e,n,r)})).getOr([]);return o.toArray().concat(i)}),(function(r){return fe(t,e,n,r)}))},fe=function(t,e,n,r){return D(ht(r),(function(r){return(oe(r)?fe:ce)(t+1,e,n,r)}))},de=function(e,n){var r=le(n);return C(r,(function(n){var r,o,i,a=(r=n.content,i=(o||t.document).createDocumentFragment(),S(r,(function(t){i.appendChild(t.dom())})),et.fromDom(i));return et.fromDom(Vt(e,a.dom()))}))},he=function(t,e){var n=le(e);return function(t,e){var n=E(e,(function(e,n){return n.depth>e.length?re(t,e,n):ne(t,e,n)}),[]);return P(n).map((function(t){return t.list}))}(t.contentDocument,n).toArray()},pe=function(t,e,n){var r=function(t,e){var n,r=(n=!1,{get:function(){return n},set:function(t){n=t}});return C(t,(function(t){return{sourceList:t,entries:fe(0,e,r,t)}}))}(e,function(t){var e=C(zt(t),et.fromDom);return lt(A(e,u(ie)),A(N(e),u(ie)),(function(t,e){return{start:t,end:e}}))}(t));S(r,(function(e){!function(t,e){S(T(t,se),(function(t){return function(t,e){switch(t){case"Indent":e.depth++;break;case"Outdent":e.depth--;break;case"Flatten":e.depth=0}e.dirty=!0}(e,t)}))}(e.entries,n);var r,o=function(t,e){return D(function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var s=t[i],u=e(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r}(e,ae),(function(e){return P(e).map(ae).getOr(!1)?he(t,e):de(t,e)}))}(t,e.entries);S(o,(function(e){xt(t,"Indent"===n?"IndentList":"OutdentList",e.dom())})),r=e.sourceList,S(o,(function(t){vt(r,t)})),wt(e.sourceList)}))},me=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ge=me.DOM,ve=function(t,e){it(e,"dd")?Qt(e,"dt"):it(e,"dt")&&dt(e).each((function(n){return function(t,e,n){var r=ge.select('span[data-mce-type="bookmark"]',e),o=Vt(t,n),i=ge.createRng();i.setStartAfter(n),i.setEndAfter(e);for(var a,s=i.extractContents(),u=s.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&t.dom.isEmpty(u)){ge.remove(u);break}t.dom.isEmpty(s)||ge.insertAfter(s,e),ge.insertAfter(o,e),It(t.dom,n.parentNode)&&(a=n.parentNode,kt.each(r,(function(t){a.parentNode.insertBefore(t,n.parentNode)})),ge.remove(a)),ge.remove(n),It(t.dom,e)&&ge.remove(e)}(t,n.dom(),e.dom())}))},ye=function(t){it(t,"dt")&&Qt(t,"dd")},be=function(t,e){if(Tt(t))return{container:t,offset:e};var n=at.getNode(t,e);return Tt(n)?{container:n,offset:e>=t.childNodes.length?n.data.length:0}:n.previousSibling&&Tt(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Tt(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:t,offset:e}},we=function(t){var e=t.cloneRange(),n=be(t.startContainer,t.startOffset);e.setStart(n.container,n.offset);var r=be(t.endContainer,t.endOffset);return e.setEnd(r.container,r.offset),e},xe=function(t,e){var n=C(Ut(t),et.fromDom),r=C(function(t){return T(zt(t),Nt)}(t),et.fromDom),o=!1;if(n.length||r.length){var i=t.selection.getBookmark();pe(t,n,e),function(t,e,n){S(n,"Indent"===e?ye:function(e){return ve(t,e)})}(t,e,r),t.selection.moveToBookmark(i),t.selection.setRng(we(t.selection.getRng())),t.nodeChanged(),o=!0}return o},_e=function(t){return xe(t,"Indent")},ke=function(t){return xe(t,"Outdent")},Ce=function(t){return xe(t,"Flatten")},Se=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Te=me.DOM,Ee=function(t){var e={},n=function(n){var r,o,i;o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(r=Te.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):Te.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),e[n?"startContainer":"endContainer"]=o,e[n?"startOffset":"endOffset"]=i};return n(!0),t.collapsed||n(),e},Oe=function(t){function e(e){var n,r,o;n=o=t[e?"startContainer":"endContainer"],r=t[e?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=function(t){for(var e=t.parentNode.firstChild,n=0;e;){if(e===t)return n;1===e.nodeType&&"bookmark"===e.getAttribute("data-mce-type")||n++,e=e.nextSibling}return-1}(n),n=n.parentNode,Te.remove(o),!n.hasChildNodes()&&Te.isBlock(n)&&n.appendChild(Te.create("br"))),t[e?"startContainer":"endContainer"]=n,t[e?"startOffset":"endOffset"]=r)}e(!0),e();var n=Te.createRng();return n.setStart(t.startContainer,t.startOffset),t.endContainer&&n.setEnd(t.endContainer,t.endOffset),we(n)},Ae=function(t){switch(t){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},De=function(t){return/\btox\-/.test(t.className)},Ne=function(t,e,n){return function(){var r=function(t){var r=O(t.parents,Et,Pt).filter((function(t){return t.nodeName===e&&!De(t)})).isSome();n(r)};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}},Pe=function(t,e){kt.each(e,(function(e,n){t.setAttribute(n,e)}))},Me=function(t,e,n){!function(t,e,n){var r=n["list-style-type"]?n["list-style-type"]:null;t.setStyle(e,"list-style-type",r)}(t,e,n),function(t,e,n){Pe(e,n["list-attributes"]),kt.each(t.select("li",e),(function(t){Pe(t,n["list-item-attributes"])}))}(t,e,n)},Le=function(t,e,n,r){var o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"];for(1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&Mt(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(Lt(t,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},Re=function(t,e,n){void 0===n&&(n={});var r=t.selection.getRng(),o="LI",i=Ht(t,t.selection.getStart(!0)),a=t.dom;if("false"!==a.getContentEditable(t.selection.getNode())){"DL"===(e=e.toUpperCase())&&(o="DT");var s=Ee(r);kt.each(function(t,e,n){for(var r,o=[],i=t.dom,a=Le(t,e,!0,n),s=Le(t,e,!1,n),u=[],l=a;l&&(u.push(l),l!==s);l=l.nextSibling);return kt.each(u,(function(e){if(Lt(t,e))return o.push(e),void(r=null);if(i.isBlock(e)||Mt(e))return Mt(e)&&i.remove(e),void(r=null);var a=e.nextSibling;Se.isBookmarkNode(e)&&(Lt(t,a)||!a&&e.parentNode===n)?r=null:(r||(r=i.create("p"),e.parentNode.insertBefore(r,e),o.push(r)),r.appendChild(e))})),o}(t,r,i),(function(r){var i,s=r.previousSibling;s&&Et(s)&&s.nodeName===e&&function(t,e,n){var r=t.getStyle(e,"list-style-type"),o=n?n["list-style-type"]:"";return r===(o=null===o?"":o)}(a,s,n)?(i=s,r=a.rename(r,o),s.appendChild(r)):(i=a.create(e),r.parentNode.insertBefore(i,r),i.appendChild(r),r=a.rename(r,o)),function(t,e,n){kt.each(n,(function(n){var r;return t.setStyle(e,((r={})[n]="",r))}))}(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Me(a,i,n),Be(t.dom,i)})),t.selection.setRng(Oe(s))}},Ie=function(t,e,n){return function(t,e){return t&&e&&Et(t)&&t.nodeName===e.nodeName}(e,n)&&function(t,e,n){return t.getStyle(e,"list-style-type",!0)===t.getStyle(n,"list-style-type",!0)}(t,e,n)&&(r=n,e.className===r.className);var r},Be=function(t,e){var n,r;if(n=e.nextSibling,Ie(t,e,n)){for(;r=n.firstChild;)e.appendChild(r);t.remove(n)}if(n=e.previousSibling,Ie(t,e,n)){for(;r=n.lastChild;)e.insertBefore(r,e.firstChild);t.remove(n)}},Fe=function(t,e,n,r,o){if(e.nodeName!==r||je(o)){var i=Ee(t.selection.getRng(!0));kt.each([e].concat(n),(function(e){!function(t,e,n,r){if(e.nodeName!==n){var o=t.dom.rename(e,n);Me(t.dom,o,r),xt(t,Ae(n),o)}else Me(t.dom,e,r),xt(t,Ae(n),e)}(t,e,r,o)})),t.selection.setRng(Oe(i))}else Ce(t)},je=function(t){return"list-style-type"in t},ze=function(t,e,n){var r=Ft(t),o=jt(t);n=n||{},r&&o.length>0?Fe(t,r,o,e,n):function(t,e,n,r){if(e!==t.getBody())if(e)if(e.nodeName!==n||je(r)||De(e)){var o=Ee(t.selection.getRng(!0));Me(t.dom,e,r);var i=t.dom.rename(e,n);Be(t.dom,i),t.selection.setRng(Oe(o)),xt(t,Ae(n),i)}else Ce(t);else Re(t,n,r),xt(t,Ae(n),e)}(t,r,e,n)},He=me.DOM,qe=function(t,e){kt.each(kt.grep(t.select("ol,ul",e)),(function(e){!function(t,e){var n,r=e.parentNode;"LI"===r.nodeName&&r.firstChild===e&&((n=r.previousSibling)&&"LI"===n.nodeName?(n.appendChild(e),It(t,r)&&He.remove(r)):He.setStyle(r,"listStyleType","none")),Et(r)&&(n=r.previousSibling)&&"LI"===n.nodeName&&n.appendChild(e)}(t,e)}))},Ue=function(t,e,n,r){var o=e.startContainer,i=e.startOffset;if(Tt(o)&&(n?i<o.data.length:i>0))return o;var a=t.schema.getNonEmptyElements();1===o.nodeType&&(o=at.getNode(o,i));var s=new st(o,r);for(n&&function(t,e){return!!Mt(e)&&!(!t.isBlock(e.nextSibling)||Mt(e.previousSibling))}(t.dom,o)&&s.next();o=s[n?"next":"prev2"]();){if("LI"===o.nodeName&&!o.hasChildNodes())return o;if(a[o.nodeName])return o;if(Tt(o)&&o.data.length>0)return o}},We=function(t,e){var n=e.childNodes;return 1===n.length&&!Et(n[0])&&t.isBlock(n[0])},Ve=function(t,e,n){var r,o=We(t,n)?n.firstChild:n;if(function(t,e){We(t,e)&&t.remove(e.firstChild,!0)}(t,e),!It(t,e,!0))for(;r=e.firstChild;)o.appendChild(r)},$e=function(t,e,n){var r,o=e.parentNode;if(Bt(t,e)&&Bt(t,n)){Et(n.lastChild)&&(r=n.lastChild),o===n.lastChild&&Mt(o.previousSibling)&&t.remove(o.previousSibling);var i=n.lastChild;i&&Mt(i)&&e.hasChildNodes()&&t.remove(i),It(t,n,!0)&&t.$(n).empty(),Ve(t,e,n),r&&n.appendChild(r);var a=ot(et.fromDom(n),et.fromDom(e))?t.getParents(e,Et,n):[];t.remove(e),S(a,(function(e){It(t,e)&&e!==t.getRoot()&&t.remove(e)}))}},Ge=function(t,e,n,r){var o=t.dom;if(o.isEmpty(r))!function(t,e,n){t.dom.$(n).empty(),$e(t.dom,e,n),t.selection.setCursorLocation(n)}(t,n,r);else{var i=Ee(e);$e(o,n,r),t.selection.setRng(Oe(i))}},Ye=function(t,e){var n=t.dom,r=t.selection,o=r.getStart(),i=Ht(t,o),a=n.getParent(r.getStart(),"LI",i);if(a){var s=a.parentNode;if(s===t.getBody()&&It(n,s))return!0;var u=we(r.getRng()),l=n.getParent(Ue(t,u,e,i),"LI",i);if(l&&l!==a)return t.undoManager.transact((function(){var n;e?Ge(t,u,l,a):(n=a).parentNode.firstChild===n?ke(t):function(t,e,n,r){var o=Ee(e);$e(t.dom,n,r);var i=Oe(o);t.selection.setRng(i)}(t,u,a,l)})),!0;if(!l&&!e&&0===u.startOffset&&0===u.endOffset)return t.undoManager.transact((function(){Ce(t)})),!0}return!1},Ke=function(t,e){return Ye(t,e)||function(t,e){var n=t.dom,r=t.selection.getStart(),o=Ht(t,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var a=we(t.selection.getRng()),s=n.getParent(Ue(t,a,e,o),"LI",o);if(s)return t.undoManager.transact((function(){!function(t,e,n){var r=t.getParent(e.parentNode,t.isBlock,n);t.remove(e),r&&t.isEmpty(r)&&t.remove(r)}(n,i,o),Be(n,s.parentNode),t.selection.select(s,!0),t.selection.collapse(e)})),!0}return!1}(t,e)},Ze=function(t,e){return t.selection.isCollapsed()?Ke(t,e):function(t){var e=t.selection.getStart(),n=Ht(t,e);return!!(t.dom.getParent(e,"LI,DT,DD",n)||zt(t).length>0)&&(t.undoManager.transact((function(){t.execCommand("Delete"),qe(t.dom,t.getBody())})),!0)}(t)},Xe=function(t){var e=t.dom,n=Ft(t);At(n)&&t.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:e.getAttrib(n,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(n){var r=n.getData();t.undoManager.transact((function(){e.setAttrib(Ft(t),"start","1"===r.start?"":r.start)})),n.close()}})},Je=function(t,e){return function(){var n=t.dom.getParent(t.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===e}},Qe=function(t){(function(t){return t.getParam("lists_indent_on_tab",!0)})(t)&&function(t){t.on("keydown",(function(e){e.keyCode!==ut.TAB||ut.metaKeyPressed(e)||t.undoManager.transact((function(){(e.shiftKey?ke(t):_e(t))&&e.preventDefault()}))}))}(t),function(t){t.on("keydown",(function(e){e.keyCode===ut.BACKSPACE?Ze(t,!1)&&e.preventDefault():e.keyCode===ut.DELETE&&Ze(t,!0)&&e.preventDefault()}))}(t)};i.add("lists",(function(t){return!1===function(t){return!(!/(^|[ ,])rtc([, ]|$)/.test(t.getParam("plugins","","string"))||!i.get("rtc"))}(t)&&(Qe(t),function(t){t.on("BeforeExecCommand",(function(e){var n=e.command.toLowerCase();"indent"===n?_e(t):"outdent"===n&&ke(t)})),t.addCommand("InsertUnorderedList",(function(e,n){ze(t,"UL",n)})),t.addCommand("InsertOrderedList",(function(e,n){ze(t,"OL",n)})),t.addCommand("InsertDefinitionList",(function(e,n){ze(t,"DL",n)})),t.addCommand("RemoveList",(function(){Ce(t)})),t.addCommand("mceListProps",(function(){Xe(t)})),t.addQueryStateHandler("InsertUnorderedList",Je(t,"UL")),t.addQueryStateHandler("InsertOrderedList",Je(t,"OL")),t.addQueryStateHandler("InsertDefinitionList",Je(t,"DL"))}(t)),function(t){var e=function(e){return function(){return t.execCommand(e)}};(function(t,e){var n=t.getParam("plugins","","string");return-1!==kt.inArray(n.split(/[ ,]/),e)})(t,"advlist")||(t.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:e("InsertOrderedList"),onSetup:function(e){return Ne(t,"OL",e.setActive)}}),t.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:e("InsertUnorderedList"),onSetup:function(e){return Ne(t,"UL",e.setActive)}}))}(t),function(t){var e={text:"List properties...",icon:"ordered-list",onAction:function(){return Xe(t)},onSetup:function(e){return Ne(t,"OL",(function(t){return e.setDisabled(!t)}))}};t.ui.registry.addMenuItem("listprops",e),t.ui.registry.addContextMenu("lists",{update:function(e){var n=Ft(t,e);return At(n)?["listprops"]:[]}})}(t),function(t){return{backspaceDelete:function(e){Ze(t,e)}}}(t)}))}(window)},JEQr:function(t,e,n){"use strict";(function(e){var r=n("xTJ+"),o=n("yK9s"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n("tQ2B")),s),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(i)})),t.exports=u}).call(this,n("8oxB"))},JOgE:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.Env"),n=function(t,e){if(e<0&&(e=0),3===t.nodeType){var n=t.data.length;e>n&&(e=n)}return e},r=function(t,e,r){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,n(e,r)):t.setStartBefore(e)},o=function(t,e,r){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,n(e,r)):t.setEndAfter(e)},i=function(t,e,n){var i,a,s,u,l,c,f,d=function(t){return t.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)}(t),h=function(t){return t.getParam("default_link_target",!1)}(t);if("A"!==t.selection.getNode().tagName){var p=t.selection.getRng().cloneRange();if(p.startOffset<5){if(!(l=p.endContainer.previousSibling)){if(!p.endContainer.firstChild||!p.endContainer.firstChild.nextSibling)return;l=p.endContainer.firstChild.nextSibling}if(c=l.length,r(p,l,c),o(p,l,c),p.endOffset<5)return;i=p.endOffset,a=l}else{if(3!==(a=p.endContainer).nodeType&&a.firstChild){for(;3!==a.nodeType&&a.firstChild;)a=a.firstChild;3===a.nodeType&&(r(p,a,0),o(p,a,a.nodeValue.length))}i=1===p.endOffset?2:p.endOffset-1-e}var m=i;do{r(p,a,i>=2?i-2:0),o(p,a,i>=1?i-1:0),i-=1,f=p.toString()}while(" "!==f&&""!==f&&160!==f.charCodeAt(0)&&i-2>=0&&f!==n);!function(t,e){return t===e||" "===t||160===t.charCodeAt(0)}(p.toString(),n)?0===p.startOffset?(r(p,a,0),o(p,a,m)):(r(p,a,i),o(p,a,m)):(r(p,a,i),o(p,a,m),i+=1),"."===(u=p.toString()).charAt(u.length-1)&&o(p,a,m-1);var g=(u=p.toString().trim()).match(d),v=function(t){return t.getParam("link_default_protocol","http","string")}(t);g&&("www."===g[1]?g[1]=v+"://www.":/@$/.test(g[1])&&!/^mailto:/.test(g[1])&&(g[1]="mailto:"+g[1]),s=t.selection.getBookmark(),t.selection.setRng(p),t.execCommand("createlink",!1,g[1]+g[2]),!1!==h&&t.dom.setAttrib(t.selection.getNode(),"target",h),t.selection.moveToBookmark(s),t.nodeChanged())}},a=function(t){var n;t.on("keydown",(function(e){if(13===e.keyCode)return function(t){i(t,-1,"")}(t)})),e.browser.isIE()?t.on("focus",(function(){if(!n){n=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(t){}}})):(t.on("keypress",(function(e){if(41===e.keyCode)return function(t){i(t,-1,"(")}(t)})),t.on("keyup",(function(e){if(32===e.keyCode)return function(t){i(t,0,"")}(t)})))};t.add("autolink",(function(t){a(t)}))}()},JRl2:function(t,e){!function(t){"use strict";var e,n,r,o,i=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(){},l=function(t){return function(){return t}},c=l(!1),f=l(!0),d=l("[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"),h=function(){return p},p=(e=function(t){return t.isNone()},{fold:function(t,e){return t()},is:c,isSome:c,isNone:f,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:r,orThunk:n,map:h,each:u,bind:h,exists:c,forall:f,filter:h,equals:e,equals_:e,toArray:function(){return[]},toString:l("none()")}),m=function(t){var e=l(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:f,isNone:c,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return m(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:p},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(c,(function(e){return n(t,e)}))}};return o},g={some:m,none:h,from:function(t){return null==t?p:m(t)}},v=d,y=tinymce.util.Tools.resolve("tinymce.util.Tools"),b=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},w=function(t){return function(e){return typeof e===t}},x=b("string"),_=b("array"),k=w("boolean"),C=w("function"),S=w("number"),T=Array.prototype.slice,E=Array.prototype.push,O=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},A=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},D=function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}},N=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!_(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);E.apply(e,t[n])}return e}(O(t,e))},P=Object.hasOwnProperty,M=function(t,e){return P.call(t,e)},L=(void 0!==t.window?t.window:Function("return this;")(),o=3,function(t){return function(t){return t.dom().nodeType}(t)===o}),R=function(e,n,r){!function(e,n,r){if(!(x(r)||k(r)||S(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)},I=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:l(t)}},B={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return I(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return I(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return I(r)},fromDom:I,fromPoint:function(t,e,n){var r=t.dom();return g.from(r.elementFromPoint(e,n)).map(I)}},F=function(t,e){return{element:l(t),offset:l(e)}},j=function(t,e){var n=function(t){return O(t.dom().childNodes,B.fromDom)}(t);return n.length>0&&e<n.length?F(n[e],0):F(t,e)},z=function(t,e){(function(t){return g.from(t.dom().parentNode).map(B.fromDom)})(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},H=function(t,e){z(t,e),function(t,e){t.dom().appendChild(e.dom())}(e,t)};var q,U,W,V=(q=L,U="text",{get:function(t){if(!q(t))throw new Error("Can only get "+U+" value of a "+U+" node");return W(t).getOr("")},getOption:W=function(t){return q(t)?g.from(t.dom().nodeValue):g.none()},set:function(t,e){if(!q(t))throw new Error("Can only set raw "+U+" value of a "+U+" node");t.dom().nodeValue=e}}),$=function(t){return V.get(t)},G=(C(t.Element.prototype.attachShadow)&&C(t.Node.prototype.getRootNode),function(e,n){return function(e,n){var r,o=void 0===n?t.document:n.dom();return 1!==(r=o).nodeType&&9!==r.nodeType&&11!==r.nodeType||0===r.childElementCount?[]:O(o.querySelectorAll(e),B.fromDom)}(n,e)}),Y=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),K=function(t,e){return t.isBlock(e)||M(t.schema.getShortEndedElements(),e.nodeName)},Z=function(t,e){return"false"===t.getContentEditable(e)},X=function(t,e){return!t.isBlock(e)&&M(t.schema.getWhiteSpaceElements(),e.nodeName)},J=function(t,e){return j(B.fromDom(t),e)},Q=function(t,e,n,r,o,i){void 0===i&&(i=!0);for(var a=i?e(!1):n;a;){var s=Z(t,a);if(s||X(t,a)){if(s?r.cef(a):r.boundary(a))break;a=e(!0)}else{if(K(t,a)){if(r.boundary(a))break}else 3===a.nodeType&&r.text(a);if(a===o)break;a=e(!1)}}},tt=function(t,e,n,r,o){if(!function(t,e){return K(t,e)||Z(t,e)||X(t,e)||function(t,e){return"true"===t.getContentEditable(e)&&"false"===t.getContentEditableParent(e.parentNode)}(t,e)}(t,n)){var i=t.getParent(r,t.isBlock),a=new Y(n,i),s=o?a.next:a.prev;Q(t,s,n,{boundary:f,cef:f,text:function(t){o?e.fOffset+=t.length:e.sOffset+=t.length,e.elements.push(B.fromDom(t))}})}},et=function(t,e,n,r,o,i){void 0===i&&(i=!0);var a=new Y(n,e),s=[],u={sOffset:0,fOffset:0,elements:[]};tt(t,u,n,e,!1);var l=function(){return u.elements.length>0&&(s.push(u),u={sOffset:0,fOffset:0,elements:[]}),!1};return Q(t,a.next,n,{boundary:l,cef:function(t){return l(),o&&s.push.apply(s,o.cef(t)),!1},text:function(t){u.elements.push(B.fromDom(t)),o&&o.text(t,u)}},r,i),r&&tt(t,u,r,e,!0),l(),s},nt=function(e,n){var r=J(n.startContainer,n.startOffset),o=r.element().dom(),i=J(n.endContainer,n.endOffset),a=i.element().dom();return et(e,n.commonAncestorContainer,o,a,{text:function(t,e){t===a?e.fOffset+=t.length-i.offset():t===o&&(e.sOffset+=r.offset())},cef:function(n){var r,o,i,a=N(G(B.fromDom(n),"*[contenteditable=true]"),(function(t){var n=t.dom();return et(e,n,n)}));return r=a,o=function(e,n){return function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e,n,t.Node.DOCUMENT_POSITION_PRECEDING)}(e.elements[0].dom(),n.elements[0].dom())?1:-1},(i=T.call(r,0)).sort(o),i}},!1)},rt=function(t,e){return e.collapsed?[]:nt(t,e)},ot=function(t,e){var n=t.createRng();return n.selectNode(e),rt(t,n)},it=function(t,e){return function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,a=t.length;i<a;i++){var s=t[i],u=e(s);u!==n&&(r.push(o),o=[]),n=u,o.push(s)}return 0!==o.length&&r.push(o),r}(function(t,e,n){return A(t,(function(t){n=e(n,t)})),n}(t,(function(t,n){var r=$(n),o=t.last,i=o+r.length,a=N(e,(function(t,e){return t.start<i&&t.finish>o?[{element:n,start:Math.max(o,t.start)-o,finish:Math.min(i,t.finish)-o,matchId:e}]:[]}));return{results:t.results.concat(a),last:i}}),{results:[],last:0}).results,(function(t){return t.matchId}))},at=function(t,e){return N(e,(function(e){var n=e.elements,r=O(n,$).join(""),o=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);var o=e.regex;o.lastIndex=n;for(var i,a=[];i=o.exec(t);){var s=i[e.matchIndex],u=i.index+i[0].indexOf(s),l=u+s.length;if(l>r)break;a.push({start:u,finish:l}),o.lastIndex=l}return a}(r,t,e.sOffset,r.length-e.fOffset);return it(n,o)}))},st=function(t,e){D(t,(function(t,n){D(t,(function(t){var r=B.fromDom(e.cloneNode(!1));R(r,"data-mce-index",n);var o=t.element.dom();if(o.length===t.finish&&0===t.start)H(t.element,r);else{o.length!==t.finish&&o.splitText(t.finish);var i=o.splitText(t.start);H(B.fromDom(i),r)}}))}))},ut=function(t,e,n,r){var o=n.getBookmark(),i=t.select("td[data-mce-selected],th[data-mce-selected]"),a=i.length>0?function(t,e){return N(e,(function(e){return ot(t,e)}))}(t,i):rt(t,n.getRng()),s=at(e,a);return st(s,r),n.moveToBookmark(o),s.length},lt=function(t){var e=t.getAttribute("data-mce-index");return"number"==typeof e?""+e:e},ct=function(t,e,n,r){var o=t.dom.create("span",{"data-mce-bogus":1});o.className="mce-match-marker";var i=t.getBody();return wt(t,e,!1),r?ut(t.dom,n,t.selection,o):function(t,e,n,r){var o=ot(t,n),i=at(e,o);return st(i,r),i.length}(t.dom,n,i,o)},ft=function(t){var e=t.parentNode;t.firstChild&&e.insertBefore(t.firstChild,t),t.parentNode.removeChild(t)},dt=function(t,e){var n=[],r=y.toArray(t.getBody().getElementsByTagName("span"));if(r.length)for(var o=0;o<r.length;o++){var i=lt(r[o]);null!==i&&i.length&&(i===e.toString()&&n.push(r[o]))}return n},ht=function(t,e,n){var r=e.get(),o=r.index,i=t.dom;(n=!1!==n)?o+1===r.count?o=0:o++:o-1==-1?o=r.count-1:o--,i.removeClass(dt(t,r.index),"mce-match-marker-selected");var a=dt(t,o);return a.length?(i.addClass(dt(t,o),"mce-match-marker-selected"),t.selection.scrollIntoView(a[0]),o):-1},pt=function(t,e){var n=e.parentNode;t.remove(e),t.isEmpty(n)&&t.remove(n)},mt=function(t,e,n,r,o,i){var a=function(t,e){var n="("+t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return e?"(?:^|\\s|"+v()+")"+n+"(?=$|\\s|"+v()+")":n}(n,o),s={regex:new RegExp(a,r?"g":"gi"),matchIndex:1},u=ct(t,e,s,i);if(u){var l=ht(t,e,!0);e.set({index:l,count:u,text:n,matchCase:r,wholeWord:o,inSelection:i})}return u},gt=function(t,e){var n=ht(t,e,!0);e.set(s(s({},e.get()),{index:n}))},vt=function(t,e){var n=ht(t,e,!1);e.set(s(s({},e.get()),{index:n}))},yt=function(t){var e=lt(t);return null!==e&&e.length>0},bt=function(t,e,n,r,o){var i,a=e.get(),u=a.index,l=u;r=!1!==r;for(var c=t.getBody(),f=y.grep(y.toArray(c.getElementsByTagName("span")),yt),d=0;d<f.length;d++){var h=lt(f[d]),p=i=parseInt(h,10);if(o||p===a.index){for(n.length?(f[d].firstChild.nodeValue=n,ft(f[d])):pt(t.dom,f[d]);f[++d];){if((p=parseInt(lt(f[d]),10))!==i){d--;break}pt(t.dom,f[d])}r&&l--}else i>u&&f[d].setAttribute("data-mce-index",String(i-1))}return e.set(s(s({},a),{count:o?0:a.count-1,index:l})),r?gt(t,e):vt(t,e),!o&&e.get().count>0},wt=function(t,e,n){var r,o,i,a=e.get(),u=y.toArray(t.getBody().getElementsByTagName("span"));for(r=0;r<u.length;r++){var l=lt(u[r]);null!==l&&l.length&&(l===a.index.toString()&&(o||(o=u[r].firstChild),i=u[r].firstChild),ft(u[r]))}if(e.set(s(s({},a),{index:-1,count:0,text:""})),o&&i){var c=t.dom.createRng();return c.setStart(o,0),c.setEnd(i,i.data.length),!1!==n&&t.selection.setRng(c),c}},xt=tinymce.util.Tools.resolve("tinymce.Env"),_t=function(t,e){var n,r=(n=i(g.none()),{clear:function(){n.set(g.none())},set:function(t){n.set(g.some(t))},isSet:function(){return n.get().isSome()},on:function(t){n.get().each(t)}});t.undoManager.add();var o=y.trim(t.selection.getContent({format:"text"}));function a(t){(function(t,e){return e.get().count>1}(0,e)?t.enable:t.disable)("next"),(function(t,e){return e.get().count>1}(0,e)?t.enable:t.disable)("prev")}var u=function(t,e){var n=e?t.disable:t.enable;A(["replace","replaceall","prev","next"],n)};var l=function(t,e){xt.browser.isSafari()&&xt.deviceType.isTouch()&&("find"===e||"replace"===e||"replaceall"===e)&&t.focus(e)},c=function(n){wt(t,e,!1),u(n,!0),a(n)},f=function(n){var r=n.getData(),o=e.get();if(r.findtext.length){if(o.text===r.findtext&&o.matchCase===r.matchcase&&o.wholeWord===r.wholewords)gt(t,e);else{var i=mt(t,e,r.findtext,r.matchcase,r.wholewords,r.inselection);i<=0&&function(e){t.windowManager.alert("Could not find the specified string.",(function(){e.focus("findtext")}))}(n),u(n,0===i)}a(n)}else c(n)},d=e.get(),h={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:{findtext:o,replacetext:"",wholewords:d.wholeWord,matchcase:d.matchCase,inselection:d.inSelection},onChange:function(t,n){"findtext"===n.name&&e.get().count>0&&c(t)},onAction:function(n,r){var o=n.getData();switch(r.name){case"find":f(n);break;case"replace":bt(t,e,o.replacetext)?a(n):c(n);break;case"replaceall":bt(t,e,o.replacetext,!0,!0),c(n);break;case"prev":vt(t,e),a(n);break;case"next":gt(t,e),a(n);break;case"matchcase":case"wholewords":case"inselection":!function(t){var n=t.getData(),r=e.get();e.set(s(s({},r),{matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection}))}(n),c(n)}l(n,r.name)},onSubmit:function(t){f(t),l(t,"find")},onClose:function(){t.focus(),wt(t,e),t.undoManager.add()}};r.set(t.windowManager.open(h,{inline:"toolbar"}))},kt=function(t,e){return function(){_t(t,e)}};a.add("searchreplace",(function(t){var e=i({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return function(t,e){t.addCommand("SearchReplace",(function(){_t(t,e)}))}(t,e),function(t,e){t.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:kt(t,e),icon:"search"}),t.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:kt(t,e),icon:"search"}),t.shortcuts.add("Meta+F","",kt(t,e))}(t,e),function(t,e){return{done:function(n){return wt(t,e,n)},find:function(n,r,o,i){return void 0===i&&(i=!1),mt(t,e,n,r,o,i)},next:function(){return gt(t,e)},prev:function(){return vt(t,e)},replace:function(n,r,o){return bt(t,e,n,r,o)}}}(t,e)}))}(window)},JSZk:function(module,exports,__webpack_require__){var factory;window,factory=function(){return modules=[function(t){t.exports=JSON.parse('{"BACKSPACE":8,"BACKSPACE_SAFARI":127,"DELETE":46,"DOWN":40,"END":35,"ENTER":13,"ESCAPE":27,"HOME":36,"INSERT":45,"LEFT":37,"PAGE_DOWN":34,"PAGE_UP":33,"RIGHT":39,"SPACE":32,"TAB":9,"UP":38,"X":88,"CONTROL":17}')},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(2),i=n(3),a=i.document,s=n(4).generateMaskSet,u=n(4).analyseMask,l=n(7);function c(t,e,n){if(!(this instanceof c))return new c(t,e,n);this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,!0!==n&&(o.isPlainObject(t)?e=t:(e=e||{},t&&(e.alias=t)),this.opts=o.extend(!0,{},this.defaults,e),this.noMasksCache=e&&void 0!==e.definitions,this.userOptions=e||{},f(this.opts.alias,e,this.opts),this.isRTL=this.opts.numericInput)}function f(t,e,n){var r=c.prototype.aliases[t];return r?(r.alias&&f(r.alias,void 0,n),o.extend(!0,n,r),o.extend(!0,n,e),!0):(null===n.mask&&(n.mask=t),!1)}c.prototype={dataAttribute:"data-inputmask",defaults:{_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:o.noop,onincomplete:o.noop,oncleared:o.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:o.noop,onBeforeMask:null,onBeforePaste:function(t,e){return o.isFunction(e.onBeforeMask)?e.onBeforeMask.call(this,t,e):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:o.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9１-９]",definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",definitionSymbol:"*"},"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ]"}},aliases:{},masksCache:{},mask:function(t){var e=this;return"string"==typeof t&&(t=a.getElementById(t)||a.querySelectorAll(t)),t=t.nodeName?[t]:t,o.each(t,(function(t,n){var r=o.extend(!0,{},e.opts);if(function(t,e,n,r){function a(e,o){null!==(o=void 0!==o?o:t.getAttribute(r+"-"+e))&&("string"==typeof o&&(0===e.indexOf("on")?o=i[o]:"false"===o?o=!1:"true"===o&&(o=!0)),n[e]=o)}if(!0===e.importDataAttributes){var s,u,l,c,d=t.getAttribute(r);if(d&&""!==d&&(d=d.replace(/'/g,'"'),u=JSON.parse("{"+d+"}")),u)for(c in l=void 0,u)if("alias"===c.toLowerCase()){l=u[c];break}for(s in a("alias",l),n.alias&&f(n.alias,n,e),e){if(u)for(c in l=void 0,u)if(c.toLowerCase()===s.toLowerCase()){l=u[c];break}a(s,l)}}return o.extend(!0,e,n),"rtl"!==t.dir&&!e.rightAlign||(t.style.textAlign="right"),"rtl"!==t.dir&&!e.numericInput||(t.dir="ltr",t.removeAttribute("dir"),e.isRTL=!0),Object.keys(n).length}(n,r,o.extend(!0,{},e.userOptions),e.dataAttribute)){var a=s(r,e.noMasksCache);void 0!==a&&(void 0!==n.inputmask&&(n.inputmask.opts.autoUnmask=!0,n.inputmask.remove()),n.inputmask=new c(void 0,void 0,!0),n.inputmask.opts=r,n.inputmask.noMasksCache=e.noMasksCache,n.inputmask.userOptions=o.extend(!0,{},e.userOptions),n.inputmask.isRTL=r.isRTL||r.numericInput,n.inputmask.el=n,n.inputmask.maskset=a,o.data(n,"_inputmask_opts",r),l.call(n.inputmask,{action:"mask"}))}})),t&&t[0]&&t[0].inputmask||this},option:function(t,e){return"string"==typeof t?this.opts[t]:"object"===r(t)?(o.extend(this.userOptions,t),this.el&&!0!==e&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"unmaskedvalue",value:t})},remove:function(){return l.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"getmetadata"})},isValid:function(t){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"isValid",value:t})},format:function(t,e){return this.maskset=this.maskset||s(this.opts,this.noMasksCache),l.call(this,{action:"format",value:t,metadata:e})},setValue:function(t){this.el&&o(this.el).trigger("setvalue",[t])},analyseMask:u},c.extendDefaults=function(t){o.extend(!0,c.prototype.defaults,t)},c.extendDefinitions=function(t){o.extend(!0,c.prototype.definitions,t)},c.extendAliases=function(t){o.extend(!0,c.prototype.aliases,t)},c.format=function(t,e,n){return c(e).format(t,n)},c.unmask=function(t,e){return c(e).unmaskedvalue(t)},c.isValid=function(t,e){return c(e).isValid(t)},c.remove=function(t){"string"==typeof t&&(t=a.getElementById(t)||a.querySelectorAll(t)),t=t.nodeName?[t]:t,o.each(t,(function(t,e){e.inputmask&&e.inputmask.remove()}))},c.setValue=function(t,e){"string"==typeof t&&(t=a.getElementById(t)||a.querySelectorAll(t)),t=t.nodeName?[t]:t,o.each(t,(function(t,n){n.inputmask?n.inputmask.setValue(e):o(n).trigger("setvalue",[e])}))};var d=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim");c.escapeRegex=function(t){return t.replace(d,"\\$1")},c.dependencyLib=o,i.Inputmask=c,t.exports=c},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(3),i=o.document;function a(t){return null!=t&&t===t.window}function s(t){return t instanceof Element}function u(t){return t instanceof u?t:this instanceof u?void(null!=t&&t!==o&&(this[0]=t.nodeName?t:void 0!==t[0]&&t[0].nodeName?t[0]:i.querySelector(t),void 0!==this[0]&&null!==this[0]&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new u(t)}u.prototype={on:function(t,e){function n(t,n){o.addEventListener?o.addEventListener(t,e,!1):o.attachEvent&&o.attachEvent("on"+t,e),r[t]=r[t]||{},r[t][n]=r[t][n]||[],r[t][n].push(e)}if(s(this[0]))for(var r=this[0].eventRegistry,o=this[0],i=t.split(" "),a=0;a<i.length;a++){var u=i[a].split(".");n(u[0],u[1]||"global")}return this},off:function(t,e){var n,r;function o(t,e,o){if(t in n==1)if(r.removeEventListener?r.removeEventListener(t,o,!1):r.detachEvent&&r.detachEvent("on"+t,o),"global"===e)for(var i in n[t])n[t][i].splice(n[t][i].indexOf(o),1);else n[t][e].splice(n[t][e].indexOf(o),1)}function i(t,r){var o,i,a=[];if(0<t.length)if(void 0===e)for(o=0,i=n[t][r].length;o<i;o++)a.push({ev:t,namespace:r&&0<r.length?r:"global",handler:n[t][r][o]});else a.push({ev:t,namespace:r&&0<r.length?r:"global",handler:e});else if(0<r.length)for(var s in n)for(var u in n[s])if(u===r)if(void 0===e)for(o=0,i=n[s][u].length;o<i;o++)a.push({ev:s,namespace:u,handler:n[s][u][o]});else a.push({ev:s,namespace:u,handler:e});return a}if(s(this[0])){n=this[0].eventRegistry,r=this[0];for(var a=t.split(" "),u=0;u<a.length;u++)for(var l=a[u].split("."),c=i(l[0],l[1]),f=0,d=c.length;f<d;f++)o(c[f].ev,c[f].namespace,c[f].handler)}return this},trigger:function(t,e){if(s(this[0]))for(var n=this[0].eventRegistry,r=this[0],o="string"==typeof t?t.split(" "):[t.type],a=0;a<o.length;a++){var l=o[a].split("."),c=l[0],f=l[1]||"global";if(void 0!==i&&"global"===f){var d,h,p={bubbles:!0,cancelable:!0,detail:e};if(i.createEvent){try{d=new CustomEvent(c,p)}catch(t){(d=i.createEvent("CustomEvent")).initCustomEvent(c,p.bubbles,p.cancelable,p.detail)}t.type&&u.extend(d,t),r.dispatchEvent(d)}else(d=i.createEventObject()).eventType=c,d.detail=e,t.type&&u.extend(d,t),r.fireEvent("on"+d.eventType,d)}else if(void 0!==n[c])if((t=t.type?t:u.Event(t)).detail=arguments.slice(1),"global"===f)for(var m in n[c])for(h=0;h<n[c][m].length;h++)n[c][m][h].apply(r,arguments);else for(h=0;h<n[c][f].length;h++)n[c][f][h].apply(r,arguments)}return this}},u.isFunction=function(t){return"function"==typeof t},u.noop=function(){},u.isArray=Array.isArray,u.inArray=function(t,e,n){return null==e?-1:function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}(e,t)},u.valHooks=void 0,u.isPlainObject=function(t){return!("object"!==r(t)||t.nodeType||a(t)||t.constructor&&!Object.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))},u.extend=function(){var t,e,n,o,i,a,s=arguments[0]||{},l=1,c=arguments.length,f=!1;for("boolean"==typeof s&&(f=s,s=arguments[l]||{},l++),"object"===r(s)||u.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(t=arguments[l]))for(e in t)n=s[e],s!==(o=t[e])&&(f&&o&&(u.isPlainObject(o)||(i=u.isArray(o)))?(a=i?(i=!1,n&&u.isArray(n)?n:[]):n&&u.isPlainObject(n)?n:{},s[e]=u.extend(f,a,o)):void 0!==o&&(s[e]=o));return s},u.each=function(t,e){var n=0;if(function(t){var e="length"in t&&t.length,n=r(t);return"function"!==n&&!a(t)&&(!(1!==t.nodeType||!e)||"array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}(t))for(var o=t.length;n<o&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},u.data=function(t,e,n){if(void 0===n)return t.__data?t.__data[e]:null;t.__data=t.__data||{},t.__data[e]=n},"function"==typeof o.CustomEvent?u.Event=o.CustomEvent:(u.Event=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=i.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n},u.Event.prototype=o.Event.prototype),t.exports=u},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,n){"use strict";var r=n(2);t.exports={generateMaskSet:function(t,e){function n(t,n,o){var i,a,s=!1;if(null!==t&&""!==t||(t=(s=null!==o.regex)?(t=o.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(s=!0,".*")),1===t.length&&!1===o.greedy&&0!==o.repeat&&(o.placeholder=""),0<o.repeat||"*"===o.repeat||"+"===o.repeat){var u="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;t=o.groupmarker[0]+t+o.groupmarker[1]+o.quantifiermarker[0]+u+","+o.repeat+o.quantifiermarker[1]}return a=s?"regex_"+o.regex:o.numericInput?t.split("").reverse().join(""):t,!1!==o.keepStatic&&(a="ks_"+a),void 0===Inputmask.prototype.masksCache[a]||!0===e?(i={mask:t,maskToken:Inputmask.prototype.analyseMask(t,s,o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:n,maskLength:void 0,jitOffset:{}},!0!==e&&(Inputmask.prototype.masksCache[a]=i,i=r.extend(!0,{},Inputmask.prototype.masksCache[a]))):i=r.extend(!0,{},Inputmask.prototype.masksCache[a]),i}if(r.isFunction(t.mask)&&(t.mask=t.mask(t)),r.isArray(t.mask)){if(1<t.mask.length){null===t.keepStatic&&(t.keepStatic=!0);var o=t.groupmarker[0];return r.each(t.isRTL?t.mask.reverse():t.mask,(function(e,n){1<o.length&&(o+=t.groupmarker[1]+t.alternatormarker+t.groupmarker[0]),void 0===n.mask||r.isFunction(n.mask)?o+=n:o+=n.mask})),n(o+=t.groupmarker[1],t.mask,t)}t.mask=t.mask.pop()}return null===t.keepStatic&&(t.keepStatic=!1),t.mask&&void 0!==t.mask.mask&&!r.isFunction(t.mask.mask)?n(t.mask.mask,t.mask,t):n(t.mask,t.mask,t)},analyseMask:function(t,e,n){var o,i,a,s,u,l,c=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,d=!1,h=new v,p=[],m=[],g=!1;function v(t,e,n,r){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=n||!1,this.isAlternator=r||!1,this.quantifier={min:1,max:1}}function y(t,o,i){i=void 0!==i?i:t.matches.length;var a=t.matches[i-1];if(e)0===o.indexOf("[")||d&&/\\d|\\s|\\w]/i.test(o)||"."===o?t.matches.splice(i++,0,{fn:new RegExp(o,n.casing?"i":""),static:!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==o,casing:null,def:o,placeholder:void 0,nativeDef:o}):(d&&(o=o[o.length-1]),r.each(o.split(""),(function(e,r){a=t.matches[i-1],t.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||r)?new RegExp("["+(n.staticDefinitionSymbol||r)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==r&&!0!==a.static,casing:null,def:n.staticDefinitionSymbol||r,placeholder:void 0!==n.staticDefinitionSymbol?r:void 0,nativeDef:(d?"'":"")+r})}))),d=!1;else{var s=(n.definitions?n.definitions[o]:void 0)||Inputmask.prototype.definitions[o];s&&!d?t.matches.splice(i++,0,{fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator,n.casing?"i":""):new function(){this.test=s.validator}:new RegExp("."),static:s.static||!1,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==(s.definitionSymbol||o),casing:s.casing,def:s.definitionSymbol||o,placeholder:s.placeholder,nativeDef:o,generated:s.generated}):(t.matches.splice(i++,0,{fn:/[a-z]/i.test(n.staticDefinitionSymbol||o)?new RegExp("["+(n.staticDefinitionSymbol||o)+"]",n.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:void 0===a?"master":a.def!==o&&!0!==a.static,casing:null,def:n.staticDefinitionSymbol||o,placeholder:void 0!==n.staticDefinitionSymbol?o:void 0,nativeDef:(d?"'":"")+o}),d=!1)}}function b(){if(0<p.length){if(y(s=p[p.length-1],i),s.isAlternator){u=p.pop();for(var t=0;t<u.matches.length;t++)u.matches[t].isGroup&&(u.matches[t].isGroup=!1);0<p.length?(s=p[p.length-1]).matches.push(u):h.matches.push(u)}}else y(h,i)}function w(t){var e=new v(!0);return e.openGroup=!1,e.matches=t,e}function x(){if((a=p.pop()).openGroup=!1,void 0!==a)if(0<p.length){if((s=p[p.length-1]).matches.push(a),s.isAlternator){u=p.pop();for(var t=0;t<u.matches.length;t++)u.matches[t].isGroup=!1,u.matches[t].alternatorGroup=!1;0<p.length?(s=p[p.length-1]).matches.push(u):h.matches.push(u)}}else h.matches.push(a);else b()}function _(t){var e=t.pop();return e.isQuantifier&&(e=w([t.pop(),e])),e}for(e&&(n.optionalmarker[0]=void 0,n.optionalmarker[1]=void 0);o=e?f.exec(t):c.exec(t);){if(i=o[0],e)switch(i.charAt(0)){case"?":i="{0,1}";break;case"+":case"*":i="{"+i+"}";break;case"|":if(0===p.length){var k=w(h.matches);k.openGroup=!0,p.push(k),h.matches=[],g=!0}}if(d)b();else switch(i.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case n.escapeChar:d=!0,e&&b();break;case n.optionalmarker[1]:case n.groupmarker[1]:x();break;case n.optionalmarker[0]:p.push(new v(!1,!0));break;case n.groupmarker[0]:p.push(new v(!0));break;case n.quantifiermarker[0]:var C=new v(!1,!1,!0),S=(i=i.replace(/[{}]/g,"")).split("|"),T=S[0].split(","),E=isNaN(T[0])?T[0]:parseInt(T[0]),O=1===T.length?E:isNaN(T[1])?T[1]:parseInt(T[1]);"*"!==E&&"+"!==E||(E="*"===O?0:1),C.quantifier={min:E,max:O,jit:S[1]};var A=0<p.length?p[p.length-1].matches:h.matches;if((o=A.pop()).isAlternator){A.push(o),A=o.matches;var D=new v(!0),N=A.pop();A.push(D),A=D.matches,o=N}o.isGroup||(o=w([o])),A.push(o),A.push(C);break;case n.alternatormarker:if(0<p.length){var P=(s=p[p.length-1]).matches[s.matches.length-1];l=s.openGroup&&(void 0===P.matches||!1===P.isGroup&&!1===P.isAlternator)?p.pop():_(s.matches)}else l=_(h.matches);if(l.isAlternator)p.push(l);else if(l.alternatorGroup?(u=p.pop(),l.alternatorGroup=!1):u=new v(!1,!1,!1,!0),u.matches.push(l),p.push(u),l.openGroup){l.openGroup=!1;var M=new v(!0);M.alternatorGroup=!0,p.push(M)}break;default:b()}}for(g&&x();0<p.length;)a=p.pop(),h.matches.push(a);return 0<h.matches.length&&(function t(o){o&&o.matches&&r.each(o.matches,(function(r,i){var a=o.matches[r+1];(void 0===a||void 0===a.matches||!1===a.isQuantifier)&&i&&i.isGroup&&(i.isGroup=!1,e||(y(i,n.groupmarker[0],0),!0!==i.openGroup&&y(i,n.groupmarker[1]))),t(i)}))}(h),m.push(h)),(n.numericInput||n.isRTL)&&function t(e){for(var r in e.matches=e.matches.reverse(),e.matches)if(Object.prototype.hasOwnProperty.call(e.matches,r)){var o=parseInt(r);if(e.matches[r].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var i=e.matches[r];e.matches.splice(r,1),e.matches.splice(o+1,0,i)}void 0!==e.matches[r].matches?e.matches[r]=t(e.matches[r]):e.matches[r]=((a=e.matches[r])===n.optionalmarker[0]?a=n.optionalmarker[1]:a===n.optionalmarker[1]?a=n.optionalmarker[0]:a===n.groupmarker[0]?a=n.groupmarker[1]:a===n.groupmarker[1]&&(a=n.groupmarker[0]),a)}var a;return e}(m[0]),m}}},function(t,e,n){"use strict";n(6),n(8),n(9),n(10),t.exports=n(1)},function(t,e,n){"use strict";var r=n(1);r.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var o=new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]");function i(t,e,n,r,i){return t=-1<n-1&&"."!==e.buffer[n-1]?(t=e.buffer[n-1]+t,-1<n-2&&"."!==e.buffer[n-2]?e.buffer[n-2]+t:"0"+t):"00"+t,o.test(t)}r.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].j[j[j]].k[k[k]].l[l[l]]",definitions:{i:{validator:i},j:{validator:i},k:{validator:i},l:{validator:i}},onUnMask:function(t,e,n){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9１-９A-Za-zА-яЁёÀ-ÿµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,n){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(t,e,n,r,o,i,a){return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(t.join(""))}}}),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(2),i=n(3),a=i.document,s=i.navigator&&i.navigator.userAgent||"",u=0<s.indexOf("MSIE ")||0<s.indexOf("Trident/"),l="ontouchstart"in i,c=/iemobile/i.test(s),f=/iphone/i.test(s)&&!c,d=n(0);t.exports=function t(e,n,s){n=n||this.maskset,s=s||this.opts;var h,p,m,g=this,v=this.el,y=this.isRTL||(this.isRTL=s.numericInput),b=!1,w=!1,x=!1,_=!1,k=!1,C=void 0;function S(t,e,r,o,i){var a=s.greedy;i&&(s.greedy=!1),e=e||0;var u,l,c,f,d=[],h=0;do{if(!0===t&&n.validPositions[h])l=(c=i&&!0===n.validPositions[h].match.optionality&&void 0===n.validPositions[h+1]&&(!0===n.validPositions[h].generatedInput||n.validPositions[h].input==s.skipOptionalPartCharacter&&0<h)?D(h,L(h,u,h-1)):n.validPositions[h]).match,u=c.locator.slice(),d.push(!0===r?c.input:!1===r?l.nativeDef:Y(h,l));else{l=(c=N(h,u,h-1)).match,u=c.locator.slice();var p=!0!==o&&(!1!==s.jitMasking?s.jitMasking:l.jit);(f=f&&l.static&&l.def!==s.groupSeparator&&null===l.fn||n.validPositions[h-1]&&l.static&&l.def!==s.groupSeparator&&null===l.fn)||!1===p||void 0===p||"number"==typeof p&&isFinite(p)&&h<p?d.push(!1===r?l.nativeDef:Y(h,l)):f=!1}h++}while((void 0===m||h<m)&&(!0!==l.static||""!==l.def)||h<e);return""===d[d.length-1]&&d.pop(),!1===r&&void 0!==n.maskLength||(n.maskLength=h-1),s.greedy=a,d}function T(t){n.buffer=void 0,!0!==t&&(n.validPositions={},n.p=0)}function E(t,e,r){var o=-1,i=-1,a=r||n.validPositions;for(var s in void 0===t&&(t=-1),a){var u=parseInt(s);a[u]&&(e||!0!==a[u].generatedInput)&&(u<=t&&(o=u),t<=u&&(i=u))}return-1===o||o==t?i:-1==i||t-o<i-t?o:i}function O(t){var e=t.locator[t.alternation];return"string"==typeof e&&0<e.length&&(e=e.split(",")[0]),void 0!==e?e.toString():""}function A(t,e){var n=(null!=t.alternation?t.mloc[O(t)]:t.locator).join("");if(""!==n)for(;n.length<e;)n+="0";return n}function D(t,e){for(var n,r,o,i=A(P(t=0<t?t-1:0)),a=0;a<e.length;a++){var u=e[a];n=A(u,i.length);var l=Math.abs(n-i);(void 0===r||""!==n&&l<r||o&&!s.greedy&&o.match.optionality&&"master"===o.match.newBlockMarker&&(!u.match.optionality||!u.match.newBlockMarker)||o&&o.match.optionalQuantifier&&!u.match.optionalQuantifier)&&(r=l,o=u)}return o}function N(t,e,r){return n.validPositions[t]||D(t,L(t,e?e.slice():e,r))}function P(t,e){return n.validPositions[t]?n.validPositions[t]:(e||L(t))[0]}function M(t,e,r){for(var o=!1,i=L(t),a=0;a<i.length;a++){if(i[a].match&&(!(i[a].match.nativeDef!==e.match[r.shiftPositions?"def":"nativeDef"]||r.shiftPositions&&e.match.static)||i[a].match.nativeDef===e.match.nativeDef)){o=!0;break}if(i[a].match&&i[a].match.def===e.match.nativeDef){o=void 0;break}}return!1===o&&void 0!==n.jitOffset[t]&&(o=M(t+n.jitOffset[t],e,r)),o}function L(t,e,r){var i,a=n.maskToken,u=e?r:0,l=e?e.slice():[0],c=[],f=!1,d=e?e.join(""):"";function h(e,r,a,l){function p(a,l,m){function g(t,e){var n=0===o.inArray(t,e.matches);return n||o.each(e.matches,(function(r,o){if(!0===o.isQuantifier?n=g(t,e.matches[r-1]):Object.prototype.hasOwnProperty.call(o,"matches")&&(n=g(t,o)),n)return!1})),n}function y(t,e,r){var i,a;if((n.tests[t]||n.validPositions[t])&&o.each(n.tests[t]||[n.validPositions[t]],(function(t,n){if(n.mloc[e])return i=n,!1;var o=void 0!==r?r:n.alternation,s=void 0!==n.locator[o]?n.locator[o].toString().indexOf(e):-1;(void 0===a||s<a)&&-1!==s&&(i=n,a=s)})),i){var s=i.locator[i.alternation];return(i.mloc[e]||i.mloc[s]||i.locator).slice((void 0!==r?r:i.alternation)+1)}return void 0!==r?y(t,e):void 0}function b(t,e){function n(t){for(var e,n=[],r=-1,o=0,i=t.length;o<i;o++)if("-"===t.charAt(o))for(e=t.charCodeAt(o+1);++r<e;)n.push(String.fromCharCode(r));else r=t.charCodeAt(o),n.push(t.charAt(o));return n.join("")}return t.match.def===e.match.nativeDef||!(!(s.regex||t.match.fn instanceof RegExp&&e.match.fn instanceof RegExp)||!0===t.match.static||!0===e.match.static)&&-1!==n(e.match.fn.toString().replace(/[[\]/]/g,"")).indexOf(n(t.match.fn.toString().replace(/[[\]/]/g,"")))}function w(t,e){var n=t.alternation,r=void 0===e||n===e.alternation&&-1===t.locator[n].toString().indexOf(e.locator[n]);if(!r&&n>e.alternation)for(var o=e.alternation;o<n;o++)if(t.locator[o]!==e.locator[o]){n=o,r=!0;break}if(r){t.mloc=t.mloc||{};var i=t.locator[n];if(void 0!==i){if("string"==typeof i&&(i=i.split(",")[0]),void 0===t.mloc[i]&&(t.mloc[i]=t.locator.slice()),void 0!==e){for(var a in e.mloc)"string"==typeof a&&(a=a.split(",")[0]),void 0===t.mloc[a]&&(t.mloc[a]=e.mloc[a]);t.locator[n]=Object.keys(t.mloc).join(",")}return!0}t.alternation=void 0}return!1}function x(t,e){if(t.locator.length!==e.locator.length)return!1;for(var n=t.alternation+1;n<t.locator.length;n++)if(t.locator[n]!==e.locator[n])return!1;return!0}if(u>s._maxTestPos&&void 0!==m)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+n.mask;if(u===t&&void 0===a.matches)return c.push({match:a,locator:l.reverse(),cd:d,mloc:{}}),!0;if(void 0!==a.matches){if(a.isGroup&&m!==a){if(a=p(e.matches[o.inArray(a,e.matches)+1],l,m))return!0}else if(a.isOptional){var _=a,k=c.length;if(a=h(a,r,l,m)){if(o.each(c,(function(t,e){k<=t&&(e.match.optionality=!0)})),i=c[c.length-1].match,void 0!==m||!g(i,_))return!0;f=!0,u=t}}else if(a.isAlternator){var C,S=a,T=[],E=c.slice(),O=l.length,A=0<r.length?r.shift():-1;if(-1===A||"string"==typeof A){var D,N=u,P=r.slice(),M=[];if("string"==typeof A)M=A.split(",");else for(D=0;D<S.matches.length;D++)M.push(D.toString());if(void 0!==n.excludes[t]){for(var L=M.slice(),R=0,I=n.excludes[t].length;R<I;R++){var B=n.excludes[t][R].toString().split(":");l.length==B[1]&&M.splice(M.indexOf(B[0]),1)}0===M.length&&(delete n.excludes[t],M=L)}(!0===s.keepStatic||isFinite(parseInt(s.keepStatic))&&N>=s.keepStatic)&&(M=M.slice(0,1));for(var F=!1,j=0;j<M.length;j++){D=parseInt(M[j]),c=[],r="string"==typeof A&&y(u,D,O)||P.slice(),S.matches[D]&&p(S.matches[D],[D].concat(l),m)?a=!0:0===j&&(F=!0),C=c.slice(),u=N,c=[];for(var z=0;z<C.length;z++){var H=C[z],q=!1;H.match.jit=H.match.jit||F,H.alternation=H.alternation||O,w(H);for(var U=0;U<T.length;U++){var W=T[U];if("string"!=typeof A||void 0!==H.alternation&&-1!==o.inArray(H.locator[H.alternation].toString(),M)){if(H.match.nativeDef===W.match.nativeDef){q=!0,w(W,H);break}if(b(H,W)){w(H,W)&&(q=!0,T.splice(T.indexOf(W),0,H));break}if(b(W,H)){w(W,H);break}if(K=W,!0===(Y=H).match.static&&!0!==K.match.static&&K.match.fn.test(Y.match.def,n,t,!1,s,!1)){x(H,W)||void 0!==v.inputmask.userOptions.keepStatic?w(H,W)&&(q=!0,T.splice(T.indexOf(W),0,H)):s.keepStatic=!0;break}}}q||T.push(H)}}c=E.concat(T),u=t,f=0<c.length,a=0<T.length,r=P.slice()}else a=p(S.matches[A]||e.matches[A],[A].concat(l),m);if(a)return!0}else if(a.isQuantifier&&m!==e.matches[o.inArray(a,e.matches)-1])for(var V=a,$=0<r.length?r.shift():0;$<(isNaN(V.quantifier.max)?$+1:V.quantifier.max)&&u<=t;$++){var G=e.matches[o.inArray(V,e.matches)-1];if(a=p(G,[$].concat(l),G)){if((i=c[c.length-1].match).optionalQuantifier=$>=V.quantifier.min,i.jit=($||1)*G.matches.indexOf(i)>=V.quantifier.jit,i.optionalQuantifier&&g(i,G)){f=!0,u=t;break}return i.jit&&(n.jitOffset[t]=G.matches.length-G.matches.indexOf(i)),!0}}else if(a=h(a,r,l,m))return!0}else u++;var Y,K}for(var m=0<r.length?r.shift():0;m<e.matches.length;m++)if(!0!==e.matches[m].isQuantifier){var g=p(e.matches[m],[m].concat(a),l);if(g&&u===t)return g;if(t<u)break}}if(-1<t&&(void 0===m||t<m)){if(void 0===e){for(var p,g=t-1;void 0===(p=n.validPositions[g]||n.tests[g])&&-1<g;)g--;void 0!==p&&-1<g&&(l=function(t,e){var n=[];return o.isArray(e)||(e=[e]),0<e.length&&(void 0===e[0].alternation||!0===s.keepStatic?0===(n=D(t,e.slice()).locator.slice()).length&&(n=e[0].locator.slice()):o.each(e,(function(t,e){if(""!==e.def)if(0===n.length)n=e.locator.slice();else for(var r=0;r<n.length;r++)e.locator[r]&&-1===n[r].toString().indexOf(e.locator[r])&&(n[r]+=","+e.locator[r])}))),n}(g,p),d=l.join(""),u=g)}if(n.tests[t]&&n.tests[t][0].cd===d)return n.tests[t];for(var y=l.shift();y<a.length&&!(h(a[y],l,[y])&&u===t||t<u);y++);}return 0!==c.length&&!f||c.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:d}),void 0!==e&&n.tests[t]?o.extend(!0,[],c):(n.tests[t]=o.extend(!0,[],c),n.tests[t])}function R(){return void 0===n._buffer&&(n._buffer=S(!1,1),void 0===n.buffer&&(n.buffer=n._buffer.slice())),n._buffer}function I(t){return void 0!==n.buffer&&!0!==t||(n.buffer=S(!0,E(),!0),void 0===n._buffer&&(n._buffer=n.buffer.slice())),n.buffer}function B(t,e,r){var i,a,u=s.skipOptionalPartCharacter,l=y?r.slice().reverse():r;if(s.skipOptionalPartCharacter="",!0===t)T(),n.tests={},t=0,e=r.length,a=Z({begin:0,end:0},!1).begin;else{for(i=t;i<e;i++)delete n.validPositions[i];a=t}var c=new o.Event("keypress");for(i=t;i<e;i++){c.which=l[i].toString().charCodeAt(0),_=!1;var f=Q.keypressEvent.call(v,c,!0,!1,!1,a);!1!==f&&(a=f.forwardPosition)}s.skipOptionalPartCharacter=u}function F(t,e,r){switch(s.casing||e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase();break;case"title":var i=n.validPositions[r-1];t=0===r||i&&i.input===String.fromCharCode(d.SPACE)?t.toUpperCase():t.toLowerCase();break;default:if(o.isFunction(s.casing)){var a=Array.prototype.slice.call(arguments);a.push(n.validPositions),t=s.casing.apply(this,a)}}return t}function j(t,e,n){for(var r,i=s.greedy?e:e.slice(0,1),a=!1,u=void 0!==n?n.split(","):[],l=0;l<u.length;l++)-1!==(r=t.indexOf(u[l]))&&t.splice(r,1);for(var c=0;c<t.length;c++)if(-1!==o.inArray(t[c],i)){a=!0;break}return a}function z(t,e,r,i,a,u){var l,c,f,d,h,p,m,g,v,y=o.extend(!0,{},n.validPositions),b=o.extend(!0,{},n.tests),w=!1,x=!1,_=void 0!==a?a:E();if(u&&(g=u.begin,v=u.end,u.begin>u.end&&(g=u.end,v=u.begin)),-1===_&&void 0===a)c=(d=P(l=0)).alternation;else for(;0<=_;_--)if((f=n.validPositions[_])&&void 0!==f.alternation){if(d&&d.locator[f.alternation]!==f.locator[f.alternation])break;l=_,c=n.validPositions[l].alternation,d=f}if(void 0!==c){m=parseInt(l),n.excludes[m]=n.excludes[m]||[],!0!==t&&n.excludes[m].push(O(d)+":"+d.alternation);var k=[],C=-1;for(h=m;h<E(void 0,!0)+1;h++)-1===C&&t<=h&&void 0!==e&&(k.push(e),C=k.length-1),(p=n.validPositions[h])&&!0!==p.generatedInput&&(void 0===u||h<g||v<=h)&&k.push(p.input),delete n.validPositions[h];for(-1===C&&void 0!==e&&(k.push(e),C=k.length-1);void 0!==n.excludes[m]&&n.excludes[m].length<10;){for(n.tests={},T(!0),w=!0,h=0;h<k.length&&(w=H(w.caret||E(void 0,!0)+1,k[h],!1,i,!0));h++)h===C&&(x=w),1==t&&w&&(x={caretPos:h});if(w)break;if(T(),d=P(m),n.validPositions=o.extend(!0,{},y),n.tests=o.extend(!0,{},b),!n.excludes[m]){x=z(t,e,r,i,m-1,u);break}var S=O(d);if(-1!==n.excludes[m].indexOf(S+":"+d.alternation)){x=z(t,e,r,i,m-1,u);break}for(n.excludes[m].push(S+":"+d.alternation),h=m;h<E(void 0,!0)+1;h++)delete n.validPositions[h]}}return x&&!1===s.keepStatic||delete n.excludes[m],x}function H(t,e,r,i,a,u){function l(t){return y?1<t.begin-t.end||t.begin-t.end==1:1<t.end-t.begin||t.end-t.begin==1}r=!0===r;var c=t;function f(t){if(void 0!==t){if(void 0!==t.remove&&(o.isArray(t.remove)||(t.remove=[t.remove]),o.each(t.remove.sort((function(t,e){return e.pos-t.pos})),(function(t,e){U({begin:e,end:e+1})})),t.remove=void 0),void 0!==t.insert&&(o.isArray(t.insert)||(t.insert=[t.insert]),o.each(t.insert.sort((function(t,e){return t.pos-e.pos})),(function(t,e){""!==e.c&&H(e.pos,e.c,void 0===e.strict||e.strict,void 0!==e.fromIsValid?e.fromIsValid:i)})),t.insert=void 0),t.refreshFromBuffer&&t.buffer){var e=t.refreshFromBuffer;B(!0===e?e:e.start,e.end,t.buffer),t.refreshFromBuffer=void 0}void 0!==t.rewritePosition&&(c=t.rewritePosition,t=!0)}return t}function d(e,r,a){var u=!1;return o.each(L(e),(function(c,d){var h=d.match;if(I(!0),!1!==(u=null!=h.fn?h.fn.test(r,n,e,a,s,l(t)):(r===h.def||r===s.skipOptionalPartCharacter)&&""!==h.def&&{c:Y(e,h,!0)||h.def,pos:e})){var p=void 0!==u.c?u.c:r,m=e;return p=p===s.skipOptionalPartCharacter&&!0===h.static?Y(e,h,!0)||h.def:p,!0!==(u=f(u))&&void 0!==u.pos&&u.pos!==e&&(m=u.pos),!0!==u&&void 0===u.pos&&void 0===u.c||!1===U(t,o.extend({},d,{input:F(p,h,m)}),i,m)&&(u=!1),!1}})),u}void 0!==t.begin&&(c=y?t.end:t.begin);var h=!0,p=o.extend(!0,{},n.validPositions);if(!1===s.keepStatic&&void 0!==n.excludes[c]&&!0!==a&&!0!==i)for(var g=c;g<(y?t.begin:t.end);g++)void 0!==n.excludes[g]&&(n.excludes[g]=void 0,delete n.tests[g]);if(o.isFunction(s.preValidation)&&!0!==i&&!0!==u&&(h=f(h=s.preValidation.call(v,I(),c,e,l(t),s,n,t,r||a))),!0===h){if(void 0===m||c<m){if(h=d(c,e,r),(!r||!0===i)&&!1===h&&!0!==u){var b=n.validPositions[c];if(!b||!0!==b.match.static||b.match.def!==e&&e!==s.skipOptionalPartCharacter){if(s.insertMode||void 0===n.validPositions[V(c)]||t.end>c){var w=!1;if(n.jitOffset[c]&&void 0===n.validPositions[V(c)]&&!1!==(h=H(c+n.jitOffset[c],e,!0))&&(!0!==a&&(h.caret=c),w=!0),t.end>c&&(n.validPositions[c]=void 0),!w&&!W(c,s.keepStatic))for(var x=c+1,_=V(c);x<=_;x++)if(!1!==(h=d(x,e,r))){h=q(c,void 0!==h.pos?h.pos:x)||h,c=x;break}}}else h={caret:V(c)}}}else h=!1;!1!==h||!s.keepStatic||!at(I())&&0!==c||r||!0===a?l(t)&&n.tests[c]&&1<n.tests[c].length&&s.keepStatic&&!r&&!0!==a&&(h=z(!0)):h=z(c,e,r,i,void 0,t),!0===h&&(h={pos:c})}if(o.isFunction(s.postValidation)&&!0!==i&&!0!==u){var k=s.postValidation.call(v,I(!0),void 0!==t.begin?y?t.end:t.begin:t,e,h,s,n,r);void 0!==k&&(h=!0===k?h:k)}return h&&void 0===h.pos&&(h.pos=c),!1===h||!0===u?(T(!0),n.validPositions=o.extend(!0,{},p)):q(void 0,c,!0),f(h)}function q(t,e,r){if(void 0===t)for(t=e-1;0<t&&!n.validPositions[t];t--);for(var i=t;i<e;i++)if(void 0===n.validPositions[i]&&!W(i,!0)&&(0==i?P(i):n.validPositions[i-1])){var a=L(i).slice();""===a[a.length-1].match.def&&a.pop();var s,u=D(i,a);if(u&&(!0!==u.match.jit||"master"===u.match.newBlockMarker&&(s=n.validPositions[i+1])&&!0===s.match.optionalQuantifier)&&((u=o.extend({},u,{input:Y(i,u.match,!0)||u.match.def})).generatedInput=!0,U(i,u,!0),!0!==r)){var l=n.validPositions[e].input;return n.validPositions[e]=void 0,H(e,l,!0,!0)}}}function U(t,e,r,i){function a(t,e,n){var r=e[t];if(void 0===r||!0!==r.match.static||!0===r.match.optionality||void 0!==e[0]&&void 0!==e[0].alternation)return!1;var o=n.begin<=t-1?e[t-1]&&!0===e[t-1].match.static&&e[t-1]:e[t-1],i=n.end>t+1?e[t+1]&&!0===e[t+1].match.static&&e[t+1]:e[t+1];return o&&i}var u=0,l=void 0!==t.begin?t.begin:t,c=void 0!==t.end?t.end:t;if(t.begin>t.end&&(l=t.end,c=t.begin),i=void 0!==i?i:l,l!==c||s.insertMode&&void 0!==n.validPositions[i]&&void 0===r||void 0===e){var f,d=o.extend(!0,{},n.validPositions),h=E(void 0,!0);for(n.p=l,f=h;l<=f;f--)delete n.validPositions[f],void 0===e&&delete n.tests[f+1];var p,m,g=!0,v=i,y=v;for(e&&(n.validPositions[i]=o.extend(!0,{},e),y++,v++),f=e?c:c-1;f<=h;f++){if(void 0!==(p=d[f])&&!0!==p.generatedInput&&(c<=f||l<=f&&a(f,d,{begin:l,end:c}))){for(;""!==P(y).match.def;){if(!1!==(m=M(y,p,s))||"+"===p.match.def){"+"===p.match.def&&I(!0);var b=H(y,p.input,"+"!==p.match.def,"+"!==p.match.def);if(g=!1!==b,v=(b.pos||y)+1,!g&&m)break}else g=!1;if(g){void 0===e&&p.match.static&&f===t.begin&&u++;break}if(!g&&y>n.maskLength)break;y++}""==P(y).match.def&&(g=!1),y=v}if(!g)break}if(!g)return n.validPositions=o.extend(!0,{},d),T(!0),!1}else e&&P(i).match.cd===e.match.cd&&(n.validPositions[i]=o.extend(!0,{},e));return T(!0),u}function W(t,e,r){var o=N(t).match;if(""===o.def&&(o=P(t).match),!0!==o.static)return o.fn;if(!0===r&&void 0!==n.validPositions[t]&&!0!==n.validPositions[t].generatedInput)return!0;if(!0!==e&&-1<t){if(r){var i=L(t);return i.length>1+(""===i[i.length-1].match.def?1:0)}var a=D(t,L(t)),s=Y(t,a.match);return a.match.def!==s}return!1}function V(t,e,n){void 0===n&&(n=!0);for(var r=t+1;""!==P(r).match.def&&(!0===e&&(!0!==P(r).match.newBlockMarker||!W(r,void 0,!0))||!0!==e&&!W(r,void 0,n));)r++;return r}function $(t,e){var n,r=t;if(r<=0)return 0;for(;0<--r&&(!0===e&&!0!==P(r).match.newBlockMarker||!0!==e&&!W(r,void 0,!0)&&((n=L(r)).length<2||2===n.length&&""===n[1].match.def)););return r}function G(t,e,n,r,i){if(r&&o.isFunction(s.onBeforeWrite)){var a=s.onBeforeWrite.call(g,r,e,n,s);if(a){if(a.refreshFromBuffer){var u=a.refreshFromBuffer;B(!0===u?u:u.start,u.end,a.buffer||e),e=I(!0)}void 0!==n&&(n=void 0!==a.caret?a.caret:n)}}if(void 0!==t&&(t.inputmask._valueSet(e.join("")),void 0===n||void 0!==r&&"blur"===r.type||rt(t,n,void 0,void 0,void 0!==r&&"keydown"===r.type&&(r.keyCode===d.DELETE||r.keyCode===d.BACKSPACE)),!0===i)){var l=o(t),c=t.inputmask._valueGet();w=!0,l.trigger("input"),setTimeout((function(){c===R().join("")?l.trigger("cleared"):!0===at(e)&&l.trigger("complete")}),0)}}function Y(t,e,r){if(void 0!==(e=e||P(t).match).placeholder||!0===r)return o.isFunction(e.placeholder)?e.placeholder(s):e.placeholder;if(!0!==e.static)return s.placeholder.charAt(t%s.placeholder.length);if(-1<t&&void 0===n.validPositions[t]){var i,a=L(t),u=[];if(a.length>1+(""===a[a.length-1].match.def?1:0))for(var l=0;l<a.length;l++)if(""!==a[l].match.def&&!0!==a[l].match.optionality&&!0!==a[l].match.optionalQuantifier&&(!0===a[l].match.static||void 0===i||!1!==a[l].match.fn.test(i.match.def,n,t,!0,s))&&(u.push(a[l]),!0===a[l].match.static&&(i=a[l]),1<u.length&&/[0-9a-bA-Z]/.test(u[0].match.def)))return s.placeholder.charAt(t%s.placeholder.length)}return e.def}function K(t,e){if(u){if(t.inputmask._valueGet()!==e&&(t.placeholder!==e||""===t.placeholder)){var n=I().slice(),r=t.inputmask._valueGet();if(r!==e){var o=E();-1===o&&r===R().join("")?n=[]:-1!==o&&it(n),G(t,n)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))}function Z(t,e){if(e&&(y?t.end=t.begin:t.begin=t.end),t.begin===t.end){switch(s.positionCaretOnClick){case"none":break;case"select":t={begin:0,end:I().length};break;case"ignore":t.end=t.begin=V(E());break;case"radixFocus":if(function(t){if(""!==s.radixPoint&&0!==s.digits){var e=n.validPositions;if(void 0===e[t]||e[t].input===Y(t)){if(t<V(-1))return!0;var r=o.inArray(s.radixPoint,I());if(-1!==r){for(var i in e)if(e[i]&&r<i&&e[i].input!==Y(i))return!1;return!0}}}return!1}(t.begin)){var r=I().join("").indexOf(s.radixPoint);t.end=t.begin=s.numericInput?V(r):r;break}default:var i=t.begin,a=E(i,!0),u=V(-1!==a||W(0)?a:0);if(i<u)t.end=t.begin=W(i,!0)||W(i-1,!0)?i:V(i);else{var l=n.validPositions[a],c=N(u,l?l.match.locator:void 0,l),f=Y(u,c.match);if(""!==f&&I()[u]!==f&&!0!==c.match.optionalQuantifier&&!0!==c.match.newBlockMarker||!W(u,s.keepStatic)&&c.match.def===f){var d=V(u);(d<=i||i===u)&&(u=d)}t.end=t.begin=u}}return t}}var X,J={on:function(t,e,n){var r=function(e){e.originalEvent&&(e=e.originalEvent||e,arguments[0]=e);var r,i=this;if(void 0===i.inputmask&&"FORM"!==this.nodeName){var a=o.data(i,"_inputmask_opts");a?new Inputmask(a).mask(i):J.off(i)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(i.disabled||i.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===s.tabThrough&&e.keyCode===d.TAB))){switch(e.type){case"input":if(!0===w||e.inputType&&"insertCompositionText"===e.inputType)return w=!1,e.preventDefault();break;case"keydown":b=!1,w=!1;break;case"keypress":if(!0===b)return e.preventDefault();b=!0;break;case"click":case"focus":return x?(x=!1,t.blur(),K(t,(y?R().slice().reverse():R()).join("")),setTimeout((function(){t.focus()}),3e3)):(r=arguments,setTimeout((function(){t.inputmask&&n.apply(i,r)}),0)),!1}var u=n.apply(i,arguments);return!1===u&&(e.preventDefault(),e.stopPropagation()),u}e.preventDefault()}};t.inputmask.events[e]=t.inputmask.events[e]||[],t.inputmask.events[e].push(r),-1!==o.inArray(e,["submit","reset"])?null!==t.form&&o(t.form).on(e,r):o(t).on(e,r)},off:function(t,e){var n;t.inputmask&&t.inputmask.events&&(e?(n=[])[e]=t.inputmask.events[e]:n=t.inputmask.events,o.each(n,(function(e,n){for(;0<n.length;){var r=n.pop();-1!==o.inArray(e,["submit","reset"])?null!==t.form&&o(t.form).off(e,r):o(t).off(e,r)}delete t.inputmask.events[e]})))}},Q={keydownEvent:function(t){var e=this,r=o(e),i=t.keyCode,a=rt(e),u=s.onKeyDown.call(this,t,I(),a,s);if(void 0!==u)return u;if(i===d.BACKSPACE||i===d.DELETE||f&&i===d.BACKSPACE_SAFARI||t.ctrlKey&&i===d.X&&!("oncut"in e))t.preventDefault(),st(0,i,a),G(e,I(!0),n.p,t,e.inputmask._valueGet()!==I().join(""));else if(i===d.END||i===d.PAGE_DOWN){t.preventDefault();var l=V(E());rt(e,t.shiftKey?a.begin:l,l,!0)}else i===d.HOME&&!t.shiftKey||i===d.PAGE_UP?(t.preventDefault(),rt(e,0,t.shiftKey?a.begin:0,!0)):(s.undoOnEscape&&i===d.ESCAPE||90===i&&t.ctrlKey)&&!0!==t.altKey?(tt(e,!0,!1,h.split("")),r.trigger("click")):!0===s.tabThrough&&i===d.TAB?(!0===t.shiftKey?(!0===P(a.begin).match.static&&(a.begin=V(a.begin)),a.end=$(a.begin,!0),a.begin=$(a.end,!0)):(a.begin=V(a.begin,!0),a.end=V(a.begin,!0),a.end<n.maskLength&&a.end--),a.begin<n.maskLength&&(t.preventDefault(),rt(e,a.begin,a.end))):t.shiftKey||s.insertModeVisual&&!1===s.insertMode&&(i===d.RIGHT?setTimeout((function(){var t=rt(e);rt(e,t.begin)}),0):i===d.LEFT&&setTimeout((function(){var t=nt(e.inputmask.caretPos.begin);nt(e.inputmask.caretPos.end),rt(e,y?t+(t===n.maskLength?0:1):t-(0===t?0:1))}),0));_=-1!==o.inArray(i,s.ignorables)},keypressEvent:function(t,e,r,i,a){var u=this,l=o(u),c=t.which||t.charCode||t.keyCode;if(!(!0===e||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||_))return c===d.ENTER&&h!==I().join("")&&(h=I().join(""),setTimeout((function(){l.trigger("change")}),0)),w=!0,!0;if(c){44!==c&&46!==c||3!==t.location||""===s.radixPoint||(c=s.radixPoint.charCodeAt(0));var f,p=e?{begin:a,end:a}:rt(u),m=String.fromCharCode(c);n.writeOutBuffer=!0;var g=H(p,m,i);if(!1!==g&&(T(!0),f=void 0!==g.caret?g.caret:V(g.pos.begin?g.pos.begin:g.pos),n.p=f),f=s.numericInput&&void 0===g.caret?$(f):f,!1!==r&&(setTimeout((function(){s.onKeyValidation.call(u,c,g)}),0),n.writeOutBuffer&&!1!==g)){var v=I();G(u,v,f,t,!0!==e)}if(t.preventDefault(),e)return!1!==g&&(g.forwardPosition=f),g}},pasteEvent:function(t){var e,n=this.inputmask._valueGet(!0),r=rt(this);y&&(e=r.end,r.end=r.begin,r.begin=e);var a=n.substr(0,r.begin),u=n.substr(r.end,n.length);if(a==(y?R().slice().reverse():R()).slice(0,r.begin).join("")&&(a=""),u==(y?R().slice().reverse():R()).slice(r.end).join("")&&(u=""),i.clipboardData&&i.clipboardData.getData)n=a+i.clipboardData.getData("Text")+u;else{if(!t.clipboardData||!t.clipboardData.getData)return!0;n=a+t.clipboardData.getData("text/plain")+u}var l=n;if(o.isFunction(s.onBeforePaste)){if(!1===(l=s.onBeforePaste.call(g,n,s)))return t.preventDefault();l=l||n}return tt(this,!1,!1,l.toString().split("")),G(this,I(),V(E()),t,h!==I().join("")),t.preventDefault()},inputFallBackEvent:function(t){var e=this,n=e.inputmask._valueGet(!0),r=(y?I().slice().reverse():I()).join(""),i=rt(e,void 0,void 0,!0);if(r!==n){var u=function(t,e,n){for(var r,o,i,a=t.substr(0,n.begin).split(""),u=t.substr(n.begin).split(""),l=e.substr(0,n.begin).split(""),c=e.substr(n.begin).split(""),f=a.length>=l.length?a.length:l.length,d=u.length>=c.length?u.length:c.length,h="",p=[];a.length<f;)a.push("~");for(;l.length<f;)l.push("~");for(;u.length<d;)u.unshift("~");for(;c.length<d;)c.unshift("~");var m=a.concat(u),g=l.concat(c);for(o=0,r=m.length;o<r;o++)switch(i=Y(nt(o)),h){case"insertText":g[o-1]===m[o]&&n.begin==m.length-1&&p.push(m[o]),o=r;break;case"insertReplacementText":case"deleteContentBackward":"~"===m[o]?n.end++:o=r;break;default:m[o]!==g[o]&&("~"!==m[o+1]&&m[o+1]!==i&&void 0!==m[o+1]||(g[o]!==i||"~"!==g[o+1])&&"~"!==g[o]?"~"===g[o+1]&&g[o]===m[o+1]?(h="insertText",p.push(m[o]),n.begin--,n.end--):m[o]!==i&&"~"!==m[o]&&("~"===m[o+1]||g[o]!==m[o]&&g[o+1]===m[o+1])?(h="insertReplacementText",p.push(m[o]),n.begin--):"~"===m[o]?(h="deleteContentBackward",!W(nt(o),!0)&&g[o]!==s.radixPoint||n.end++):o=r:(h="insertText",p.push(m[o]),n.begin--,n.end--))}return{action:h,data:p,caret:n}}(n=function(t,e,n){if(c){var r=e.replace(I().join(""),"");if(1===r.length){var o=e.split("");o.splice(n.begin,0,r),e=o.join("")}}return e}(0,n,i),r,i);switch((e.inputmask.shadowRoot||a).activeElement!==e&&e.focus(),G(e,I()),rt(e,i.begin,i.end,!0),u.action){case"insertText":case"insertReplacementText":o.each(u.data,(function(t,n){var r=new o.Event("keypress");r.which=n.charCodeAt(0),_=!1,Q.keypressEvent.call(e,r)})),setTimeout((function(){p.trigger("keyup")}),0);break;case"deleteContentBackward":var l=new o.Event("keydown");l.keyCode=d.BACKSPACE,Q.keydownEvent.call(e,l);break;default:ut(e,n)}t.preventDefault()}},compositionendEvent:function(t){p.trigger("input")},setValueEvent:function(t,e,n){var r=t&&t.detail?t.detail[0]:e;void 0===r&&(r=this.inputmask._valueGet(!0)),ut(this,r),(t.detail&&void 0!==t.detail[1]||void 0!==n)&&rt(this,t.detail?t.detail[1]:n)},focusEvent:function(t){var e=this.inputmask._valueGet();s.showMaskOnFocus&&e!==I().join("")&&G(this,I(),V(E())),!0!==s.positionCaretOnTab||!1!==k||at(I())&&-1!==E()||Q.clickEvent.apply(this,[t,!0]),h=I().join("")},invalidEvent:function(t){x=!0},mouseleaveEvent:function(){k=!1,s.clearMaskOnLostFocus&&(this.inputmask.shadowRoot||a).activeElement!==this&&K(this,C)},clickEvent:function(t,e){if((this.inputmask.shadowRoot||a).activeElement===this){var n=Z(rt(this),e);void 0!==n&&rt(this,n)}},cutEvent:function(t){var e=rt(this),r=i.clipboardData||t.clipboardData,o=y?I().slice(e.end,e.begin):I().slice(e.begin,e.end);r.setData("text",y?o.reverse().join(""):o.join("")),a.execCommand&&a.execCommand("copy"),st(0,d.DELETE,e),G(this,I(),n.p,t,h!==I().join(""))},blurEvent:function(t){var e=o(this);if(this.inputmask){K(this,C);var n=this.inputmask._valueGet(),r=I().slice();""!==n&&(s.clearMaskOnLostFocus&&(-1===E()&&n===R().join("")?r=[]:it(r)),!1===at(r)&&(setTimeout((function(){e.trigger("incomplete")}),0),s.clearIncomplete&&(T(),r=s.clearMaskOnLostFocus?[]:R().slice())),G(this,r,void 0,t)),h!==I().join("")&&(h=I().join(""),e.trigger("change"))}},mouseenterEvent:function(){k=!0,(this.inputmask.shadowRoot||a).activeElement!==this&&(null==C&&this.placeholder!==C&&(C=this.placeholder),s.showMaskOnHover&&K(this,(y?R().slice().reverse():R()).join("")))},submitEvent:function(){h!==I().join("")&&p.trigger("change"),s.clearMaskOnLostFocus&&-1===E()&&v.inputmask._valueGet&&v.inputmask._valueGet()===R().join("")&&v.inputmask._valueSet(""),s.clearIncomplete&&!1===at(I())&&v.inputmask._valueSet(""),s.removeMaskOnSubmit&&(v.inputmask._valueSet(v.inputmask.unmaskedvalue(),!0),setTimeout((function(){G(v,I())}),0))},resetEvent:function(){v.inputmask.refreshValue=!0,setTimeout((function(){ut(v,v.inputmask._valueGet(!0))}),0)}};function tt(t,e,r,i,a){var u=this||t.inputmask,l=i.slice(),c="",f=-1,d=void 0;T(),n.tests={},f=s.radixPoint?Z({begin:0,end:0}).begin:0,n.p=f,u.caretPos={begin:f};var h=[],p=u.caretPos;if(o.each(l,(function(e,i){if(void 0!==i)if(void 0===n.validPositions[e]&&l[e]===Y(e)&&W(e,!0)&&!1===H(e,l[e],!0,void 0,void 0,!0))n.p++;else{var a=new o.Event("_checkval");a.which=i.toString().charCodeAt(0),c+=i;var s=E(void 0,!0);!function(t,e){for(var n=S(!0,0).slice(t,V(t)).join("").replace(/'/g,""),r=n.indexOf(e);0<r&&" "===n[r-1];)r--;var o=0===r&&!W(t)&&(P(t).match.nativeDef===e.charAt(0)||!0===P(t).match.static&&P(t).match.nativeDef==="'"+e.charAt(0)||" "===P(t).match.nativeDef&&(P(t+1).match.nativeDef===e.charAt(0)||!0===P(t+1).match.static&&P(t+1).match.nativeDef==="'"+e.charAt(0)));if(!o&&0<r&&!W(t,!1,!0)){var i=V(t);u.caretPos.begin<i&&(u.caretPos={begin:i})}return o}(f,c)?(d=Q.keypressEvent.call(t,a,!0,!1,r,u.caretPos.begin))&&(f=u.caretPos.begin+1,c=""):d=Q.keypressEvent.call(t,a,!0,!1,r,s+1),d?(void 0!==d.pos&&n.validPositions[d.pos]&&!0===n.validPositions[d.pos].match.static&&void 0===n.validPositions[d.pos].alternation&&(h.push(d.pos),y||(d.forwardPosition=d.pos+1)),G(void 0,I(),d.forwardPosition,a,!1),u.caretPos={begin:d.forwardPosition,end:d.forwardPosition},p=u.caretPos):u.caretPos=p}})),0<h.length){var m,g,v=V(-1,void 0,!1);if(!at(I())&&h.length<=v||at(I())&&0<h.length&&h.length!==v&&0===h[0])for(var b=v;void 0!==(m=h.shift());){var w=new o.Event("_checkval");if((g=n.validPositions[m]).generatedInput=!0,w.which=g.input.charCodeAt(0),(d=Q.keypressEvent.call(t,w,!0,!1,r,b))&&void 0!==d.pos&&d.pos!==m&&n.validPositions[d.pos]&&!0===n.validPositions[d.pos].match.static)h.push(d.pos);else if(!d)break;b++}else for(;m=h.pop();)(g=n.validPositions[m])&&(g.generatedInput=!0)}if(e)for(var x in G(t,I(),d?d.forwardPosition:void 0,a||new o.Event("checkval"),a&&"input"===a.type),n.validPositions)!0!==n.validPositions[x].match.generated&&delete n.validPositions[x].generatedInput}function et(t){if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&ut(t,t.inputmask._valueGet(!0))}var e=[],r=n.validPositions;for(var i in r)r[i]&&r[i].match&&(1!=r[i].match.static||!0!==r[i].generatedInput)&&e.push(r[i].input);var a=0===e.length?"":(y?e.reverse():e).join("");if(o.isFunction(s.onUnMask)){var u=(y?I().slice().reverse():I()).join("");a=s.onUnMask.call(g,u,a,s)}return a}function nt(t){return!y||"number"!=typeof t||s.greedy&&""===s.placeholder||!v||(t=v.inputmask._valueGet().length-t),t}function rt(t,e,n,r,u){var l;if(void 0===e)return"selectionStart"in t&&"selectionEnd"in t?(e=t.selectionStart,n=t.selectionEnd):i.getSelection?(l=i.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==t&&l.commonAncestorContainer!==t||(e=l.startOffset,n=l.endOffset):a.selection&&a.selection.createRange&&(n=(e=0-(l=a.selection.createRange()).duplicate().moveStart("character",-t.inputmask._valueGet().length))+l.text.length),{begin:r?e:nt(e),end:r?n:nt(n)};if(o.isArray(e)&&(n=y?e[0]:e[1],e=y?e[1]:e[0]),void 0!==e.begin&&(n=y?e.begin:e.end,e=y?e.end:e.begin),"number"==typeof e){e=r?e:nt(e),n="number"==typeof(n=r?n:nt(n))?n:e;var c=parseInt(((t.ownerDocument.defaultView||i).getComputedStyle?(t.ownerDocument.defaultView||i).getComputedStyle(t,null):t.currentStyle).fontSize)*n;if(t.scrollLeft=c>t.scrollWidth?c:0,t.inputmask.caretPos={begin:e,end:n},s.insertModeVisual&&!1===s.insertMode&&e===n&&(u||n++),t===(t.inputmask.shadowRoot||a).activeElement)if("setSelectionRange"in t)t.setSelectionRange(e,n);else if(i.getSelection){if(l=a.createRange(),void 0===t.firstChild||null===t.firstChild){var f=a.createTextNode("");t.appendChild(f)}l.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),l.setEnd(t.firstChild,n<t.inputmask._valueGet().length?n:t.inputmask._valueGet().length),l.collapse(!0);var d=i.getSelection();d.removeAllRanges(),d.addRange(l)}else t.createTextRange&&((l=t.createTextRange()).collapse(!0),l.moveEnd("character",n),l.moveStart("character",e),l.select())}}function ot(t){var e,r,i=S(!0,E(),!0,!0),a=i.length,s=E(),u={},l=n.validPositions[s],c=void 0!==l?l.locator.slice():void 0;for(e=s+1;e<i.length;e++)c=(r=N(e,c,e-1)).locator.slice(),u[e]=o.extend(!0,{},r);var f=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(e=a-1;s<e&&((r=u[e]).match.optionality||r.match.optionalQuantifier&&r.match.newBlockMarker||f&&(f!==u[e].locator[l.alternation]&&1!=r.match.static||!0===r.match.static&&r.locator[l.alternation]&&j(r.locator[l.alternation].toString().split(","),f.toString().split(","))&&""!==L(e)[0].def))&&i[e]===Y(e,r.match);e--)a--;return t?{l:a,def:u[a]?u[a].match:void 0}:a}function it(t){t.length=0;for(var e,n=S(!0,0,!0,void 0,!0);void 0!==(e=n.shift());)t.push(e);return t}function at(t){if(o.isFunction(s.isComplete))return s.isComplete(t,s);if("*"!==s.repeat){var e=!1,r=ot(!0),i=$(r.l);if(void 0===r.def||r.def.newBlockMarker||r.def.optionality||r.def.optionalQuantifier){e=!0;for(var a=0;a<=i;a++){var u=N(a).match;if(!0!==u.static&&void 0===n.validPositions[a]&&!0!==u.optionality&&!0!==u.optionalQuantifier||!0===u.static&&t[a]!==Y(a,u)){e=!1;break}}}return e}}function st(t,e,r,o,i){if((s.numericInput||y)&&(e===d.BACKSPACE?e=d.DELETE:e===d.DELETE&&(e=d.BACKSPACE),y)){var a=r.end;r.end=r.begin,r.begin=a}var u,l=E(void 0,!0);if(r.end>=I().length&&l>=r.end&&(r.end=l+1),e===d.BACKSPACE?r.end-r.begin<1&&(r.begin=$(r.begin)):e===d.DELETE&&r.begin===r.end&&(r.end=W(r.end,!0,!0)?r.end+1:V(r.end)+1),!1!==(u=U(r))){if(!0!==o&&!1!==s.keepStatic||null!==s.regex&&-1!==P(r.begin).match.def.indexOf("|")){var c=z(!0);if(c){var f=void 0!==c.caret?c.caret:c.pos?V(c.pos.begin?c.pos.begin:c.pos):E(-1,!0);(e!==d.DELETE||r.begin>f)&&r.begin}}!0!==o&&(n.p=e===d.DELETE?r.begin+u:r.begin)}}function ut(t,e){t.inputmask.refreshValue=!1,o.isFunction(s.onBeforeMask)&&(e=s.onBeforeMask.call(g,e,s)||e),tt(t,!0,!1,e=e.toString().split("")),h=I().join(""),(s.clearMaskOnLostFocus||s.clearIncomplete)&&t.inputmask._valueGet()===R().join("")&&-1===E()&&t.inputmask._valueSet("")}if(void 0!==e)switch(e.action){case"isComplete":return v=e.el,at(I());case"unmaskedvalue":return void 0!==v&&void 0===e.value||(X=e.value,X=(o.isFunction(s.onBeforeMask)&&s.onBeforeMask.call(g,X,s)||X).split(""),tt.call(this,void 0,!1,!1,X),o.isFunction(s.onBeforeWrite)&&s.onBeforeWrite.call(g,void 0,I(),0,s)),et(v);case"mask":!function(t){J.off(t);var e=function(t,e){"textarea"!==t.tagName.toLowerCase()&&e.ignorables.push(d.ENTER);var n=t.getAttribute("type"),i="input"===t.tagName.toLowerCase()&&-1!==o.inArray(n,e.supportsInputType)||t.isContentEditable||"textarea"===t.tagName.toLowerCase();if(!i)if("input"===t.tagName.toLowerCase()){var s=a.createElement("input");s.setAttribute("type",n),i="text"===s.type,s=null}else i="partial";return!1!==i?function(t){var n,i;function s(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==E()||!0!==e.nullable?(this.inputmask.shadowRoot||a.activeElement)===this&&e.clearMaskOnLostFocus?(y?it(I().slice()).reverse():it(I().slice())).join(""):n.call(this):"":n.call(this)}function u(t){i.call(this,t),this.inputmask&&ut(this,t)}if(!t.inputmask.__valueGet){if(!0!==e.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===r("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var l=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;l&&l.get&&l.set?(n=l.get,i=l.set,Object.defineProperty(t,"value",{get:s,set:u,configurable:!0})):"input"!==t.tagName.toLowerCase()&&(n=function(){return this.textContent},i=function(t){this.textContent=t},Object.defineProperty(t,"value",{get:s,set:u,configurable:!0}))}else a.__lookupGetter__&&t.__lookupGetter__("value")&&(n=t.__lookupGetter__("value"),i=t.__lookupSetter__("value"),t.__defineGetter__("value",s),t.__defineSetter__("value",u));t.inputmask.__valueGet=n,t.inputmask.__valueSet=i}t.inputmask._valueGet=function(t){return y&&!0!==t?n.call(this.el).split("").reverse().join(""):n.call(this.el)},t.inputmask._valueSet=function(t,e){i.call(this.el,null==t?"":!0!==e&&y?t.split("").reverse().join(""):t)},void 0===n&&(n=function(){return this.value},i=function(t){this.value=t},function(t){if(o.valHooks&&(void 0===o.valHooks[t]||!0!==o.valHooks[t].inputmaskpatch)){var n=o.valHooks[t]&&o.valHooks[t].get?o.valHooks[t].get:function(t){return t.value},r=o.valHooks[t]&&o.valHooks[t].set?o.valHooks[t].set:function(t,e){return t.value=e,t};o.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var r=n(t);return-1!==E(void 0,void 0,t.inputmask.maskset.validPositions)||!0!==e.nullable?r:""}return n(t)},set:function(t,e){var n=r(t,e);return t.inputmask&&ut(t,e),n},inputmaskpatch:!0}}}(t.type),function(t){J.on(t,"mouseenter",(function(){var t=this.inputmask._valueGet(!0);t!==(y?I().reverse():I()).join("")&&ut(this,t)}))}(t))}}(t):t.inputmask=void 0,i}(t,s);if(!1!==e){p=o(v=t),C=v.placeholder,-1===(m=void 0!==v?v.maxLength:void 0)&&(m=void 0),"inputMode"in v&&null===v.getAttribute("inputmode")&&(v.inputMode=s.inputmode,v.setAttribute("inputmode",s.inputmode)),!0===e&&(s.showMaskOnFocus=s.showMaskOnFocus&&-1===["cc-number","cc-exp"].indexOf(v.autocomplete),f&&(s.insertModeVisual=!1),J.on(v,"submit",Q.submitEvent),J.on(v,"reset",Q.resetEvent),J.on(v,"blur",Q.blurEvent),J.on(v,"focus",Q.focusEvent),J.on(v,"invalid",Q.invalidEvent),J.on(v,"click",Q.clickEvent),J.on(v,"mouseleave",Q.mouseleaveEvent),J.on(v,"mouseenter",Q.mouseenterEvent),J.on(v,"paste",Q.pasteEvent),J.on(v,"cut",Q.cutEvent),J.on(v,"complete",s.oncomplete),J.on(v,"incomplete",s.onincomplete),J.on(v,"cleared",s.oncleared),l||!0===s.inputEventOnly?v.removeAttribute("maxLength"):(J.on(v,"keydown",Q.keydownEvent),J.on(v,"keypress",Q.keypressEvent)),J.on(v,"input",Q.inputFallBackEvent),J.on(v,"compositionend",Q.compositionendEvent)),J.on(v,"setvalue",Q.setValueEvent),h=R().join("");var n=(v.inputmask.shadowRoot||a).activeElement;if(""!==v.inputmask._valueGet(!0)||!1===s.clearMaskOnLostFocus||n===v){ut(v,v.inputmask._valueGet(!0));var i=I().slice();!1===at(i)&&s.clearIncomplete&&T(),s.clearMaskOnLostFocus&&n!==v&&(-1===E()?i=[]:it(i)),(!1===s.clearMaskOnLostFocus||s.showMaskOnFocus&&n===v||""!==v.inputmask._valueGet(!0))&&G(v,i),n===v&&rt(v,V(E()))}}}(v);break;case"format":return X=(o.isFunction(s.onBeforeMask)&&s.onBeforeMask.call(g,e.value,s)||e.value).split(""),tt.call(this,void 0,!0,!1,X),e.metadata?{value:y?I().slice().reverse().join(""):I().join(""),metadata:t.call(this,{action:"getmetadata"},n,s)}:y?I().slice().reverse().join(""):I().join("");case"isValid":e.value?(X=(o.isFunction(s.onBeforeMask)&&s.onBeforeMask.call(g,e.value,s)||e.value).split(""),tt.call(this,void 0,!0,!1,X)):e.value=y?I().slice().reverse().join(""):I().join("");for(var lt=I(),ct=ot(),ft=lt.length-1;ct<ft&&!W(ft);ft--);return lt.splice(ct,ft+1-ct),at(lt)&&e.value===(y?I().slice().reverse().join(""):I().join(""));case"getemptymask":return R().join("");case"remove":if(v&&v.inputmask){o.data(v,"_inputmask_opts",null),p=o(v);var dt=s.autoUnmask?et(v):v.inputmask._valueGet(s.autoUnmask);dt!==R().join("")?v.inputmask._valueSet(dt,s.autoUnmask):v.inputmask._valueSet(""),J.off(v),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(v),"value")&&v.inputmask.__valueGet&&Object.defineProperty(v,"value",{get:v.inputmask.__valueGet,set:v.inputmask.__valueSet,configurable:!0}):a.__lookupGetter__&&v.__lookupGetter__("value")&&v.inputmask.__valueGet&&(v.__defineGetter__("value",v.inputmask.__valueGet),v.__defineSetter__("value",v.inputmask.__valueSet)),v.inputmask=void 0}return v;case"getmetadata":if(o.isArray(n.metadata)){var ht=S(!0,0,!1).join("");return o.each(n.metadata,(function(t,e){if(e.mask===ht)return ht=e,!1})),ht}return n.metadata}}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(1),i=o.dependencyLib,a=n(0),s={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return d(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return d(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return d(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return d(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return d(Date.prototype.getHours.call(this),2)}],hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return d(Date.prototype.getHours.call(this),2)}],Hx:[function(t){return"[0-9]{".concat(t,"}")},Date.prototype.setHours,"hours",function(t){return function(){return d(Date.prototype.getHours.call(this),t)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return d(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return d(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return d(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return d(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},u={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function l(t){var e=new RegExp("\\d+$").exec(t[0]);if(e&&void 0!==e[0]){var n=s[t[0][0]+"x"].slice("");return n[0]=n[0](e[0]),n[3]=n[3](e[0]),n}if(s[t[0]])return s[t[0]]}function c(t){if(!t.tokenizer){var e=[],n=[];for(var r in s)if(/\.*x$/.test(r)){var o=r[0]+"\\d+";-1===n.indexOf(o)&&n.push(o)}else-1===e.indexOf(r[0])&&e.push(r[0]);t.tokenizer="("+(0<n.length?n.join("|")+"|":"")+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function f(t,e,n,r){var i,a,s="";for(c(n).lastIndex=0;i=c(n).exec(t);)if(void 0===e)if(a=l(i))s+="("+a[0]+")";else switch(i[0]){case"[":s+="(";break;case"]":s+=")?";break;default:s+=o.escapeRegex(i[0])}else(a=l(i))?!0!==r&&a[3]?s+=a[3].call(e.date):a[2]?s+=e["raw"+a[2]]:s+=i[0]:s+=i[0];return s}function d(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function h(t,e,n){var o,i,a,u={date:new Date(1,0,1)},l=t;function f(t,e,n){t[o]=function(t){return t.replace(/[^0-9]/g,"0")}(e),t["raw"+o]=e,void 0!==a&&a.call(t.date,"month"==o?parseInt(t[o])-1:t[o])}if("string"==typeof l){for(c(n).lastIndex=0;i=c(n).exec(e);){var d=l.slice(0,i[0].length);s.hasOwnProperty(i[0])&&(o=s[i[0]][2],a=s[i[0]][1],f(u,d)),l=l.slice(d.length)}return u}if(l&&"object"===r(l)&&l.hasOwnProperty("date"))return l}function p(t,e){var n,r="";for(c(e).lastIndex=0;n=c(e).exec(e.inputFormat);)"d"===n[0].charAt(0)?r+=d(t.getDate(),n[0].length):"m"===n[0].charAt(0)?r+=d(t.getMonth()+1,n[0].length):"yyyy"===n[0]?r+=t.getFullYear().toString():"y"===n[0].charAt(0)&&(r+=d(t.getYear(),n[0].length));return r}function m(t,e){var n,r,o=0,i=0;for(c(e).lastIndex=0;r=c(e).exec(e.inputFormat);){var a=new RegExp("\\d+$").exec(r[0]);if(t<=(o+=i=a?parseInt(a[0]):r[0].length)){n=r,r=c(e).exec(e.inputFormat);break}}return{targetMatchIndex:o-i,nextMatch:r,targetMatch:n}}o.extendAliases({datetime:{mask:function(t){return t.numericInput=!1,s.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=u[t.inputFormat]||t.inputFormat,t.displayFormat=u[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=u[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[[\]]/,""),t.regex=f(t.inputFormat,void 0,t),t.min=h(t.min,t.inputFormat,t),t.max=h(t.max,t.inputFormat,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,skipOptionalPartCharacter:"",i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},preValidation:function(t,e,n,r,o,i,a,u){if(u)return!0;if(isNaN(n)&&t[e]!==n){var l=m(e,o);if(l.nextMatch&&l.nextMatch[0]===n&&1<l.targetMatch[0].length){var c=s[l.targetMatch[0]][0];if(new RegExp(c).test("0"+t[e-1]))return t[e]=t[e-1],t[e-1]="0",{fuzzy:!0,buffer:t,refreshFromBuffer:{start:e-1,end:e+1},pos:e+1}}}return!0},postValidation:function(t,e,n,r,o,i,a){if(a)return!0;var u,l;if(!1===r)return(u=m(e+1,o)).targetMatch&&u.targetMatchIndex===e&&1<u.targetMatch[0].length&&void 0!==s[u.targetMatch[0]]&&(l=s[u.targetMatch[0]][0],new RegExp(l).test("0"+n))?{insert:[{pos:e,c:"0"},{pos:e+1,c:n}],pos:e+1}:r;if(r.fuzzy&&(t=r.buffer,e=r.pos),(u=m(e,o)).targetMatch&&u.targetMatch[0]&&void 0!==s[u.targetMatch[0]]){l=s[u.targetMatch[0]][0];var c=t.slice(u.targetMatchIndex,u.targetMatchIndex+u.targetMatch[0].length);!1===new RegExp(l).test(c.join(""))&&2===u.targetMatch[0].length&&i.validPositions[u.targetMatchIndex]&&i.validPositions[u.targetMatchIndex+1]&&(i.validPositions[u.targetMatchIndex+1].input="0")}var d=r,p=h(t.join(""),o.inputFormat,o);return d&&p.date.getTime()==p.date.getTime()&&(d=(d=function(t,e){return(!isFinite(t.rawday)||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)&&e}(p,d))&&function(t,e){var n=!0;if(e.min){if(t.rawyear){var r=t.rawyear.replace(/[^0-9]/g,"");n=e.min.year.substr(0,r.length)<=r}t.year===t.rawyear&&e.min.date.getTime()==e.min.date.getTime()&&(n=e.min.date.getTime()<=t.date.getTime())}return n&&e.max&&e.max.date.getTime()==e.max.date.getTime()&&(n=e.max.date.getTime()>=t.date.getTime()),n}(p,o)),e&&d&&r.pos!==e?{buffer:f(o.inputFormat,p,o).split(""),refreshFromBuffer:{start:e,end:r.pos}}:d},onKeyDown:function(t,e,n,r){t.ctrlKey&&t.keyCode===a.RIGHT&&(this.inputmask._valueSet(p(new Date,r)),i(this).trigger("setvalue"))},onUnMask:function(t,e,n){return e?f(n.outputFormat,h(t,n.inputFormat,n),n,!0):e},casing:function(t,e,n,r){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},onBeforeMask:function(t,e){return"[object Date]"===Object.prototype.toString.call(t)&&(t=p(t,e)),t},insertMode:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric"}}),t.exports=o},function(t,e,n){"use strict";var r=n(1),o=r.dependencyLib,i=n(0);function a(t,e){for(var n="",o=0;o<t.length;o++)r.prototype.definitions[t.charAt(o)]||e.definitions[t.charAt(o)]||e.optionalmarker[0]===t.charAt(o)||e.optionalmarker[1]===t.charAt(o)||e.quantifiermarker[0]===t.charAt(o)||e.quantifiermarker[1]===t.charAt(o)||e.groupmarker[0]===t.charAt(o)||e.groupmarker[1]===t.charAt(o)||e.alternatormarker===t.charAt(o)?n+="\\"+t.charAt(o):n+=t.charAt(o);return n}function s(t,e,n,r){if(0<t.length&&0<e&&(!n.digitsOptional||r)){var i=o.inArray(n.radixPoint,t);-1===i&&(t.push(n.radixPoint),i=t.length-1);for(var a=1;a<=e;a++)isFinite(t[i+a])||(t[i+a]="0")}return t}function u(t,e){var n=0;if("+"===t){for(n in e.validPositions);n=parseInt(n)}for(var r in e.tests)if(n<=(r=parseInt(r)))for(var o=0,i=e.tests[r].length;o<i;o++)if((void 0===e.validPositions[r]||"-"===t)&&e.tests[r][o].match.def===t)return r+(void 0!==e.validPositions[r]&&"-"!==t?1:0);return n}function l(t,e){var n=-1;return o.each(e.validPositions,(function(e,r){if(r&&r.match.def===t)return n=parseInt(e),!1})),n}function c(t,e,n,r,o){var i=e.buffer?e.buffer.indexOf(o.radixPoint):-1,a=-1!==i&&new RegExp("[0-9１-９]").test(t);return o._radixDance&&a&&null==e.validPositions[i]?{insert:{pos:i===n?i+1:i,c:o.radixPoint},pos:n}:a}r.extendAliases({numeric:{mask:function(t){t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),1<t.placeholder.length&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&(t.positionCaretOnClick="lvp");var e="0",n=t.radixPoint;!0===t.numericInput&&void 0===t.__financeInput?(e="1",t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t._radixDance=!1,n=","===t.radixPoint?"?":"!",""!==t.radixPoint&&void 0===t.definitions[n]&&(t.definitions[n]={},t.definitions[n].validator="["+t.radixPoint+"]",t.definitions[n].placeholder=t.radixPoint,t.definitions[n].static=!0,t.definitions[n].generated=!0)):(t.__financeInput=!1,t.numericInput=!0);var o,i="[+]";if(i+=a(t.prefix,t),""!==t.groupSeparator?(void 0===t.definitions[t.groupSeparator]&&(t.definitions[t.groupSeparator]={},t.definitions[t.groupSeparator].validator="["+t.groupSeparator+"]",t.definitions[t.groupSeparator].placeholder=t.groupSeparator,t.definitions[t.groupSeparator].static=!0,t.definitions[t.groupSeparator].generated=!0),i+=t._mask(t)):i+="9{+}",void 0!==t.digits&&0!==t.digits){var s=t.digits.toString().split(",");isFinite(s[0])&&s[1]&&isFinite(s[1])?i+=n+e+"{"+t.digits+"}":(isNaN(t.digits)||0<parseInt(t.digits))&&(t.digitsOptional?(o=i+n+e+"{0,"+t.digits+"}",t.keepStatic=!0):i+=n+e+"{"+t.digits+"}")}return i+=a(t.suffix,t),i+="[-]",o&&(i=[o+a(t.suffix,t)+"[-]",i]),t.greedy=!1,function(t){void 0===t.parseMinMaxOptions&&(null!==t.min&&(t.min=t.min.toString().replace(new RegExp(r.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.min=t.min.replace(t.radixPoint,".")),t.min=isFinite(t.min)?parseFloat(t.min):NaN,isNaN(t.min)&&(t.min=Number.MIN_VALUE)),null!==t.max&&(t.max=t.max.toString().replace(new RegExp(r.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(t.max=t.max.replace(t.radixPoint,".")),t.max=isFinite(t.max)?parseFloat(t.max):NaN,isNaN(t.max)&&(t.max=Number.MAX_VALUE)),t.parseMinMaxOptions="done")}(t),i},_mask:function(t){return"("+t.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,step:1,unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"numeric",shortcuts:{k:"000",m:"000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",definitions:{0:{validator:c},1:{validator:c,definitionSymbol:"9"},"+":{validator:function(t,e,n,r,o){return o.allowMinus&&("-"===t||t===o.negationSymbol.front)}},"-":{validator:function(t,e,n,r,o){return o.allowMinus&&t===o.negationSymbol.back}}},preValidation:function(t,e,n,r,i,a,s,c){if(!1!==i.__financeInput&&n===i.radixPoint)return!1;var f;if(f=i.shortcuts&&i.shortcuts[n]){if(1<f.length)for(var d=[],h=0;h<f.length;h++)d.push({pos:e+h,c:f[h],strict:!1});return{insert:d}}var p=o.inArray(i.radixPoint,t),m=e;if(e=function(t,e,n,r,o){return o._radixDance&&o.numericInput&&e!==o.negationSymbol.back&&t<=n&&(0<n||e==o.radixPoint)&&(void 0===r.validPositions[t-1]||r.validPositions[t-1].input!==o.negationSymbol.back)&&(t-=1),t}(e,n,p,a,i),"-"===n||n===i.negationSymbol.front){if(!0!==i.allowMinus)return!1;var g=!1,v=l("+",a),y=l("-",a);return-1!==v&&(g=[v,y]),!1!==g?{remove:g,caret:m}:{insert:[{pos:u("+",a),c:i.negationSymbol.front,fromIsValid:!0},{pos:u("-",a),c:i.negationSymbol.back,fromIsValid:void 0}],caret:m+i.negationSymbol.back.length}}if(c)return!0;if(-1!==p&&!0===i._radixDance&&!1===r&&n===i.radixPoint&&void 0!==i.digits&&(isNaN(i.digits)||0<parseInt(i.digits))&&p!==e)return{caret:i._radixDance&&e===p-1?p+1:p};if(!1===i.__financeInput)if(r){if(i.digitsOptional)return{rewritePosition:s.end};if(!i.digitsOptional){if(s.begin>p&&s.end<=p)return n===i.radixPoint?{insert:{pos:p+1,c:"0",fromIsValid:!0},rewritePosition:p}:{rewritePosition:p+1};if(s.begin<p)return{rewritePosition:s.begin-1}}}else if(!i.showMaskOnHover&&!i.showMaskOnFocus&&!i.digitsOptional&&0<i.digits&&""===this.inputmask.__valueGet.call(this))return{rewritePosition:p};return{rewritePosition:e}},postValidation:function(t,e,n,r,i,a,s){if(!1===r)return r;if(s)return!0;if(null!==i.min||null!==i.max){var u=i.onUnMask(t.slice().reverse().join(""),void 0,o.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&u<i.min&&(u.toString().length>=i.min.toString().length||u<0))return!1;if(null!==i.max&&u>i.max)return!1}return r},onUnMask:function(t,e,n){if(""===e&&!0===n.nullable)return e;var o=t.replace(n.prefix,"");return o=(o=o.replace(n.suffix,"")).replace(new RegExp(r.escapeRegex(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(o=o.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(r.escapeRegex.call(this,n.radixPoint),".")),o=(o=o.replace(new RegExp("^"+r.escapeRegex(n.negationSymbol.front)),"-")).replace(new RegExp(r.escapeRegex(n.negationSymbol.back)+"$"),""),Number(o)):o},isComplete:function(t,e){var n=(e.numericInput?t.slice().reverse():t).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+r.escapeRegex(e.negationSymbol.front)),"-")).replace(new RegExp(r.escapeRegex(e.negationSymbol.back)+"$"),"")).replace(e.prefix,"")).replace(e.suffix,"")).replace(new RegExp(r.escapeRegex(e.groupSeparator)+"([0-9]{3})","g"),"$1"),","===e.radixPoint&&(n=n.replace(r.escapeRegex(e.radixPoint),".")),isFinite(n)},onBeforeMask:function(t,e){var n=e.radixPoint||",";isFinite(e.digits)&&(e.digits=parseInt(e.digits)),"number"!=typeof t&&"number"!==e.inputType||""===n||(t=t.toString().replace(".",n));var o=t.split(n),i=o[0].replace(/[^\-0-9]/g,""),a=1<o.length?o[1].replace(/[^0-9]/g,""):"",u=1<o.length;t=i+(""!==a?n+a:a);var l=0;if(""!==n&&(l=e.digitsOptional?e.digits<a.length?e.digits:a.length:e.digits,""!==a||!e.digitsOptional)){var c=Math.pow(10,l||1);t=t.replace(r.escapeRegex(n),"."),isNaN(parseFloat(t))||(t=(e.roundingFN(parseFloat(t)*c)/c).toFixed(l)),t=t.toString().replace(".",n)}if(0===e.digits&&-1!==t.indexOf(n)&&(t=t.substring(0,t.indexOf(n))),null!==e.min||null!==e.max){var f=t.toString().replace(n,".");null!==e.min&&f<e.min?t=e.min.toString().replace(".",n):null!==e.max&&f>e.max&&(t=e.max.toString().replace(".",n))}return s(t.toString().split(""),l,e,u).join("")},onBeforeWrite:function(t,e,n,i){function a(t,e){if(!1!==i.__financeInput||e){var n=o.inArray(i.radixPoint,t);-1!==n&&t.splice(n,1)}if(""!==i.groupSeparator)for(;-1!==(n=t.indexOf(i.groupSeparator));)t.splice(n,1);return t}var u,l=function(t,e){var n=new RegExp("(^"+(""!==e.negationSymbol.front?r.escapeRegex(e.negationSymbol.front)+"?":"")+r.escapeRegex(e.prefix)+")(.*)("+r.escapeRegex(e.suffix)+(""!=e.negationSymbol.back?r.escapeRegex(e.negationSymbol.back)+"?":"")+"$)").exec(t.slice().reverse().join("")),o=n?n[2]:"",i=!1;return o&&(o=o.split(e.radixPoint.charAt(0))[0],i=new RegExp("^[0"+e.groupSeparator+"]*").exec(o)),!(!i||!(1<i[0].length||0<i[0].length&&i[0].length<o.length))&&i}(e,i);if(l){var c=e.slice().reverse(),f=c.join("").indexOf(l[0]);c.splice(f,l[0].length);var d=c.length-f;a(c),u={refreshFromBuffer:!0,buffer:c.reverse(),caret:n<d?n:d}}if(t)switch(t.type){case"blur":case"checkval":if(null!==i.min){var h=i.onUnMask(e.slice().reverse().join(""),void 0,o.extend({},i,{unmaskAsNumber:!0}));if(null!==i.min&&h<i.min)return{refreshFromBuffer:!0,buffer:s(i.min.toString().replace(".",i.radixPoint).split(""),i.digits,i).reverse()}}if(e[e.length-1]===i.negationSymbol.front){var p=new RegExp("(^"+(""!=i.negationSymbol.front?r.escapeRegex(i.negationSymbol.front)+"?":"")+r.escapeRegex(i.prefix)+")(.*)("+r.escapeRegex(i.suffix)+(""!=i.negationSymbol.back?r.escapeRegex(i.negationSymbol.back)+"?":"")+"$)").exec(a(e.slice(),!0).reverse().join(""));0==(p?p[2]:"")&&(u={refreshFromBuffer:!0,buffer:[0]})}else""!==i.radixPoint&&e[0]===i.radixPoint&&(u&&u.buffer?u.buffer.shift():(e.shift(),u={refreshFromBuffer:!0,buffer:a(e)}));if(i.enforceDigitsOnBlur){var m=(u=u||{})&&u.buffer||e.slice().reverse();u.refreshFromBuffer=!0,u.buffer=s(m,i.digits,i,!0).reverse()}}return u},onKeyDown:function(t,e,n,r){var a,u=o(this);if(t.ctrlKey)switch(t.keyCode){case i.UP:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),u.trigger("setvalue"),!1;case i.DOWN:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),u.trigger("setvalue"),!1}if(!t.shiftKey&&(t.keyCode===i.DELETE||t.keyCode===i.BACKSPACE||t.keyCode===i.BACKSPACE_SAFARI)&&n.begin!==e.length){if(e[t.keyCode===i.DELETE?n.begin-1:n.end]===r.negationSymbol.front)return a=e.slice().reverse(),""!==r.negationSymbol.front&&a.shift(),""!==r.negationSymbol.back&&a.pop(),u.trigger("setvalue",[a.join(""),n.begin]),!1;if(!0===r._radixDance){var l=o.inArray(r.radixPoint,e);if(r.digitsOptional){if(0===l)return(a=e.slice().reverse()).pop(),u.trigger("setvalue",[a.join(""),n.begin>=a.length?a.length:n.begin]),!1}else if(-1!==l&&(n.begin<l||n.end<l||t.keyCode===i.DELETE&&n.begin===l))return n.begin!==n.end||t.keyCode!==i.BACKSPACE&&t.keyCode!==i.BACKSPACE_SAFARI||n.begin++,(a=e.slice().reverse()).splice(a.length-n.begin,n.begin-n.end+1),a=s(a,r.digits,r).join(""),u.trigger("setvalue",[a,n.begin>=a.length?l+1:n.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(t){return"("+t.groupSeparator+"99){*|1}("+t.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}}),t.exports=r},function(t,e,n){"use strict";var r,o=(r=n(1))&&r.__esModule?r:{default:r};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,t)})(t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,n){return(l=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}if(document.head.createShadowRoot||document.head.attachShadow){var d=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=(t=a(this,f(e).call(this))).getAttributeNames(),r=t.attachShadow({mode:"closed"}),i=document.createElement("input");for(var s in i.type="text",r.appendChild(i),n)Object.prototype.hasOwnProperty.call(n,s)&&i.setAttribute("data-inputmask-"+n[s],t.getAttribute(n[s]));return(new o.default).mask(i),i.inputmask.shadowRoot=r,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(e,t),e}(s(HTMLElement));customElements.define("input-mask",d)}}],installedModules={},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(__webpack_require__.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)__webpack_require__.d(n,r,function(e){return t[e]}.bind(null,r));return n},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=5);function __webpack_require__(t){if(installedModules[t])return installedModules[t].exports;var e=installedModules[t]={i:t,l:!1,exports:{}};return modules[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}var modules,installedModules},module.exports=factory()},Kwdf:function(t,e,n){n("27yB")},"L+zx":function(t,e,n){n("JOgE")},LYNF:function(t,e,n){"use strict";var r=n("OH9c");t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},Lmem:function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},M8vm:function(t,e,n){var r,o;(function(){(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return i.controller.visit(t,e)},clearCache:function(){return i.controller.clearCache()},setProgressBarDelay:function(t){return i.controller.setProgressBarDelay(t)}}}).call(this)}).call(this);var i=this.Turbolinks;(function(){(function(){var t,e,n,r=[].slice;i.copyObject=function(t){var e,n,r;for(e in n={},t)r=t[e],n[e]=r;return n},i.closest=function(e,n){return t.call(e,n)},t=function(){var t;return null!=(t=document.documentElement.closest)?t:function(t){var n;for(n=this;n;){if(n.nodeType===Node.ELEMENT_NODE&&e.call(n,t))return n;n=n.parentNode}}}(),i.defer=function(t){return setTimeout(t,1)},i.throttle=function(t){var e;return e=null,function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(r){return function(){return e=null,t.apply(r,n)}}(this))}},i.dispatch=function(t,e){var r,o,i,a,s,u;return u=(s=null!=e?e:{}).target,r=s.cancelable,o=s.data,(i=document.createEvent("Events")).initEvent(t,!0,!0===r),i.data=null!=o?o:{},i.cancelable&&!n&&(a=i.preventDefault,i.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),a.call(this)}),(null!=u?u:document).dispatchEvent(i),i},n=function(){var t;return(t=document.createEvent("Events")).initEvent("test",!0,!0),t.preventDefault(),t.defaultPrevented}(),i.match=function(t,n){return e.call(t,n)},e=function(){var t,e,n,r;return null!=(e=null!=(n=null!=(r=(t=document.documentElement).matchesSelector)?r:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),i.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){i.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,2>(e=n.hash.length)?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};i.HttpRequest=function(){function e(e,n,r){this.delegate=e,this.requestCanceled=t(this.requestCanceled,this),this.requestTimedOut=t(this.requestTimedOut,this),this.requestFailed=t(this.requestFailed,this),this.requestLoaded=t(this.requestLoaded,this),this.requestProgressed=t(this.requestProgressed,this),this.url=i.Location.wrap(n).requestURL,this.referrer=i.Location.wrap(r).absoluteURL,this.createXHR()}return e.NETWORK_FAILURE=0,e.TIMEOUT_FAILURE=-1,e.timeout=60,e.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},e.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},e.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},e.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},e.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},e.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},e.prototype.requestCanceled=function(){return this.endRequest()},e.prototype.notifyApplicationBeforeRequestStart=function(){return i.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},e.prototype.notifyApplicationAfterRequestEnd=function(){return i.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},e.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},e.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},e.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},e.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},e}()}.call(this),function(){i.ProgressBar=function(){function t(){this.trickle=function(t,e){return function(){return t.apply(e,arguments)}}(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width 300ms ease-out, opacity 150ms 150ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,450)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){i.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=function(t,e){return function(){return t.apply(e,arguments)}}(this.showProgressBar,this),this.progressBar=new i.ProgressBar}var e,n,r;return r=i.HttpRequest,e=r.NETWORK_FAILURE,n=r.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,r){switch(r){case e:case n:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};i.History=function(){function e(e){this.delegate=e,this.onPageLoad=t(this.onPageLoad,this),this.onPopState=t(this.onPopState,this)}return e.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},e.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},e.prototype.push=function(t,e){return t=i.Location.wrap(t),this.update("push",t,e)},e.prototype.replace=function(t,e){return t=i.Location.wrap(t),this.update("replace",t,e)},e.prototype.onPopState=function(t){var e,n,r,o;return this.shouldHandlePopState()&&(o=null!=(n=t.state)?n.turbolinks:void 0)?(e=i.Location.wrap(window.location),r=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,r)):void 0},e.prototype.onPageLoad=function(t){return i.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},e.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},e}()}.call(this),function(){i.HeadDetails=function(){function t(t){var e,n,r,a,s;for(this.elements={},n=0,a=t.length;a>n;n++)(s=t[n]).nodeType===Node.ELEMENT_NODE&&(r=s.outerHTML,(null!=(e=this.elements)[r]?e[r]:e[r]={type:i(s),tracked:o(s),elements:[]}).elements.push(s))}var e,n,r,o,i;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t;return function(){var e,n;for(t in n=[],e=this.elements)e[t].tracked&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,o,i,a,s;for(r in a=[],o=this.elements)s=(i=o[r]).type,n=i.elements,s!==t||e.hasElementWithKey(r)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,r,o,i,a;for(e in n=[],r=this.elements)a=(o=r[e]).type,i=o.tracked,t=o.elements,null!=a||i?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var n,r,o,i;for(o in n=void 0,i=this.elements)r=i[o].elements,e(r[0],t)&&(n=r[0]);return n},i=function(t){return n(t)?"script":r(t)?"stylesheet":void 0},o=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},n=function(t){return"script"===t.tagName.toLowerCase()},r=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},e=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){i.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,r;return n=t.querySelector("head"),e=null!=(r=t.querySelector("body"))?r:document.createElement("body"),new this(i.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new i.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(t){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,r,o,i;for(i=[],n=0,r=(o=this.getPermanentElements()).length;r>n;n++)e=o[n],t.getPermanentElementById(e.id)&&i.push(e);return i},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var t=[].slice;i.Renderer=function(){function e(){}var n;return e.render=function(){var e,n,r;return n=arguments[0],e=arguments[1],(r=function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(this,3<=arguments.length?t.call(arguments,2):[],(function(){}))).delegate=n,r.render(e),r},e.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},e.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},e.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,r,o,i,a,s,u;for(s=[],n=0,r=(i=e.attributes).length;r>n;n++)o=(a=i[n]).name,u=a.value,s.push(t.setAttribute(o,u));return s},e}()}.call(this),function(){var t,e,n=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;i.SnapshotRenderer=function(r){function o(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(o,r),o.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},o.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},o.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},o.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},o.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},o.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.getNewHeadStylesheetElements()).length;n>e;e++)t=r[e],o.push(document.head.appendChild(t));return o},o.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.getNewHeadScriptElements()).length;n>e;e++)t=r[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},o.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.getCurrentHeadProvisionalElements()).length;n>e;e++)t=r[e],o.push(document.head.removeChild(t));return o},o.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,o;for(o=[],e=0,n=(r=this.getNewHeadProvisionalElements()).length;n>e;e++)t=r[e],o.push(document.head.appendChild(t));return o},o.prototype.relocateCurrentBodyPermanentElements=function(){var n,r,o,i,a,s,u;for(u=[],n=0,r=(s=this.getCurrentBodyPermanentElements()).length;r>n;n++)i=s[n],a=t(i),o=this.newSnapshot.getPermanentElementById(i.id),e(i,a.element),e(o,i),u.push(a);return u},o.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var n,r,o,i,a,s;for(s=[],o=0,i=t.length;i>o;o++)r=(a=t[o]).element,n=a.permanentElement.cloneNode(!0),s.push(e(r,n));return s},o.prototype.activateNewBodyScriptElements=function(){var t,n,r,o,i,a;for(a=[],n=0,o=(i=this.getNewBodyScriptElements()).length;o>n;n++)r=i[n],t=this.createScriptElement(r),a.push(e(r,t));return a},o.prototype.assignNewBody=function(){return document.body=this.newBody},o.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},o.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},o.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},o.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},o.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},o.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},o.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},o}(i.Renderer),t=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},e=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},e={}.hasOwnProperty;i.ErrorRenderer=function(e){function n(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return t(n,e),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},n.prototype.activateBodyScriptElements=function(){var t,e,n,r,o,i;for(i=[],e=0,n=(r=this.getScriptElements()).length;n>e;e++)o=r[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(i.Renderer)}.call(this),function(){i.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return i.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,r,o;return o=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=o?this.renderSnapshot(o,r,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return i.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),i.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return i.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){i.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=function(t,e){return function(){return t.apply(e,arguments)}}(this.onScroll,this),this.onScroll=i.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){i.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var e;return t.prototype.has=function(t){return e(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var n;return n=e(t),this.snapshots[n]},t.prototype.write=function(t,n){var r;return r=e(t),this.snapshots[r]=n},t.prototype.touch=function(t){var n,r;return r=e(t),(n=this.keys.indexOf(r))>-1&&this.keys.splice(n,1),this.keys.unshift(r),this.trim()},t.prototype.trim=function(){var t,e,n,r,o;for(o=[],t=0,n=(r=this.keys.splice(this.size)).length;n>t;t++)e=r[t],o.push(delete this.snapshots[e]);return o},e=function(t){return i.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){i.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=function(t,e){return function(){return t.apply(e,arguments)}}(this.performScroll,this),this.identifier=i.uuid(),this.location=i.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var e;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,n;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,n=e(t),this.controller[n](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new i.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render((function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()}))):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render((function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())})):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=i.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return i.copyObject(this.timingMetrics)},e=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};i.Controller=function(){function e(){this.clickBubbled=t(this.clickBubbled,this),this.clickCaptured=t(this.clickCaptured,this),this.pageLoaded=t(this.pageLoaded,this),this.history=new i.History(this),this.view=new i.View(this),this.scrollManager=new i.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return e.prototype.start=function(){return i.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},e.prototype.disable=function(){return this.enabled=!1},e.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},e.prototype.clearCache=function(){return this.cache=new i.SnapshotCache(10)},e.prototype.visit=function(t,e){var n,r;return null==e&&(e={}),t=i.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(r=e.action)?r:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},e.prototype.startVisitToLocationWithAction=function(t,e,n){var r;return i.supported?(r=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:r})):window.location=t},e.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},e.prototype.startHistory=function(){return this.location=i.Location.wrap(window.location),this.restorationIdentifier=i.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.stopHistory=function(){return this.history.stop()},e.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=i.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},e.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=i.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=i.Location.wrap(t)):this.adapter.pageInvalidated()},e.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},e.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},e.prototype.cacheSnapshot=function(){var t,e;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,i.defer(function(n){return function(){return n.cache.put(t,e.clone())}}(this))):void 0},e.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},e.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},e.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},e.prototype.render=function(t,e){return this.view.render(t,e)},e.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},e.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},e.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},e.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},e.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},e.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return i.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(t){return i.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(t){return i.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return i.dispatch("turbolinks:before-cache")},e.prototype.notifyApplicationBeforeRender=function(t){return i.dispatch("turbolinks:before-render",{data:{newBody:t}})},e.prototype.notifyApplicationAfterRender=function(){return i.dispatch("turbolinks:render")},e.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),i.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},e.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},e.prototype.createVisit=function(t,e,n){var r,o,a,s,u;return s=(o=null!=n?n:{}).restorationIdentifier,a=o.restorationData,r=o.historyChanged,(u=new i.Visit(this,t,e)).restorationIdentifier=null!=s?s:i.uuid(),u.restorationData=i.copyObject(a),u.historyChanged=r,u.referrer=this.location,u},e.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},e.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},e.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?i.closest(t,"a[href]:not([target]):not([download])"):void 0},e.prototype.getVisitableLocationForLink=function(t){var e;return e=new i.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},e.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},e.prototype.nodeIsVisitable=function(t){var e;return!(e=i.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},e.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},e.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},e.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},e}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return}()}.call(this),function(){var t,e,n;i.start=function(){return e()?(null==i.controller&&(i.controller=t()),i.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=i),n()},t=function(){var t;return(t=new i.Controller).adapter=new i.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===i})()&&i.start()}.call(this)}).call(this),t.exports?t.exports=i:void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)}).call(this)},MLWZ:function(t,e,n){"use strict";var r=n("xTJ+");function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},MVQK:function(t,e,n){n("8DTc")},Nl51:function(t,e,n){n("zwj5")},OH9c:function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},OTTw:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},Otic:function(t,e){!function(t){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var r,o,i,a=function(){},s=function(t){return function(){return t}},u=function(t){return t},l=s(!1),c=s(!0),f=function(){return d},d=(r=function(t){return t.isNone()},{fold:function(t,e){return t()},is:l,isSome:l,isNone:c,getOr:i=function(t){return t},getOrThunk:o=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:i,orThunk:o,map:f,each:a,bind:f,exists:l,forall:c,filter:f,equals:r,equals_:r,toArray:function(){return[]},toString:s("none()")}),h=function(t){var e=s(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:c,isNone:l,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return h(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:d},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(l,(function(e){return n(t,e)}))}};return o},p={some:h,none:f,from:function(t){return null==t?d:h(t)}},m=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},g=m("string"),v=m("object"),y=m("array"),b=Array.prototype.slice,w=Array.prototype.indexOf,x=function(t,e){return n=t,r=e,w.call(n,r)>-1;var n,r},_=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},k=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},C=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},S=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},T=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return p.some(i);if(n(i,r))break}return p.none()}(t,e,l)},E=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},O=Object.keys,A=Object.hasOwnProperty,D=(function(e){if(!y(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};k(e,(function(o,i){var a=O(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!y(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var l=function(t){var e=O(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!E(n,(function(t){return x(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:l,log:function(e){t.console.log(e,{constructors:n,constructor:s,params:o})}}}}))}([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t){var e=[],n=[];return k(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}),N=function(t){return{is:function(e){return t===e},isValue:c,isError:l,getOr:s(t),getOrThunk:s(t),getOrDie:s(t),or:function(e){return N(t)},orThunk:function(e){return N(t)},fold:function(e,n){return n(t)},map:function(e){return N(e(t))},mapError:function(e){return N(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return p.some(t)}}},P=function(t){return{is:l,isValue:l,isError:c,getOr:u,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return P(t)},mapError:function(e){return P(e(t))},each:a,bind:function(e){return P(t)},exists:l,forall:c,toOption:p.none}},M={value:N,error:P,fromOption:function(t,e){return t.fold((function(){return P(e)}),N)}},L=function(t){return"inline-command"===t.type||"inline-format"===t.type},R=function(t){return"block-command"===t.type||"block-format"===t.type},I=function(t){return e=t,n=function(t,e){return t.start.length===e.start.length?0:t.start.length>e.start.length?-1:1},(r=b.call(e,0)).sort(n),r;var e,n,r},B=function(t){var e=function(e){return M.error({message:e,pattern:t})},n=function(n,r,o){if(void 0!==t.format){var i=void 0;if(y(t.format)){if(!E(t.format,g))return e(n+" pattern has non-string items in the `format` array");i=t.format}else{if(!g(t.format))return e(n+" pattern has non-string `format` parameter");i=[t.format]}return M.value(r(i))}return void 0!==t.cmd?g(t.cmd)?M.value(o(t.cmd,t.value)):e(n+" pattern has non-string `cmd` parameter"):e(n+" pattern is missing both `format` and `cmd` parameters")};if(!v(t))return e("Raw pattern is not an object");if(!g(t.start))return e("Raw pattern is missing `start` parameter");if(void 0!==t.end){if(!g(t.end))return e("Inline pattern has non-string `end` parameter");if(0===t.start.length&&0===t.end.length)return e("Inline pattern has empty `start` and `end` parameters");var r=t.start,o=t.end;return 0===o.length&&(o=r,r=""),n("Inline",(function(t){return{type:"inline-format",start:r,end:o,format:t}}),(function(t,e){return{type:"inline-command",start:r,end:o,cmd:t,value:e}}))}return void 0!==t.replacement?g(t.replacement)?0===t.start.length?e("Replacement pattern has empty `start` parameter"):M.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):e("Replacement pattern has non-string `replacement` parameter"):0===t.start.length?e("Block pattern has empty `start` parameter"):n("Block",(function(e){return{type:"block-format",start:t.start,format:e[0]}}),(function(e,n){return{type:"block-command",start:t.start,cmd:e,value:n}}))},F=function(t){return"block-command"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:"block-format"===t.type?{start:t.start,format:t.format}:"inline-command"===t.type?"mceInsertContent"===t.cmd&&""===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:"inline-format"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0},j=function(t){return{inlinePatterns:C(t,L),blockPatterns:I(C(t,R))}},z=function(t){return{setPatterns:function(e){var n=D(_(e,B));if(n.errors.length>0){var r=n.errors[0];throw new Error(r.message+":\n"+JSON.stringify(r.pattern,null,2))}t.set(j(n.values))},getPatterns:function(){return function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}(_(t.get().inlinePatterns,F),_(t.get().blockPatterns,F))}}},H=void 0!==t.window?t.window:Function("return this;")(),q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=H.console;n&&(n.error?n.error.apply(n,t):n.log.apply(n,t))},U=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],W=function(t){var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},V=tinymce.util.Tools.resolve("tinymce.util.Delay"),$=tinymce.util.Tools.resolve("tinymce.util.VK"),G=tinymce.util.Tools.resolve("tinymce.util.Tools"),Y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),K=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Z=function(t,e){return{container:t,offset:e}},X=function(e){return e.nodeType===t.Node.TEXT_NODE},J=function(t,e,n){if(e&&t.isEmpty(e)&&!n(e)){var r=e.parentNode;t.remove(e),J(t,r,n)}},Q=function(t,e,n,r){void 0===r&&(r=!0);var o=e.startContainer.parentNode,i=e.endContainer.parentNode;e.deleteContents(),r&&!n(e.startContainer)&&(X(e.startContainer)&&0===e.startContainer.data.length&&t.remove(e.startContainer),X(e.endContainer)&&0===e.endContainer.data.length&&t.remove(e.endContainer),J(t,o,n),o!==i&&J(t,i,n))},tt=function(t,e){var n,r=e.get(t);return y(r)&&(n=r,0===n.length?p.none():p.some(n[0])).exists((function(t){return e=t,n="block",A.call(e,n);var e,n}))},et=function(t){return 0===t.start.length},nt=function(t,e){var n=p.from(t.dom.getParent(e.startContainer,t.dom.isBlock));return""===W(t)?n.orThunk((function(){return p.some(t.getBody())})):n},rt=Y.DOM,ot=function(t){return function(e){return t===e?-1:0}},it=function(t,e,n){if(X(t)&&e>=0)return p.some(Z(t,e));var r=K(rt);return p.from(r.backwards(t,e,ot(t),n)).map((function(t){return Z(t.container,t.container.data.length)}))},at=function(t,e,n){if(!X(t))return p.none();var r=t.textContent;if(e>=0&&e<=r.length)return p.some(Z(t,e));var o=K(rt);return p.from(o.backwards(t,e,ot(t),n)).bind((function(t){var r=t.container.data;return at(t.container,e+r.length,n)}))},st=function(t,e,n){if(!X(t))return p.none();var r=t.textContent;if(e<=r.length)return p.some(Z(t,e));var o=K(rt);return p.from(o.forwards(t,e,ot(t),n)).bind((function(t){return st(t.container,e-r.length,n)}))},ut=function(t,e,n,r,o){var i=K(t,function(t){return function(e){return t.isBlock(e)||x(["BR","IMG","HR","INPUT"],e.nodeName)||"false"===t.getContentEditable(e)}}(t));return p.from(i.backwards(e,n,r,o))},lt=function(t,e,n){if(X(e)&&(n<0||n>e.data.length))return[];for(var r=[n],o=e;o!==t&&o.parentNode;){for(var i=o.parentNode,a=0;a<i.childNodes.length;a++)if(i.childNodes[a]===o){r.push(a);break}o=i}return o===t?r.reverse():[]},ct=function(t,e,n,r,o){return{start:lt(t,e,n),end:lt(t,r,o)}},ft=function(t,e){var n,r,o,i=e.slice(),a=i.pop();return(n=i,r=function(t,e){return t.bind((function(t){return p.from(t.childNodes[e])}))},o=p.some(t),k(n,(function(t){o=r(o,t)})),o).bind((function(t){return X(t)&&a>=0&&t.data.length,p.some({node:t,offset:a})}))},dt=function(e,n){return ft(e,n.start).bind((function(r){var o=r.node,i=r.offset;return ft(e,n.end).map((function(e){var n=e.node,r=e.offset,a=t.document.createRange();return a.setStart(o,i),a.setEnd(n,r),a}))}))},ht=function(t,e,n){(function(t,e,n){if(X(t)&&e>=t.length)return p.some(Z(t,e));var r=K(rt);return p.from(r.forwards(t,e,ot(t),n)).map((function(t){return Z(t.container,0)}))})(e,0,e).each((function(r){var o=r.container;st(o,n.start.length,e).each((function(n){var r=t.createRng();r.setStart(o,0),r.setEnd(n.container,n.offset),Q(t,r,(function(t){return t===e}))}))}))},pt=function(t,e){var n=t.dom,r=t.selection.getRng();return nt(t,r).filter((function(e){var r=W(t),o=""===r&&n.is(e,"body")||n.is(e,r);return null!==e&&o})).bind((function(t){var r=t.textContent;return function(t,e){var n=e.replace(" "," ");return T(t,(function(t){return 0===e.indexOf(t.start)||0===n.indexOf(t.start)}))}(e,r).map((function(e){return G.trim(r).length===e.start.length?[]:[{pattern:e,range:ct(n.getRoot(),t,0,t,0)}]}))})).getOr([])},mt=function(t,e){if(0!==e.length){var n=t.selection.getBookmark();k(e,(function(e){return function(t,e){var n=t.dom,r=e.pattern,o=dt(n.getRoot(),e.range).getOrDie("Unable to resolve path range");return nt(t,o).each((function(e){"block-format"===r.type?tt(r.format,t.formatter)&&t.undoManager.transact((function(){ht(t.dom,e,r),t.formatter.apply(r.format)})):"block-command"===r.type&&t.undoManager.transact((function(){ht(t.dom,e,r),t.execCommand(r.cmd,!1,r.value)}))})),!0}(t,e)})),t.selection.moveToBookmark(n)}},gt=0,vt=function(t,e){return t.create("span",{"data-mce-type":"bookmark",id:e})},yt=function(t,e){var n=t.createRng();return n.setStartAfter(e.start),n.setEndBefore(e.end),n},bt=function(t,e,n){var r=dt(t.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,i=r.endContainer,a=0===r.endOffset?i:i.splitText(r.endOffset),s=0===r.startOffset?o:o.splitText(r.startOffset);return{prefix:e,end:a.parentNode.insertBefore(vt(t,e+"-end"),a),start:s.parentNode.insertBefore(vt(t,e+"-start"),s)}},wt=function(t,e,n){J(t,t.get(e.prefix+"-end"),n),J(t,t.get(e.prefix+"-start"),n)},xt=function(t,e,n,r){var o,i=e.start;return ut(t,r.container,r.offset,(o=i,function(t,e){var n=t.data.substring(0,e),r=n.lastIndexOf(o.charAt(o.length-1)),i=n.lastIndexOf(o);return-1!==i?i+o.length:-1!==r?r+1:-1}),n).bind((function(r){if(r.offset>=i.length){var o=t.createRng();return o.setStart(r.container,r.offset-i.length),o.setEnd(r.container,r.offset),p.some(o)}var a=r.offset-i.length;return at(r.container,a,n).map((function(e){var n=t.createRng();return n.setStart(e.container,e.offset),n.setEnd(r.container,r.offset),n})).filter((function(t){return t.toString()===i})).orThunk((function(){return xt(t,e,n,Z(r.container,0))}))}))},_t=function(t,e,n){var r=t.dom,o=r.getRoot(),i=n.pattern,a=n.position.container,s=n.position.offset;return at(a,s-n.pattern.end.length,e).bind((function(u){var l=ct(o,u.container,u.offset,a,s);if(et(i))return p.some({matches:[{pattern:i,startRng:l,endRng:l}],position:u});var c=kt(t,n.remainingPatterns,u.container,u.offset,e),f=c.getOr({matches:[],position:u}),d=f.position;return function(t,e,n,r,o,i){if(void 0===i&&(i=!1),0===e.start.length&&!i){var a=t.createRng();return a.setStart(n,r),a.setEnd(n,r),p.some(a)}return it(n,r,o).bind((function(n){return xt(t,e,o,n).bind((function(t){if(i){if(t.endContainer===n.container&&t.endOffset===n.offset)return p.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return p.none()}return p.some(t)}))}))}(r,i,d.container,d.offset,e,c.isNone()).map((function(t){var e=function(t,e){return ct(t,e.startContainer,e.startOffset,e.endContainer,e.endOffset)}(o,t);return{matches:f.matches.concat([{pattern:i,startRng:e,endRng:l}]),position:Z(t.startContainer,t.startOffset)}}))}))},kt=function(t,e,n,r,o){var i=t.dom;return it(n,r,i.getRoot()).bind((function(a){var s=i.createRng();s.setStart(o,0),s.setEnd(n,r);for(var u,l,c=s.toString(),f=0;f<e.length;f++){var d=e[f];if(u=c,l=d.end,function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}(u,l,u.length-l.length)){var h=e.slice();h.splice(f,1);var m=_t(t,o,{pattern:d,remainingPatterns:h,position:a});if(m.isSome())return m}}return p.none()}))},Ct=function(t,e,n){t.selection.setRng(n),"inline-format"===e.type?k(e.format,(function(e){t.formatter.apply(e)})):t.execCommand(e.cmd,!1,e.value)},St=function(t,e){var r,o,i=(r="mce_textpattern",o=(new Date).getTime(),r+"_"+Math.floor(1e9*Math.random())+ ++gt+String(o)),a=S(e,(function(e,r){var o=bt(t,i+"_end"+e.length,r.endRng);return e.concat([n(n({},r),{endMarker:o})])}),[]);return S(a,(function(e,r){var o=a.length-e.length-1,s=et(r.pattern)?r.endMarker:bt(t,i+"_start"+o,r.startRng);return e.concat([n(n({},r),{startMarker:s})])}),[])},Tt=function(t,e,n){var r=t.selection.getRng();return!1===r.collapsed?[]:nt(t,r).bind((function(o){var i=r.startOffset-(n?1:0);return kt(t,e,r.startContainer,i,o)})).fold((function(){return[]}),(function(t){return t.matches}))},Et=function(t,e){if(0!==e.length){var n=t.dom,r=t.selection.getBookmark(),o=St(n,e);k(o,(function(e){var r=n.getParent(e.startMarker.start,n.isBlock),o=function(t){return t===r};et(e.pattern)?function(t,e,n,r){var o=yt(t.dom,n);Q(t.dom,o,r),Ct(t,e,o)}(t,e.pattern,e.endMarker,o):function(t,e,n,r,o){var i=t.dom,a=yt(i,r),s=yt(i,n);Q(i,s,o),Q(i,a,o);var u={prefix:n.prefix,start:n.end,end:r.start},l=yt(i,u);Ct(t,e,l)}(t,e.pattern,e.startMarker,e.endMarker,o),wt(n,e.endMarker,o),wt(n,e.startMarker,o)})),t.selection.moveToBookmark(r)}},Ot=function(t,e){var n=Tt(t,e.inlinePatterns,!0);n.length>0&&t.undoManager.transact((function(){Et(t,n)}))},At=function(t,e,n){for(var r=0;r<t.length;r++)if(n(t[r],e))return!0},Dt=function(t,e){var n=[",",".",";",":","!","?"],r=[32];t.on("keydown",(function(n){13!==n.keyCode||$.modifierPressed(n)||function(t,e){if(!t.selection.isCollapsed())return!1;var n=Tt(t,e.inlinePatterns,!1),r=pt(t,e.blockPatterns);return(r.length>0||n.length>0)&&(t.undoManager.add(),t.undoManager.extra((function(){t.execCommand("mceInsertNewLine")}),(function(){t.insertContent("\ufeff"),Et(t,n),mt(t,r);var e=t.selection.getRng(),o=it(e.startContainer,e.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),o.each((function(e){var n=e.container;"\ufeff"===n.data.charAt(e.offset-1)&&(n.deleteData(e.offset-1,1),J(t.dom,n.parentNode,(function(e){return e===t.dom.getRoot()})))}))})),!0)}(t,e.get())&&n.preventDefault()}),!0),t.on("keyup",(function(n){At(r,n,(function(t,e){return t===e.keyCode&&!1===$.modifierPressed(e)}))&&Ot(t,e.get())})),t.on("keypress",(function(r){At(n,r,(function(t,e){return t.charCodeAt(0)===e.charCode}))&&V.setEditorTimeout(t,(function(){Ot(t,e.get())}))}))};e.add("textpattern",(function(t){var e=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}}(function(t){var e=t.getParam("textpattern_patterns",U,"array");if(!y(e))return q("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var n=D(_(e,B));return k(n.errors,(function(t){return q(t.message,t.pattern)})),j(n.values)}(t));return Dt(t,e),z(e)}))}(window)},QhUL:function(t,e,n){"use strict";function r(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function i(t){return null===t.offsetParent}function a(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(t){return t.titleHeight+t.margins.top+t.paddings.top}function u(t){return t.margins.left+t.paddings.left}function l(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function c(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}function f(t){return parseFloat(t.toFixed(2))}function d(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=r?t[0]:t[t.length-1]);var o=new Array(Math.abs(e)).fill(n);return r?o.concat(t):t.concat(o)}function h(t,e){return(t+"").length*e}function p(t,e){return{x:Math.sin(t*yt)*e,y:Math.cos(t*yt)*e}}function m(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(Number.isNaN(t)||void 0===t||!Number.isFinite(t)||e&&t<0)}function g(t,e){var n=void 0,r=void 0;return t<=e?(n=e-t,r=t):(n=t-e,r=e),[n,r]}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=d(t,n):e=d(e,n),[t,e]}function y(t,e){if(t)return t.length>e?t.slice(0,e-3)+"...":t}function b(t){var e=void 0;if("number"==typeof t)e=t;else if("string"==typeof t&&(e=Number(t),Number.isNaN(e)))return t;var n=Math.floor(Math.log10(Math.abs(e)));if(n<=2)return e;var r=Math.floor(n/3),o=Math.pow(10,n-3*r)*+(e/Math.pow(10,n)).toFixed(1);return Math.round(100*o)/100+" "+["","K","M","B","T"][r]}function w(t,e){for(var n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);var o=function(t,e,n,r){var o=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}}(e||t,n||t),i=o.angle+(r?Math.PI:0),a=.2*o.length;return[t[0]+Math.cos(i)*a,t[1]+Math.sin(i)*a]};return function(t,e){return t.reduce((function(t,e,n,r){return 0===n?e[0]+","+e[1]:t+" "+function(t,e,n){var r=o(n[e-1],n[e-2],t),i=o(t,n[e-1],n[e+1],!0);return"C "+r[0]+","+r[1]+" "+i[0]+","+i[1]+" "+t[0]+","+t[1]}(e,n,r)}),"")}(n)}function x(t){return t>255?255:t<0?0:t}function _(t,e){var n=_t(t),r=!1;"#"==n[0]&&(n=n.slice(1),r=!0);var o=parseInt(n,16),i=x((o>>16)+e),a=x((o>>8&255)+e);return(r?"#":"")+(x((255&o)+e)|a<<8|i<<16).toString(16)}function k(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function C(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e){var o=e[r];if("inside"===r)k(o).appendChild(n);else if("around"===r){var i=k(o);i.parentNode.insertBefore(n,i),n.appendChild(i)}else"styles"===r?"object"===(void 0===o?"undefined":Ct(o))&&Object.keys(o).map((function(t){n.style[t]=o[t]})):("className"===r&&(r="class"),"innerHTML"===r?n.textContent=o:n.setAttribute(r,o))}return n}function S(t,e){return C("linearGradient",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}function T(t,e,n,r){return C("stop",{inside:t,style:"stop-color: "+n,offset:e,"stop-opacity":r})}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={className:t,transform:e};return n&&(r.inside=n),C("g",r)}function O(t){return C("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:t,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none","stroke-width":arguments.length>4&&void 0!==arguments[4]?arguments[4]:2}})}function A(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),o=S(t,r),i=[1,.6,.2];return n&&(i=[.4,.2,0]),T(o,"0%",e,i[0]),T(o,"50%",e,i[1]),T(o,"100%",e,i[2]),r}function D(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s={className:t,x:e,y:n,width:r,height:r,rx:o,fill:i};return Object.keys(a).map((function(t){s[t]=a[t]})),C("rect",s)}function N(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.fontSize||Ot;return C("text",{className:t,x:e,y:n,dy:(void 0!==o.dy?o.dy:i/2)+"px","font-size":i+"px",fill:o.fill||Dt,"text-anchor":o.textAnchor||"start",innerHTML:r})}function P(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.stroke||(o.stroke=At);var i=C("line",{className:"line-vertical "+o.className,x1:0,x2:0,y1:n,y2:r,styles:{stroke:o.stroke}}),a=C("text",{x:0,y:n>r?n+Tt:n-Tt-Ot,dy:Ot+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:e+""}),s=C("g",{transform:"translate("+t+", 0)"});return s.appendChild(i),s.appendChild(a),s}function M(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.stroke||(o.stroke=At),o.lineType||(o.lineType=""),o.shortenNumbers&&(e=b(e));var i=C("line",{className:"line-horizontal "+o.className+("dashed"===o.lineType?"dashed":""),x1:n,x2:r,y1:0,y2:0,styles:{stroke:o.stroke}}),a=C("text",{x:n<r?n-Tt:n+Tt,y:0,dy:Ot/2-2+"px","font-size":Ot+"px","text-anchor":n<r?"end":"start",innerHTML:e+""}),s=C("g",{transform:"translate(0, "+t+")","stroke-opacity":1});return 0!==a&&"0"!==a||(s.style.stroke="rgba(27, 31, 35, 0.6)"),s.appendChild(i),s.appendChild(a),s}function L(t,e,n,r){var o="string"==typeof e?e:e.join(", ");return[t,{transform:n.join(", ")},r,Ft,"translate",{transform:o}]}function R(t,e,n){return L(t,[0,n],[0,e],It)}function I(t,e){return[t,{d:e},Lt,Ft]}function B(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.cloneNode(!0),s=t.cloneNode(!0);for(var u in e){var l=void 0;l="transform"===u?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=i[u]||t.getAttribute(u),f=e[u],d={attributeName:u,from:c,to:f,begin:"0s",dur:n/1e3+"s",values:c+";"+f,keySplines:zt[r],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var h in o&&(d.type=o),d)l.setAttribute(h,d[h]);a.appendChild(l),o?s.setAttribute(u,"translate("+f+")"):s.setAttribute(u,f)}return[a,s]}function F(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function j(t,e){var n=[],r=[];e.map((function(t){var e,o,i=t[0],a=i.parentNode;t[0]=i;var s=B.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t)),u=jt(s,2);e=u[0],o=u[1],n.push(o),r.push([e,a]),a.replaceChild(e,i)}));var o=t.cloneNode(!0);return r.map((function(t,r){t[1].replaceChild(n[r],t[0]),e[r][0]=n[r]})),o}function z(t,e,n){if(0!==n.length){var r=j(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(r)),setTimeout((function(){r.parentNode==t&&(t.removeChild(r),t.appendChild(e))}),Bt)}}function H(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function q(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function U(t){return new Date(t.getTime())}function W(t,e){var n=Y(t);return Math.ceil(function(t,e){var n=Yt*Gt;return(H(e)-H(t))/n}(n,e)/$t)}function V(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function $(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Kt[t];return e?n.slice(0,3):n}function G(t,e){return new Date(e,t+1,0)}function Y(t){var e=U(t),n=e.getDay();return 0!==n&&K(e,-1*n),e}function K(t,e){t.setDate(t.getDate()+e)}function Z(t,e,n){var r=Object.keys(te).filter((function(e){return t.includes(e)})),o=te[r[0]];return Object.assign(o,{constants:e,getData:n}),new Qt(o)}function X(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function J(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),r=Math.floor(e),o=n-r,i=o,a=1;o>5&&(o%2!=0&&(o=++n-r),i=o/2,a=2),o<=2&&(a=o/(i=4)),0===o&&(i=5,a=1);for(var s=[],u=0;u<=i;u++)s.push(r+a*u);return s}function tt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=J(t),r=ae(n,2),o=r[0],i=r[1],a=e?e/Math.pow(10,i):0,s=Q(o=o.toFixed(6),a);return s.map((function(t){return t*Math.pow(10,i)}))}function et(t){function e(t,e){for(var n=tt(t),r=n[1]-n[0],o=0,i=1;o<e;i++)o+=r,n.unshift(-1*o);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Math.max.apply(Math,X(t)),o=Math.min.apply(Math,X(t)),i=[];if(r>=0&&o>=0)J(r)[1],i=n?tt(r,o):tt(r);else if(r>0&&o<0){var a=Math.abs(o);r>=a?(J(r)[1],i=e(r,a)):(J(a)[1],i=e(a,r).map((function(t){return-1*t})))}else if(r<=0&&o<=0){var s=Math.abs(o),u=Math.abs(r);J(s)[1],i=(i=n?tt(s,u):tt(s)).reverse().map((function(t){return-1*t}))}return i}function nt(t){var e=rt(t);return t.indexOf(0)>=0?t.indexOf(0):t[0]>0?-1*t[0]/e:-1*t[t.length-1]/e+(t.length-1)}function rt(t){return t[1]-t[0]}function ot(t){return t[t.length-1]-t[0]}function it(t,e){return f(e.zeroLine-t*e.scaleMultiplier)}function at(t,e){return e.filter((function(e){return e<t})).length}function st(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function ut(t,e){t.labels=t.labels||[];var n=t.labels.length,r=t.datasets,o=new Array(n).fill(0);return r||(r=[{values:o}]),r.map((function(t){if(t.values){var r=t.values;r=(r=r.map((function(t){return isNaN(t)?0:t}))).length>n?r.slice(0,n):d(r,n-r.length,0)}else t.values=o;t.chartType||(ht.includes(e),t.chartType=e)})),t.yRegions&&t.yRegions.map((function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}})),t}function lt(t){var e=t.labels.length,n=new Array(e).fill(0),r={labels:t.labels.slice(0,-1),datasets:t.datasets.map((function(t){return{name:"",values:n.slice(0,-1),chartType:t.chartType}}))};return t.yMarkers&&(r.yMarkers=[{value:0,label:""}]),t.yRegions&&(r.yRegions=[{start:0,end:0,label:""}]),r}function ct(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}n.d(e,"a",(function(){return ge}));!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}');var ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r.create=function(t,e){var n=document.createElement(t);for(var o in e){var i=e[o];if("inside"===o)r(i).appendChild(n);else if("around"===o){var a=r(i);a.parentNode.insertBefore(n,a),n.appendChild(a)}else"styles"===o?"object"===(void 0===i?"undefined":ft(i))&&Object.keys(i).map((function(t){n.style[t]=i[t]})):o in n?n[o]=i:n.setAttribute(o,i)}return n};var dt={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},ht=["line","bar"],pt=2,mt=7,gt=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],vt={bar:gt,line:gt,pie:gt,percentage:gt,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],donut:gt},yt=Math.PI/180,bt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wt=function(){function t(e){var n=e.parent,r=void 0===n?null:n,o=e.colors,i=void 0===o?[]:o;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.parent=r,this.colors=i,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return bt(t,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var t=this;this.container=r.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",(function(){t.hideTip()}))}},{key:"fill",value:function(){var t,e=this;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map((function(t,n){var o=e.colors[n]||"black",i=0===t.formatted||t.formatted?t.formatted:t.value,a=r.create("li",{styles:{"border-top":"3px solid "+o},innerHTML:'<strong style="display: block;">'+(0===i||i?i:"")+"</strong>\n\t\t\t\t\t"+(t.title?t.title:"")});e.dataPointList.appendChild(a)}))}},{key:"calcPosition",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>e){var r="calc(50% + "+(this.left-e)+"px)";n.style.left=r,this.left=e}else n.style.left="50%"}},{key:"setValues",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=r,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=o,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),t}(),xt={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},_t=function(t){return xt[t]||t},kt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St=6,Tt=4,Et=15,Ot=10,At="#dadada",Dt="#555b51",Nt={bar:function(t){var e=void 0;"rect"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),r=t.getAttribute("r"),o=t.getAttribute("fill");return n.setAttribute("r",parseInt(r)+4),n.setAttribute("fill",o),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),r=t.getAttribute("r"),o=t.getAttribute("fill");return n.setAttribute("r",parseInt(r)+4),n.setAttribute("fill",o),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},Pt={bar:function(t,e){var n=void 0;"rect"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["x","y","width","height"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},dot:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["cx","cy"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},heat_square:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["cx","cy"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)}},Mt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Lt=350,Rt=350,It=Lt,Bt=250,Ft="easein",jt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},zt={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},Ht=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",qt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ut=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent="string"==typeof e?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:void 0!==n.animate?n.animate:1,truncateLegends:n.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(dt));var r=this.measures;this.setMeasures(n),this.title.length||(r.titleHeight=0),this.config.showLegend||(r.legendHeight=0),this.argHeight=n.height||r.baseHeight,this.state={},this.options={},this.initTimeout=700,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return qt(t,[{key:"prepareData",value:function(t){return t}},{key:"prepareFirstData",value:function(t){return t}},{key:"validateColors",value:function(t,e){var n=[];return(t=(t||[]).concat(vt[e])).forEach((function(t){var e=_t(t);!function(t){return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(t)||/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i.test(t)}(e)||n.push(e)})),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var t=this,e=this.argHeight;this.baseHeight=e,this.height=e-l(this.measures),this.boundDrawFn=function(){return t.draw(!0)},window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var t={inside:this.parent,className:"chart-container"};this.independentWidth&&(t.styles={width:this.independentWidth+"px"}),this.container=r.create("div",t)}},{key:"makeTooltip",value:function(){this.tip=new wt({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&i(this.parent)||(this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach((function(e){return e.setup(t.drawArea)})),this.render(this.components,!1),n&&(this.data=this.realData,setTimeout((function(){t.update(t.data)}),this.initTimeout)),this.renderLegend(),this.setupNavigation(n))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return t.clientWidth-n}(this.parent),this.width=this.baseWidth-c(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var t=this.measures;this.svg=function(t,e,n,r){return C("svg",{className:e,inside:t,width:n,height:r})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(t){return C("defs",{inside:t})}(this.svg),this.title.length&&(this.titleEL=N("title",t.margins.left,t.margins.top,this.title,{fontSize:t.titleFontSize,fill:"#666666",dy:t.titleFontSize}));var e=s(t);this.drawArea=E(this.type+"-chart chart-draw-area","translate("+u(t)+", "+e+")"),this.config.showLegend&&(e+=this.height+t.paddings.bottom,this.legendArea=E("chart-legend","translate("+u(t)+", "+e+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(u(t),s(t))}},{key:"updateTipOffset",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(t){this.data=this.prepareData(t),this.calc(),this.render(this.components,this.config.animate)}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map((function(t){return t.parentNode.removeChild(t)}));var r=[];e.forEach((function(t){r=r.concat(t.update(n))})),r.length>0?(z(this.container,this.svg,r),setTimeout((function(){e.forEach((function(t){return t.make()})),t.updateNav()}),400)):(e.forEach((function(t){return t.make()})),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",(function(e){a(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())})))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var t=function(t){var e=t.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var n=r.create("style",{innerHTML:Ht});e.insertBefore(n,e.firstChild);var o=r.create("div");return o.appendChild(e),o.innerHTML}(this.svg);!function(t,e){var n=document.createElement("a");n.style="display: none";var r=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),o=window.URL.createObjectURL(r);n.href=o,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)}),300)}(this.title||"Chart",[t])}}]),t}(),Wt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Vt=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),Wt(e,[{key:"configure",value:function(t){(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var r=this.data.labels.map((function(e,n){var r=0;return t.data.datasets.map((function(t){r+=t.values[n]})),[r,e]})).filter((function(t){return t[0]>=0})),o=r;if(r.length>n){r.sort((function(t,e){return e[0]-t[0]})),o=r.slice(0,n-1);var i=0;r.slice(n-1).map((function(t){i+=t[0]})),o.push([i,"Rest"]),this.colors[n-1]="grey"}e.labels=[],o.map((function(t){e.sliceTotals.push(t[0]),e.labels.push(t[1])})),e.grandTotal=e.sliceTotals.reduce((function(t,e){return t+e}),0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,e=this.state;this.legendArea.textContent="",this.legendTotals=e.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,r=0;this.legendTotals.map((function(o,i){var a=150,s=Math.floor((t.width-c(t.measures))/a);t.legendTotals.length<s&&(a=t.width/t.legendTotals.length),n>s&&(n=0,r+=20);var u=a*n+5,l=t.config.truncateLegends?y(e.labels[i],a/10):e.labels[i],f=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments[4];o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?y(o,Et):o;var i={className:"legend-dot",cx:0,cy:0,r:n,fill:r},a=C("text",{className:"legend-dataset-text",x:0,y:0,dx:Ot+"px",dy:Ot/3+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Dt,innerHTML:o}),s=C("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(C("circle",i)),s.appendChild(a),s}(u,r,5,t.colors[i],l+": "+o,!1);t.legendArea.appendChild(f),n++}))}}]),e}(Ut),$t=7,Gt=1e3,Yt=86400,Kt=["January","February","March","April","May","June","July","August","September","October","November","December"],Zt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Xt=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Jt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Qt=function(){function t(e){var n=e.layerClass,r=void 0===n?"":n,o=e.layerTransform,i=void 0===o?"":o,a=e.constants,s=e.getData,u=e.makeElements,l=e.animateElements;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.layerTransform=i,this.constants=a,this.makeElements=u,this.getData=s,this.animateElements=l,this.store=[],this.labels=[],this.layerClass=r,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return Jt(t,[{key:"refresh",value:function(t){this.data=t||this.getData()}},{key:"setup",value:function(t){this.layer=E(this.layerClass,this.layerTransform,t)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent="",this.store.forEach((function(t){e.layer.appendChild(t)})),this.labels.forEach((function(t){e.layer.appendChild(t)}))}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),te={donutSlices:{layerClass:"donut-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var r=O(e,"donut-path",t.colors[n],"none",t.strokeWidth);return r.style.transition="transform .3s;",r}))},animateElements:function(t){return this.store.map((function(e,n){return I(e,t.sliceStrings[n])}))}},pieSlices:{layerClass:"pie-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var r=O(e,"pie-path","none",t.colors[n]);return r.style.transition="transform .3s;",r}))},animateElements:function(t){return this.store.map((function(e,n){return I(e,t.sliceStrings[n])}))}},percentageBars:{layerClass:"percentage-bars",makeElements:function(t){var e=this;return t.xPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pt,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return C("rect",{className:"percentage-bar",x:t,y:e,width:n,height:r,fill:i,styles:{stroke:_(i,-25),"stroke-dasharray":"0, "+(r+n)+", "+n+", "+r,"stroke-width":o}})}(n,0,t.widths[r],e.constants.barHeight,e.constants.barDepth,t.colors[r])}))},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:"y axis",makeElements:function(t){var e=this;return t.positions.map((function(n,r){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m(t)||(t=0),r.pos||(r.pos="left"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=At),r.className||(r.className="");var o=-1*St,i="span"===r.mode?n+St:0;return"tick"===r.mode&&"right"===r.pos&&(o=n+St,i=n),M(t,e,o+=r.offset,i+=r.offset,{stroke:r.stroke,className:r.className,lineType:r.lineType,shortenNumbers:r.shortenNumbers})}(n,t.labels[r],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})}))},animateElements:function(t){var e=t.positions,n=t.labels,r=this.oldData.positions,o=this.oldData.labels,i=v(r,e),a=Xt(i,2);r=a[0],e=a[1];var s=v(o,n),u=Xt(s,2);return o=u[0],n=u[1],this.render({positions:r,labels:n}),this.store.map((function(t,n){return R(t,e[n],r[n])}))}},xAxis:{layerClass:"x axis",makeElements:function(t){var e=this;return t.positions.map((function(n,r){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};m(t)||(t=0),r.pos||(r.pos="bottom"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=At),r.className||(r.className="");var o=n+St,i="span"===r.mode?-1*St:n;return"tick"===r.mode&&"top"===r.pos&&(o=-1*St,i=0),P(t,e,o,i,{stroke:r.stroke,className:r.className,lineType:r.lineType})}(n,t.calcLabels[r],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})}))},animateElements:function(t){var e=t.positions,n=t.calcLabels,r=this.oldData.positions,o=this.oldData.calcLabels,i=v(r,e),a=Xt(i,2);r=a[0],e=a[1];var s=v(o,n),u=Xt(s,2);return o=u[0],n=u[1],this.render({positions:r,calcLabels:n}),this.store.map((function(t,n){return function(t,e,n){return L(t,[n,0],[e,0],It)}(t,e[n],r[n])}))}},yMarkers:{layerClass:"y-markers",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.labelPos||(r.labelPos="right");var o=C("text",{className:"chart-label",x:"left"===r.labelPos?Tt:n-h(e,5)-Tt,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:e+""}),i=M(t,"",0,n,{stroke:r.stroke||At,className:r.className||"",lineType:r.lineType});return i.appendChild(o),i}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})}))},animateElements:function(t){var e=v(this.oldData,t),n=Xt(e,2);this.oldData=n[0];var r=(t=n[1]).map((function(t){return t.position})),o=t.map((function(t){return t.label})),i=t.map((function(t){return t.options})),a=this.oldData.map((function(t){return t.position}));return this.render(a.map((function(t,e){return{position:a[e],label:o[e],options:i[e]}}))),this.store.map((function(t,e){return R(t,r[e],a[e])}))}},yRegions:{layerClass:"y-regions",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=t-e,a=C("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:At,"stroke-dasharray":n+", "+i},x:0,y:0,width:n,height:i});o.labelPos||(o.labelPos="right");var s=C("text",{className:"chart-label",x:"left"===o.labelPos?Tt:n-h(r+"",4.5)-Tt,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:r+""}),u=C("g",{transform:"translate(0, "+e+")"});return u.appendChild(a),u.appendChild(s),u}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})}))},animateElements:function(t){var e=v(this.oldData,t),n=Xt(e,2);this.oldData=n[0];var r=(t=n[1]).map((function(t){return t.endPos})),o=t.map((function(t){return t.label})),i=t.map((function(t){return t.startPos})),a=t.map((function(t){return t.options})),s=this.oldData.map((function(t){return t.endPos})),u=this.oldData.map((function(t){return t.startPos}));this.render(s.map((function(t,e){return{startPos:u[e],endPos:s[e],label:o[e],options:a[e]}})));var l=[];return this.store.map((function(t,e){l=l.concat(function(t,e,n,r){var o=e-n,i=t.childNodes[0];return[[i,{height:o,"stroke-dasharray":i.getAttribute("width")+", "+o},It,Ft],L(t,[0,r],[0,n],It)]}(t,i[e],r[e],s[e]))})),l}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,r=n.index,o=n.colWidth,i=n.rowHeight,a=n.squareSize,s=n.radius,u=n.xTranslate,l=0;return this.serializedSubDomains=[],t.cols.map((function(t,n){1===n&&e.labels.push(N("domain-name",u,-12,$(r,!0).toUpperCase(),{fontSize:9})),t.map((function(t,n){if(t.fill){var r={"data-date":t.yyyyMmDd,"data-value":t.dataValue,"data-day":n},o=D("day",u,l,a,s,t.fill,r);e.serializedSubDomains.push(o)}l+=i})),l=0,u+=o})),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="bar",this.units=t.yPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=g(e,s.zeroLine),l=kt(u,2),c=l[0],f=l[1];f-=a,0===c&&(c=s.minHeight,f-=s.minHeight),m(t)||(t=0),m(f)||(f=0),m(c,!0)||(c=0),m(n,!0)||(n=0);var d=C("rect",{className:"bar mini",style:"fill: "+r,"data-point-index":i,x:t,y:f,width:n,height:c});if((o+="")||o.length){d.setAttribute("y",0),d.setAttribute("x",0);var h=C("text",{className:"data-point-value",x:n/2,y:0,dy:Ot/2*-1+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:o}),p=C("g",{"data-point-index":i,transform:"translate("+t+", "+f+")"});return p.appendChild(d),p.appendChild(h),p}return d}(t.xPositions[r],n,t.barWidth,e.color,t.labels[r],r,t.offsets[r],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})})),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,r=t.offsets,o=t.labels,i=this.oldData.xPositions,a=this.oldData.yPositions,s=this.oldData.offsets,u=this.oldData.labels,l=v(i,e),c=Xt(l,2);i=c[0],e=c[1];var f=v(a,n),d=Xt(f,2);a=d[0],n=d[1];var h=v(s,r),p=Xt(h,2);s=p[0],r=p[1];var m=v(u,o),y=Xt(m,2);u=y[0],o=y[1],this.render({xPositions:i,yPositions:a,offsets:s,labels:o,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var b=[];return this.store.map((function(o,i){b=b.concat(function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=g(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),a=Mt(i,2),s=a[0],u=a[1];return u-=o,"rect"!==t.nodeName?[[t.childNodes[0],{width:r,height:s},Lt,Ft],L(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],It)]:[[t,{width:r,height:s,x:e,y:u},Lt,Ft]]}(o,e[i],n[i],t.barWidth,r[i],{zeroLine:t.zeroLine}))})),b}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=e.map((function(e,n){return t[n]+","+e})).join("L");r.spline&&(i=w(t,e));var a=O("M"+i,"line-graph-path",n);if(r.heatline){var s=A(o.svgDefs,n);a.style.stroke="url(#"+s+")"}var u={path:a};if(r.regionFill){var l=A(o.svgDefs,n,!0),c="M"+t[0]+","+o.zeroLine+"L"+i+"L"+t.slice(-1)[0]+","+o.zeroLine;u.region=O(c,"region-fill","none","url(#"+l+")")}return u}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.hideDots||(this.units=t.yPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=C("circle",{style:"fill: "+r,"data-point-index":i,cx:t,cy:e,r:n});if((o+="")||o.length){a.setAttribute("cy",0),a.setAttribute("cx",0);var s=C("text",{className:"data-point-value",x:0,y:0,dy:Ot/2*-1-n+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:o}),u=C("g",{"data-point-index":i,transform:"translate("+t+", "+e+")"});return u.appendChild(a),u.appendChild(s),u}return a}(t.xPositions[r],n,t.radius,e.color,e.valuesOverPoints?t.values[r]:"",r)}))),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,r=t.values,o=this.oldData.xPositions,i=this.oldData.yPositions,a=this.oldData.values,s=v(o,e),u=Xt(s,2);o=u[0],e=u[1];var l=v(i,n),c=Xt(l,2);i=c[0],n=c[1];var f=v(a,r),d=Xt(f,2);a=d[0],r=d[1],this.render({xPositions:o,yPositions:i,values:r,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var h=[];return Object.keys(this.paths).length&&(h=h.concat(function(t,e,n,r,o){var i=[],a=n.map((function(t,n){return e[n]+","+t})).join("L");o&&(a=w(e,n));var s=[t.path,{d:"M"+a},Rt,Ft];if(i.push(s),t.region){var u=e[0]+","+r+"L",l="L"+e.slice(-1)[0]+", "+r,c=[t.region,{d:"M"+u+a+l},Rt,Ft];i.push(c)}return i}(this.paths,e,n,t.zeroLine,this.constants.spline))),this.units.length&&this.units.map((function(t,r){h=h.concat(function(t,e,n){return"circle"!==t.nodeName?[L(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],It)]:[[t,{cx:e,cy:n},Lt,Ft]]}(t,e[r],n[r]))})),h}}},ee=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ne=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.type="percentage",r.setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),ee(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||pt,e.paddings.right=30,e.legendHeight=60,e.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var t=this.state,e=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Z.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calc",value:function(){var t=this;(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;n.xPositions=[],n.widths=[];var r=0;n.sliceTotals.map((function(e){var o=t.width*e/n.grandTotal;n.widths.push(o),n.xPositions.push(r),r+=o}))}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,e=this.state;this.container.addEventListener("mousemove",(function(n){var r=t.components.get("percentageBars").store,i=n.target;if(r.includes(i)){var a=r.indexOf(i),s=o(t.container),u=o(i),l=u.left-s.left+parseInt(i.getAttribute("width"))/2,c=u.top-s.top,f=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[a]:t.state.labels[a])+": ",d=e.sliceTotals[a]/e.grandTotal;t.tip.setValues(l,c,{name:f,value:(100*d).toFixed(1)+"%"}),t.tip.showTip()}}))}}]),e}(Vt),re=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oe=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},ie=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.type="pie",r.initTimeout=0,r.init=1,r.setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),re(e,[{key:"configure",value:function(t){oe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;oe(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var r=this.radius,o=this.clockWise,i=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var a=180-this.config.startAngle;n.sliceTotals.map((function(e,s){var u=a,l=e/n.grandTotal*360,c=l>180?1:0,f=o?-l:l,d=a+=f,h=p(u,r),m=p(d,r),g=t.init&&i[s],v=void 0,y=void 0;t.init?(v=g?g.startPosition:h,y=g?g.endPosition:h):(v=h,y=m);var b=360===l?function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=2*n.y,c=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+" z\n\t\tL"+a+" "+l+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+c+" z"}(v,y,t.center,t.radius,o,c):function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+" z"}(v,y,t.center,t.radius,o,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:h,endPosition:m,value:e,total:n.grandTotal,startAngle:u,endAngle:d,angle:f})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Z.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,r=p(t.startAngle+t.angle/2,e);return"translate3d("+r.x*n+"px,"+r.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,e,n,r){if(t){var i=this.colors[e];if(n){F(t,this.calTranslateByAngle(this.state.slicesProperties[e])),t.style.fill=_(i,50);var a=o(this.svg),s=r.pageX-a.left+10,u=r.pageY-a.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+": ",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,u,{name:l,value:c+"%"}),this.tip.showTip()}else F(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=i}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("pieSlices").store,r=this.curActiveSliceIndex,o=this.curActiveSlice;if(n.includes(e)){var i=n.indexOf(e);this.hoverSlice(o,r,!1),this.curActiveSlice=e,this.curActiveSliceIndex=i,this.hoverSlice(e,i,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Vt),ae=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},se=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ue=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.type="heatmap",r.countLabel=n.countLabel||"";var o=["Sunday","Monday"],i=o.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return r.startSubDomainIndex=o.indexOf(i),r.setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),se(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=12*$t+l(e);var n=this.data,r=this.discreteDomains?12:0;this.independentWidth=12*(W(n.start,n.end)+r)+c(e)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=12*(e+t)+c(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach((function(n){var r=new Date(n*Gt);e[q(r)]=t.dataPoints[n]})),t.dataPoints=e}return t}},{key:"calc",value:function(){var t=this.state;t.start=U(this.data.start),t.end=U(this.data.end),t.firstWeekStart=U(t.start),t.noOfWeeks=W(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,X(t)),r=1/(e-1),o=[],i=0;i<e;i++){var a=n*(r*i);o.push(a)}return o}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,r=e.domainConfigs.map((function(r,o){return["heatDomain",{index:r.index,colWidth:12,rowHeight:12,squareSize:10,radius:t.rawChartArgs.radius||0,xTranslate:12*e.domainConfigs.filter((function(t,e){return e<o})).map((function(t){return t.cols.length-n})).reduce((function(t,e){return t+e}),0)},function(){return e.domainConfigs[o]}.bind(t)]}));this.components=new Map(r.map((function(t,e){var n=Z.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0]+"-"+e,n]})));var o=0;Zt.forEach((function(e,n){if([1,3,5].includes(n)){var r=N("subdomain-name",-6,o,e,{fontSize:10,dy:8,textAnchor:"end"});t.drawArea.appendChild(r)}o+=12}))}},{key:"update",value:function(t){this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(e){t.components.forEach((function(n){var r=n.store,o=e.target;if(r.includes(o)){var i=o.getAttribute("data-value"),a=o.getAttribute("data-date").split("-"),s=$(parseInt(a[1])-1,!0),u=t.container.getBoundingClientRect(),l=o.getBoundingClientRect(),c=parseInt(e.target.getAttribute("width")),f=l.left-u.left+c/2,d=l.top-u.top,h=i+" "+t.countLabel,p=" on "+s+" "+a[0]+", "+a[2];t.tip.setValues(f,d,{name:p,value:h,valueFirst:1},[]),t.tip.showTip()}}))}))}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var e=0,n=this.rawChartArgs.radius||0,r=N("subdomain-name",e,12,"Less",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(r),this.colors.slice(0,5).map((function(r,o){var i=D("heatmap-legend-unit",e+15*o,12,10,n,r);t.legendArea.appendChild(i)}));var o=N("subdomain-name",e+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(o)}},{key:"getDomains",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],r=e[1],o=[t.end.getMonth(),t.end.getFullYear()],i=o[0]-n+1+12*(o[1]-r),a=[],s=U(t.start),u=0;u<i;u++){var l=t.end;if(!V(s,t.end)){var c=[s.getMonth(),s.getFullYear()];l=G(c[0],c[1])}a.push(this.getDomainConfig(s,l)),K(l,1),s=l}return a}},{key:"getDomainConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.getMonth(),t.getFullYear()],r=n[0],o=n[1],i=Y(t),a={index:r,cols:[]};K(e=U(e)||G(r,o),1);for(var s=W(i,e),u=[],l=void 0,c=0;c<s;c++)l=this.getCol(i,r),u.push(l),K(i=new Date(l[$t-1].yyyyMmDd),1);return void 0!==l[$t-1].dataValue&&(K(i,1),u.push(this.getCol(i,r,!0))),a.cols=u,a}},{key:"getCol",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state,o=U(t),i=[],a=0;a<$t;a++,K(o,1)){var s={},u=o>=r.start&&o<=r.end;n||o.getMonth()!==e||!u?s.yyyyMmDd=q(o):s=this.getSubDomainConfig(o),i.push(s)}return i}},{key:"getSubDomainConfig",value:function(t){var e=q(t),n=this.data.dataPoints[e];return{yyyyMmDd:e,dataValue:n||0,fill:this.colors[at(n,this.state.distribution)]}}}]),e}(Ut),le=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ce=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},fe=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.barOptions=n.barOptions||{},r.lineOptions=n.lineOptions||{},r.type=n.type||"line",r.init=1,r.setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),le(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return ut(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return lt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map((function(e,n){return f(t.xOffset+n*t.unitWidth)}))}}},{key:"calcYAxisParameters",value:function(t){var e=et(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/ot(e),r=rt(e)*n,o=this.height-nt(e)*r;this.state.yAxis={labels:e,positions:e.map((function(t){return o-t*n})),scaleMultiplier:n,zeroLine:o},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,e=function(e){return e.map((function(e){return it(e,t.yAxis)}))};t.datasets=this.data.datasets.map((function(t,n){var r=t.values,o=t.cumulativeYs||[];return{name:t.name,index:n,chartType:t.chartType,values:r,yPositions:e(r),cumulativeYs:o,cumulativeYPos:e(o)}}))}},{key:"calcYExtremes",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map((function(e){e.yPositions.map((function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)}))})))}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map((function(e){return e.position=it(e.value,t.yAxis),e.options||(e.options={}),e}))),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map((function(e){return e.startPos=it(e.start,t.yAxis),e.endPos=it(e.end,t.yAxis),e.options||(e.options={}),e})))}},{key:"getAllYValues",value:function(){var t,e=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var r=new Array(this.state.datasetLength).fill(0);this.data.datasets.map((function(t,o){var i=e.data.datasets[o].values;t[n]=r=r.map((function(t,e){return t+i[e]}))}))}var o=this.data.datasets.map((function(t){return t[n]}));return this.data.yMarkers&&o.push(this.data.yMarkers.map((function(t){return t.value}))),this.data.yRegions&&this.data.yRegions.map((function(t){o.push([t.end,t.start])})),(t=[]).concat.apply(t,ct(o))}},{key:"setupComponents",value:function(){var t=this,e=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t/e.length;r<=0&&(r=1);var o=r/mt,i=void 0;if(n){var a=Math.max.apply(Math,st(e.map((function(t){return t.length}))));i=Math.ceil(a/o)}return e.map((function(t,e){return(t+="").length>o&&(n?e%i!=0&&(t=""):t=o-3>0?t.slice(0,o-3)+" ...":t.slice(0,o)+".."),t}))}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter((function(t){return"bar"===t.chartType})),r=this.state.datasets.filter((function(t){return"line"===t.chartType})),o=n.map((function(e){var r=e.index;return["barGraph-"+e.index,{index:r,color:t.colors[r],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:0*t.height},function(){var t=this.state,e=t.datasets[r],o=this.barOptions.stacked,i=this.barOptions.spaceRatio||.5,a=t.unitWidth*(1-i),s=a/(o?1:n.length),u=t.xAxis.positions.map((function(t){return t-a/2}));o||(u=u.map((function(t){return t+s*r})));var l=new Array(t.datasetLength).fill("");this.config.valuesOverPoints&&(l=o&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var c=new Array(t.datasetLength).fill(0);return o&&(c=e.yPositions.map((function(t,n){return t-e.cumulativeYPos[n]}))),{xPositions:u,yPositions:e.yPositions,offsets:c,labels:l,zeroLine:t.yAxis.zeroLine,barsWidth:a,barWidth:s}}.bind(t)]})),i=r.map((function(e){var n=e.index;return["lineGraph-"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],r=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:r,radius:this.lineOptions.dotSize||4}}.bind(t)]})),a=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(o,i,a);var s=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(e.filter((function(e){return!s.includes(e[0])||t.state[e[0]]})).map((function(e){var n=Z.apply(void 0,ct(e));return(e[0].includes("lineGraph")||e[0].includes("barGraph"))&&t.dataUnitComponents.push(n),[e[0],n]})))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,r=this.config.formatTooltipY;e.xAxis.labels.map((function(o,i){var a=t.state.datasets.map((function(e,n){var o=e.values[i];return{title:e.name,value:o,yPos:e.yPositions[i],color:t.colors[n],formatted:r?r(o):o}}));t.dataByIndex[i]={label:o,formattedLabel:n?n(o):o,xPos:e.xAxis.positions[i],values:a,yExtreme:e.yExtremes[i]}}))}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(e){var n=t.measures,r=o(t.container),i=e.pageX-r.left-u(n),a=e.pageY-r.top;a<t.height+s(n)&&a>s(n)?t.mapTooltipXPosition(i):t.tip.hideTip()}))}},{key:"mapTooltipXPosition",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),[]);return n?e.indexOf(r):r}(t,e.xAxis.positions,!0);if(n>=0){var r=this.dataByIndex[n];this.tip.setValues(r.xPos+this.tip.offset.x,r.yExtreme+this.tip.offset.y,{name:r.formattedLabel,value:""},r.values,n),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,e=this.data;e.datasets.length>1&&(this.legendArea.textContent="",e.datasets.map((function(e,n){var r=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments[4];o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?y(o,Et):o;var i={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:r},a=C("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Ot+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Dt,innerHTML:o}),s=C("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(C("rect",i)),s.appendChild(a),s}(100*n,"0",100,t.colors[n],e.name,t.config.truncateLegends);t.legendArea.appendChild(r)})))}},{key:"makeOverlay",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)})),this.overlayGuides=this.dataUnitComponents.map((function(t){return{type:t.unitType,overlay:void 0,units:t.units}})),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];e.overlay=Nt[e.type](n),t.drawArea.appendChild(e.overlay)})))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)}))}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",(function(){t.updateOverlay()}))}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map((function(e){e.units.map((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-point-index");t.setCurrentDataPoint(n)}))}))})),this.tip.container.addEventListener("click",(function(){var e=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(e)}))}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];Pt[e.type](n,e.overlay)}))}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state;return{index:t,label:e.xAxis.labels[t],values:e.datasets.map((function(e){return e.values[t]}))}}},{key:"setCurrentDataPoint",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var r=document.createEvent("HTMLEvents");for(var o in r.initEvent(e,!0,!0),n)r[o]=n[o];t.dispatchEvent(r)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,n,r),this.data.labels.splice(r,0,t),this.data.datasets.map((function(t,e){t.values.splice(r,0,n[e])})),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(ce(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map((function(e){e.values.splice(t,1)})),this.update(this.data))}},{key:"updateDataset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map((function(e,n){t[n]&&(e.values=t[n])})),this.update(this.data)}}]),e}(Ut),de=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),he=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},pe=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.type="donut",r.initTimeout=0,r.init=1,r.setup(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),de(e,[{key:"configure",value:function(t){he(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;he(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var n=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var r=this.radius,o=this.clockWise,i=n.slicesProperties||[];n.sliceStrings=[],n.slicesProperties=[];var a=180-this.config.startAngle;n.sliceTotals.map((function(e,s){var u=a,l=e/n.grandTotal*360,c=l>180?1:0,f=o?-l:l,d=a+=f,h=p(u,r),m=p(d,r),g=t.init&&i[s],v=void 0,y=void 0;t.init?(v=g?g.startPosition:h,y=g?g.endPosition:h):(v=h,y=m);var b=360===l?function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=2*r+s,c=n.y+t.y;return"M"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+"\n\t\tM"+a+" "+l+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+c}(v,y,t.center,t.radius,t.clockWise,c):function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=n.y+e.y;return"M"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l}(v,y,t.center,t.radius,t.clockWise,c);n.sliceStrings.push(b),n.slicesProperties.push({startPosition:h,endPosition:m,value:e,total:n.grandTotal,startAngle:u,endAngle:d,angle:f})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["donutSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(e.map((function(t){var e=Z.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,r=p(t.startAngle+t.angle/2,e);return"translate3d("+r.x*n+"px,"+r.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,e,n,r){if(t){var i=this.colors[e];if(n){F(t,this.calTranslateByAngle(this.state.slicesProperties[e])),t.style.stroke=_(i,50);var a=o(this.svg),s=r.pageX-a.left+10,u=r.pageY-a.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[e]:this.state.labels[e])+": ",c=(100*this.state.sliceTotals[e]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,u,{name:l,value:c+"%"}),this.tip.showTip()}else F(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=i}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("donutSlices").store,r=this.curActiveSliceIndex,o=this.curActiveSlice;if(n.includes(e)){var i=n.indexOf(e);this.hoverSlice(o,r,!1),this.curActiveSlice=e,this.curActiveSliceIndex=i,this.hoverSlice(e,i,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e}(Vt),me={bar:fe,line:fe,percentage:ne,heatmap:ue,pie:ie,donut:pe},ge=function t(e,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",e=arguments[1],n=arguments[2];return"axis-mixed"===t?(n.type="line",new fe(e,n)):me[t]?new me[t](e,n):void 0}(n.type,e,n)}},Qjfq:function(t,e,n){n("vn/0")},RKCW:function(t,e,n){!function(t){"use strict";var e=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;t.defineMode("gfm",(function(n,r){var o=0,i={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(t){return{code:t.code,codeBlock:t.codeBlock,ateSpace:t.ateSpace}},token:function(t,n){if(n.combineTokens=null,n.codeBlock)return t.match(/^```+/)?(n.codeBlock=!1,null):(t.skipToEnd(),null);if(t.sol()&&(n.code=!1),t.sol()&&t.match(/^```+/))return t.skipToEnd(),n.codeBlock=!0,null;if("`"===t.peek()){t.next();var i=t.pos;t.eatWhile("`");var a=1+t.pos-i;return n.code?a===o&&(n.code=!1):(o=a,n.code=!0),null}if(n.code)return t.next(),null;if(t.eatSpace())return n.ateSpace=!0,null;if((t.sol()||n.ateSpace)&&(n.ateSpace=!1,!1!==r.gitHubSpice)){if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return n.combineTokens=!0,"link";if(t.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return n.combineTokens=!0,"link"}return t.match(e)&&"]("!=t.string.slice(t.start-2,t.start)&&(0==t.start||/\W/.test(t.string.charAt(t.start-1)))?(n.combineTokens=!0,"link"):(t.next(),null)},blankLine:function(t){return t.code=!1,null}},a={taskLists:!0,strikethrough:!0,emoji:!0};for(var s in r)a[s]=r[s];return a.name="markdown",t.overlayMode(t.getMode(n,a),i)}),"markdown"),t.defineMIME("text/x-gfm","gfm")}(n("VrN/"),n("lZu9"),n("nrkQ"))},"Rn+g":function(t,e,n){"use strict";var r=n("LYNF");t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},S9Dz:function(t,e,n){n("o3aJ")},S9xt:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e,n){t.dom.toggleClass(t.getBody(),"mce-visualblocks"),n.set(!n.get()),function(t,e){t.fire("VisualBlocks",{state:e})}(t,n.get())},n=function(t,e){return function(n){n.setActive(e.get());var r=function(t){return n.setActive(t.state)};return t.on("VisualBlocks",r),function(){return t.off("VisualBlocks",r)}}};t.add("visualblocks",(function(t,r){var o,i=(o=!1,{get:function(){return o},set:function(t){o=t}});!function(t,n,r){t.addCommand("mceVisualBlocks",(function(){e(t,0,r)}))}(t,0,i),function(t,e){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:n(t,e)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:n(t,e)})}(t,i),function(t,n,r){t.on("PreviewFormats AfterPreviewFormats",(function(e){r.get()&&t.dom.toggleClass(t.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)})),t.on("init",(function(){(function(t){return t.getParam("visualblocks_default_state",!1,"boolean")})(t)&&e(t,0,r)}))}(t,0,i)}))}()},SYky:function(t,e,n){!function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){var n=this,r=!1;return e(this).one(l.TRANSITION_END,(function(){r=!0})),setTimeout((function(){r||l.triggerTransitionEnd(n)}),t),this}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),r=e(t).css("transition-delay"),o=parseFloat(n),i=parseFloat(r);return o||i?(n=n.split(",")[0],r=r.split(",")[0],1e3*(parseFloat(n)+parseFloat(r))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var o=n[r],i=e[r],a=i&&l.isElement(i)?"element":null==(s=i)?""+s:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}var s},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?l.findShadowRoot(t.parentNode):null},jQueryDetection:function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};l.jQueryDetection(),e.fn.emulateTransitionEnd=u,e.event.special[l.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c="alert",f=e.fn[c],d=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=l.getSelectorFromElement(t),r=!1;return n&&(r=document.querySelector(n)),r||(r=e(t).closest(".alert")[0]),r},n._triggerCloseEvent=function(t){var n=e.Event("close.bs.alert");return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass("show"),e(t).hasClass("fade")){var r=l.getTransitionDurationFromElement(t);e(t).one(l.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(r)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger("closed.bs.alert").remove()},t._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data("bs.alert");o||(o=new t(this),r.data("bs.alert",o)),"close"===n&&o[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',d._handleDismiss(new d)),e.fn[c]=d._jQueryInterface,e.fn[c].Constructor=d,e.fn[c].noConflict=function(){return e.fn[c]=f,d._jQueryInterface};var h=e.fn.button,p=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,r=e(this._element).closest('[data-toggle="buttons"]')[0];if(r){var o=this._element.querySelector('input:not([type="hidden"])');if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains("active"))t=!1;else{var i=r.querySelector(".active");i&&e(i).removeClass("active")}t&&("checkbox"!==o.type&&"radio"!==o.type||(o.checked=!this._element.classList.contains("active")),e(o).trigger("change")),o.focus(),n=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains("active")),t&&e(this._element).toggleClass("active"))},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var r=e(this).data("bs.button");r||(r=new t(this),e(this).data("bs.button",r)),"toggle"===n&&r[n]()}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=t.target,r=n;if(e(n).hasClass("btn")||(n=e(n).closest(".btn")[0]),!n||n.hasAttribute("disabled")||n.classList.contains("disabled"))t.preventDefault();else{var o=n.querySelector('input:not([type="hidden"])');if(o&&(o.hasAttribute("disabled")||o.classList.contains("disabled")))return void t.preventDefault();"LABEL"===r.tagName&&o&&"checkbox"===o.type&&t.preventDefault(),p._jQueryInterface.call(e(n),"toggle")}})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(t){var n=e(t.target).closest(".btn")[0];e(n).toggleClass("focus",/^focus(in)?$/.test(t.type))})),e(window).on("load.bs.button.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),e=0,n=t.length;e<n;e++){var r=t[e],o=r.querySelector('input:not([type="hidden"])');o.checked||o.hasAttribute("checked")?r.classList.add("active"):r.classList.remove("active")}for(var i=0,a=(t=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;i<a;i++){var s=t[i];"true"===s.getAttribute("aria-pressed")?s.classList.add("active"):s.classList.remove("active")}})),e.fn.button=p._jQueryInterface,e.fn.button.Constructor=p,e.fn.button.noConflict=function(){return e.fn.button=h,p._jQueryInterface};var m="carousel",g=".bs.carousel",v=e.fn[m],y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},b={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},w={TOUCH:"touch",PEN:"pen"},x=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(".carousel-indicators"),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide("next")},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide("prev")},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(l.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(".active.carousel-item");var r=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one("slid.bs.carousel",(function(){return n.to(t)}));else{if(r===t)return this.pause(),void this.cycle();var o=t>r?"next":"prev";this._slide(o,this._items[t])}},n.dispose=function(){e(this._element).off(g),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s(s({},y),t),l.typeCheckConfig(m,t,b),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;this.touchDeltaX=0,e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on("keydown.bs.carousel",(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on("mouseenter.bs.carousel",(function(e){return t.pause(e)})).on("mouseleave.bs.carousel",(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&w[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},r=function(e){t._pointerEvent&&w[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on("pointerdown.bs.carousel",(function(t){return n(t)})),e(this._element).on("pointerup.bs.carousel",(function(t){return r(t)})),this._element.classList.add("pointer-event")):(e(this._element).on("touchstart.bs.carousel",(function(t){return n(t)})),e(this._element).on("touchmove.bs.carousel",(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on("touchend.bs.carousel",(function(t){return r(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n="next"===t,r="prev"===t,o=this._getItemIndex(e),i=this._items.length-1;if((r&&0===o||n&&o===i)&&!this._config.wrap)return e;var a=(o+("prev"===t?-1:1))%this._items.length;return-1===a?this._items[this._items.length-1]:this._items[a]},n._triggerSlideEvent=function(t,n){var r=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(".active.carousel-item")),i=e.Event("slide.bs.carousel",{relatedTarget:t,direction:n,from:o,to:r});return e(this._element).trigger(i),i},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(".active"));e(n).removeClass("active");var r=this._indicatorsElement.children[this._getItemIndex(t)];r&&e(r).addClass("active")}},n._slide=function(t,n){var r,o,i,a=this,s=this._element.querySelector(".active.carousel-item"),u=this._getItemIndex(s),c=n||s&&this._getItemByDirection(t,s),f=this._getItemIndex(c),d=Boolean(this._interval);if("next"===t?(r="carousel-item-left",o="carousel-item-next",i="left"):(r="carousel-item-right",o="carousel-item-prev",i="right"),c&&e(c).hasClass("active"))this._isSliding=!1;else if(!this._triggerSlideEvent(c,i).isDefaultPrevented()&&s&&c){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(c);var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:i,from:u,to:f});if(e(this._element).hasClass("slide")){e(c).addClass(o),l.reflow(c),e(s).addClass(r),e(c).addClass(r);var p=parseInt(c.getAttribute("data-interval"),10);p?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=p):this._config.interval=this._config.defaultInterval||this._config.interval;var m=l.getTransitionDurationFromElement(s);e(s).one(l.TRANSITION_END,(function(){e(c).removeClass(r+" "+o).addClass("active"),e(s).removeClass("active "+o+" "+r),a._isSliding=!1,setTimeout((function(){return e(a._element).trigger(h)}),0)})).emulateTransitionEnd(m)}else e(s).removeClass("active"),e(c).addClass("active"),this._isSliding=!1,e(this._element).trigger(h);d&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var r=e(this).data("bs.carousel"),o=s(s({},y),e(this).data());"object"==typeof n&&(o=s(s({},o),n));var i="string"==typeof n?n:o.slide;if(r||(r=new t(this,o),e(this).data("bs.carousel",r)),"number"==typeof n)r.to(n);else if("string"==typeof i){if(void 0===r[i])throw new TypeError('No method named "'+i+'"');r[i]()}else o.interval&&o.ride&&(r.pause(),r.cycle())}))},t._dataApiClickHandler=function(n){var r=l.getSelectorFromElement(this);if(r){var o=e(r)[0];if(o&&e(o).hasClass("carousel")){var i=s(s({},e(o).data()),e(this).data()),a=this.getAttribute("data-slide-to");a&&(i.interval=!1),t._jQueryInterface.call(e(o),i),a&&e(o).data("bs.carousel").to(a),n.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return y}}]),t}();e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",x._dataApiClickHandler),e(window).on("load.bs.carousel.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,r=t.length;n<r;n++){var o=e(t[n]);x._jQueryInterface.call(o,o.data())}})),e.fn[m]=x._jQueryInterface,e.fn[m].Constructor=x,e.fn[m].noConflict=function(){return e.fn[m]=v,x._jQueryInterface};var _="collapse",k=e.fn[_],C={toggle:!0,parent:""},S={toggle:"boolean",parent:"(string|element)"},T=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll('[data-toggle="collapse"]')),r=0,o=n.length;r<o;r++){var i=n[r],a=l.getSelectorFromElement(i),s=[].slice.call(document.querySelectorAll(a)).filter((function(e){return e===t}));null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(i))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass("show")?this.hide():this.show()},n.show=function(){var n,r,o=this;if(!(this._isTransitioning||e(this._element).hasClass("show")||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter((function(t){return"string"==typeof o._config.parent?t.getAttribute("data-parent")===o._config.parent:t.classList.contains("collapse")}))).length&&(n=null),n&&(r=e(n).not(this._selector).data("bs.collapse"))&&r._isTransitioning))){var i=e.Event("show.bs.collapse");if(e(this._element).trigger(i),!i.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),r||e(n).data("bs.collapse",null));var a=this._getDimension();e(this._element).removeClass("collapse").addClass("collapsing"),this._element.style[a]=0,this._triggerArray.length&&e(this._triggerArray).removeClass("collapsed").attr("aria-expanded",!0),this.setTransitioning(!0);var s="scroll"+(a[0].toUpperCase()+a.slice(1)),u=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){e(o._element).removeClass("collapsing").addClass("collapse show"),o._element.style[a]="",o.setTransitioning(!1),e(o._element).trigger("shown.bs.collapse")})).emulateTransitionEnd(u),this._element.style[a]=this._element[s]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass("show")){var n=e.Event("hide.bs.collapse");if(e(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",l.reflow(this._element),e(this._element).addClass("collapsing").removeClass("collapse show");var o=this._triggerArray.length;if(o>0)for(var i=0;i<o;i++){var a=this._triggerArray[i],s=l.getSelectorFromElement(a);null!==s&&(e([].slice.call(document.querySelectorAll(s))).hasClass("show")||e(a).addClass("collapsed").attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[r]="";var u=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")})).emulateTransitionEnd(u)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s(s({},C),t)).toggle=Boolean(t.toggle),l.typeCheckConfig(_,t,S),t},n._getDimension=function(){return e(this._element).hasClass("width")?"width":"height"},n._getParent=function(){var n,r=this;l.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',i=[].slice.call(n.querySelectorAll(o));return e(i).each((function(e,n){r._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var r=e(t).hasClass("show");n.length&&e(n).toggleClass("collapsed",!r).attr("aria-expanded",r)},t._getTargetFromElement=function(t){var e=l.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data("bs.collapse"),i=s(s(s({},C),r.data()),"object"==typeof n&&n?n:{});if(!o&&i.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(i.toggle=!1),o||(o=new t(this,i),r.data("bs.collapse",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return C}}]),t}();e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),r=l.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(r));e(o).each((function(){var t=e(this),r=t.data("bs.collapse")?"toggle":n.data();T._jQueryInterface.call(t,r)}))})),e.fn[_]=T._jQueryInterface,e.fn[_].Constructor=T,e.fn[_].noConflict=function(){return e.fn[_]=k,T._jQueryInterface};var E="dropdown",O=e.fn[E],A=new RegExp("38|40|27"),D={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},N={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},P=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var r=t.prototype;return r.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")){var n=e(this._menu).hasClass("show");t._clearMenus(),n||this.show(!0)}},r.show=function(r){if(void 0===r&&(r=!1),!(this._element.disabled||e(this._element).hasClass("disabled")||e(this._menu).hasClass("show"))){var o={relatedTarget:this._element},i=e.Event("show.bs.dropdown",o),a=t._getParentFromElement(this._element);if(e(a).trigger(i),!i.isDefaultPrevented()){if(!this._inNavbar&&r){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=a:l.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(a).addClass("position-static"),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(a).closest(".navbar-nav").length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass("show"),e(a).toggleClass("show").trigger(e.Event("shown.bs.dropdown",o))}}},r.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass("disabled")&&e(this._menu).hasClass("show")){var n={relatedTarget:this._element},r=e.Event("hide.bs.dropdown",n),o=t._getParentFromElement(this._element);e(o).trigger(r),r.isDefaultPrevented()||(this._popper&&this._popper.destroy(),e(this._menu).toggleClass("show"),e(o).toggleClass("show").trigger(e.Event("hidden.bs.dropdown",n)))}},r.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},r.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},r._addEventListeners=function(){var t=this;e(this._element).on("click.bs.dropdown",(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},r._getConfig=function(t){return t=s(s(s({},this.constructor.Default),e(this._element).data()),t),l.typeCheckConfig(E,t,this.constructor.DefaultType),t},r._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(".dropdown-menu"))}return this._menu},r._getPlacement=function(){var t=e(this._element.parentNode),n="bottom-start";return t.hasClass("dropup")?n=e(this._menu).hasClass("dropdown-menu-right")?"top-end":"top-start":t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":e(this._menu).hasClass("dropdown-menu-right")&&(n="bottom-end"),n},r._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},r._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},r._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),s(s({},t),this._config.popperConfig)},t._jQueryInterface=function(n){return this.each((function(){var r=e(this).data("bs.dropdown");if(r||(r=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var r=[].slice.call(document.querySelectorAll('[data-toggle="dropdown"]')),o=0,i=r.length;o<i;o++){var a=t._getParentFromElement(r[o]),s=e(r[o]).data("bs.dropdown"),u={relatedTarget:r[o]};if(n&&"click"===n.type&&(u.clickEvent=n),s){var l=s._menu;if(e(a).hasClass("show")&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(a,n.target))){var c=e.Event("hide.bs.dropdown",u);e(a).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),r[o].setAttribute("aria-expanded","false"),s._popper&&s._popper.destroy(),e(l).removeClass("show"),e(a).removeClass("show").trigger(e.Event("hidden.bs.dropdown",u)))}}}},t._getParentFromElement=function(t){var e,n=l.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if(!(/input|textarea/i.test(n.target.tagName)?32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(".dropdown-menu").length):!A.test(n.which))&&!this.disabled&&!e(this).hasClass("disabled")){var r=t._getParentFromElement(this),o=e(r).hasClass("show");if(o||27!==n.which){if(n.preventDefault(),n.stopPropagation(),!o||o&&(27===n.which||32===n.which))return 27===n.which&&e(r.querySelector('[data-toggle="dropdown"]')).trigger("focus"),void e(this).trigger("click");var i=[].slice.call(r.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter((function(t){return e(t).is(":visible")}));if(0!==i.length){var a=i.indexOf(n.target);38===n.which&&a>0&&a--,40===n.which&&a<i.length-1&&a++,a<0&&(a=0),i[a].focus()}}}},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return D}},{key:"DefaultType",get:function(){return N}}]),t}();e(document).on("keydown.bs.dropdown.data-api",'[data-toggle="dropdown"]',P._dataApiKeydownHandler).on("keydown.bs.dropdown.data-api",".dropdown-menu",P._dataApiKeydownHandler).on("click.bs.dropdown.data-api keyup.bs.dropdown.data-api",P._clearMenus).on("click.bs.dropdown.data-api",'[data-toggle="dropdown"]',(function(t){t.preventDefault(),t.stopPropagation(),P._jQueryInterface.call(e(this),"toggle")})).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})),e.fn[E]=P._jQueryInterface,e.fn[E].Constructor=P,e.fn[E].noConflict=function(){return e.fn[E]=O,P._jQueryInterface};var M=e.fn.modal,L={backdrop:!0,keyboard:!0,focus:!0,show:!0},R={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},I=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(".modal-dialog"),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass("fade")&&(this._isTransitioning=!0);var r=e.Event("show.bs.modal",{relatedTarget:t});e(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on("click.dismiss.bs.modal",'[data-dismiss="modal"]',(function(t){return n.hide(t)})),e(this._dialog).on("mousedown.dismiss.bs.modal",(function(){e(n._element).one("mouseup.dismiss.bs.modal",(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var r=e.Event("hide.bs.modal");if(e(this._element).trigger(r),this._isShown&&!r.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass("fade");if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off("focusin.bs.modal"),e(this._element).removeClass("show"),e(this._element).off("click.dismiss.bs.modal"),e(this._dialog).off("mousedown.dismiss.bs.modal"),o){var i=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(i)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off("focusin.bs.modal"),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s(s({},L),t),l.typeCheckConfig("modal",t,R),t},n._triggerBackdropTransition=function(){var t=this;if("static"===this._config.backdrop){var n=e.Event("hidePrevented.bs.modal");if(e(this._element).trigger(n),n.defaultPrevented)return;this._element.classList.add("modal-static");var r=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,(function(){t._element.classList.remove("modal-static")})).emulateTransitionEnd(r),this._element.focus()}else this.hide()},n._showElement=function(t){var n=this,r=e(this._element).hasClass("fade"),o=this._dialog?this._dialog.querySelector(".modal-body"):null;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass("modal-dialog-scrollable")&&o?o.scrollTop=0:this._element.scrollTop=0,r&&l.reflow(this._element),e(this._element).addClass("show"),this._config.focus&&this._enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(i)};if(r){var s=l.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(l.TRANSITION_END,a).emulateTransitionEnd(s)}else a()},n._enforceFocus=function(){var t=this;e(document).off("focusin.bs.modal").on("focusin.bs.modal",(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown?e(this._element).on("keydown.dismiss.bs.modal",(function(e){t._config.keyboard&&27===e.which?(e.preventDefault(),t.hide()):t._config.keyboard||27!==e.which||t._triggerBackdropTransition()})):this._isShown||e(this._element).off("keydown.dismiss.bs.modal")},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on("resize.bs.modal",(function(e){return t.handleUpdate(e)})):e(window).off("resize.bs.modal")},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass("modal-open"),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger("hidden.bs.modal")}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,r=e(this._element).hasClass("fade")?"fade":"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",r&&this._backdrop.classList.add(r),e(this._backdrop).appendTo(document.body),e(this._element).on("click.dismiss.bs.modal",(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&n._triggerBackdropTransition()})),r&&l.reflow(this._backdrop),e(this._backdrop).addClass("show"),!t)return;if(!r)return void t();var o=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass("show");var i=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass("fade")){var a=l.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(l.TRANSITION_END,i).emulateTransitionEnd(a)}else i()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(t.left+t.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top")),r=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(n,r){var o=r.style.paddingRight,i=e(r).css("padding-right");e(r).data("padding-right",o).css("padding-right",parseFloat(i)+t._scrollbarWidth+"px")})),e(r).each((function(n,r){var o=r.style.marginRight,i=e(r).css("margin-right");e(r).data("margin-right",o).css("margin-right",parseFloat(i)-t._scrollbarWidth+"px")}));var o=document.body.style.paddingRight,i=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}e(document.body).addClass("modal-open")},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(".fixed-top, .fixed-bottom, .is-fixed, .sticky-top"));e(t).each((function(t,n){var r=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=r||""}));var n=[].slice.call(document.querySelectorAll(".sticky-top"));e(n).each((function(t,n){var r=e(n).data("margin-right");void 0!==r&&e(n).css("margin-right",r).removeData("margin-right")}));var r=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=r||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,r){return this.each((function(){var o=e(this).data("bs.modal"),i=s(s(s({},L),e(this).data()),"object"==typeof n&&n?n:{});if(o||(o=new t(this,i),e(this).data("bs.modal",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n](r)}else i.show&&o.show(r)}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return L}}]),t}();e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var n,r=this,o=l.getSelectorFromElement(this);o&&(n=document.querySelector(o));var i=e(n).data("bs.modal")?"toggle":s(s({},e(n).data()),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one("show.bs.modal",(function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",(function(){e(r).is(":visible")&&r.focus()}))}));I._jQueryInterface.call(e(n),i,this)})),e.fn.modal=I._jQueryInterface,e.fn.modal.Constructor=I,e.fn.modal.noConflict=function(){return e.fn.modal=M,I._jQueryInterface};var B=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],F={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},j=/^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi,z=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function H(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var r=(new window.DOMParser).parseFromString(t,"text/html"),o=Object.keys(e),i=[].slice.call(r.body.querySelectorAll("*")),a=function(t,n){var r=i[t],a=r.nodeName.toLowerCase();if(-1===o.indexOf(r.nodeName.toLowerCase()))return r.parentNode.removeChild(r),"continue";var s=[].slice.call(r.attributes),u=[].concat(e["*"]||[],e[a]||[]);s.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===B.indexOf(n)||Boolean(t.nodeValue.match(j)||t.nodeValue.match(z));for(var r=e.filter((function(t){return t instanceof RegExp})),o=0,i=r.length;o<i;o++)if(n.match(r[o]))return!0;return!1})(t,u)||r.removeAttribute(t.nodeName)}))},s=0,u=i.length;s<u;s++)a(s);return r.body.innerHTML}var q="tooltip",U=e.fn[q],W=new RegExp("(^|\\s)bs-tooltip\\S+","g"),V=["sanitize","whiteList","sanitizeFn"],$={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},G={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Y={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:F,popperConfig:null},K={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},Z=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var r=t.prototype;return r.enable=function(){this._isEnabled=!0},r.disable=function(){this._isEnabled=!1},r.toggleEnabled=function(){this._isEnabled=!this._isEnabled},r.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,r=e(t.currentTarget).data(n);r||(r=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(e(this.getTipElement()).hasClass("show"))return void this._leave(null,this);this._enter(null,this)}},r.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},r.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var r=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(r);var o=l.findShadowRoot(this.element),i=e.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(r.isDefaultPrevented()||!i)return;var a=this.getTipElement(),s=l.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(a).addClass("fade");var u="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(u);this.addAttachmentClass(c);var f=this._getContainer();e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(f),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,a,this._getPopperConfig(c)),e(a).addClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),"out"===n&&t._leave(null,t)};if(e(this.tip).hasClass("fade")){var h=l.getTransitionDurationFromElement(this.tip);e(this.tip).one(l.TRANSITION_END,d).emulateTransitionEnd(h)}else d()}},r.hide=function(t){var n=this,r=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),i=function(){"show"!==n._hoverState&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(r).removeClass("show"),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,e(this.tip).hasClass("fade")){var a=l.getTransitionDurationFromElement(r);e(r).one(l.TRANSITION_END,i).emulateTransitionEnd(a)}else i();this._hoverState=""}},r.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},r.isWithContent=function(){return Boolean(this.getTitle())},r.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},r.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},r.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(".tooltip-inner")),this.getTitle()),e(t).removeClass("fade show")},r.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=H(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},r.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},r._getPopperConfig=function(t){var e=this;return s(s({},{placement:t,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){return e._handlePopperPlacementChange(t)}}),this.config.popperConfig)},r._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s(s({},e.offsets),t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},r._getContainer=function(){return!1===this.config.container?document.body:l.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},r._getAttachment=function(t){return G[t.toUpperCase()]},r._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if("manual"!==n){var r="hover"===n?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o="hover"===n?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(r,t.config.selector,(function(e){return t._enter(e)})).on(o,t.config.selector,(function(e){return t._leave(e)}))}})),this._hideModalHandler=function(){t.element&&t.hide()},e(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=s(s({},this.config),{},{trigger:"manual",selector:""}):this._fixTitle()},r._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},r._enter=function(t,n){var r=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(r))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,n)),t&&(n._activeTrigger["focusin"===t.type?"focus":"hover"]=!0),e(n.getTipElement()).hasClass("show")||"show"===n._hoverState?n._hoverState="show":(clearTimeout(n._timeout),n._hoverState="show",n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){"show"===n._hoverState&&n.show()}),n.config.delay.show):n.show())},r._leave=function(t,n){var r=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(r))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(r,n)),t&&(n._activeTrigger["focusout"===t.type?"focus":"hover"]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState="out",n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){"out"===n._hoverState&&n.hide()}),n.config.delay.hide):n.hide())},r._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},r._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==V.indexOf(t)&&delete n[t]})),"number"==typeof(t=s(s(s({},this.constructor.Default),n),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),l.typeCheckConfig(q,t,this.constructor.DefaultType),t.sanitize&&(t.template=H(t.template,t.whiteList,t.sanitizeFn)),t},r._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},r._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(W);null!==n&&n.length&&t.removeClass(n.join(""))},r._handlePopperPlacementChange=function(t){this.tip=t.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},r._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass("fade"),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var r=e(this).data("bs.tooltip"),o="object"==typeof n&&n;if((r||!/dispose|hide/.test(n))&&(r||(r=new t(this,o),e(this).data("bs.tooltip",r)),"string"==typeof n)){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return Y}},{key:"NAME",get:function(){return q}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return K}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return $}}]),t}();e.fn[q]=Z._jQueryInterface,e.fn[q].Constructor=Z,e.fn[q].noConflict=function(){return e.fn[q]=U,Z._jQueryInterface};var X="popover",J=e.fn[X],Q=new RegExp("(^|\\s)bs-popover\\S+","g"),tt=s(s({},Z.Default),{},{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),et=s(s({},Z.DefaultType),{},{content:"(string|element|function)"}),nt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},rt=function(t){var n,r;function i(){return t.apply(this,arguments)||this}r=t,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var a=i.prototype;return a.isWithContent=function(){return this.getTitle()||this._getContent()},a.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},a.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},a.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(".popover-header"),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(".popover-body"),n),t.removeClass("fade show")},a._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},a._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Q);null!==n&&n.length>0&&t.removeClass(n.join(""))},i._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),r="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new i(this,r),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},o(i,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return tt}},{key:"NAME",get:function(){return X}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return nt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return et}}]),i}(Z);e.fn[X]=rt._jQueryInterface,e.fn[X].Constructor=rt,e.fn[X].noConflict=function(){return e.fn[X]=J,rt._jQueryInterface};var ot="scrollspy",it=e.fn[ot],at={offset:10,method:"auto",target:""},st={offset:"number",method:"string",target:"(string|element)"},ut=function(){function t(t,n){var r=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item",this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on("scroll.bs.scrollspy",(function(t){return r._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?"offset":"position",r="auto"===this._config.method?n:this._config.method,o="position"===r?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,i=l.getSelectorFromElement(t);if(i&&(n=document.querySelector(i)),n){var a=n.getBoundingClientRect();if(a.width||a.height)return[e(n)[r]().top+o,i]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s(s({},at),"object"==typeof t&&t?t:{})).target&&l.isElement(t.target)){var n=e(t.target).attr("id");n||(n=l.getUID(ot),e(t.target).attr("id",n)),t.target="#"+n}return l.typeCheckConfig(ot,t,st),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];this._activeTarget!==r&&this._activate(r)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length;o--;)this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1])&&this._activate(this._targets[o])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),r=e([].slice.call(document.querySelectorAll(n.join(","))));r.hasClass("dropdown-item")?(r.closest(".dropdown").find(".dropdown-toggle").addClass("active"),r.addClass("active")):(r.addClass("active"),r.parents(".nav, .list-group").prev(".nav-link, .list-group-item").addClass("active"),r.parents(".nav, .list-group").prev(".nav-item").children(".nav-link").addClass("active")),e(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains("active")})).forEach((function(t){return t.classList.remove("active")}))},t._jQueryInterface=function(n){return this.each((function(){var r=e(this).data("bs.scrollspy");if(r||(r=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"Default",get:function(){return at}}]),t}();e(window).on("load.bs.scrollspy.data-api",(function(){for(var t=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),n=t.length;n--;){var r=e(t[n]);ut._jQueryInterface.call(r,r.data())}})),e.fn[ot]=ut._jQueryInterface,e.fn[ot].Constructor=ut,e.fn[ot].noConflict=function(){return e.fn[ot]=it,ut._jQueryInterface};var lt=e.fn.tab,ct=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass("active")||e(this._element).hasClass("disabled"))){var n,r,o=e(this._element).closest(".nav, .list-group")[0],i=l.getSelectorFromElement(this._element);if(o){var a="UL"===o.nodeName||"OL"===o.nodeName?"> li > .active":".active";r=(r=e.makeArray(e(o).find(a)))[r.length-1]}var s=e.Event("hide.bs.tab",{relatedTarget:this._element}),u=e.Event("show.bs.tab",{relatedTarget:r});if(r&&e(r).trigger(s),e(this._element).trigger(u),!u.isDefaultPrevented()&&!s.isDefaultPrevented()){i&&(n=document.querySelector(i)),this._activate(this._element,o);var c=function(){var n=e.Event("hidden.bs.tab",{relatedTarget:t._element}),o=e.Event("shown.bs.tab",{relatedTarget:r});e(r).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,r){var o=this,i=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(".active"):e(n).find("> li > .active"))[0],a=r&&i&&e(i).hasClass("fade"),s=function(){return o._transitionComplete(t,i,r)};if(i&&a){var u=l.getTransitionDurationFromElement(i);e(i).removeClass("show").one(l.TRANSITION_END,s).emulateTransitionEnd(u)}else s()},n._transitionComplete=function(t,n,r){if(n){e(n).removeClass("active");var o=e(n.parentNode).find("> .dropdown-menu .active")[0];o&&e(o).removeClass("active"),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass("active"),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),l.reflow(t),t.classList.contains("fade")&&t.classList.add("show"),t.parentNode&&e(t.parentNode).hasClass("dropdown-menu")){var i=e(t).closest(".dropdown")[0];if(i){var a=[].slice.call(i.querySelectorAll(".dropdown-toggle"));e(a).addClass("active")}t.setAttribute("aria-expanded",!0)}r&&r()},t._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data("bs.tab");if(o||(o=new t(this),r.data("bs.tab",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n]()}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}}]),t}();e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',(function(t){t.preventDefault(),ct._jQueryInterface.call(e(this),"show")})),e.fn.tab=ct._jQueryInterface,e.fn.tab.Constructor=ct,e.fn.tab.noConflict=function(){return e.fn.tab=lt,ct._jQueryInterface};var ft=e.fn.toast,dt={animation:"boolean",autohide:"boolean",delay:"number"},ht={animation:!0,autohide:!0,delay:500},pt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this,n=e.Event("show.bs.toast");if(e(this._element).trigger(n),!n.isDefaultPrevented()){this._config.animation&&this._element.classList.add("fade");var r=function(){t._element.classList.remove("showing"),t._element.classList.add("show"),e(t._element).trigger("shown.bs.toast"),t._config.autohide&&(t._timeout=setTimeout((function(){t.hide()}),t._config.delay))};if(this._element.classList.remove("hide"),l.reflow(this._element),this._element.classList.add("showing"),this._config.animation){var o=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}},n.hide=function(){if(this._element.classList.contains("show")){var t=e.Event("hide.bs.toast");e(this._element).trigger(t),t.isDefaultPrevented()||this._close()}},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains("show")&&this._element.classList.remove("show"),e(this._element).off("click.dismiss.bs.toast"),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s(s(s({},ht),e(this._element).data()),"object"==typeof t&&t?t:{}),l.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on("click.dismiss.bs.toast",'[data-dismiss="toast"]',(function(){return t.hide()}))},n._close=function(){var t=this,n=function(){t._element.classList.add("hide"),e(t._element).trigger("hidden.bs.toast")};if(this._element.classList.remove("show"),this._config.animation){var r=l.getTransitionDurationFromElement(this._element);e(this._element).one(l.TRANSITION_END,n).emulateTransitionEnd(r)}else n()},t._jQueryInterface=function(n){return this.each((function(){var r=e(this),o=r.data("bs.toast");if(o||(o=new t(this,"object"==typeof n&&n),r.data("bs.toast",o)),"string"==typeof n){if(void 0===o[n])throw new TypeError('No method named "'+n+'"');o[n](this)}}))},o(t,null,[{key:"VERSION",get:function(){return"4.5.0"}},{key:"DefaultType",get:function(){return dt}},{key:"Default",get:function(){return ht}}]),t}();e.fn.toast=pt._jQueryInterface,e.fn.toast.Constructor=pt,e.fn.toast.noConflict=function(){return e.fn.toast=ft,pt._jQueryInterface},t.Alert=d,t.Button=p,t.Carousel=x,t.Collapse=T,t.Dropdown=P,t.Modal=I,t.Popover=rt,t.Scrollspy=ut,t.Tab=ct,t.Toast=pt,t.Tooltip=Z,t.Util=l,Object.defineProperty(t,"__esModule",{value:!0})}(e,n("EVdn"),n("8L3F"))},Sl0r:function(t,e,n){(function(e){var r;!function(){"use strict";(r=function(t,n,r,o){o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},this.memoized={},this.loaded=!1;var i,a,s,u,l,c=this;function f(t,e){var n=c._readFile(t,null,o.asyncLoad);o.asyncLoad?n.then((function(t){e(t)})):e(n)}function d(t){n=t,r&&p()}function h(t){r=t,n&&p()}function p(){for(c.rules=c._parseAFF(n),c.compoundRuleCodes={},a=0,u=c.compoundRules.length;a<u;a++){var t=c.compoundRules[a];for(s=0,l=t.length;s<l;s++)c.compoundRuleCodes[t[s]]=[]}for(a in"ONLYINCOMPOUND"in c.flags&&(c.compoundRuleCodes[c.flags.ONLYINCOMPOUND]=[]),c.dictionaryTable=c._parseDIC(r),c.compoundRuleCodes)0===c.compoundRuleCodes[a].length&&delete c.compoundRuleCodes[a];for(a=0,u=c.compoundRules.length;a<u;a++){var e=c.compoundRules[a],i="";for(s=0,l=e.length;s<l;s++){var f=e[s];f in c.compoundRuleCodes?i+="("+c.compoundRuleCodes[f].join("|")+")":i+=f}c.compoundRules[a]=new RegExp(i,"i")}c.loaded=!0,o.asyncLoad&&o.loadedCallback&&o.loadedCallback(c)}return t&&(c.dictionary=t,n&&r?p():"undefined"!=typeof window&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(i=o.dictionaryPath?o.dictionaryPath:"typo/dictionaries",n||f(chrome.extension.getURL(i+"/"+t+"/"+t+".aff"),d),r||f(chrome.extension.getURL(i+"/"+t+"/"+t+".dic"),h)):(i=o.dictionaryPath?o.dictionaryPath:e+"/dictionaries",n||f(i+"/"+t+"/"+t+".aff",d),r||f(i+"/"+t+"/"+t+".dic",h))),this}).prototype={load:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);return this},_readFile:function(t,e,r){if(e=e||"utf8","undefined"!=typeof XMLHttpRequest){var o,i=new XMLHttpRequest;return i.open("GET",t,r),r&&(o=new Promise((function(t,e){i.onload=function(){200===i.status?t(i.responseText):e(i.statusText)},i.onerror=function(){e(i.statusText)}}))),i.overrideMimeType&&i.overrideMimeType("text/plain; charset="+e),i.send(null),r?o:i.responseText}var a=n(0);try{if(a.existsSync(t))return a.readFileSync(t,e)}catch(t){return""}},_parseAFF:function(t){var e,n,r,o,i,a,s,u={},l=(t=this._removeAffixComments(t)).split(/\r?\n/);for(o=0,a=l.length;o<a;o++){var c=(e=l[o]).split(/\s+/),f=c[0];if("PFX"==f||"SFX"==f){var d=c[1],h=c[2],p=[];for(i=o+1,s=o+1+(n=parseInt(c[3],10));i<s;i++){var m=(r=l[i].split(/\s+/))[2],g=r[3].split("/"),v=g[0];"0"===v&&(v="");var y=this.parseRuleCodes(g[1]),b=r[4],w={};w.add=v,y.length>0&&(w.continuationClasses=y),"."!==b&&(w.match="SFX"===f?new RegExp(b+"$"):new RegExp("^"+b)),"0"!=m&&(w.remove="SFX"===f?new RegExp(m+"$"):m),p.push(w)}u[d]={type:f,combineable:"Y"==h,entries:p},o+=n}else if("COMPOUNDRULE"===f){for(i=o+1,s=o+1+(n=parseInt(c[1],10));i<s;i++)r=(e=l[i]).split(/\s+/),this.compoundRules.push(r[1]);o+=n}else"REP"===f?3===(r=e.split(/\s+/)).length&&this.replacementTable.push([r[1],r[2]]):this.flags[f]=c[1]}return u},_removeAffixComments:function(t){return t=(t=(t=(t=t.replace(/^\s*#.*$/gm,"")).replace(/^\s\s*/m,"").replace(/\s\s*$/m,"")).replace(/\n{2,}/g,"\n")).replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(t){var e=(t=this._removeDicComments(t)).split(/\r?\n/),n={};function r(t,e){n.hasOwnProperty(t)||(n[t]=null),e.length>0&&(null===n[t]&&(n[t]=[]),n[t].push(e))}for(var o=1,i=e.length;o<i;o++){var a=e[o];if(a){var s=a.split("/",2),u=s[0];if(s.length>1){var l=this.parseRuleCodes(s[1]);"NEEDAFFIX"in this.flags&&-1!=l.indexOf(this.flags.NEEDAFFIX)||r(u,l);for(var c=0,f=l.length;c<f;c++){var d=l[c],h=this.rules[d];if(h)for(var p=this._applyRule(u,h),m=0,g=p.length;m<g;m++){var v=p[m];if(r(v,[]),h.combineable)for(var y=c+1;y<f;y++){var b=l[y],w=this.rules[b];if(w&&w.combineable&&h.type!=w.type)for(var x=this._applyRule(v,w),_=0,k=x.length;_<k;_++){r(x[_],[])}}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(u)}}else r(u.trim(),[])}}return n},_removeDicComments:function(t){return t=t.replace(/^\t.*$/gm,"")},parseRuleCodes:function(t){if(!t)return[];if(!("FLAG"in this.flags))return t.split("");if("long"===this.flags.FLAG){for(var e=[],n=0,r=t.length;n<r;n+=2)e.push(t.substr(n,2));return e}return"num"===this.flags.FLAG?t.split(","):void 0},_applyRule:function(t,e){for(var n=e.entries,r=[],o=0,i=n.length;o<i;o++){var a=n[o];if(!a.match||t.match(a.match)){var s=t;if(a.remove&&(s=s.replace(a.remove,"")),"SFX"===e.type?s+=a.add:s=a.add+s,r.push(s),"continuationClasses"in a)for(var u=0,l=a.continuationClasses.length;u<l;u++){var c=this.rules[a.continuationClasses[u]];c&&(r=r.concat(this._applyRule(s,c)))}}}return r},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";var e=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(e))return!0;if(e.toUpperCase()===e){var n=e[0]+e.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var r=e.toLowerCase();if(r!==e){if(this.hasFlag(r,"KEEPCASE"))return!1;if(this.checkExact(r))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var e,n,r=this.dictionaryTable[t];if(void 0===r){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN)for(e=0,n=this.compoundRules.length;e<n;e++)if(t.match(this.compoundRules[e]))return!0}else{if(null===r)return!0;if("object"==typeof r)for(e=0,n=r.length;e<n;e++)if(!this.hasFlag(t,"ONLYINCOMPOUND",r[e]))return!0}return!1},hasFlag:function(t,e,n){if(!this.loaded)throw"Dictionary not loaded.";return!(!(e in this.flags)||(void 0===n&&(n=Array.prototype.concat.apply([],this.dictionaryTable[t])),!n||-1===n.indexOf(this.flags[e])))},alphabet:"",suggest:function(t,e){if(!this.loaded)throw"Dictionary not loaded.";if(e=e||5,this.memoized.hasOwnProperty(t)){var n=this.memoized[t].limit;if(e<=n||this.memoized[t].suggestions.length<n)return this.memoized[t].suggestions.slice(0,e)}if(this.check(t))return[];for(var r=0,o=this.replacementTable.length;r<o;r++){var i=this.replacementTable[r];if(-1!==t.indexOf(i[0])){var a=t.replace(i[0],i[1]);if(this.check(a))return[a]}}var s=this;function u(t,e){var n,r,o,i,a,u={};if("string"==typeof t){var l=t;(t={})[l]=!0}for(var l in t)for(n=0,o=l.length+1;n<o;n++){var c=[l.substring(0,n),l.substring(n)];if(c[1]&&(a=c[0]+c[1].substring(1),e&&!s.check(a)||(a in u?u[a]+=1:u[a]=1)),c[1].length>1&&c[1][1]!==c[1][0]&&(a=c[0]+c[1][1]+c[1][0]+c[1].substring(2),e&&!s.check(a)||(a in u?u[a]+=1:u[a]=1)),c[1])for(r=0,i=s.alphabet.length;r<i;r++)s.alphabet[r]!=c[1].substring(0,1)&&(a=c[0]+s.alphabet[r]+c[1].substring(1),e&&!s.check(a)||(a in u?u[a]+=1:u[a]=1));if(c[1])for(r=0,i=s.alphabet.length;r<i;r++)a=c[0]+s.alphabet[r]+c[1],e&&!s.check(a)||(a in u?u[a]+=1:u[a]=1)}return u}return s.alphabet="abcdefghijklmnopqrstuvwxyz",this.memoized[t]={suggestions:function(t){var n,r=u(t),o=u(r,!0);for(var i in r)s.check(i)&&(i in o?o[i]+=r[i]:o[i]=r[i]);var a=[];for(n in o)o.hasOwnProperty(n)&&a.push([n,o[n]]);a.sort((function(t,e){var n=t[1],r=e[1];return n<r?-1:n>r?1:e[0].localeCompare(t[0])})).reverse();var l=[],c="lowercase";t.toUpperCase()===t?c="uppercase":t.substr(0,1).toUpperCase()+t.substr(1).toLowerCase()===t&&(c="capitalized");var f=e;for(n=0;n<Math.min(f,a.length);n++)"uppercase"===c?a[n][0]=a[n][0].toUpperCase():"capitalized"===c&&(a[n][0]=a[n][0].substr(0,1).toUpperCase()+a[n][0].substr(1)),s.hasFlag(a[n][0],"NOSUGGEST")||-1!=l.indexOf(a[n][0])?f++:l.push(a[n][0]);return l}(t),limit:e},this.memoized[t].suggestions}}}(),t.exports=r}).call(this,"/")},SnIs:function(t,e,n){"use strict";n.r(e);var r=n("bBJ9");n.d(e,"definitionsFromContext",(function(){return r.a})),n.d(e,"identifierForContextKey",(function(){return r.b}))},SntB:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(a,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var s=o.concat(i).concat(a),u=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return r.forEach(u,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},Tqh3:function(t,e,n){n("zdkC")},UnBK:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("xAGQ"),i=n("Lmem"),a=n("JEQr");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},"VrN/":function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),r=/MSIE \d/.test(t),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),i=/Edge\/(\d+)/.exec(t),a=r||o||i,s=a&&(r?document.documentMode||6:+(i||o)[1]),u=!i&&/WebKit\//.test(t),l=u&&/Qt\/\d+\.\d+/.test(t),c=!i&&/Chrome\//.test(t),f=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),h=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),m=!i&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),g=/Android/.test(t),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=m||/Mac/.test(e),b=/\bCrOS\b/.test(t),w=/win/i.test(e),x=f&&t.match(/Version\/(\d*\.\d*)/);x&&(x=Number(x[1])),x&&x>=15&&(f=!1,u=!0);var _=y&&(l||f&&(null==x||x<12.11)),k=n||a&&s>=9;function C(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var S,T=function(t,e){var n=t.className,r=C(e).exec(n);if(r){var o=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function E(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function O(t,e){return E(t).appendChild(e)}function A(t,e,n,r){var o=document.createElement(t);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof e)o.appendChild(document.createTextNode(e));else if(e)for(var i=0;i<e.length;++i)o.appendChild(e[i]);return o}function D(t,e,n,r){var o=A(t,e,n,r);return o.setAttribute("role","presentation"),o}function N(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function P(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function M(t,e){var n=t.className;C(e).test(n)||(t.className+=(n?" ":"")+e)}function L(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(e)&&(e+=" "+n[r]);return e}S=document.createRange?function(t,e,n,r){var o=document.createRange();return o.setEnd(r||t,n),o.setStart(t,e),o}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(t){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var R=function(t){t.select()};function I(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function B(t,e,n){for(var r in e||(e={}),t)!t.hasOwnProperty(r)||!1===n&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function F(t,e,n,r,o){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var i=r||0,a=o||0;;){var s=t.indexOf("\t",i);if(s<0||s>=e)return a+(e-i);a+=s-i,a+=n-a%n,i=s+1}}m?R=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(R=function(t){try{t.select()}catch(t){}});var j=function(){this.id=null,this.f=null,this.time=0,this.handler=I(this.onTimeout,this)};function z(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}j.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},j.prototype.set=function(t,e){this.f=e;var n=+new Date+t;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=n)};var H={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},U={origin:"*mouse"},W={origin:"+move"};function V(t,e,n){for(var r=0,o=0;;){var i=t.indexOf("\t",r);-1==i&&(i=t.length);var a=i-r;if(i==t.length||o+a>=e)return r+Math.min(a,e-o);if(o+=i-r,r=i+1,(o+=n-o%n)>=e)return r}}var $=[""];function G(t){for(;$.length<=t;)$.push(Y($)+" ");return $[t]}function Y(t){return t[t.length-1]}function K(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Z(){}function X(t,e){var n;return Object.create?n=Object.create(t):(Z.prototype=t,n=new Z),e&&B(e,n),n}var J=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||J.test(t))}function tt(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Q(t))||e.test(t):Q(t)}function et(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var nt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&nt.test(t)}function ot(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function it(t,e,n){for(var r=e>n?-1:1;;){if(e==n)return e;var o=(e+n)/2,i=r<0?Math.ceil(o):Math.floor(o);if(i==e)return t(i)?e:n;t(i)?n=i:e=i+r}}var at=null;function st(t,e,n){var r;at=null;for(var o=0;o<t.length;++o){var i=t[o];if(i.from<e&&i.to>e)return o;i.to==e&&(i.from!=i.to&&"before"==n?r=o:at=o),i.from==e&&(i.from!=i.to&&"before"!=n?r=o:at=o)}return null!=r?r:at}var ut=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,o=/[1n]/;function i(t,e,n){this.level=t,this.from=e,this.to=n}return function(a,s){var u="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!t.test(a))return!1;for(var l,c=a.length,f=[],d=0;d<c;++d)f.push((l=a.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var h=0,p=u;h<c;++h){var m=f[h];"m"==m?f[h]=p:p=m}for(var g=0,v=u;g<c;++g){var y=f[g];"1"==y&&"r"==v?f[g]="n":n.test(y)&&(v=y,"r"==y&&(f[g]="R"))}for(var b=1,w=f[0];b<c-1;++b){var x=f[b];"+"==x&&"1"==w&&"1"==f[b+1]?f[b]="1":","!=x||w!=f[b+1]||"1"!=w&&"n"!=w||(f[b]=w),w=x}for(var _=0;_<c;++_){var k=f[_];if(","==k)f[_]="N";else if("%"==k){var C=void 0;for(C=_+1;C<c&&"%"==f[C];++C);for(var S=_&&"!"==f[_-1]||C<c&&"1"==f[C]?"1":"N",T=_;T<C;++T)f[T]=S;_=C-1}}for(var E=0,O=u;E<c;++E){var A=f[E];"L"==O&&"1"==A?f[E]="L":n.test(A)&&(O=A)}for(var D=0;D<c;++D)if(e.test(f[D])){var N=void 0;for(N=D+1;N<c&&e.test(f[N]);++N);for(var P="L"==(D?f[D-1]:u),M=P==("L"==(N<c?f[N]:u))?P?"L":"R":u,L=D;L<N;++L)f[L]=M;D=N-1}for(var R,I=[],B=0;B<c;)if(r.test(f[B])){var F=B;for(++B;B<c&&r.test(f[B]);++B);I.push(new i(0,F,B))}else{var j=B,z=I.length,H="rtl"==s?1:0;for(++B;B<c&&"L"!=f[B];++B);for(var q=j;q<B;)if(o.test(f[q])){j<q&&(I.splice(z,0,new i(1,j,q)),z+=H);var U=q;for(++q;q<B&&o.test(f[q]);++q);I.splice(z,0,new i(2,U,q)),z+=H,j=q}else++q;j<B&&I.splice(z,0,new i(1,j,B))}return"ltr"==s&&(1==I[0].level&&(R=a.match(/^\s+/))&&(I[0].from=R[0].length,I.unshift(new i(0,0,R[0].length))),1==Y(I).level&&(R=a.match(/\s+$/))&&(Y(I).to-=R[0].length,I.push(new i(0,c-R[0].length,c)))),"rtl"==s?I.reverse():I}}();function lt(t,e){var n=t.order;return null==n&&(n=t.order=ut(t.text,e)),n}var ct=[],ft=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={});r[e]=(r[e]||ct).concat(n)}};function dt(t,e){return t._handlers&&t._handlers[e]||ct}function ht(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers,o=r&&r[e];if(o){var i=z(o,n);i>-1&&(r[e]=o.slice(0,i).concat(o.slice(i+1)))}}}function pt(t,e){var n=dt(t,e);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function mt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),pt(t,n||e.type,t,e),xt(e)||e.codemirrorIgnore}function gt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==z(n,e[r])&&n.push(e[r])}function vt(t,e){return dt(t,e).length>0}function yt(t){t.prototype.on=function(t,e){ft(this,t,e)},t.prototype.off=function(t,e){ht(this,t,e)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function wt(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function xt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function _t(t){bt(t),wt(t)}function kt(t){return t.target||t.srcElement}function Ct(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var St,Tt,Et=function(){if(a&&s<9)return!1;var t=A("div");return"draggable"in t||"dragDrop"in t}();function Ot(t){if(null==St){var e=A("span","​");O(t,A("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(St=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=St?A("span","​"):A("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function At(t){if(null!=Tt)return Tt;var e=O(t,document.createTextNode("AخA")),n=S(e,0,1).getBoundingClientRect(),r=S(e,1,2).getBoundingClientRect();return E(t),!(!n||n.left==n.right)&&(Tt=r.right-n.right<3)}var Dt,Nt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var o=t.indexOf("\n",e);-1==o&&(o=t.length);var i=t.slice(e,"\r"==t.charAt(o-1)?o-1:o),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),e+=a+1):(n.push(i),e=o+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Pt=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Mt="oncopy"in(Dt=A("div"))||(Dt.setAttribute("oncopy","return;"),"function"==typeof Dt.oncopy),Lt=null,Rt={},It={};function Bt(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Rt[t]=e}function Ft(t){if("string"==typeof t&&It.hasOwnProperty(t))t=It[t];else if(t&&"string"==typeof t.name&&It.hasOwnProperty(t.name)){var e=It[t.name];"string"==typeof e&&(e={name:e}),(t=X(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Ft("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Ft("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function jt(t,e){e=Ft(e);var n=Rt[e.name];if(!n)return jt(t,"text/plain");var r=n(t,e);if(zt.hasOwnProperty(e.name)){var o=zt[e.name];for(var i in o)o.hasOwnProperty(i)&&(r.hasOwnProperty(i)&&(r["_"+i]=r[i]),r[i]=o[i])}if(r.name=e.name,e.helperType&&(r.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)r[a]=e.modeProps[a];return r}var zt={};function Ht(t,e){B(e,zt.hasOwnProperty(t)?zt[t]:zt[t]={})}function qt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var o=e[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Ut(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Wt(t,e,n){return!t.startState||t.startState(e,n)}var Vt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function $t(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var o=n.children[r],i=o.chunkSize();if(e<i){n=o;break}e-=i}return n.lines[e]}function Gt(t,e,n){var r=[],o=e.line;return t.iter(e.line,n.line+1,(function(t){var i=t.text;o==n.line&&(i=i.slice(0,n.ch)),o==e.line&&(i=i.slice(e.ch)),r.push(i),++o})),r}function Yt(t,e,n){var r=[];return t.iter(e,n,(function(t){r.push(t.text)})),r}function Kt(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function Zt(t){if(null==t.parent)return null;for(var e=t.parent,n=z(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var o=0;r.children[o]!=e;++o)n+=r.children[o].chunkSize();return n+e.first}function Xt(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var o=t.children[r],i=o.height;if(e<i){t=o;continue t}e-=i,n+=o.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a].height;if(e<s)break;e-=s}return n+a}function Jt(t,e){return e>=t.first&&e<t.first+t.size}function Qt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function re(t){return te(t.line,t.ch)}function oe(t,e){return ee(t,e)<0?e:t}function ie(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,$t(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,$t(t,e.line).text.length)}function ue(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=se(t,e[r]);return n}Vt.prototype.eol=function(){return this.pos>=this.string.length},Vt.prototype.sol=function(){return this.pos==this.lineStart},Vt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Vt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Vt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Vt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Vt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Vt.prototype.skipToEnd=function(){this.pos=this.string.length},Vt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Vt.prototype.backUp=function(t){this.pos-=t},Vt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Vt.prototype.match=function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&!1!==e&&(this.pos+=r[0].length),r)}var o=function(t){return n?t.toLowerCase():t};if(o(this.string.substr(this.pos,t.length))==o(t))return!1!==e&&(this.pos+=t.length),!0},Vt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Vt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Vt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Vt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var le=function(t,e){this.state=t,this.lookAhead=e},ce=function(t,e,n,r){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function fe(t,e,n,r){var o=[t.state.modeGen],i={};we(t,e.text,t.doc.mode,n,(function(t,e){return o.push(t,e)}),i,r);for(var a=n.state,s=function(r){n.baseTokens=o;var s=t.state.overlays[r],u=1,l=0;n.state=!0,we(t,e.text,s.mode,n,(function(t,e){for(var n=u;l<t;){var r=o[u];r>t&&o.splice(u,1,t,o[u+1],r),u+=2,l=Math.min(t,r)}if(e)if(s.opaque)o.splice(n,u-n,t,"overlay "+e),u=n+2;else for(;n<u;n+=2){var i=o[n+1];o[n+1]=(i?i+" ":"")+"overlay "+e}}),i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},u=0;u<t.state.overlays.length;++u)s(u);return{styles:o,classes:i.bgClass||i.textClass?i:null}}function de(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=he(t,Zt(e)),o=e.text.length>t.options.maxHighlightLength&&qt(t.doc.mode,r.state),i=fe(t,e,r);o&&(r.state=o),e.stateAfter=r.save(!o),e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function he(t,e,n){var r=t.doc,o=t.display;if(!r.mode.startState)return new ce(r,!0,e);var i=function(t,e,n){for(var r,o,i=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=i.first)return i.first;var u=$t(i,s-1),l=u.stateAfter;if(l&&(!n||s+(l instanceof le?l.lookAhead:0)<=i.modeFrontier))return s;var c=F(u.text,null,t.options.tabSize);(null==o||r>c)&&(o=s-1,r=c)}return o}(t,e,n),a=i>r.first&&$t(r,i-1).stateAfter,s=a?ce.fromSaved(r,a,i):new ce(r,Wt(r.mode),i);return r.iter(i,e,(function(n){pe(t,n.text,s);var r=s.line;n.stateAfter=r==e-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function pe(t,e,n,r){var o=t.doc.mode,i=new Vt(e,t.options.tabSize,n);for(i.start=i.pos=r||0,""==e&&me(o,n.state);!i.eol();)ge(o,i,n.state),i.start=i.pos}function me(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=Ut(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ge(t,e,n,r){for(var o=0;o<10;o++){r&&(r[0]=Ut(t,n).mode);var i=t.token(e,n);if(e.pos>e.start)return i}throw new Error("Mode "+t.name+" failed to advance stream.")}ce.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ce.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ce.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ce.fromSaved=function(t,e,n){return e instanceof le?new ce(t,qt(t.mode,e.state),n,e.lookAhead):new ce(t,qt(t.mode,e),n)},ce.prototype.save=function(t){var e=!1!==t?qt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new le(e,this.maxLookAhead):e};var ve=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,r){var o,i,a=t.doc,s=a.mode,u=$t(a,(e=se(a,e)).line),l=he(t,e.line,n),c=new Vt(u.text,t.options.tabSize,l);for(r&&(i=[]);(r||c.pos<e.ch)&&!c.eol();)c.start=c.pos,o=ge(s,c,l.state),r&&i.push(new ve(c,o,qt(a.mode,l.state)));return r?i:new ve(c,o,l.state)}function be(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(e[r])||(e[r]+=" "+n[2])}return t}function we(t,e,n,r,o,i,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var u,l=0,c=null,f=new Vt(e,t.options.tabSize,r),d=t.options.addModeClass&&[null];for(""==e&&be(me(n,r.state),i);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&pe(t,e,r,f.pos),f.pos=e.length,u=null):u=be(ge(n,f,r.state,d),i),d){var h=d[0].name;h&&(u="m-"+(u?h+" "+u:h))}if(!s||c!=u){for(;l<f.start;)o(l=Math.min(f.start,l+5e3),c);c=u}f.start=f.pos}for(;l<f.pos;){var p=Math.min(f.pos,l+5e3);o(p,c),l=p}}var xe=!1,_e=!1;function ke(t,e,n){this.marker=t,this.from=e,this.to=n}function Ce(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function Se(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Te(t,e){if(e.full)return null;var n=Jt(t,e.from.line)&&$t(t,e.from.line).markedSpans,r=Jt(t,e.to.line)&&$t(t,e.to.line).markedSpans;if(!n&&!r)return null;var o=e.from.ch,i=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var r;if(t)for(var o=0;o<t.length;++o){var i=t[o],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=e:i.from<e)||i.from==e&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=e:i.to>e);(r||(r=[])).push(new ke(a,i.from,s?null:i.to))}}return r}(n,o,a),u=function(t,e,n){var r;if(t)for(var o=0;o<t.length;++o){var i=t[o],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=e:i.to>e)||i.from==e&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=e:i.from<e);(r||(r=[])).push(new ke(a,s?null:i.from-e,null==i.to?null:i.to-e))}}return r}(r,i,a),l=1==e.text.length,c=Y(e.text).length+(l?o:0);if(s)for(var f=0;f<s.length;++f){var d=s[f];if(null==d.to){var h=Ce(u,d.marker);h?l&&(d.to=null==h.to?null:h.to+c):d.to=o}}if(u)for(var p=0;p<u.length;++p){var m=u[p];null!=m.to&&(m.to+=c),null==m.from?Ce(s,m.marker)||(m.from=c,l&&(s||(s=[])).push(m)):(m.from+=c,l&&(s||(s=[])).push(m))}s&&(s=Ee(s)),u&&u!=s&&(u=Ee(u));var g=[s];if(!l){var v,y=e.text.length-2;if(y>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(v||(v=[])).push(new ke(s[b].marker,null,null));for(var w=0;w<y;++w)g.push(v);g.push(u)}return g}function Ee(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Oe(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Ae(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function De(t){return t.inclusiveLeft?-1:0}function Ne(t){return t.inclusiveRight?1:0}function Pe(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),o=e.find(),i=ee(r.from,o.from)||De(t)-De(e);if(i)return-i;var a=ee(r.to,o.to)||Ne(t)-Ne(e);return a||e.id-t.id}function Me(t,e){var n,r=_e&&t.markedSpans;if(r)for(var o=void 0,i=0;i<r.length;++i)(o=r[i]).marker.collapsed&&null==(e?o.from:o.to)&&(!n||Pe(n,o.marker)<0)&&(n=o.marker);return n}function Le(t){return Me(t,!0)}function Re(t){return Me(t,!1)}function Ie(t,e){var n,r=_e&&t.markedSpans;if(r)for(var o=0;o<r.length;++o){var i=r[o];i.marker.collapsed&&(null==i.from||i.from<e)&&(null==i.to||i.to>e)&&(!n||Pe(n,i.marker)<0)&&(n=i.marker)}return n}function Be(t,e,n,r,o){var i=$t(t,e),a=_e&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=ee(l.from,n)||De(u.marker)-De(o),f=ee(l.to,r)||Ne(u.marker)-Ne(o);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(u.marker.inclusiveRight&&o.inclusiveLeft?ee(l.to,n)>=0:ee(l.to,n)>0)||c>=0&&(u.marker.inclusiveRight&&o.inclusiveLeft?ee(l.from,r)<=0:ee(l.from,r)<0)))return!0}}}function Fe(t){for(var e;e=Le(t);)t=e.find(-1,!0).line;return t}function je(t,e){var n=$t(t,e),r=Fe(n);return n==r?e:Zt(r)}function ze(t,e){if(e>t.lastLine())return e;var n,r=$t(t,e);if(!He(t,r))return e;for(;n=Re(r);)r=n.find(1,!0).line;return Zt(r)+1}function He(t,e){var n=_e&&e.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&qe(t,e,r))return!0}}function qe(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return qe(t,r.line,Ce(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var o=void 0,i=0;i<e.markedSpans.length;++i)if((o=e.markedSpans[i]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&qe(t,e,o))return!0}function Ue(t){for(var e=0,n=(t=Fe(t)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==t)break;e+=o.height}for(var i=n.parent;i;i=(n=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;e+=s.height}return e}function We(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=Le(r);){var o=e.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=t;e=Re(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,n+=(r=i.to.line).text.length-i.to.ch}return n}function Ve(t){var e=t.display,n=t.doc;e.maxLine=$t(n,n.first),e.maxLineLength=We(e.maxLine),e.maxLineChanged=!0,n.iter((function(t){var n=We(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)}))}var $e=function(t,e,n){this.text=t,Ae(this,e),this.height=n?n(this):1};function Ge(t){t.parent=null,Oe(t)}$e.prototype.lineNo=function(){return Zt(this)},yt($e);var Ye={},Ke={};function Ze(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?Ke:Ye;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Xe(t,e){var n=D("span",null,null,u?"padding-right: .1px":null),r={pre:D("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var o=0;o<=(e.rest?e.rest.length:0);o++){var i=o?e.rest[o-1]:e.line,a=void 0;r.pos=0,r.addToken=Qe,At(t.display.measure)&&(a=lt(i,t.doc.direction))&&(r.addToken=tn(r.addToken,a)),r.map=[],nn(i,r,de(t,i,e!=t.display.externalMeasured&&Zt(i))),i.styleClasses&&(i.styleClasses.bgClass&&(r.bgClass=L(i.styleClasses.bgClass,r.bgClass||"")),i.styleClasses.textClass&&(r.textClass=L(i.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ot(t.display.measure))),0==o?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(u){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return pt(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=L(r.pre.className,r.textClass||"")),r}function Je(t){var e=A("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Qe(t,e,n,r,o,i,u){if(e){var l,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,r="",o=0;o<t.length;o++){var i=t.charAt(o);" "!=i||!n||o!=t.length-1&&32!=t.charCodeAt(o+1)||(i=" "),r+=i,n=" "==i}return r}(e,t.trailingSpace):e,f=t.cm.state.specialChars,d=!1;if(f.test(e)){l=document.createDocumentFragment();for(var h=0;;){f.lastIndex=h;var p=f.exec(e),m=p?p.index-h:e.length-h;if(m){var g=document.createTextNode(c.slice(h,h+m));a&&s<9?l.appendChild(A("span",[g])):l.appendChild(g),t.map.push(t.pos,t.pos+m,g),t.col+=m,t.pos+=m}if(!p)break;h+=m+1;var v=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,b=y-t.col%y;(v=l.appendChild(A("span",G(b),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),t.col+=b}else"\r"==p[0]||"\n"==p[0]?((v=l.appendChild(A("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((v=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?l.appendChild(A("span",[v])):l.appendChild(v),t.col+=1);t.map.push(t.pos,t.pos+1,v),t.pos++}}else t.col+=e.length,l=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,l),a&&s<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||r||o||d||i){var w=n||"";r&&(w+=r),o&&(w+=o);var x=A("span",[l],w,i);if(u)for(var _ in u)u.hasOwnProperty(_)&&"style"!=_&&"class"!=_&&x.setAttribute(_,u[_]);return t.content.appendChild(x)}t.content.appendChild(l)}}function tn(t,e){return function(n,r,o,i,a,s,u){o=o?o+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var f=void 0,d=0;d<e.length&&!((f=e[d]).to>l&&f.from<=l);d++);if(f.to>=c)return t(n,r,o,i,a,s,u);t(n,r.slice(0,f.to-l),o,i,null,s,u),i=null,r=r.slice(f.to-l),l=f.to}}}function en(t,e,n,r){var o=!r&&n.widgetNode;o&&t.map.push(t.pos,t.pos+e,o),!r&&t.cm.display.input.needsContentAttribute&&(o||(o=t.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(t.cm.display.input.setUneditable(o),t.content.appendChild(o)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var r=t.markedSpans,o=t.text,i=0;if(r)for(var a,s,u,l,c,f,d,h=o.length,p=0,m=1,g="",v=0;;){if(v==p){u=l=c=s="",d=null,f=null,v=1/0;for(var y=[],b=void 0,w=0;w<r.length;++w){var x=r[w],_=x.marker;if("bookmark"==_.type&&x.from==p&&_.widgetNode)y.push(_);else if(x.from<=p&&(null==x.to||x.to>p||_.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,l=""),_.className&&(u+=" "+_.className),_.css&&(s=(s?s+";":"")+_.css),_.startStyle&&x.from==p&&(c+=" "+_.startStyle),_.endStyle&&x.to==v&&(b||(b=[])).push(_.endStyle,x.to),_.title&&((d||(d={})).title=_.title),_.attributes)for(var k in _.attributes)(d||(d={}))[k]=_.attributes[k];_.collapsed&&(!f||Pe(f.marker,_)<0)&&(f=x)}else x.from>p&&v>x.from&&(v=x.from)}if(b)for(var C=0;C<b.length;C+=2)b[C+1]==v&&(l+=" "+b[C]);if(!f||f.from==p)for(var S=0;S<y.length;++S)en(e,0,y[S]);if(f&&(f.from||0)==p){if(en(e,(null==f.to?h+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=h)break;for(var T=Math.min(h,v);;){if(g){var E=p+g.length;if(!f){var O=E>T?g.slice(0,T-p):g;e.addToken(e,O,a?a+u:u,c,p+O.length==v?l:"",s,d)}if(E>=T){g=g.slice(T-p),p=T;break}p=E,c=""}g=o.slice(i,i=n[m++]),a=Ze(n[m++],e.cm.options)}}else for(var A=1;A<n.length;A+=2)e.addToken(e,o.slice(i,i=n[A]),Ze(n[A+1],e.cm.options))}function rn(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=Re(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Zt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=He(t,e)}function on(t,e,n){for(var r,o=[],i=e;i<n;i=r){var a=new rn(t.doc,$t(t.doc,i),i);r=i+a.size,o.push(a)}return o}var an=null,sn=null;function un(t,e){var n=dt(t,e);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);an?r=an.delayedCallbacks:sn?r=sn:(r=sn=[],setTimeout(ln,0));for(var i=function(t){r.push((function(){return n[t].apply(null,o)}))},a=0;a<n.length;++a)i(a)}}function ln(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function cn(t,e,n,r){for(var o=0;o<e.changes.length;o++){var i=e.changes[o];"text"==i?hn(t,e):"gutter"==i?mn(t,e,n,r):"class"==i?pn(t,e):"widget"==i&&gn(t,e,r)}e.changes=null}function fn(t){return t.node==t.text&&(t.node=A("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Xe(t,e)}function hn(t,e){var n=e.text.className,r=dn(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var r=fn(e);e.background=r.insertBefore(A("div",null,n),r.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?fn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function mn(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var o=fn(e);e.gutterBackground=A("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),o.insertBefore(e.gutterBackground,e.text)}var i=e.line.gutterMarkers;if(t.options.lineNumbers||i){var a=fn(e),s=e.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(A("div",Qt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),i)for(var u=0;u<t.display.gutterSpecs.length;++u){var l=t.display.gutterSpecs[u].className,c=i.hasOwnProperty(l)&&i[l];c&&s.appendChild(A("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function gn(t,e,n){e.alignable&&(e.alignable=null);for(var r=C("CodeMirror-linewidget"),o=e.node.firstChild,i=void 0;o;o=i)i=o.nextSibling,r.test(o.className)&&e.node.removeChild(o);yn(t,e,n)}function vn(t,e,n,r){var o=dn(t,e);return e.text=e.node=o.pre,o.bgClass&&(e.bgClass=o.bgClass),o.textClass&&(e.textClass=o.textClass),pn(t,e),mn(t,e,n,r),yn(t,e,r),e.node}function yn(t,e,n){if(bn(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)bn(t,e.rest[r],e,n,!1)}function bn(t,e,n,r,o){if(e.widgets)for(var i=fn(n),a=0,s=e.widgets;a<s.length;++a){var u=s[a],l=A("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),wn(u,l,n,r),t.display.input.setUneditable(l),o&&u.above?i.insertBefore(l,n.gutter||n.text):i.appendChild(l),un(u,"redraw")}}function wn(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var o=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(o-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=o+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function xn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!N(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),O(e.display.measure,A("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function _n(t,e){for(var n=kt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function kn(t){return t.lineSpace.offsetTop}function Cn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Sn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=O(t.measure,A("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Tn(t){return 50-t.display.nativeBarWidth}function En(t){return t.display.scroller.clientWidth-Tn(t)-t.display.barWidth}function On(t){return t.display.scroller.clientHeight-Tn(t)-t.display.barHeight}function An(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var o=0;o<t.rest.length;o++)if(Zt(t.rest[o])>n)return{map:t.measure.maps[o],cache:t.measure.caches[o],before:!0}}function Dn(t,e,n,r){return Mn(t,Pn(t,e),n,r)}function Nn(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[cr(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pn(t,e){var n=Zt(e),r=Nn(t,n);r&&!r.text?r=null:r&&r.changes&&(cn(t,r,n,ir(t)),t.curOp.forceUpdate=!0),r||(r=function(t,e){var n=Zt(e=Fe(e)),r=t.display.externalMeasured=new rn(t.doc,e,n);r.lineN=n;var o=r.built=Xe(t,r);return r.text=o.pre,O(t.display.lineMeasure,o.pre),r}(t,e));var o=An(r,e,n);return{line:e,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function Mn(t,e,n,r,o){e.before&&(n=-1);var i,u=n+(r||"");return e.cache.hasOwnProperty(u)?i=e.cache[u]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var r=t.options.lineWrapping,o=r&&En(t);if(!e.measure.heights||r&&e.measure.width!=o){var i=e.measure.heights=[];if(r){e.measure.width=o;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&i.push((u.bottom+l.top)/2-n.top)}}i.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(i=function(t,e,n,r){var o,i=In(e.map,n,r),u=i.node,l=i.start,c=i.end,f=i.collapse;if(3==u.nodeType){for(var d=0;d<4;d++){for(;l&&rt(e.line.text.charAt(i.coverStart+l));)--l;for(;i.coverStart+c<i.coverEnd&&rt(e.line.text.charAt(i.coverStart+c));)++c;if((o=a&&s<9&&0==l&&c==i.coverEnd-i.coverStart?u.parentNode.getBoundingClientRect():Bn(S(u,l,c).getClientRects(),r)).left||o.right||0==l)break;c=l,l-=1,f="right"}a&&s<11&&(o=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Lt)return Lt;var e=O(t,A("span","x")),n=e.getBoundingClientRect(),r=S(e,0,1).getBoundingClientRect();return Lt=Math.abs(n.left-r.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}(t.display.measure,o))}else{var h;l>0&&(f=r="right"),o=t.options.lineWrapping&&(h=u.getClientRects()).length>1?h["right"==r?h.length-1:0]:u.getBoundingClientRect()}if(a&&s<9&&!l&&(!o||!o.left&&!o.right)){var p=u.parentNode.getClientRects()[0];o=p?{left:p.left,right:p.left+or(t.display),top:p.top,bottom:p.bottom}:Rn}for(var m=o.top-e.rect.top,g=o.bottom-e.rect.top,v=(m+g)/2,y=e.view.measure.heights,b=0;b<y.length-1&&!(v<y[b]);b++);var w=b?y[b-1]:0,x=y[b],_={left:("right"==f?o.right:o.left)-e.rect.left,right:("left"==f?o.left:o.right)-e.rect.left,top:w,bottom:x};return o.left||o.right||(_.bogus=!0),t.options.singleCursorHeightPerLine||(_.rtop=m,_.rbottom=g),_}(t,e,n,r)).bogus||(e.cache[u]=i)),{left:i.left,right:i.right,top:o?i.rtop:i.top,bottom:o?i.rbottom:i.bottom}}var Ln,Rn={left:0,right:0,top:0,bottom:0};function In(t,e,n){for(var r,o,i,a,s,u,l=0;l<t.length;l+=3)if(s=t[l],u=t[l+1],e<s?(o=0,i=1,a="left"):e<u?i=1+(o=e-s):(l==t.length-3||e==u&&t[l+3]>e)&&(o=(i=u-s)-1,e>=u&&(a="right")),null!=o){if(r=t[l+2],s==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==o)for(;l&&t[l-2]==t[l-3]&&t[l-1].insertLeft;)r=t[2+(l-=3)],a="left";if("right"==n&&o==u-s)for(;l<t.length-3&&t[l+3]==t[l+4]&&!t[l+5].insertLeft;)r=t[(l+=3)+2],a="right";break}return{node:r,start:o,end:i,collapse:a,coverStart:s,coverEnd:u}}function Bn(t,e){var n=Rn;if("left"==e)for(var r=0;r<t.length&&(n=t[r]).left==n.right;r++);else for(var o=t.length-1;o>=0&&(n=t[o]).left==n.right;o--);return n}function Fn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function jn(t){t.display.externalMeasure=null,E(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Fn(t.display.view[e])}function zn(t){jn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Hn(){return c&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function qn(){return c&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Un(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=xn(t.widgets[n]));return e}function Wn(t,e,n,r,o){if(!o){var i=Un(e);n.top+=i,n.bottom+=i}if("line"==r)return n;r||(r="local");var a=Ue(e);if("local"==r?a+=kn(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:qn());var u=s.left+("window"==r?0:Hn());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function Vn(t,e,n){if("div"==n)return e;var r=e.left,o=e.top;if("page"==n)r-=Hn(),o-=qn();else if("local"==n||!n){var i=t.display.sizer.getBoundingClientRect();r+=i.left,o+=i.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:o-a.top}}function $n(t,e,n,r,o){return r||(r=$t(t.doc,e.line)),Wn(t,r,Dn(t,r,e.ch,o),n)}function Gn(t,e,n,r,o,i){function a(e,a){var s=Mn(t,o,e,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,Wn(t,r,s,n)}r=r||$t(t.doc,e.line),o||(o=Pn(t,r));var s=lt(r,t.doc.direction),u=e.ch,l=e.sticky;if(u>=r.text.length?(u=r.text.length,l="before"):u<=0&&(u=0,l="after"),!s)return a("before"==l?u-1:u,"before"==l);function c(t,e,n){return a(n?t-1:t,1==s[e].level!=n)}var f=st(s,u,l),d=at,h=c(u,f,"before"==l);return null!=d&&(h.other=c(u,d,"before"!=l)),h}function Yn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=or(t.display)*e.ch);var r=$t(t.doc,e.line),o=Ue(r)+kn(t.display);return{left:n,right:n,top:o,bottom:o+r.height}}function Kn(t,e,n,r,o){var i=te(t,e,n);return i.xRel=o,r&&(i.outside=r),i}function Zn(t,e,n){var r=t.doc;if((n+=t.display.viewOffset)<0)return Kn(r.first,0,null,-1,-1);var o=Xt(r,n),i=r.first+r.size-1;if(o>i)return Kn(r.first+r.size-1,$t(r,i).text.length,null,1,1);e<0&&(e=0);for(var a=$t(r,o);;){var s=tr(t,a,o,e,n),u=Ie(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!u)return s;var l=u.find(1);if(l.line==o)return l;a=$t(r,o=l.line)}}function Xn(t,e,n,r){r-=Un(e);var o=e.text.length,i=it((function(e){return Mn(t,n,e-1).bottom<=r}),o,0);return{begin:i,end:o=it((function(e){return Mn(t,n,e).top>r}),i,o)}}function Jn(t,e,n,r){return n||(n=Pn(t,e)),Xn(t,e,n,Wn(t,e,Mn(t,n,r),"line").top)}function Qn(t,e,n,r){return!(t.bottom<=n)&&(t.top>n||(r?t.left:t.right)>e)}function tr(t,e,n,r,o){o-=Ue(e);var i=Pn(t,e),a=Un(e),s=0,u=e.text.length,l=!0,c=lt(e,t.doc.direction);if(c){var f=(t.options.lineWrapping?nr:er)(t,e,n,i,c,r,o);s=(l=1!=f.level)?f.from:f.to-1,u=l?f.to:f.from-1}var d,h,p=null,m=null,g=it((function(e){var n=Mn(t,i,e);return n.top+=a,n.bottom+=a,!!Qn(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(p=e,m=n),!0)}),s,u),v=!1;if(m){var y=r-m.left<m.right-r,b=y==l;g=p+(b?0:1),h=b?"after":"before",d=y?m.left:m.right}else{l||g!=u&&g!=s||g++,h=0==g?"after":g==e.text.length?"before":Mn(t,i,g-(l?1:0)).bottom+a<=o==l?"after":"before";var w=Gn(t,te(n,g,h),"line",e,i);d=w.left,v=o<w.top?-1:o>=w.bottom?1:0}return Kn(n,g=ot(e.text,g,1),h,v,r-d)}function er(t,e,n,r,o,i,a){var s=it((function(s){var u=o[s],l=1!=u.level;return Qn(Gn(t,te(n,l?u.to:u.from,l?"before":"after"),"line",e,r),i,a,!0)}),0,o.length-1),u=o[s];if(s>0){var l=1!=u.level,c=Gn(t,te(n,l?u.from:u.to,l?"after":"before"),"line",e,r);Qn(c,i,a,!0)&&c.top>a&&(u=o[s-1])}return u}function nr(t,e,n,r,o,i,a){var s=Xn(t,e,r,a),u=s.begin,l=s.end;/\s/.test(e.text.charAt(l-1))&&l--;for(var c=null,f=null,d=0;d<o.length;d++){var h=o[d];if(!(h.from>=l||h.to<=u)){var p=Mn(t,r,1!=h.level?Math.min(l,h.to)-1:Math.max(u,h.from)).right,m=p<i?i-p+1e9:p-i;(!c||f>m)&&(c=h,f=m)}}return c||(c=o[o.length-1]),c.from<u&&(c={from:u,to:c.to,level:c.level}),c.to>l&&(c={from:c.from,to:l,level:c.level}),c}function rr(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ln){Ln=A("pre",null,"CodeMirror-line-like");for(var e=0;e<49;++e)Ln.appendChild(document.createTextNode("x")),Ln.appendChild(A("br"));Ln.appendChild(document.createTextNode("x"))}O(t.measure,Ln);var n=Ln.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),E(t.measure),n||1}function or(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=A("span","xxxxxxxxxx"),n=A("pre",[e],"CodeMirror-line-like");O(t.measure,n);var r=e.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(t.cachedCharWidth=o),o||10}function ir(t){for(var e=t.display,n={},r={},o=e.gutters.clientLeft,i=e.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+o,r[s]=i.clientWidth}return{fixedPos:ar(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function ar(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function sr(t){var e=rr(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/or(t.display)-3);return function(o){if(He(t.doc,o))return 0;var i=0;if(o.widgets)for(var a=0;a<o.widgets.length;a++)o.widgets[a].height&&(i+=o.widgets[a].height);return n?i+(Math.ceil(o.text.length/r)||1)*e:i+e}}function ur(t){var e=t.doc,n=sr(t);e.iter((function(t){var e=n(t);e!=t.height&&Kt(t,e)}))}function lr(t,e,n,r){var o=t.display;if(!n&&"true"==kt(e).getAttribute("cm-not-content"))return null;var i,a,s=o.lineSpace.getBoundingClientRect();try{i=e.clientX-s.left,a=e.clientY-s.top}catch(t){return null}var u,l=Zn(t,i,a);if(r&&l.xRel>0&&(u=$t(t.doc,l.line).text).length==l.ch){var c=F(u,u.length,t.options.tabSize)-u.length;l=te(l.line,Math.max(0,Math.round((i-Sn(t.display).left)/or(t.display))-c))}return l}function cr(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if((e-=n[r].size)<0)return r}function fr(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var o=t.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>e)&&(o.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=o.viewTo)_e&&je(t.doc,e)<o.viewTo&&hr(t);else if(n<=o.viewFrom)_e&&ze(t.doc,n+r)>o.viewFrom?hr(t):(o.viewFrom+=r,o.viewTo+=r);else if(e<=o.viewFrom&&n>=o.viewTo)hr(t);else if(e<=o.viewFrom){var i=pr(t,n,n+r,1);i?(o.view=o.view.slice(i.index),o.viewFrom=i.lineN,o.viewTo+=r):hr(t)}else if(n>=o.viewTo){var a=pr(t,e,e,-1);a?(o.view=o.view.slice(0,a.index),o.viewTo=a.lineN):hr(t)}else{var s=pr(t,e,e,-1),u=pr(t,n,n+r,1);s&&u?(o.view=o.view.slice(0,s.index).concat(on(t,s.lineN,u.lineN)).concat(o.view.slice(u.index)),o.viewTo+=r):hr(t)}var l=o.externalMeasured;l&&(n<l.lineN?l.lineN+=r:e<l.lineN+l.size&&(o.externalMeasured=null))}function dr(t,e,n){t.curOp.viewChanged=!0;var r=t.display,o=t.display.externalMeasured;if(o&&e>=o.lineN&&e<o.lineN+o.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var i=r.view[cr(t,e)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==z(a,n)&&a.push(n)}}}function hr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function pr(t,e,n,r){var o,i=cr(t,e),a=t.display.view;if(!_e||n==t.doc.first+t.doc.size)return{index:i,lineN:n};for(var s=t.display.viewFrom,u=0;u<i;u++)s+=a[u].size;if(s!=e){if(r>0){if(i==a.length-1)return null;o=s+a[i].size-e,i++}else o=s-e;e+=o,n+=o}for(;je(t.doc,n)!=n;){if(i==(r<0?0:a.length-1))return null;n+=r*a[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function mr(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var o=e[r];o.hidden||o.node&&!o.changes||++n}return n}function gr(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vr(t,e){void 0===e&&(e=!0);for(var n=t.doc,r={},o=r.cursors=document.createDocumentFragment(),i=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var u=s.empty();(u||t.options.showCursorWhenSelecting)&&yr(t,s.head,o),u||wr(t,s,i)}}return r}function yr(t,e,n){var r=Gn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),o=n.appendChild(A("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var i=n.appendChild(A("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=r.other.left+"px",i.style.top=r.other.top+"px",i.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function br(t,e){return t.top-e.top||t.left-e.left}function wr(t,e,n){var r=t.display,o=t.doc,i=document.createDocumentFragment(),a=Sn(t.display),s=a.left,u=Math.max(r.sizerWidth,En(t)-r.sizer.offsetLeft)-a.right,l="ltr"==o.direction;function c(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),i.appendChild(A("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?u-t:n)+"px;\n                             height: "+(r-e)+"px"))}function f(e,n,r){var i,a,f=$t(o,e),d=f.text.length;function h(n,r){return $n(t,te(e,n),"div",f,r)}function p(e,n,r){var o=Jn(t,f,null,e),i="ltr"==n==("after"==r)?"left":"right";return h("after"==r?o.begin:o.end-(/\s/.test(f.text.charAt(o.end-1))?2:1),i)[i]}var m=lt(f,o.direction);return function(t,e,n,r){if(!t)return r(e,n,"ltr",0);for(var o=!1,i=0;i<t.length;++i){var a=t[i];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),o=!0)}o||r(e,n,"ltr")}(m,n||0,null==r?d:r,(function(t,e,o,f){var g="ltr"==o,v=h(t,g?"left":"right"),y=h(e-1,g?"right":"left"),b=null==n&&0==t,w=null==r&&e==d,x=0==f,_=!m||f==m.length-1;if(y.top-v.top<=3){var k=(l?w:b)&&_,C=(l?b:w)&&x?s:(g?v:y).left,S=k?u:(g?y:v).right;c(C,v.top,S-C,v.bottom)}else{var T,E,O,A;g?(T=l&&b&&x?s:v.left,E=l?u:p(t,o,"before"),O=l?s:p(e,o,"after"),A=l&&w&&_?u:y.right):(T=l?p(t,o,"before"):s,E=!l&&b&&x?u:v.right,O=!l&&w&&_?s:y.left,A=l?p(e,o,"after"):u),c(T,v.top,E-T,v.bottom),v.bottom<y.top&&c(s,v.bottom,null,y.top),c(O,y.top,A-O,y.bottom)}(!i||br(v,i)<0)&&(i=v),br(y,i)<0&&(i=y),(!a||br(v,a)<0)&&(a=v),br(y,a)<0&&(a=y)})),{start:i,end:a}}var d=e.from(),h=e.to();if(d.line==h.line)f(d.line,d.ch,h.ch);else{var p=$t(o,d.line),m=$t(o,h.line),g=Fe(p)==Fe(m),v=f(d.line,d.ch,g?p.text.length+1:null).end,y=f(h.line,g?0:null,h.ch).start;g&&(v.top<y.top-2?(c(v.right,v.top,null,v.bottom),c(s,y.top,y.left,y.bottom)):c(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&c(s,v.bottom,null,y.top)}n.appendChild(i)}function xr(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval((function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function _r(t){t.state.focused||(t.display.input.focus(),Cr(t))}function kr(t){t.state.delayingBlurEvent=!0,setTimeout((function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,Sr(t))}),100)}function Cr(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(pt(t,"focus",t,e),t.state.focused=!0,M(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),u&&setTimeout((function(){return t.display.input.reset(!0)}),20)),t.display.input.receivedFocus()),xr(t))}function Sr(t,e){t.state.delayingBlurEvent||(t.state.focused&&(pt(t,"blur",t,e),t.state.focused=!1,T(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout((function(){t.state.focused||(t.display.shift=!1)}),150))}function Tr(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var o=e.view[r],i=t.options.lineWrapping,u=void 0,l=0;if(!o.hidden){if(a&&s<8){var c=o.node.offsetTop+o.node.offsetHeight;u=c-n,n=c}else{var f=o.node.getBoundingClientRect();u=f.bottom-f.top,!i&&o.text.firstChild&&(l=o.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=o.line.height-u;if((d>.005||d<-.005)&&(Kt(o.line,u),Er(o.line),o.rest))for(var h=0;h<o.rest.length;h++)Er(o.rest[h]);if(l>t.display.sizerWidth){var p=Math.ceil(l/or(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=o.line,t.display.maxLineChanged=!0)}}}}function Er(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Or(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-kn(t));var o=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,i=Xt(e,r),a=Xt(e,o);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;s<i?(i=s,a=Xt(e,Ue($t(e,s))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=a&&(i=Xt(e,Ue($t(e,u))-t.wrapper.clientHeight),a=u)}return{from:i,to:Math.max(a,i+1)}}function Ar(t,e){var n=t.display,r=rr(t.display);e.top<0&&(e.top=0);var o=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,i=On(t),a={};e.bottom-e.top>i&&(e.bottom=e.top+i);var s=t.doc.height+Cn(n),u=e.top<r,l=e.bottom>s-r;if(e.top<o)a.scrollTop=u?0:e.top;else if(e.bottom>o+i){var c=Math.min(e.top,(l?s:e.bottom)-i);c!=o&&(a.scrollTop=c)}var f=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,d=En(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),h=e.right-e.left>d;return h&&(e.right=e.left+d),e.left<10?a.scrollLeft=0:e.left<f?a.scrollLeft=Math.max(0,e.left-(h?0:10)):e.right>d+f-3&&(a.scrollLeft=e.right+(h?0:10)-d),a}function Dr(t,e){null!=e&&(Mr(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function Nr(t){Mr(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Pr(t,e,n){null==e&&null==n||Mr(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Mr(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Lr(t,Yn(t,e.from),Yn(t,e.to),e.margin))}function Lr(t,e,n,r){var o=Ar(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-r,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+r});Pr(t,o.scrollLeft,o.scrollTop)}function Rr(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||uo(t,{top:e}),Ir(t,e,!0),n&&uo(t),ro(t,100))}function Ir(t,e,n){e=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e)),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function Br(t,e,n,r){e=Math.max(0,Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!r||(t.doc.scrollLeft=e,fo(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Fr(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Cn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Tn(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var jr=function(t,e,n){this.cm=n;var r=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,t(r),t(o),ft(r,"scroll",(function(){r.clientHeight&&e(r.scrollTop,"vertical")})),ft(o,"scroll",(function(){o.clientWidth&&e(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};jr.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var o=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var i=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},jr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},jr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},jr.prototype.zeroWidthHack=function(){var t=y&&!h?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new j,this.disableVert=new j},jr.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,(function r(){var o=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,r)}))},jr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var zr=function(){};function Hr(t,e){e||(e=Fr(t));var n=t.display.barWidth,r=t.display.barHeight;qr(t,e);for(var o=0;o<4&&n!=t.display.barWidth||r!=t.display.barHeight;o++)n!=t.display.barWidth&&t.options.lineWrapping&&Tr(t),qr(t,Fr(t)),n=t.display.barWidth,r=t.display.barHeight}function qr(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}zr.prototype.update=function(){return{bottom:0,right:0}},zr.prototype.setScrollLeft=function(){},zr.prototype.setScrollTop=function(){},zr.prototype.clear=function(){};var Ur={native:jr,null:zr};function Wr(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&T(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Ur[t.options.scrollbarStyle]((function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),ft(e,"mousedown",(function(){t.state.focused&&setTimeout((function(){return t.display.input.focus()}),0)})),e.setAttribute("cm-not-content","true")}),(function(e,n){"horizontal"==n?Br(t,e):Rr(t,e)}),t),t.display.scrollbars.addClass&&M(t.display.wrapper,t.display.scrollbars.addClass)}var Vr=0;function $r(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vr},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Gr(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var o=t.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<e.length)}(n)}finally{an=null,e(n)}}(e,(function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Yr(e[n]);for(var r=0;r<e.length;r++)Kr(e[r]);for(var o=0;o<e.length;o++)Zr(e[o]);for(var i=0;i<e.length;i++)Xr(e[i]);for(var a=0;a<e.length;a++)Jr(e[a])}(t)}))}function Yr(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Tn(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Tn(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ve(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new io(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Kr(t){t.updatedDisplay=t.mustUpdate&&ao(t.cm,t.update)}function Zr(t){var e=t.cm,n=e.display;t.updatedDisplay&&Tr(e),t.barMeasure=Fr(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Dn(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Tn(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-En(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Xr(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Br(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==P();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Hr(e,t.barMeasure),t.updatedDisplay&&co(e,t.barMeasure),t.selectionChanged&&xr(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&_r(t.cm)}function Jr(t){var e=t.cm,n=e.display,r=e.doc;t.updatedDisplay&&so(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Ir(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&Br(e,t.scrollLeft,!0,!0),t.scrollToPos&&function(t,e){if(!mt(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),o=null;if(e.top+r.top<0?o=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!p){var i=A("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-kn(t.display))+"px;\n                         height: "+(e.bottom-e.top+Tn(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(i),i.scrollIntoView(o),t.display.lineSpace.removeChild(i)}}}(e,function(t,e,n,r){var o;null==r&&(r=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var i=0;i<5;i++){var a=!1,s=Gn(t,e),u=n&&n!=e?Gn(t,n):s,l=Ar(t,o={left:Math.min(s.left,u.left),top:Math.min(s.top,u.top)-r,right:Math.max(s.left,u.left),bottom:Math.max(s.bottom,u.bottom)+r}),c=t.doc.scrollTop,f=t.doc.scrollLeft;if(null!=l.scrollTop&&(Rr(t,l.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Br(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-f)>1&&(a=!0)),!a)break}return o}(e,se(r,t.scrollToPos.from),se(r,t.scrollToPos.to),t.scrollToPos.margin));var o=t.maybeHiddenMarkers,i=t.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||pt(o[a],"hide");if(i)for(var s=0;s<i.length;++s)i[s].lines.length&&pt(i[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&pt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Qr(t,e){if(t.curOp)return e();$r(t);try{return e()}finally{Gr(t)}}function to(t,e){return function(){if(t.curOp)return e.apply(t,arguments);$r(t);try{return e.apply(t,arguments)}finally{Gr(t)}}}function eo(t){return function(){if(this.curOp)return t.apply(this,arguments);$r(this);try{return t.apply(this,arguments)}finally{Gr(this)}}}function no(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);$r(e);try{return t.apply(this,arguments)}finally{Gr(e)}}}function ro(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,I(oo,t))}function oo(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=he(t,e.highlightFrontier),o=[];e.iter(r.line,Math.min(e.first+e.size,t.display.viewTo+500),(function(i){if(r.line>=t.display.viewFrom){var a=i.styles,s=i.text.length>t.options.maxHighlightLength?qt(e.mode,r.state):null,u=fe(t,i,r,!0);s&&(r.state=s),i.styles=u.styles;var l=i.styleClasses,c=u.classes;c?i.styleClasses=c:l&&(i.styleClasses=null);for(var f=!a||a.length!=i.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),d=0;!f&&d<a.length;++d)f=a[d]!=i.styles[d];f&&o.push(r.line),i.stateAfter=r.save(),r.nextLine()}else i.text.length<=t.options.maxHighlightLength&&pe(t,i.text,r),i.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ro(t,t.options.workDelay),!0})),e.highlightFrontier=r.line,e.modeFrontier=Math.max(e.modeFrontier,r.line),o.length&&Qr(t,(function(){for(var e=0;e<o.length;e++)dr(t,o[e],"text")}))}}var io=function(t,e,n){var r=t.display;this.viewport=e,this.visible=Or(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=En(t),this.force=n,this.dims=ir(t),this.events=[]};function ao(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return hr(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==mr(t))return!1;ho(t)&&(hr(t),e.dims=ir(t));var o=r.first+r.size,i=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(o,e.visible.to+t.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(o,n.viewTo)),_e&&(i=je(t.doc,i),a=ze(t.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var r=t.display;0==r.view.length||e>=r.viewTo||n<=r.viewFrom?(r.view=on(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=on(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(cr(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(on(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,cr(t,n)))),r.viewTo=n}(t,i,a),n.viewOffset=Ue($t(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=mr(t);if(!s&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=P();if(!e||!N(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&N(t.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(t);return l>4&&(n.lineDiv.style.display="none"),function(t,e,n){var r=t.display,o=t.options.lineNumbers,i=r.lineDiv,a=i.firstChild;function s(e){var n=e.nextSibling;return u&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var l=r.view,c=r.viewFrom,f=0;f<l.length;f++){var d=l[f];if(d.hidden);else if(d.node&&d.node.parentNode==i){for(;a!=d.node;)a=s(a);var h=o&&null!=e&&e<=c&&d.lineNumber;d.changes&&(z(d.changes,"gutter")>-1&&(h=!1),cn(t,d,c,n)),h&&(E(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Qt(t.options,c)))),a=d.node.nextSibling}else{var p=vn(t,d,c,n);i.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=P()&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&N(document.body,t.anchorNode)&&N(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(c),E(n.cursorDiv),E(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,ro(t,400)),n.updateLineNumbers=null,!0}function so(t,e){for(var n=e.viewport,r=!0;;r=!1){if(r&&t.options.lineWrapping&&e.oldDisplayWidth!=En(t))r&&(e.visible=Or(t.display,t.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Cn(t.display)-On(t),n.top)}),e.visible=Or(t.display,t.doc,n),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!ao(t,e))break;Tr(t);var o=Fr(t);gr(t),Hr(t,o),co(t,o),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function uo(t,e){var n=new io(t,e);if(ao(t,n)){Tr(t),so(t,n);var r=Fr(t);gr(t),Hr(t,r),co(t,r),n.finish()}}function lo(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function co(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+Tn(t)+"px"}function fo(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=ar(e)-e.scroller.scrollLeft+t.doc.scrollLeft,o=e.gutters.offsetWidth,i=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=i}t.options.fixedGutter&&(e.gutters.style.left=r+o+"px")}}function ho(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Qt(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(A("div",[A("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=o.firstChild.offsetWidth,a=o.offsetWidth-i;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(i,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",lo(t.display),!0}return!1}function po(t,e){for(var n=[],r=!1,o=0;o<t.length;o++){var i=t[o],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!e)continue;r=!0}n.push({className:i,style:a})}return e&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function mo(t){var e=t.gutters,n=t.gutterSpecs;E(e),t.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],i=o.className,a=o.style,s=e.appendChild(A("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",lo(t)}function go(t){mo(t.display),fr(t),fo(t)}function vo(t,e,r,o){var i=this;this.input=r,i.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=A("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=D("div",null,"CodeMirror-code"),i.selectionDiv=A("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=A("div",null,"CodeMirror-cursors"),i.measure=A("div",null,"CodeMirror-measure"),i.lineMeasure=A("div",null,"CodeMirror-measure"),i.lineSpace=D("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var l=D("div",[i.lineSpace],"CodeMirror-lines");i.mover=A("div",[l],null,"position: relative"),i.sizer=A("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=A("div",null,null,"position: absolute; height: 50px; width: 1px;"),i.gutters=A("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=A("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=A("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),u||n&&v||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=po(o.gutters,o.lineNumbers),mo(i),r.init(i)}io.prototype.signal=function(t,e){vt(t,e)&&this.events.push(arguments)},io.prototype.finish=function(){for(var t=0;t<this.events.length;t++)pt.apply(null,this.events[t])};var yo=0,bo=null;function wo(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function xo(t){var e=wo(t);return e.x*=bo,e.y*=bo,e}function _o(t,e){var r=wo(e),o=r.x,i=r.y,a=t.display,s=a.scroller,l=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(o&&l||i&&c){if(i&&y&&u)t:for(var d=e.target,h=a.view;d!=s;d=d.parentNode)for(var p=0;p<h.length;p++)if(h[p].node==d){t.display.currentWheelTarget=d;break t}if(o&&!n&&!f&&null!=bo)return i&&c&&Rr(t,Math.max(0,s.scrollTop+i*bo)),Br(t,Math.max(0,s.scrollLeft+o*bo)),(!i||i&&c)&&bt(e),void(a.wheelStartX=null);if(i&&null!=bo){var m=i*bo,g=t.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(t.doc.height,v+m+50),uo(t,{top:g,bottom:v})}yo<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=o,a.wheelDY=i,setTimeout((function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(bo=(bo*yo+n)/(yo+1),++yo)}}),200)):(a.wheelDX+=o,a.wheelDY+=i))}}a?bo=-.53:n?bo=15:c?bo=-.7:d&&(bo=-1/3);var ko=function(t,e){this.ranges=t,this.primIndex=e};ko.prototype.primary=function(){return this.ranges[this.primIndex]},ko.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(!ne(n.anchor,r.anchor)||!ne(n.head,r.head))return!1}return!0},ko.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new Co(re(this.ranges[e].anchor),re(this.ranges[e].head));return new ko(t,this.primIndex)},ko.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},ko.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ee(e,r.from())>=0&&ee(t,r.to())<=0)return n}return-1};var Co=function(t,e){this.anchor=t,this.head=e};function So(t,e,n){var r=t&&t.options.selectionsMayTouch,o=e[n];e.sort((function(t,e){return ee(t.from(),e.from())})),n=z(e,o);for(var i=1;i<e.length;i++){var a=e[i],s=e[i-1],u=ee(s.to(),a.from());if(r&&!a.empty()?u>0:u>=0){var l=ie(s.from(),a.from()),c=oe(s.to(),a.to()),f=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,e.splice(--i,2,new Co(f?c:l,f?l:c))}}return new ko(e,n)}function To(t,e){return new ko([new Co(t,e||t)],0)}function Eo(t){return t.text?te(t.from.line+t.text.length-1,Y(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function Oo(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return Eo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Eo(e).ch-e.to.ch),te(n,r)}function Ao(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var o=t.sel.ranges[r];n.push(new Co(Oo(o.anchor,e),Oo(o.head,e)))}return So(t.cm,n,t.sel.primIndex)}function Do(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function No(t){t.doc.mode=jt(t.options,t.doc.modeOption),Po(t)}function Po(t){t.doc.iter((function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)})),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,ro(t,100),t.state.modeGen++,t.curOp&&fr(t)}function Mo(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Y(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Lo(t,e,n,r){function o(t){return n?n[t]:null}function i(t,n,o){!function(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Oe(t),Ae(t,n);var o=r?r(t):1;o!=t.height&&Kt(t,o)}(t,n,o,r),un(t,"change",t,e)}function a(t,e){for(var n=[],i=t;i<e;++i)n.push(new $e(l[i],o(i),r));return n}var s=e.from,u=e.to,l=e.text,c=$t(t,s.line),f=$t(t,u.line),d=Y(l),h=o(l.length-1),p=u.line-s.line;if(e.full)t.insert(0,a(0,l.length)),t.remove(l.length,t.size-l.length);else if(Mo(t,e)){var m=a(0,l.length-1);i(f,f.text,h),p&&t.remove(s.line,p),m.length&&t.insert(s.line,m)}else if(c==f)if(1==l.length)i(c,c.text.slice(0,s.ch)+d+c.text.slice(u.ch),h);else{var g=a(1,l.length-1);g.push(new $e(d+c.text.slice(u.ch),h,r)),i(c,c.text.slice(0,s.ch)+l[0],o(0)),t.insert(s.line+1,g)}else if(1==l.length)i(c,c.text.slice(0,s.ch)+l[0]+f.text.slice(u.ch),o(0)),t.remove(s.line+1,p);else{i(c,c.text.slice(0,s.ch)+l[0],o(0)),i(f,d+f.text.slice(u.ch),h);var v=a(1,l.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,v)}un(t,"change",t,e)}function Ro(t,e,n){!function t(r,o,i){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=o){var u=i&&s.sharedHist;n&&!u||(e(s.doc,u),t(s.doc,r,u))}}}(t,null,!0)}function Io(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ur(t),No(t),Bo(t),t.options.lineWrapping||Ve(t),t.options.mode=e.modeOption,fr(t)}function Bo(t){("rtl"==t.doc.direction?M:T)(t.display.lineDiv,"CodeMirror-rtl")}function Fo(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function jo(t,e){var n={from:re(e.from),to:Eo(e),text:Gt(t,e.from,e.to)};return Wo(t,n,e.from.line,e.to.line+1),Ro(t,(function(t){return Wo(t,n,e.from.line,e.to.line+1)}),!0),n}function zo(t){for(;t.length&&Y(t).ranges;)t.pop()}function Ho(t,e,n,r){var o=t.history;o.undone.length=0;var i,a,s=+new Date;if((o.lastOp==r||o.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&o.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(i=function(t,e){return e?(zo(t.done),Y(t.done)):t.done.length&&!Y(t.done).ranges?Y(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Y(t.done)):void 0}(o,o.lastOp==r)))a=Y(i.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=Eo(e):i.changes.push(jo(t,e));else{var u=Y(o.done);for(u&&u.ranges||Uo(t.sel,o.done),i={changes:[jo(t,e)],generation:o.generation},o.done.push(i);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=e.origin,a||pt(t,"historyAdded")}function qo(t,e,n,r){var o=t.history,i=r&&r.origin;n==o.lastSelOp||i&&o.lastSelOrigin==i&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==i||function(t,e,n,r){var o=e.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,i,Y(o.done),e))?o.done[o.done.length-1]=e:Uo(e,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=i,o.lastSelOp=n,r&&!1!==r.clearRedo&&zo(o.undone)}function Uo(t,e){var n=Y(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Wo(t,e,n,r){var o=e["spans_"+t.id],i=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),(function(n){n.markedSpans&&((o||(o=e["spans_"+t.id]={}))[i]=n.markedSpans),++i}))}function Vo(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function $o(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=[],o=0;o<e.text.length;++o)r.push(Vo(n[o]));return r}(t,e),r=Te(t,e);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var i=n[o],a=r[o];if(i&&a)t:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<i.length;++l)if(i[l].marker==u.marker)continue t;i.push(u)}else a&&(n[o]=a)}return n}function Go(t,e,n){for(var r=[],o=0;o<t.length;++o){var i=t[o];if(i.ranges)r.push(n?ko.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];r.push({changes:s});for(var u=0;u<a.length;++u){var l=a[u],c=void 0;if(s.push({from:l.from,to:l.to,text:l.text}),e)for(var f in l)(c=f.match(/^spans_(\d+)$/))&&z(e,Number(c[1]))>-1&&(Y(s)[f]=l[f],delete l[f])}}}return r}function Yo(t,e,n,r){if(r){var o=t.anchor;if(n){var i=ee(e,o)<0;i!=ee(n,o)<0?(o=e,e=n):i!=ee(e,n)<0&&(e=n)}return new Co(o,e)}return new Co(n||e,e)}function Ko(t,e,n,r,o){null==o&&(o=t.cm&&(t.cm.display.shift||t.extend)),ti(t,new ko([Yo(t.sel.primary(),e,n,o)],0),r)}function Zo(t,e,n){for(var r=[],o=t.cm&&(t.cm.display.shift||t.extend),i=0;i<t.sel.ranges.length;i++)r[i]=Yo(t.sel.ranges[i],e[i],null,o);ti(t,So(t.cm,r,t.sel.primIndex),n)}function Xo(t,e,n,r){var o=t.sel.ranges.slice(0);o[e]=n,ti(t,So(t.cm,o,t.sel.primIndex),r)}function Jo(t,e,n,r){ti(t,To(e,n),r)}function Qo(t,e,n){var r=t.history.done,o=Y(r);o&&o.ranges?(r[r.length-1]=e,ei(t,e,n)):ti(t,e,n)}function ti(t,e,n){ei(t,e,n),qo(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function ei(t,e,n){(vt(t,"beforeSelectionChange")||t.cm&&vt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var r={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new Co(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return pt(t,"beforeSelectionChange",t,r),t.cm&&pt(t.cm,"beforeSelectionChange",t.cm,r),r.ranges!=e.ranges?So(t.cm,r.ranges,r.ranges.length-1):e}(t,e,n));var r=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);ni(t,oi(t,e,r,!0)),n&&!1===n.scroll||!t.cm||Nr(t.cm)}function ni(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,gt(t.cm)),un(t,"cursorActivity",t))}function ri(t){ni(t,oi(t,t.sel,null,!1))}function oi(t,e,n,r){for(var o,i=0;i<e.ranges.length;i++){var a=e.ranges[i],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[i],u=ai(t,a.anchor,s&&s.anchor,n,r),l=ai(t,a.head,s&&s.head,n,r);(o||u!=a.anchor||l!=a.head)&&(o||(o=e.ranges.slice(0,i)),o[i]=new Co(u,l))}return o?So(t.cm,o,e.primIndex):e}function ii(t,e,n,r,o){var i=$t(t,e.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],u=s.marker,l="selectLeft"in u?!u.selectLeft:u.inclusiveLeft,c="selectRight"in u?!u.selectRight:u.inclusiveRight;if((null==s.from||(l?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(c?s.to>=e.ch:s.to>e.ch))){if(o&&(pt(u,"beforeCursorEnter"),u.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!u.atomic)continue;if(n){var f=u.find(r<0?1:-1),d=void 0;if((r<0?c:l)&&(f=si(t,f,-r,f&&f.line==e.line?i:null)),f&&f.line==e.line&&(d=ee(f,n))&&(r<0?d<0:d>0))return ii(t,f,e,r,o)}var h=u.find(r<0?-1:1);return(r<0?l:c)&&(h=si(t,h,r,h.line==e.line?i:null)),h?ii(t,h,e,r,o):null}}return e}function ai(t,e,n,r,o){var i=r||1,a=ii(t,e,n,i,o)||!o&&ii(t,e,n,i,!0)||ii(t,e,n,-i,o)||!o&&ii(t,e,n,-i,!0);return a||(t.cantEdit=!0,te(t.first,0))}function si(t,e,n,r){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(r||$t(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function ui(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),q)}function li(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(e,n,o,i){e&&(r.from=se(t,e)),n&&(r.to=se(t,n)),o&&(r.text=o),void 0!==i&&(r.origin=i)}),pt(t,"beforeChange",t,r),t.cm&&pt(t.cm,"beforeChange",t.cm,r),r.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function ci(t,e,n){if(t.cm){if(!t.cm.curOp)return to(t.cm,ci)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"))||(e=li(t,e,!0))){var r=xe&&!n&&function(t,e,n){var r=null;if(t.iter(e.line,n.line+1,(function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=z(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:e,to:n}],i=0;i<r.length;++i)for(var a=r[i],s=a.find(0),u=0;u<o.length;++u){var l=o[u];if(!(ee(l.to,s.from)<0||ee(l.from,s.to)>0)){var c=[u,1],f=ee(l.from,s.from),d=ee(l.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:l.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:l.to}),o.splice.apply(o,c),u+=c.length-3}}return o}(t,e.from,e.to);if(r)for(var o=r.length-1;o>=0;--o)fi(t,{from:r[o].from,to:r[o].to,text:o?[""]:e.text,origin:e.origin});else fi(t,e)}}function fi(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=Ao(t,e);Ho(t,e,n,t.cm?t.cm.curOp.id:NaN),pi(t,e,n,Te(t,e));var r=[];Ro(t,(function(t,n){n||-1!=z(r,t.history)||(yi(t.history,e),r.push(t.history)),pi(t,e,null,Te(t,e))}))}}function di(t,e,n){var r=t.cm&&t.cm.state.suppressEdits;if(!r||n){for(var o,i=t.history,a=t.sel,s="undo"==e?i.done:i.undone,u="undo"==e?i.undone:i.done,l=0;l<s.length&&(o=s[l],n?!o.ranges||o.equals(t.sel):o.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(Uo(o,u),n&&!o.equals(t.sel))return void ti(t,o,{clearRedo:!1});a=o}var c=[];Uo(a,u),u.push({changes:c,generation:i.generation}),i.generation=o.generation||++i.maxGeneration;for(var f=vt(t,"beforeChange")||t.cm&&vt(t.cm,"beforeChange"),d=function(n){var r=o.changes[n];if(r.origin=e,f&&!li(t,r,!1))return s.length=0,{};c.push(jo(t,r));var i=n?Ao(t,r):Y(s);pi(t,r,i,$o(t,r)),!n&&t.cm&&t.cm.scrollIntoView({from:r.from,to:Eo(r)});var a=[];Ro(t,(function(t,e){e||-1!=z(a,t.history)||(yi(t.history,r),a.push(t.history)),pi(t,r,null,$o(t,r))}))},h=o.changes.length-1;h>=0;--h){var p=d(h);if(p)return p.v}}}}function hi(t,e){if(0!=e&&(t.first+=e,t.sel=new ko(K(t.sel.ranges,(function(t){return new Co(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))})),t.sel.primIndex),t.cm)){fr(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)dr(t.cm,r,"gutter")}}function pi(t,e,n,r){if(t.cm&&!t.cm.curOp)return to(t.cm,pi)(t,e,n,r);if(e.to.line<t.first)hi(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var o=e.text.length-1-(t.first-e.from.line);hi(t,o),e={from:te(t.first,0),to:te(e.to.line+o,e.to.ch),text:[Y(e.text)],origin:e.origin}}var i=t.lastLine();e.to.line>i&&(e={from:e.from,to:te(i,$t(t,i).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Gt(t,e.from,e.to),n||(n=Ao(t,e)),t.cm?function(t,e,n){var r=t.doc,o=t.display,i=e.from,a=e.to,s=!1,u=i.line;t.options.lineWrapping||(u=Zt(Fe($t(r,i.line))),r.iter(u,a.line+1,(function(t){if(t==o.maxLine)return s=!0,!0}))),r.sel.contains(e.from,e.to)>-1&&gt(t),Lo(r,e,n,sr(t)),t.options.lineWrapping||(r.iter(u,i.line+e.text.length,(function(t){var e=We(t);e>o.maxLineLength&&(o.maxLine=t,o.maxLineLength=e,o.maxLineChanged=!0,s=!1)})),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,r=e-1;r>n;r--){var o=$t(t,r).stateAfter;if(o&&(!(o instanceof le)||r+o.lookAhead<e)){n=r+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(r,i.line),ro(t,400);var l=e.text.length-(a.line-i.line)-1;e.full?fr(t):i.line!=a.line||1!=e.text.length||Mo(t.doc,e)?fr(t,i.line,a.line+1,l):dr(t,i.line,"text");var c=vt(t,"changes"),f=vt(t,"change");if(f||c){var d={from:i,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&un(t,"change",t,d),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}(t.cm,e,r):Lo(t,e,r),ei(t,n,q),t.cantEdit&&ai(t,te(t.firstLine(),0))&&(t.cantEdit=!1)}}function mi(t,e,n,r,o){var i;r||(r=n),ee(r,n)<0&&(n=(i=[r,n])[0],r=i[1]),"string"==typeof e&&(e=t.splitLines(e)),ci(t,{from:n,to:r,text:e,origin:o})}function gi(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function vi(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o],a=!0;if(i.ranges){i.copied||((i=t[o]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)gi(i.ranges[s].anchor,e,n,r),gi(i.ranges[s].head,e,n,r)}else{for(var u=0;u<i.changes.length;++u){var l=i.changes[u];if(n<l.from.line)l.from=te(l.from.line+r,l.from.ch),l.to=te(l.to.line+r,l.to.ch);else if(e<=l.to.line){a=!1;break}}a||(t.splice(0,o+1),o=0)}}}function yi(t,e){var n=e.from.line,r=e.to.line,o=e.text.length-(r-n)-1;vi(t.done,n,r,o),vi(t.undone,n,r,o)}function bi(t,e,n,r){var o=e,i=e;return"number"==typeof e?i=$t(t,ae(t,e)):o=Zt(e),null==o?null:(r(i,o)&&t.cm&&dr(t.cm,o,n),i)}function wi(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function xi(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var o=t[r];e+=o.chunkSize(),n+=o.height,o.parent=this}this.size=e,this.height=n,this.parent=null}Co.prototype.from=function(){return ie(this.anchor,this.head)},Co.prototype.to=function(){return oe(this.anchor,this.head)},Co.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},wi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var o=this.lines[n];this.height-=o.height,Ge(o),un(o,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},xi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(t<o){var i=Math.min(e,o-t),a=r.height;if(r.removeInner(t,i),this.height-=a-r.height,o==i&&(this.children.splice(n--,1),r.parent=null),0==(e-=i))break;t=0}else t-=o}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof wi))){var s=[];this.collapse(s),this.children=[new wi(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(t<=i){if(o.insertInner(t,e,n),o.lines&&o.lines.length>50){for(var a=o.lines.length%25+25,s=a;s<o.lines.length;){var u=new wi(o.lines.slice(s,s+=25));o.height-=u.height,this.children.splice(++r,0,u),u.parent=this}o.lines=o.lines.slice(0,a),this.maybeSpill()}break}t-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new xi(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=z(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var r=new xi(t.children);r.parent=t,t.children=[r,e],t=r}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],i=o.chunkSize();if(t<i){var a=Math.min(e,i-t);if(o.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=i}}};var _i=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};function ki(t,e,n){Ue(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Dr(t,n)}_i.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=Zt(n);if(null!=r&&e){for(var o=0;o<e.length;++o)e[o]==this&&e.splice(o--,1);e.length||(n.widgets=null);var i=xn(this);Kt(n,Math.max(0,n.height-i)),t&&(Qr(t,(function(){ki(t,n,-i),dr(t,r,"widget")})),un(t,"lineWidgetCleared",t,this,r))}},_i.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=xn(this)-e;o&&(He(this.doc,r)||Kt(r,r.height+o),n&&Qr(n,(function(){n.curOp.forceUpdate=!0,ki(n,r,o),un(n,"lineWidgetChanged",n,t,Zt(r))})))},yt(_i);var Ci=0,Si=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++Ci};function Ti(t,e,n,r,o){if(r&&r.shared)return function(t,e,n,r,o){(r=B(r)).shared=!1;var i=[Ti(t,e,n,r,o)],a=i[0],s=r.widgetNode;return Ro(t,(function(t){s&&(r.widgetNode=s.cloneNode(!0)),i.push(Ti(t,se(t,e),se(t,n),r,o));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;a=Y(i)})),new Ei(i,a)}(t,e,n,r,o);if(t.cm&&!t.cm.curOp)return to(t.cm,Ti)(t,e,n,r,o);var i=new Si(t,o),a=ee(e,n);if(r&&B(r,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=D("span",[i.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Be(t,e.line,e,n,i)||e.line!=n.line&&Be(t,n.line,e,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");_e=!0}i.addToHistory&&Ho(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,u=e.line,l=t.cm;if(t.iter(u,n.line+1,(function(t){l&&i.collapsed&&!l.options.lineWrapping&&Fe(t)==l.display.maxLine&&(s=!0),i.collapsed&&u!=e.line&&Kt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new ke(i,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u})),i.collapsed&&t.iter(e.line,n.line+1,(function(e){He(t,e)&&Kt(e,0)})),i.clearOnEnter&&ft(i,"beforeCursorEnter",(function(){return i.clear()})),i.readOnly&&(xe=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),i.collapsed&&(i.id=++Ci,i.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),i.collapsed)fr(l,e.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=e.line;c<=n.line;c++)dr(l,c,"text");i.atomic&&ri(l.doc),un(l,"markerAdded",l,i)}return i}Si.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&$r(t),vt(this,"clear")){var n=this.find();n&&un(this,"clear",n.from,n.to)}for(var r=null,o=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=Ce(a.markedSpans,this);t&&!this.collapsed?dr(t,Zt(a),"text"):t&&(null!=s.to&&(o=Zt(a)),null!=s.from&&(r=Zt(a))),a.markedSpans=Se(a.markedSpans,s),null==s.from&&this.collapsed&&!He(this.doc,a)&&t&&Kt(a,rr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var l=Fe(this.lines[u]),c=We(l);c>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&fr(t,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ri(t.doc)),t&&un(t,"markerCleared",t,this,r,o),e&&Gr(t),this.parent&&this.parent.clear()}},Si.prototype.find=function(t,e){var n,r;null==t&&"bookmark"==this.type&&(t=1);for(var o=0;o<this.lines.length;++o){var i=this.lines[o],a=Ce(i.markedSpans,this);if(null!=a.from&&(n=te(e?i:Zt(i),a.from),-1==t))return n;if(null!=a.to&&(r=te(e?i:Zt(i),a.to),1==t))return r}return n&&{from:n,to:r}},Si.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,r=this.doc.cm;e&&r&&Qr(r,(function(){var o=e.line,i=Zt(e.line),a=Nn(r,i);if(a&&(Fn(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!He(n.doc,o)&&null!=n.height){var s=n.height;n.height=null;var u=xn(n)-s;u&&Kt(o,o.height+u)}un(r,"markerChanged",r,t)}))},Si.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=z(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Si.prototype.detachLine=function(t){if(this.lines.splice(z(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},yt(Si);var Ei=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Oi(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),(function(t){return t.parent}))}function Ai(t){for(var e=function(e){var n=t[e],r=[n.primary.doc];Ro(n.primary.doc,(function(t){return r.push(t)}));for(var o=0;o<n.markers.length;o++){var i=n.markers[o];-1==z(r,i.doc)&&(i.parent=null,n.markers.splice(o--,1))}},n=0;n<t.length;n++)e(n)}Ei.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();un(this,"clear")}},Ei.prototype.find=function(t,e){return this.primary.find(t,e)},yt(Ei);var Di=0,Ni=function(t,e,n,r,o){if(!(this instanceof Ni))return new Ni(t,e,n,r,o);null==n&&(n=0),xi.call(this,[new wi([new $e("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=te(n,0);this.sel=To(i),this.history=new Fo(null),this.id=++Di,this.modeOption=e,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Lo(this,{from:i,to:i,text:t}),ti(this,To(i),q)};Ni.prototype=X(xi.prototype,{constructor:Ni,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Yt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:no((function(t){var e=te(this.first,0),n=this.first+this.size-1;ci(this,{from:e,to:te(n,$t(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Pr(this.cm,0,0),ti(this,To(e),q)})),replaceRange:function(t,e,n,r){mi(this,t,e=se(this,e),n=n?se(this,n):e,r)},getRange:function(t,e,n){var r=Gt(this,se(this,t),se(this,e));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(Jt(this,t))return $t(this,t)},getLineNumber:function(t){return Zt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=$t(this,t)),Fe(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:no((function(t,e,n){Jo(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)})),setSelection:no((function(t,e,n){Jo(this,se(this,t),se(this,e||t),n)})),extendSelection:no((function(t,e,n){Ko(this,se(this,t),e&&se(this,e),n)})),extendSelections:no((function(t,e){Zo(this,ue(this,t),e)})),extendSelectionsBy:no((function(t,e){Zo(this,ue(this,K(this.sel.ranges,t)),e)})),setSelections:no((function(t,e,n){if(t.length){for(var r=[],o=0;o<t.length;o++)r[o]=new Co(se(this,t[o].anchor),se(this,t[o].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),ti(this,So(this.cm,r,e),n)}})),addSelection:no((function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new Co(se(this,t),se(this,e||t))),ti(this,So(this.cm,r,r.length-1),n)})),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var o=Gt(this,n[r].from(),n[r].to());e=e?e.concat(o):o}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Gt(this,n[r].from(),n[r].to());!1!==t&&(o=o.join(t||this.lineSeparator())),e[r]=o}return e},replaceSelection:function(t,e,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:no((function(t,e,n){for(var r=[],o=this.sel,i=0;i<o.ranges.length;i++){var a=o.ranges[i];r[i]={from:a.from(),to:a.to(),text:this.splitLines(t[i]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var r=[],o=te(t.first,0),i=o,a=0;a<e.length;a++){var s=e[a],u=Do(s.from,o,i),l=Do(Eo(s),o,i);if(o=s.to,i=l,"around"==n){var c=t.sel.ranges[a],f=ee(c.head,c.anchor)<0;r[a]=new Co(f?l:u,f?u:l)}else r[a]=new Co(u,u)}return new ko(r,t.sel.primIndex)}(this,r,e),u=r.length-1;u>=0;u--)ci(this,r[u]);s?Qo(this,s):this.cm&&Nr(this.cm)})),undo:no((function(){di(this,"undo")})),redo:no((function(){di(this,"redo")})),undoSelection:no((function(){di(this,"undo",!0)})),redoSelection:no((function(){di(this,"redo",!0)})),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var o=0;o<t.undone.length;o++)t.undone[o].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){var t=this;this.history=new Fo(this.history.maxGeneration),Ro(this,(function(e){return e.history=t.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Go(this.history.done),undone:Go(this.history.undone)}},setHistory:function(t){var e=this.history=new Fo(this.history.maxGeneration);e.done=Go(t.done.slice(0),null,!0),e.undone=Go(t.undone.slice(0),null,!0)},setGutterMarker:no((function(t,e,n){return bi(this,t,"gutter",(function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&et(r)&&(t.gutterMarkers=null),!0}))})),clearGutter:no((function(t){var e=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[t]&&bi(e,n,"gutter",(function(){return n.gutterMarkers[t]=null,et(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(t){var e;if("number"==typeof t){if(!Jt(this,t))return null;if(e=t,!(t=$t(this,t)))return null}else if(null==(e=Zt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:no((function(t,e,n){return bi(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(C(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0}))})),removeLineClass:no((function(t,e,n){return bi(this,t,"gutter"==e?"gutter":"class",(function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",o=t[r];if(!o)return!1;if(null==n)t[r]=null;else{var i=o.match(C(n));if(!i)return!1;var a=i.index+i[0].length;t[r]=o.slice(0,i.index)+(i.index&&a!=o.length?" ":"")+o.slice(a)||null}return!0}))})),addLineWidget:no((function(t,e,n){return function(t,e,n,r){var o=new _i(t,n,r),i=t.cm;return i&&o.noHScroll&&(i.display.alignWidgets=!0),bi(t,e,"widget",(function(e){var n=e.widgets||(e.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,i&&!He(t,e)){var r=Ue(e)<t.scrollTop;Kt(e,e.height+xn(o)),r&&Dr(i,o.height),i.curOp.forceUpdate=!0}return!0})),i&&un(i,"lineWidgetAdded",i,o,"number"==typeof e?e:Zt(e)),o}(this,t,e,n)})),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Ti(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Ti(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=$t(this,(t=se(this,t)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=t.ch)&&(null==o.to||o.to>=t.ch)&&e.push(o.marker.parent||o.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var r=[],o=t.line;return this.iter(t.line,e.line+1,(function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];null!=u.to&&o==t.line&&t.ch>=u.to||null==u.from&&o!=t.line||null!=u.from&&o==e.line&&u.from>=e.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++o})),r},getAllMarks:function(){var t=[];return this.iter((function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)})),t},posFromIndex:function(t){var e,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var i=o.text.length+r;if(i>t)return e=t,!0;t-=i,++n})),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,(function(t){e+=t.text.length+n})),e},copy:function(t){var e=new Ni(Yt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new Ni(Yt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.find(),i=t.clipPos(o.from),a=t.clipPos(o.to);if(ee(i,a)){var s=Ti(t,i,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,Oi(this)),r},unlinkDoc:function(t){if(t instanceof Ea&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e)if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),Ai(Oi(this));break}if(t.history==this.history){var n=[t.id];Ro(t,(function(t){return n.push(t.id)}),!0),t.history=new Fo(null),t.history.done=Go(this.history.done,n),t.history.undone=Go(this.history.undone,n)}},iterLinkedDocs:function(t){Ro(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Nt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:no((function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter((function(t){return t.order=null})),this.cm&&Qr(e=this.cm,(function(){Bo(e),fr(e)})))}))}),Ni.prototype.eachLine=Ni.prototype.iter;var Pi=0;function Mi(t){var e=this;if(Li(e),!mt(e,t)&&!_n(e.display,t)){bt(t),a&&(Pi=+new Date);var n=lr(e,t,!0),r=t.dataTransfer.files;if(n&&!e.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,i=Array(o),s=0,u=function(){++s==o&&to(e,(function(){var t={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(i.filter((function(t){return null!=t})).join(e.doc.lineSeparator())),origin:"paste"};ci(e.doc,t),Qo(e.doc,To(se(e.doc,n),se(e.doc,Eo(t))))}))()},l=function(t,n){if(e.options.allowDropFileTypes&&-1==z(e.options.allowDropFileTypes,t.type))u();else{var r=new FileReader;r.onerror=function(){return u()},r.onload=function(){var t=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(t)||(i[n]=t),u()},r.readAsText(t)}},c=0;c<r.length;c++)l(r[c],c);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout((function(){return e.display.input.focus()}),20);try{var f=t.dataTransfer.getData("Text");if(f){var d;if(e.state.draggingText&&!e.state.draggingText.copy&&(d=e.listSelections()),ei(e.doc,To(n,n)),d)for(var h=0;h<d.length;++h)mi(e.doc,"",d[h].anchor,d[h].head,"drag");e.replaceSelection(f,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Li(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function Ri(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<e.length;r++){var o=e[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var e=0;e<n.length;e++)t(n[e])}))}}var Ii=!1;function Bi(){var t;Ii||(ft(window,"resize",(function(){null==t&&(t=setTimeout((function(){t=null,Ri(Fi)}),100))})),ft(window,"blur",(function(){return Ri(Sr)})),Ii=!0)}function Fi(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var ji={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zi=0;zi<10;zi++)ji[zi+48]=ji[zi+96]=String(zi);for(var Hi=65;Hi<=90;Hi++)ji[Hi]=String.fromCharCode(Hi);for(var qi=1;qi<=12;qi++)ji[qi+111]=ji[qi+63235]="F"+qi;var Ui={};function Wi(t){var e,n,r,o,i=t.split(/-(?!$)/);t=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),o&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Vi(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var o=K(n.split(" "),Wi),i=0;i<o.length;i++){var a=void 0,s=void 0;i==o.length-1?(s=o.join(" "),a=r):(s=o.slice(0,i+1).join(" "),a="...");var u=e[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var l in e)t[l]=e[l];return t}function $i(t,e,n,r){var o=(e=Zi(e)).call?e.call(t,r):e[t];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return $i(t,e.fallthrough,n,r);for(var i=0;i<e.fallthrough.length;i++){var a=$i(t,e.fallthrough[i],n,r);if(a)return a}}}function Gi(t){var e="string"==typeof t?t:ji[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Yi(t,e,n){var r=t;return e.altKey&&"Alt"!=r&&(t="Alt-"+t),(_?e.metaKey:e.ctrlKey)&&"Ctrl"!=r&&(t="Ctrl-"+t),(_?e.ctrlKey:e.metaKey)&&"Cmd"!=r&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=r&&(t="Shift-"+t),t}function Ki(t,e){if(f&&34==t.keyCode&&t.char)return!1;var n=ji[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Yi(n,t,e))}function Zi(t){return"string"==typeof t?Ui[t]:t}function Xi(t,e){for(var n=t.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var i=e(n[o]);r.length&&ee(i.from,Y(r).to)<=0;){var a=r.pop();if(ee(a.from,i.from)<0){i.from=a.from;break}}r.push(i)}Qr(t,(function(){for(var e=r.length-1;e>=0;e--)mi(t.doc,"",r[e].from,r[e].to,"+delete");Nr(t)}))}function Ji(t,e,n){var r=ot(t.text,e+n,n);return r<0||r>t.text.length?null:r}function Qi(t,e,n){var r=Ji(t,e.ch,n);return null==r?null:new te(e.line,r,n<0?"after":"before")}function ta(t,e,n,r,o){if(t){"rtl"==e.doc.direction&&(o=-o);var i=lt(n,e.doc.direction);if(i){var a,s=o<0?Y(i):i[0],u=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var l=Pn(e,n);a=o<0?n.text.length-1:0;var c=Mn(e,l,a).top;a=it((function(t){return Mn(e,l,t).top==c}),o<0==(1==s.level)?s.from:s.to-1,a),"before"==u&&(a=Ji(n,a,1))}else a=o<0?s.to:s.from;return new te(r,a,u)}}return new te(r,o<0?n.text.length:0,o<0?"before":"after")}Ui.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ui.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ui.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ui.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ui.default=y?Ui.macDefault:Ui.pcDefault;var ea={selectAll:ui,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),q)},killLine:function(t){return Xi(t,(function(e){if(e.empty()){var n=$t(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}}))},deleteLine:function(t){return Xi(t,(function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}}))},delLineLeft:function(t){return Xi(t,(function(t){return{from:te(t.from().line,0),to:t.from()}}))},delWrappedLineLeft:function(t){return Xi(t,(function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}}))},delWrappedLineRight:function(t){return Xi(t,(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}}))},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy((function(e){return na(t,e.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy((function(e){return ra(t,e.head)}),{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy((function(e){return function(t,e){var n=$t(t.doc,e),r=function(t){for(var e;e=Re(t);)t=e.find(1,!0).line;return t}(n);return r!=n&&(e=Zt(r)),ta(!0,t,n,e,-1)}(t,e.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")}),W)},goLineLeft:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")}),W)},goLineLeftSmart:function(t){return t.extendSelectionsBy((function(e){var n=t.cursorCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?ra(t,e.head):r}),W)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,o=0;o<n.length;o++){var i=n[o].from(),a=F(t.getLine(i.line),i.ch,r);e.push(G(r-a%r))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Qr(t,(function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++)if(e[r].empty()){var o=e[r].head,i=$t(t.doc,o.line).text;if(i)if(o.ch==i.length&&(o=new te(o.line,o.ch-1)),o.ch>0)o=new te(o.line,o.ch+1),t.replaceRange(i.charAt(o.ch-1)+i.charAt(o.ch-2),te(o.line,o.ch-2),o,"+transpose");else if(o.line>t.doc.first){var a=$t(t.doc,o.line-1).text;a&&(o=new te(o.line,1),t.replaceRange(i.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(o.line-1,a.length-1),o,"+transpose"))}n.push(new Co(o,o))}t.setSelections(n)}))},newlineAndIndent:function(t){return Qr(t,(function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var r=0;r<e.length;r++)t.indentLine(e[r].from().line,null,!0);Nr(t)}))},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function na(t,e){var n=$t(t.doc,e),r=Fe(n);return r!=n&&(e=Zt(r)),ta(!0,t,r,e,1)}function ra(t,e){var n=na(t,e.line),r=$t(t.doc,n.line),o=lt(r,t.doc.direction);if(!o||0==o[0].level){var i=Math.max(n.ch,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=i&&e.ch;return te(n.line,a?0:i,n.sticky)}return n}function oa(t,e,n){if("string"==typeof e&&!(e=ea[e]))return!1;t.display.input.ensurePolled();var r=t.display.shift,o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),o=e(t)!=H}finally{t.display.shift=r,t.state.suppressEdits=!1}return o}var ia=new j;function aa(t,e,n,r){var o=t.state.keySeq;if(o){if(Gi(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:ia.set(50,(function(){t.state.keySeq==o&&(t.state.keySeq=null,t.display.input.reset())})),sa(t,o+" "+e,n,r))return!0}return sa(t,e,n,r)}function sa(t,e,n,r){var o=function(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var o=$i(e,t.state.keyMaps[r],n,t);if(o)return o}return t.options.extraKeys&&$i(e,t.options.extraKeys,n,t)||$i(e,t.options.keyMap,n,t)}(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&un(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(bt(n),xr(t)),!!o}function ua(t,e){var n=Ki(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?aa(t,"Shift-"+n,e,(function(e){return oa(t,e,!0)}))||aa(t,n,e,(function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return oa(t,e)})):aa(t,n,e,(function(e){return oa(t,e)})))}var la=null;function ca(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||(e.curOp.focus=P(),mt(e,t)))){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var r=t.keyCode;e.display.shift=16==r||t.shiftKey;var o=ua(e,t);f&&(la=o?r:null,o||88!=r||Mt||!(y?t.metaKey:t.ctrlKey)||e.replaceSelection("",null,"cut")),n&&!y&&!o&&46==r&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(T(e,"CodeMirror-crosshair"),ht(document,"keyup",n),ht(document,"mouseover",n))}M(e,"CodeMirror-crosshair"),ft(document,"keyup",n),ft(document,"mouseover",n)}(e)}}function fa(t){16==t.keyCode&&(this.doc.sel.shift=!1),mt(this,t)}function da(t){var e=this;if(!(t.target&&t.target!=e.display.input.getField()||_n(e.display,t)||mt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(f&&n==la)return la=null,void bt(t);if(!f||t.which&&!(t.which<10)||!ua(e,t)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(function(t,e,n){return aa(t,"'"+n+"'",e,(function(e){return oa(t,e,!0)}))}(e,t,o)||e.display.input.onKeyPress(t))}}}var ha,pa,ma=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ga(t){var e=this,n=e.display;if(!(mt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,_n(n,t))u||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!ba(e,t)){var r=lr(e,t),o=Ct(t),i=r?function(t,e){var n=+new Date;return pa&&pa.compare(n,t,e)?(ha=pa=null,"triple"):ha&&ha.compare(n,t,e)?(pa=new ma(n,t,e),ha=null,"double"):(ha=new ma(n,t,e),pa=null,"single")}(r,o):"single";window.focus(),1==o&&e.state.selectingText&&e.state.selectingText(t),r&&function(t,e,n,r,o){var i="Click";return"double"==r?i="Double"+i:"triple"==r&&(i="Triple"+i),aa(t,Yi(i=(1==e?"Left":2==e?"Middle":"Right")+i,o),o,(function(e){if("string"==typeof e&&(e=ea[e]),!e)return!1;var r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),r=e(t,n)!=H}finally{t.state.suppressEdits=!1}return r}))}(e,o,r,i,t)||(1==o?r?function(t,e,n,r){a?setTimeout(I(_r,t),0):t.curOp.focus=P();var o,i=function(t,e,n){var r=t.getOption("configureMouse"),o=r?r(t,e,n):{};if(null==o.unit){var i=b?n.shiftKey&&n.metaKey:n.altKey;o.unit=i?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==o.extend||t.doc.extend)&&(o.extend=t.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}(t,n,r),l=t.doc.sel;t.options.dragDrop&&Et&&!t.isReadOnly()&&"single"==n&&(o=l.contains(e))>-1&&(ee((o=l.ranges[o]).from(),e)<0||e.xRel>0)&&(ee(o.to(),e)>0||e.xRel<0)?function(t,e,n,r){var o=t.display,i=!1,l=to(t,(function(e){u&&(o.scroller.draggable=!1),t.state.draggingText=!1,ht(o.wrapper.ownerDocument,"mouseup",l),ht(o.wrapper.ownerDocument,"mousemove",c),ht(o.scroller,"dragstart",f),ht(o.scroller,"drop",l),i||(bt(e),r.addNew||Ko(t.doc,n,null,null,r.extend),u&&!d||a&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),c=function(t){i=i||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},f=function(){return i=!0};u&&(o.scroller.draggable=!0),t.state.draggingText=l,l.copy=!r.moveOnDrag,o.scroller.dragDrop&&o.scroller.dragDrop(),ft(o.wrapper.ownerDocument,"mouseup",l),ft(o.wrapper.ownerDocument,"mousemove",c),ft(o.scroller,"dragstart",f),ft(o.scroller,"drop",l),kr(t),setTimeout((function(){return o.input.focus()}),20)}(t,r,e,i):function(t,e,n,r){var o=t.display,i=t.doc;bt(e);var a,s,u=i.sel,l=u.ranges;if(r.addNew&&!r.extend?(s=i.sel.contains(n),a=s>-1?l[s]:new Co(n,n)):(a=i.sel.primary(),s=i.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new Co(n,n)),n=lr(t,e,!0,!0),s=-1;else{var c=va(t,n,r.unit);a=r.extend?Yo(a,c.anchor,c.head,r.extend):c}r.addNew?-1==s?(s=l.length,ti(i,So(t,l.concat([a]),s),{scroll:!1,origin:"*mouse"})):l.length>1&&l[s].empty()&&"char"==r.unit&&!r.extend?(ti(i,So(t,l.slice(0,s).concat(l.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),u=i.sel):Xo(i,s,a,U):(s=0,ti(i,new ko([a],0),U),u=i.sel);var f=n;function d(e){if(0!=ee(f,e))if(f=e,"rectangle"==r.unit){for(var o=[],l=t.options.tabSize,c=F($t(i,n.line).text,n.ch,l),d=F($t(i,e.line).text,e.ch,l),h=Math.min(c,d),p=Math.max(c,d),m=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));m<=g;m++){var v=$t(i,m).text,y=V(v,h,l);h==p?o.push(new Co(te(m,y),te(m,y))):v.length>y&&o.push(new Co(te(m,y),te(m,V(v,p,l))))}o.length||o.push(new Co(n,n)),ti(i,So(t,u.ranges.slice(0,s).concat(o),s),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b,w=a,x=va(t,e,r.unit),_=w.anchor;ee(x.anchor,_)>0?(b=x.head,_=ie(w.from(),x.anchor)):(b=x.anchor,_=oe(w.to(),x.head));var k=u.ranges.slice(0);k[s]=function(t,e){var n=e.anchor,r=e.head,o=$t(t.doc,n.line);if(0==ee(n,r)&&n.sticky==r.sticky)return e;var i=lt(o);if(!i)return e;var a=st(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var u,l=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==l||l==i.length)return e;if(r.line!=n.line)u=(r.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=st(i,r.ch,r.sticky),f=c-a||(r.ch-n.ch)*(1==s.level?-1:1);u=c==l-1||c==l?f<0:f>0}var d=i[l+(u?-1:0)],h=u==(1==d.level),p=h?d.from:d.to,m=h?"after":"before";return n.ch==p&&n.sticky==m?e:new Co(new te(n.line,p,m),r)}(t,new Co(se(i,_),b)),ti(i,So(t,k,s),U)}}var h=o.wrapper.getBoundingClientRect(),p=0;function m(e){t.state.selectingText=!1,p=1/0,e&&(bt(e),o.input.focus()),ht(o.wrapper.ownerDocument,"mousemove",g),ht(o.wrapper.ownerDocument,"mouseup",v),i.history.lastSelOrigin=null}var g=to(t,(function(e){0!==e.buttons&&Ct(e)?function e(n){var a=++p,s=lr(t,n,!0,"rectangle"==r.unit);if(s)if(0!=ee(s,f)){t.curOp.focus=P(),d(s);var u=Or(o,i);(s.line>=u.to||s.line<u.from)&&setTimeout(to(t,(function(){p==a&&e(n)})),150)}else{var l=n.clientY<h.top?-20:n.clientY>h.bottom?20:0;l&&setTimeout(to(t,(function(){p==a&&(o.scroller.scrollTop+=l,e(n))})),50)}}(e):m(e)})),v=to(t,m);t.state.selectingText=v,ft(o.wrapper.ownerDocument,"mousemove",g),ft(o.wrapper.ownerDocument,"mouseup",v)}(t,r,e,i)}(e,r,i,t):kt(t)==n.scroller&&bt(t):2==o?(r&&Ko(e.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(k?e.display.input.onContextMenu(t):kr(e)))}}function va(t,e,n){if("char"==n)return new Co(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new Co(te(e.line,0),se(t.doc,te(e.line+1,0)));var r=n(t,e);return new Co(r.from,r.to)}function ya(t,e,n,r){var o,i;if(e.touches)o=e.touches[0].clientX,i=e.touches[0].clientY;else try{o=e.clientX,i=e.clientY}catch(t){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&bt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!vt(t,n))return xt(e);i-=s.top-a.viewOffset;for(var u=0;u<t.display.gutterSpecs.length;++u){var l=a.gutters.childNodes[u];if(l&&l.getBoundingClientRect().right>=o)return pt(t,n,t,Xt(t.doc,i),t.display.gutterSpecs[u].className,e),xt(e)}}function ba(t,e){return ya(t,e,"gutterClick",!0)}function wa(t,e){_n(t.display,e)||function(t,e){return!!vt(t,"gutterContextMenu")&&ya(t,e,"gutterContextMenu",!1)}(t,e)||mt(t,e,"contextmenu")||k||t.display.input.onContextMenu(e)}function xa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),zn(t)}ma.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var _a={toString:function(){return"CodeMirror.Init"}},ka={},Ca={};function Sa(t,e,n){if(!e!=!(n&&n!=_a)){var r=t.display.dragFunctions,o=e?ft:ht;o(t.display.scroller,"dragstart",r.start),o(t.display.scroller,"dragenter",r.enter),o(t.display.scroller,"dragover",r.over),o(t.display.scroller,"dragleave",r.leave),o(t.display.scroller,"drop",r.drop)}}function Ta(t){t.options.lineWrapping?(M(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(T(t.display.wrapper,"CodeMirror-wrap"),Ve(t)),ur(t),fr(t),zn(t),setTimeout((function(){return Hr(t)}),100)}function Ea(t,e){var n=this;if(!(this instanceof Ea))return new Ea(t,e);this.options=e=e?B(e):{},B(ka,e,!1);var r=e.value;"string"==typeof r?r=new Ni(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var o=new Ea.inputStyles[e.inputStyle](this),i=this.display=new vo(t,r,o,e);for(var l in i.wrapper.CodeMirror=this,xa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Wr(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new j,keySeq:null,specialChars:null},e.autofocus&&!v&&i.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(t){var e=t.display;ft(e.scroller,"mousedown",to(t,ga)),ft(e.scroller,"dblclick",a&&s<11?to(t,(function(e){if(!mt(t,e)){var n=lr(t,e);if(n&&!ba(t,e)&&!_n(t.display,e)){bt(e);var r=t.findWordAt(n);Ko(t.doc,r.anchor,r.head)}}})):function(e){return mt(t,e)||bt(e)}),ft(e.scroller,"contextmenu",(function(e){return wa(t,e)})),ft(e.input.getField(),"contextmenu",(function(n){e.scroller.contains(n.target)||wa(t,n)}));var n,r={end:0};function o(){e.activeTouch&&(n=setTimeout((function(){return e.activeTouch=null}),1e3),(r=e.activeTouch).end=+new Date)}function i(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}ft(e.scroller,"touchstart",(function(o){if(!mt(t,o)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(o)&&!ba(t,o)){e.input.ensurePolled(),clearTimeout(n);var i=+new Date;e.activeTouch={start:i,moved:!1,prev:i-r.end<=300?r:null},1==o.touches.length&&(e.activeTouch.left=o.touches[0].pageX,e.activeTouch.top=o.touches[0].pageY)}})),ft(e.scroller,"touchmove",(function(){e.activeTouch&&(e.activeTouch.moved=!0)})),ft(e.scroller,"touchend",(function(n){var r=e.activeTouch;if(r&&!_n(e,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!r.prev||i(r,r.prev)?new Co(s,s):!r.prev.prev||i(r,r.prev.prev)?t.findWordAt(s):new Co(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),bt(n)}o()})),ft(e.scroller,"touchcancel",o),ft(e.scroller,"scroll",(function(){e.scroller.clientHeight&&(Rr(t,e.scroller.scrollTop),Br(t,e.scroller.scrollLeft,!0),pt(t,"scroll",t))})),ft(e.scroller,"mousewheel",(function(e){return _o(t,e)})),ft(e.scroller,"DOMMouseScroll",(function(e){return _o(t,e)})),ft(e.wrapper,"scroll",(function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0})),e.dragFunctions={enter:function(e){mt(t,e)||_t(e)},over:function(e){mt(t,e)||(function(t,e){var n=lr(t,e);if(n){var r=document.createDocumentFragment();yr(t,n,r),t.display.dragCursor||(t.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),O(t.display.dragCursor,r)}}(t,e),_t(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Pi<100))_t(e);else if(!mt(t,e)&&!_n(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=A("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),f&&n.parentNode.removeChild(n)}}(t,e)},drop:to(t,Mi),leave:function(e){mt(t,e)||Li(t)}};var u=e.input.getField();ft(u,"keyup",(function(e){return fa.call(t,e)})),ft(u,"keydown",to(t,ca)),ft(u,"keypress",to(t,da)),ft(u,"focus",(function(e){return Cr(t,e)})),ft(u,"blur",(function(e){return Sr(t,e)}))}(this),Bi(),$r(this),this.curOp.forceUpdate=!0,Io(this,r),e.autofocus&&!v||this.hasFocus()?setTimeout(I(Cr,this),20):Sr(this),Ca)Ca.hasOwnProperty(l)&&Ca[l](this,e[l],_a);ho(this),e.finishInit&&e.finishInit(this);for(var c=0;c<Oa.length;++c)Oa[c](this);Gr(this),u&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(i.lineDiv).textRendering&&(i.lineDiv.style.textRendering="auto")}Ea.defaults=ka,Ea.optionHandlers=Ca;var Oa=[];function Aa(t,e,n,r){var o,i=t.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?o=he(t,e).state:n="prev");var a=t.options.tabSize,s=$t(i,e),u=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((l=i.mode.indent(o,s.text.slice(c.length),s.text))==H||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=e>i.first?F($t(i,e-1).text,null,a):0:"add"==n?l=u+t.options.indentUnit:"subtract"==n?l=u-t.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var f="",d=0;if(t.options.indentWithTabs)for(var h=Math.floor(l/a);h;--h)d+=a,f+="\t";if(d<l&&(f+=G(l-d)),f!=c)return mi(i,f,te(e,0),te(e,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<i.sel.ranges.length;p++){var m=i.sel.ranges[p];if(m.head.line==e&&m.head.ch<c.length){var g=te(e,c.length);Xo(i,p,new Co(g,g));break}}}Ea.defineInitHook=function(t){return Oa.push(t)};var Da=null;function Na(t){Da=t}function Pa(t,e,n,r,o){var i=t.doc;t.display.shift=!1,r||(r=i.sel);var a=+new Date-200,s="paste"==o||t.state.pasteIncoming>a,u=Nt(e),l=null;if(s&&r.ranges.length>1)if(Da&&Da.text.join("\n")==e){if(r.ranges.length%Da.text.length==0){l=[];for(var c=0;c<Da.text.length;c++)l.push(i.splitLines(Da.text[c]))}}else u.length==r.ranges.length&&t.options.pasteLinesPerSelection&&(l=K(u,(function(t){return[t]})));for(var f=t.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var h=r.ranges[d],p=h.from(),m=h.to();h.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!s?m=te(m.line,Math.min($t(i,m.line).text.length,m.ch+Y(u).length)):s&&Da&&Da.lineWise&&Da.text.join("\n")==u.join("\n")&&(p=m=te(p.line,0)));var g={from:p,to:m,text:l?l[d%l.length]:u,origin:o||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};ci(t.doc,g),un(t,"inputRead",t,g)}e&&!s&&La(t,e),Nr(t),t.curOp.updateInput<2&&(t.curOp.updateInput=f),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Ma(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Qr(e,(function(){return Pa(e,n,0,null,"paste")})),!0}function La(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var i=t.getModeAt(o.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(e.indexOf(i.electricChars.charAt(s))>-1){a=Aa(t,o.head.line,"smart");break}}else i.electricInput&&i.electricInput.test($t(t.doc,o.head.line).text.slice(0,o.head.ch))&&(a=Aa(t,o.head.line,"smart"));a&&un(t,"electricInput",t,o.head.line)}}}function Ra(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var o=t.doc.sel.ranges[r].head.line,i={anchor:te(o,0),head:te(o+1,0)};n.push(i),e.push(t.getRange(i.anchor,i.head))}return{text:e,ranges:n}}function Ia(t,e,n,r){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",r?"":"off"),t.setAttribute("spellcheck",!!e)}function Ba(){var t=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=A("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?t.style.width="1000px":t.setAttribute("wrap","off"),m&&(t.style.border="1px solid black"),Ia(t),e}function Fa(t,e,n,r,o){var i=e,a=n,s=$t(t,e.line),u=o&&"rtl"==t.direction?-n:n;function l(r){var i,a;if(null==(i=o?function(t,e,n,r){var o=lt(e,t.doc.direction);if(!o)return Qi(e,n,r);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=st(o,n.ch,n.sticky),a=o[i];if("ltr"==t.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Qi(e,n,r);var s,u=function(t,n){return Ji(e,t instanceof te?t.ch:t,n)},l=function(n){return t.options.lineWrapping?(s=s||Pn(t,e),Jn(t,e,s,n)):{begin:0,end:e.text.length}},c=l("before"==n.sticky?u(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var f=1==a.level==r<0,d=u(n,f?1:-1);if(null!=d&&(f?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var h=f?"before":"after";return new te(n.line,d,h)}}var p=function(t,e,r){for(var i=function(t,e){return e?new te(n.line,u(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<o.length;t+=e){var a=o[t],s=e>0==(1!=a.level),l=s?r.begin:u(r.end,-1);if(a.from<=l&&l<a.to)return i(l,s);if(l=s?a.from:u(a.to,-1),r.begin<=l&&l<r.end)return i(l,s)}},m=p(i+r,r,c);if(m)return m;var g=r>0?c.end:u(c.begin,-1);return null==g||r>0&&g==e.text.length||!(m=p(r>0?0:o.length-1,r,l(g)))?null:m}(t.cm,s,e,n):Qi(s,e,n))){if(r||(a=e.line+u)<t.first||a>=t.first+t.size||(e=new te(a,e.ch,e.sticky),!(s=$t(t,a))))return!1;e=ta(o,t.cm,s,e.line,u)}else e=i;return!0}if("char"==r)l();else if("column"==r)l(!0);else if("word"==r||"group"==r)for(var c=null,f="group"==r,d=t.cm&&t.cm.getHelper(e,"wordChars"),h=!0;!(n<0)||l(!h);h=!1){var p=s.text.charAt(e.ch)||"\n",m=tt(p,d)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||h||m||(m="s"),c&&c!=m){n<0&&(n=1,l(),e.sticky="after");break}if(m&&(c=m),n>0&&!l(!h))break}var g=ai(t,e,i,a,!0);return ne(i,g)&&(g.hitSide=!0),g}function ja(t,e,n,r){var o,i,a=t.doc,s=e.left;if("page"==r){var u=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(u-.5*rr(t.display),3);o=(n>0?e.bottom:e.top)+n*l}else"line"==r&&(o=n>0?e.bottom+3:e.top-3);for(;(i=Zn(t,s,o)).outside;){if(n<0?o<=0:o>=a.height){i.hitSide=!0;break}o+=5*n}return i}var za=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new j,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ha(t,e){var n=Nn(t,e.line);if(!n||n.hidden)return null;var r=$t(t.doc,e.line),o=An(n,r,e.line),i=lt(r,t.doc.direction),a="left";i&&(a=st(i,e.ch)%2?"right":"left");var s=In(o.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function qa(t,e){return e&&(t.bad=!0),t}function Ua(t,e,n){var r;if(e==t.display.lineDiv){if(!(r=t.display.lineDiv.childNodes[n]))return qa(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var o=0;o<t.display.view.length;o++){var i=t.display.view[o];if(i.node==r)return Wa(i,e,n)}}function Wa(t,e,n){var r=t.text.firstChild,o=!1;if(!e||!N(r,e))return qa(te(Zt(t.line),0),!0);if(e==r&&(o=!0,e=r.childNodes[n],n=0,!e)){var i=t.rest?Y(t.rest):t.line;return qa(te(Zt(i),i.text.length),o)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var u=t.measure,l=u.maps;function c(e,n,r){for(var o=-1;o<(l?l.length:0);o++)for(var i=o<0?u.map:l[o],a=0;a<i.length;a+=3){var s=i[a+2];if(s==e||s==n){var c=Zt(o<0?t.line:t.rest[o]),f=i[a]+r;return(r<0||s!=e)&&(f=i[a+(r?1:0)]),te(c,f)}}}var f=c(a,s,n);if(f)return qa(f,o);for(var d=s.nextSibling,h=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(f=c(d,d.firstChild,0))return qa(te(f.line,f.ch-h),o);h+=d.textContent.length}for(var p=s.previousSibling,m=n;p;p=p.previousSibling){if(f=c(p,p.firstChild,-1))return qa(te(f.line,f.ch+m),o);m+=p.textContent.length}}za.prototype.init=function(t){var e=this,n=this,r=n.cm,o=n.div=t.lineDiv;function i(t){for(var e=t.target;e;e=e.parentNode){if(e==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(e.className))break}return!1}function a(t){if(i(t)&&!mt(r,t)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()}),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=Ra(r);Na({lineWise:!0,text:e.text}),"cut"==t.type&&r.operation((function(){r.setSelections(e.ranges,0,q),r.replaceSelection("",null,"cut")}))}if(t.clipboardData){t.clipboardData.clearData();var a=Da.text.join("\n");if(t.clipboardData.setData("Text",a),t.clipboardData.getData("Text")==a)return void t.preventDefault()}var s=Ba(),u=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),u.value=Da.text.join("\n");var l=document.activeElement;R(u),setTimeout((function(){r.display.lineSpace.removeChild(s),l.focus(),l==o&&n.showPrimarySelection()}),50)}}Ia(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ft(o,"paste",(function(t){!i(t)||mt(r,t)||Ma(t,r)||s<=11&&setTimeout(to(r,(function(){return e.updateFromDOM()})),20)})),ft(o,"compositionstart",(function(t){e.composing={data:t.data,done:!1}})),ft(o,"compositionupdate",(function(t){e.composing||(e.composing={data:t.data,done:!1})})),ft(o,"compositionend",(function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)})),ft(o,"touchstart",(function(){return n.forceCompositionEnd()})),ft(o,"input",(function(){e.composing||e.readFromDOMSoon()})),ft(o,"copy",a),ft(o,"cut",a)},za.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},za.prototype.prepareSelection=function(){var t=vr(this.cm,!1);return t.focus=document.activeElement==this.div,t},za.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},za.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},za.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,r=e.doc.sel.primary(),o=r.from(),i=r.to();if(e.display.viewTo==e.display.viewFrom||o.line>=e.display.viewTo||i.line<e.display.viewFrom)t.removeAllRanges();else{var a=Ua(e,t.anchorNode,t.anchorOffset),s=Ua(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(ie(a,s),o)||0!=ee(oe(a,s),i)){var u=e.display.view,l=o.line>=e.display.viewFrom&&Ha(e,o)||{node:u[0].measure.map[2],offset:0},c=i.line<e.display.viewTo&&Ha(e,i);if(!c){var f=u[u.length-1].measure,d=f.maps?f.maps[f.maps.length-1]:f.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(l&&c){var h,p=t.rangeCount&&t.getRangeAt(0);try{h=S(l.node,l.offset,c.offset,c.node)}catch(t){}h&&(!n&&e.state.focused?(t.collapse(l.node,l.offset),h.collapsed||(t.removeAllRanges(),t.addRange(h))):(t.removeAllRanges(),t.addRange(h)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},za.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation((function(){return t.cm.curOp.selectionChanged=!0}))}),20)},za.prototype.showMultipleSelections=function(t){O(this.cm.display.cursorDiv,t.cursors),O(this.cm.display.selectionDiv,t.selection)},za.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},za.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return N(this.div,e)},za.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},za.prototype.blur=function(){this.div.blur()},za.prototype.getField=function(){return this.div},za.prototype.supportsTouch=function(){return!0},za.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Qr(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}))},za.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},za.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Ua(e,t.anchorNode,t.anchorOffset),r=Ua(e,t.focusNode,t.focusOffset);n&&r&&Qr(e,(function(){ti(e.doc,To(n,r),q),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)}))}}},za.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,r=this.cm,o=r.display,i=r.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>r.firstLine()&&(a=te(a.line-1,$t(r.doc,a.line-1).length)),s.ch==$t(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=te(s.line+1,0)),a.line<o.viewFrom||s.line>o.viewTo-1)return!1;a.line==o.viewFrom||0==(t=cr(r,a.line))?(e=Zt(o.view[0].line),n=o.view[0].node):(e=Zt(o.view[t].line),n=o.view[t-1].node.nextSibling);var u,l,c=cr(r,s.line);if(c==o.view.length-1?(u=o.viewTo-1,l=o.lineDiv.lastChild):(u=Zt(o.view[c+1].line)-1,l=o.view[c+1].node.previousSibling),!n)return!1;for(var f=r.doc.splitLines(function(t,e,n,r,o){var i="",a=!1,s=t.doc.lineSeparator(),u=!1;function l(){a&&(i+=s,u&&(i+=s),a=u=!1)}function c(t){t&&(l(),i+=t)}function f(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void c(n);var i,d=e.getAttribute("cm-marker");if(d){var h=t.findMarks(te(r,0),te(o+1,0),(g=+d,function(t){return t.id==g}));return void(h.length&&(i=h[0].find(0))&&c(Gt(t.doc,i.from,i.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&l();for(var m=0;m<e.childNodes.length;m++)f(e.childNodes[m]);/^(pre|p)$/i.test(e.nodeName)&&(u=!0),p&&(a=!0)}else 3==e.nodeType&&c(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;f(e),e!=n;)e=e.nextSibling,u=!1;return i}(r,n,l,e,u)),d=Gt(r.doc,te(e,0),te(u,$t(r.doc,u).text.length));f.length>1&&d.length>1;)if(Y(f)==Y(d))f.pop(),d.pop(),u--;else{if(f[0]!=d[0])break;f.shift(),d.shift(),e++}for(var h=0,p=0,m=f[0],g=d[0],v=Math.min(m.length,g.length);h<v&&m.charCodeAt(h)==g.charCodeAt(h);)++h;for(var y=Y(f),b=Y(d),w=Math.min(y.length-(1==f.length?h:0),b.length-(1==d.length?h:0));p<w&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==f.length&&1==d.length&&e==a.line)for(;h&&h>a.ch&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)h--,p++;f[f.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(h).replace(/\u200b+$/,"");var x=te(e,h),_=te(u,d.length?Y(d).length-p:0);return f.length>1||f[0]||ee(x,_)?(mi(r.doc,f,x,_,"+input"),!0):void 0},za.prototype.ensurePolled=function(){this.forceCompositionEnd()},za.prototype.reset=function(){this.forceCompositionEnd()},za.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},za.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()}),80))},za.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Qr(this.cm,(function(){return fr(t.cm)}))},za.prototype.setUneditable=function(t){t.contentEditable="false"},za.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||to(this.cm,Pa)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},za.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},za.prototype.onContextMenu=function(){},za.prototype.resetPosition=function(){},za.prototype.needsContentAttribute=!0;var Va=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new j,this.hasSelection=!1,this.composing=null};Va.prototype.init=function(t){var e=this,n=this,r=this.cm;this.createField(t);var o=this.textarea;function i(t){if(!mt(r,t)){if(r.somethingSelected())Na({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var e=Ra(r);Na({lineWise:!0,text:e.text}),"cut"==t.type?r.setSelections(e.ranges,null,q):(n.prevInput="",o.value=e.text.join("\n"),R(o))}"cut"==t.type&&(r.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),m&&(o.style.width="0px"),ft(o,"input",(function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()})),ft(o,"paste",(function(t){mt(r,t)||Ma(t,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),ft(o,"cut",i),ft(o,"copy",i),ft(t.scroller,"paste",(function(e){if(!_n(t,e)&&!mt(r,e)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=e.clipboardData,o.dispatchEvent(i)}})),ft(t.lineSpace,"selectstart",(function(e){_n(t,e)||bt(e)})),ft(o,"compositionstart",(function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}})),ft(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Va.prototype.createField=function(t){this.wrapper=Ba(),this.textarea=this.wrapper.firstChild},Va.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},Va.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,r=vr(t);if(t.options.moveInputWithCursor){var o=Gn(t,n.sel.primary().head,"div"),i=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,o.top+a.top-i.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,o.left+a.left-i.left))}return r},Va.prototype.showSelection=function(t){var e=this.cm.display;O(e.cursorDiv,t.cursors),O(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Va.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&R(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Va.prototype.getField=function(){return this.textarea},Va.prototype.supportsTouch=function(){return!1},Va.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||P()!=this.textarea))try{this.textarea.focus()}catch(t){}},Va.prototype.blur=function(){this.textarea.blur()},Va.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Va.prototype.receivedFocus=function(){this.slowPoll()},Va.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){t.poll(),t.cm.state.focused&&t.slowPoll()}))},Va.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,(function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))}))},Va.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!e.state.focused||Pt(n)&&!r&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var o=n.value;if(o==r&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=o.charCodeAt(0);if(8203!=i||r||(r="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var u=0,l=Math.min(r.length,o.length);u<l&&r.charCodeAt(u)==o.charCodeAt(u);)++u;return Qr(e,(function(){Pa(e,o.slice(u),r.length-u,null,t.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=o,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Va.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Va.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Va.prototype.onContextMenu=function(t){var e=this,n=e.cm,r=n.display,o=e.textarea;e.contextMenuPending&&e.contextMenuPending();var i=lr(n,t),l=r.scroller.scrollTop;if(i&&!f){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&to(n,ti)(n.doc,To(i),q);var c,d=o.style.cssText,h=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(c=window.scrollY),r.input.focus(),u&&window.scrollTo(null,c),r.input.reset(),n.somethingSelected()||(o.value=e.prevInput=" "),e.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&g(),k){_t(t);var m=function(){ht(window,"mouseup",m),setTimeout(v,20)};ft(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=o.selectionStart){var t=n.somethingSelected(),i="​"+(t?o.value:"");o.value="⇚",o.value=i,e.prevInput=t?"":"​",o.selectionStart=1,o.selectionEnd=i.length,r.selForContextMenu=n.doc.sel}}function v(){if(e.contextMenuPending==v&&(e.contextMenuPending=!1,e.wrapper.style.cssText=h,o.style.cssText=d,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=l),null!=o.selectionStart)){(!a||a&&s<9)&&g();var t=0,i=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==e.prevInput?to(n,ui)(n):t++<10?r.detectingSelectAll=setTimeout(i,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(i,200)}}},Va.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Va.prototype.setUneditable=function(){},Va.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,r,o,i){t.defaults[n]=r,o&&(e[n]=i?function(t,e,n){n!=_a&&o(t,e,n)}:o)}t.defineOption=n,t.Init=_a,n("value","",(function(t,e){return t.setValue(e)}),!0),n("mode",null,(function(t,e){t.doc.modeOption=e,No(t)}),!0),n("indentUnit",2,No,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(t){Po(t),zn(t),fr(t)}),!0),n("lineSeparator",null,(function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter((function(t){for(var o=0;;){var i=t.text.indexOf(e,o);if(-1==i)break;o=i+e.length,n.push(te(r,i))}r++}));for(var o=n.length-1;o>=0;o--)mi(t.doc,e,n[o],te(n[o].line,n[o].ch+e.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=_a&&t.refresh()})),n("specialCharPlaceholder",Je,(function(t){return t.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(t,e){return t.getInputField().spellcheck=e}),!0),n("autocorrect",!1,(function(t,e){return t.getInputField().autocorrect=e}),!0),n("autocapitalize",!1,(function(t,e){return t.getInputField().autocapitalize=e}),!0),n("rtlMoveVisually",!w),n("wholeLineUpdateBefore",!0),n("theme","default",(function(t){xa(t),go(t)}),!0),n("keyMap","default",(function(t,e,n){var r=Zi(e),o=n!=_a&&Zi(n);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,Ta,!0),n("gutters",[],(function(t,e){t.display.gutterSpecs=po(e,t.options.lineNumbers),go(t)}),!0),n("fixedGutter",!0,(function(t,e){t.display.gutters.style.left=e?ar(t.display)+"px":"0",t.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(t){return Hr(t)}),!0),n("scrollbarStyle","native",(function(t){Wr(t),Hr(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(t,e){t.display.gutterSpecs=po(t.options.gutters,e),go(t)}),!0),n("firstLineNumber",1,go,!0),n("lineNumberFormatter",(function(t){return t}),go,!0),n("showCursorWhenSelecting",!1,gr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(t,e){"nocursor"==e&&(Sr(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)})),n("screenReaderLabel",null,(function(t,e){e=""===e?null:e,t.display.input.screenReaderLabelChanged(e)})),n("disableInput",!1,(function(t,e){e||t.display.input.reset()}),!0),n("dragDrop",!0,Sa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,gr,!0),n("singleCursorHeightPerLine",!0,gr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Po,!0),n("addModeClass",!1,Po,!0),n("pollInterval",100),n("undoDepth",200,(function(t,e){return t.doc.history.undoDepth=e})),n("historyEventDelay",1250),n("viewportMargin",10,(function(t){return t.refresh()}),!0),n("maxHighlightLength",1e4,Po,!0),n("moveInputWithCursor",!0,(function(t,e){e||t.display.input.resetPosition()})),n("tabindex",null,(function(t,e){return t.display.input.getField().tabIndex=e||""})),n("autofocus",null),n("direction","ltr",(function(t,e){return t.doc.setDirection(e)}),!0),n("phrases",null)}(Ea),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var r=this.options,o=r[t];r[t]==n&&"mode"!=t||(r[t]=n,e.hasOwnProperty(t)&&to(this,e[t])(this,n,o),pt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Zi(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:eo((function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var r=0,o=n(e);r<t.length&&n(t[r])<=o;)r++;t.splice(r,0,e)}(this.state.overlays,{mode:r,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(t){return t.priority})),this.state.modeGen++,fr(this)})),removeOverlay:eo((function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void fr(this)}})),indentLine:eo((function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),Jt(this.doc,t)&&Aa(this,t,e,n)})),indentSelection:eo((function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var o=e[r];if(o.empty())o.head.line>n&&(Aa(this,o.head.line,t,!0),n=o.head.line,r==this.doc.sel.primIndex&&Nr(this));else{var i=o.from(),a=o.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;u<n;++u)Aa(this,u,t);var l=this.doc.sel.ranges;0==i.ch&&e.length==l.length&&l[r].from().ch>0&&Xo(this.doc,r,new Co(i,l[r].to()),q)}}})),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=de(this,$t(this.doc,t.line)),r=0,o=(n.length-1)/2,i=t.ch;if(0==i)e=n[2];else for(;;){var a=r+o>>1;if((a?n[2*a-1]:0)>=i)o=a;else{if(!(n[2*a+1]<i)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var r=[];if(!n.hasOwnProperty(e))return r;var o=n[e],i=this.getModeAt(t);if("string"==typeof i[e])o[i[e]]&&r.push(o[i[e]]);else if(i[e])for(var a=0;a<i[e].length;a++){var s=o[i[e][a]];s&&r.push(s)}else i.helperType&&o[i.helperType]?r.push(o[i.helperType]):o[i.name]&&r.push(o[i.name]);for(var u=0;u<o._global.length;u++){var l=o._global[u];l.pred(i,this)&&-1==z(r,l.val)&&r.push(l.val)}return r},getStateAfter:function(t,e){var n=this.doc;return he(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Gn(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return $n(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Zn(this,(t=Vn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Vn(this,{top:t,left:0},e||"page").top,Xt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var r,o=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,o=!0),r=$t(this.doc,t)}else r=t;return Wn(this,r,{top:0,left:0},e||"page",n||o).top+(o?this.doc.height-Ue(r):0)},defaultTextHeight:function(){return rr(this.display)},defaultCharWidth:function(){return or(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,o){var i,a,s,u=this.display,l=(t=Gn(this,se(this.doc,t))).bottom,c=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),u.sizer.appendChild(e),"over"==r)l=t.top;else if("above"==r||"near"==r){var f=Math.max(u.wrapper.clientHeight,this.doc.height),d=Math.max(u.sizer.clientWidth,u.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>f)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=f&&(l=t.bottom),c+e.offsetWidth>d&&(c=d-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==o?(c=u.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==o?c=0:"middle"==o&&(c=(u.sizer.clientWidth-e.offsetWidth)/2),e.style.left=c+"px"),n&&(i=this,a={left:c,top:l,right:c+e.offsetWidth,bottom:l+e.offsetHeight},null!=(s=Ar(i,a)).scrollTop&&Rr(i,s.scrollTop),null!=s.scrollLeft&&Br(i,s.scrollLeft))},triggerOnKeyDown:eo(ca),triggerOnKeyPress:eo(da),triggerOnKeyUp:fa,triggerOnMouseDown:eo(ga),execCommand:function(t){if(ea.hasOwnProperty(t))return ea[t].call(null,this)},triggerElectric:eo((function(t){La(this,t)})),findPosH:function(t,e,n,r){var o=1;e<0&&(o=-1,e=-e);for(var i=se(this.doc,t),a=0;a<e&&!(i=Fa(this.doc,i,o,n,r)).hitSide;++a);return i},moveH:eo((function(t,e){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Fa(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()}),W)})),deleteH:eo((function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Xi(this,(function(n){var o=Fa(r,n.head,t,e,!1);return t<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(t,e,n,r){var o=1,i=r;e<0&&(o=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var u=Gn(this,a,"div");if(null==i?i=u.left:u.left=i,(a=ja(this,u,o,n)).hitSide)break}return a},moveV:eo((function(t,e){var n=this,r=this.doc,o=[],i=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(i)return t<0?a.from():a.to();var s=Gn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),o.push(s.left);var u=ja(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Dr(n,$n(n,u,"div").top-s.top),u}),W),o.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=o[a]})),findWordAt:function(t){var e=$t(this.doc,t.line).text,n=t.ch,r=t.ch;if(e){var o=this.getHelper(t,"wordChars");"before"!=t.sticky&&r!=e.length||!n?++r:--n;for(var i=e.charAt(n),a=tt(i,o)?function(t){return tt(t,o)}:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!tt(t)};n>0&&a(e.charAt(n-1));)--n;for(;r<e.length&&a(e.charAt(r));)++r}return new Co(te(t.line,n),te(t.line,r))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?M(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),pt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:eo((function(t,e){Pr(this,t,e)})),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Tn(this)-this.display.barHeight,width:t.scrollWidth-Tn(this)-this.display.barWidth,clientHeight:On(this),clientWidth:En(this)}},scrollIntoView:eo((function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Mr(t),t.curOp.scrollToPos=e}(this,t):Lr(this,t.from,t.to,t.margin)})),setSize:eo((function(t,e){var n=this,r=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=r(t)),null!=e&&(this.display.wrapper.style.height=r(e)),this.options.lineWrapping&&jn(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){dr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,pt(this,"refresh",this)})),operation:function(t){return Qr(this,t)},startOperation:function(){return $r(this)},endOperation:function(){return Gr(this)},refresh:eo((function(){var t=this.display.cachedTextHeight;fr(this),this.curOp.forceUpdate=!0,zn(this),Pr(this,this.doc.scrollLeft,this.doc.scrollTop),lo(this.display),(null==t||Math.abs(t-rr(this.display))>.5||this.options.lineWrapping)&&ur(this),pt(this,"refresh",this)})),swapDoc:eo((function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Io(this,t),zn(this),this.display.input.reset(),Pr(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,un(this,"swapDoc",this,e),e})),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},yt(t),t.registerHelper=function(e,r,o){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][r]=o},t.registerGlobalHelper=function(e,r,o,i){t.registerHelper(e,r,i),n[e]._global.push({pred:o,val:i})}}(Ea);var $a="iter insert remove copy getEditor constructor".split(" ");for(var Ga in Ni.prototype)Ni.prototype.hasOwnProperty(Ga)&&z($a,Ga)<0&&(Ea.prototype[Ga]=function(t){return function(){return t.apply(this.doc,arguments)}}(Ni.prototype[Ga]));return yt(Ni),Ea.inputStyles={textarea:Va,contenteditable:za},Ea.defineMode=function(t){Ea.defaults.mode||"null"==t||(Ea.defaults.mode=t),Bt.apply(this,arguments)},Ea.defineMIME=function(t,e){It[t]=e},Ea.defineMode("null",(function(){return{token:function(t){return t.skipToEnd()}}})),Ea.defineMIME("text/plain","null"),Ea.defineExtension=function(t,e){Ea.prototype[t]=e},Ea.defineDocExtension=function(t,e){Ni.prototype[t]=e},Ea.fromTextArea=function(t,e){if((e=e?B(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=P();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function r(){t.value=s.getValue()}var o;if(t.form&&(ft(t.form,"submit",r),!e.leaveSubmitMethodAlone)){var i=t.form;o=i.submit;try{var a=i.submit=function(){r(),i.submit=o,i.submit(),i.submit=a}}catch(t){}}e.finishInit=function(n){n.save=r,n.getTextArea=function(){return t},n.toTextArea=function(){n.toTextArea=isNaN,r(),t.parentNode.removeChild(n.getWrapperElement()),t.style.display="",t.form&&(ht(t.form,"submit",r),e.leaveSubmitMethodAlone||"function"!=typeof t.form.submit||(t.form.submit=o))}},t.style.display="none";var s=Ea((function(e){return t.parentNode.insertBefore(e,t.nextSibling)}),e);return s},function(t){t.off=ht,t.on=ft,t.wheelEventPixels=xo,t.Doc=Ni,t.splitLines=Nt,t.countColumn=F,t.findColumn=V,t.isWordChar=Q,t.Pass=H,t.signal=pt,t.Line=$e,t.changeEnd=Eo,t.scrollbarModel=Ur,t.Pos=te,t.cmpPos=ee,t.modes=Rt,t.mimeModes=It,t.resolveMode=Ft,t.getMode=jt,t.modeExtensions=zt,t.extendMode=Ht,t.copyState=qt,t.startState=Wt,t.innerMode=Ut,t.commands=ea,t.keyMap=Ui,t.keyName=Ki,t.isModifierKey=Gi,t.lookupKey=$i,t.normalizeKeyMap=Vi,t.StringStream=Vt,t.SharedTextMarker=Ei,t.TextMarker=Si,t.LineWidget=_i,t.e_preventDefault=bt,t.e_stopPropagation=wt,t.e_stop=_t,t.addClass=M,t.contains=N,t.rmClass=T,t.keyNames=ji}(Ea),Ea.version="5.56.0",Ea}()},Y5Mo:function(t,e,n){"use strict";n.r(e);var r=n("BOjI");n.d(e,"Application",(function(){return r.a})),n.d(e,"Context",(function(){return r.b})),n.d(e,"Controller",(function(){return r.c})),n.d(e,"defaultSchema",(function(){return r.d}))},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},YuVX:function(t,e,n){n("JRl2")},ZNhe:function(t,e,n){n("7x9u")},aVf9:function(t,e,n){n("dbjy")},bBJ9:function(t,e,n){"use strict";function r(t){return t.keys().map((function(e){return function(t,e){var n=o(e);if(n)return function(t,e){var n=t.default;if("function"==typeof n)return{identifier:e,controllerConstructor:n}}(t(e),n)}(t,e)})).filter((function(t){return t}))}function o(t){var e=(t.match(/^(?:\.\/)?(.+)(?:[_-]controller\..+?)$/)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},bXjK:function(t,e,n){!function(t){"use strict";t.defineOption("fullScreen",!1,(function(e,n,r){r==t.Init&&(r=!1),!r!=!n&&(n?function(t){var e=t.getWrapperElement();t.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:e.style.width,height:e.style.height},e.style.width="",e.style.height="auto",e.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",t.refresh()}(e):function(t){var e=t.getWrapperElement();e.className=e.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=t.state.fullScreenRestore;e.style.width=n.width,e.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),t.refresh()}(e))}))}(n("VrN/"))},dbjy:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return t.getParam("save_enablewhendirty",!0)},o=function(t,e){t.notificationManager.open({text:e,type:"error"})},i=function(t){t.addCommand("mceSave",(function(){!function(t){var n=e.DOM.getParent(t.id,"form");if(!r(t)||t.isDirty()){if(t.save(),function(t){return!!t.getParam("save_onsavecallback")}(t))return t.execCallback("save_onsavecallback",t),void t.nodeChanged();n?(t.setDirty(!1),n.onsubmit&&!n.onsubmit()||("function"==typeof n.submit?n.submit():o(t,"Error: Form submit field collision.")),t.nodeChanged()):o(t,"Error: No form element found.")}}(t)})),t.addCommand("mceCancel",(function(){!function(t){var e=n.trim(t.startContent);!function(t){return!!t.getParam("save_oncancelcallback")}(t)?t.resetContent(e):t.execCallback("save_oncancelcallback",t)}(t)}))},a=function(t){return function(e){var n=function(){e.setDisabled(r(t)&&!t.isDirty())};return t.on("NodeChange dirty",n),function(){return t.off("NodeChange dirty",n)}}};t.add("save",(function(t){!function(t){t.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return t.execCommand("mceSave")},onSetup:a(t)}),t.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return t.execCommand("mceCancel")},onSetup:a(t)}),t.addShortcut("Meta+S","","mceSave")}(t),i(t)}))}()},eOTG:function(t,e,n){n("Otic")},eeMe:function(t,e,n){"use strict";(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var h=function(){function t(){c(this,t)}return d(t,[{key:"on",value:function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}},{key:"emit",value:function(t){this._callbacks=this._callbacks||{};var e=this._callbacks[t];if(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i,a=u(e);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.apply(this,r)}}catch(t){a.e(t)}finally{a.f()}}return this}},{key:"off",value:function(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(var r=0;r<n.length;r++){var o=n[r];if(o===e){n.splice(r,1);break}}return this}}]),t}(),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(n,t);var e=o(n);function n(t,r){var o,s,u;if(c(this,n),(o=e.call(this)).element=t,o.version=n.version,o.defaultOptions.previewTemplate=o.defaultOptions.previewTemplate.replace(/\n*/g,""),o.clickableElements=[],o.listeners=[],o.files=[],"string"==typeof o.element&&(o.element=document.querySelector(o.element)),!o.element||null==o.element.nodeType)throw new Error("Invalid dropzone element.");if(o.element.dropzone)throw new Error("Dropzone already attached.");n.instances.push(a(o)),o.element.dropzone=a(o);var l=null!=(u=n.optionsForElement(o.element))?u:{};if(o.options=n.extend({},o.defaultOptions,l,null!=r?r:{}),o.options.forceFallback||!n.isBrowserSupported())return i(o,o.options.fallback.call(a(o)));if(null==o.options.url&&(o.options.url=o.element.getAttribute("action")),!o.options.url)throw new Error("No URL provided.");if(o.options.acceptedFiles&&o.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(o.options.uploadMultiple&&o.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return o.options.acceptedMimeTypes&&(o.options.acceptedFiles=o.options.acceptedMimeTypes,delete o.options.acceptedMimeTypes),null!=o.options.renameFilename&&(o.options.renameFile=function(t){return o.options.renameFilename.call(a(o),t.name,t)}),"string"==typeof o.options.method&&(o.options.method=o.options.method.toUpperCase()),(s=o.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),!1!==o.options.previewsContainer&&(o.options.previewsContainer?o.previewsContainer=n.getElement(o.options.previewsContainer,"previewsContainer"):o.previewsContainer=o.element),o.options.clickable&&(!0===o.options.clickable?o.clickableElements=[o.element]:o.clickableElements=n.getElements(o.options.clickable,"clickable")),o.init(),o}return d(n,null,[{key:"initClass",value:function(){this.prototype.Emitter=h,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(t,e,n){if(n)return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}},accept:function(t,e){return e()},chunksUploaded:function(t,e){e()},fallback:function(){var t;this.element.className="".concat(this.element.className," dz-browser-not-supported");var e,r=u(this.element.getElementsByTagName("div"));try{for(r.s();!(e=r.n()).done;){var o=e.value;if(/(^| )dz-message($| )/.test(o.className)){t=o,o.className="dz-message";break}}}catch(t){r.e(t)}finally{r.f()}t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));var i=t.getElementsByTagName("span")[0];return i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,n,r){var o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height;null==e&&null==n?(e=o.srcWidth,n=o.srcHeight):null==e?e=n*i:null==n&&(n=e/i);var a=(e=Math.min(e,o.srcWidth))/(n=Math.min(n,o.srcHeight));if(o.srcWidth>e||o.srcHeight>n)if("crop"===r)i>a?(o.srcHeight=t.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=t.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==r)throw new Error("Unknown resizeMethod '".concat(r,"'"));i>a?n=e/i:e=n*i}return o.srcX=(t.width-o.srcWidth)/2,o.srcY=(t.height-o.srcHeight)/2,o.trgWidth=e,o.trgHeight=n,o},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Check</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <title>Error</title>\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function(t){},dragend:function(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function(t){return this.element.classList.add("dz-drag-hover")},dragover:function(t){return this.element.classList.add("dz-drag-hover")},dragleave:function(t){return this.element.classList.remove("dz-drag-hover")},paste:function(t){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){t.previewElement=n.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement);var r,o=u(t.previewElement.querySelectorAll("[data-dz-name]"));try{for(o.s();!(r=o.n()).done;){var i=r.value;i.textContent=t.name}}catch(t){o.e(t)}finally{o.f()}var a,s=u(t.previewElement.querySelectorAll("[data-dz-size]"));try{for(s.s();!(a=s.n()).done;)(i=a.value).innerHTML=this.filesize(t.size)}catch(t){s.e(t)}finally{s.f()}this.options.addRemoveLinks&&(t._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),t.previewElement.appendChild(t._removeLink));var l,c=function(r){return r.preventDefault(),r.stopPropagation(),t.status===n.UPLOADING?n.confirm(e.options.dictCancelUploadConfirmation,(function(){return e.removeFile(t)})):e.options.dictRemoveFileConfirmation?n.confirm(e.options.dictRemoveFileConfirmation,(function(){return e.removeFile(t)})):e.removeFile(t)},f=u(t.previewElement.querySelectorAll("[data-dz-remove]"));try{for(f.s();!(l=f.n()).done;){l.value.addEventListener("click",c)}}catch(t){f.e(t)}finally{f.f()}}},removedfile:function(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");var n,r=u(t.previewElement.querySelectorAll("[data-dz-thumbnail]"));try{for(r.s();!(n=r.n()).done;){var o=n.value;o.alt=t.name,o.src=e}}catch(t){r.e(t)}finally{r.f()}return setTimeout((function(){return t.previewElement.classList.add("dz-image-preview")}),1)}},error:function(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"string"!=typeof e&&e.error&&(e=e.error);var n,r=u(t.previewElement.querySelectorAll("[data-dz-errormessage]"));try{for(r.s();!(n=r.n()).done;){n.value.textContent=e}}catch(t){r.e(t)}finally{r.f()}}},errormultiple:function(){},processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(t,e,n){if(t.previewElement){var r,o=u(t.previewElement.querySelectorAll("[data-dz-uploadprogress]"));try{for(o.s();!(r=o.n()).done;){var i=r.value;"PROGRESS"===i.nodeName?i.value=e:i.style.width="".concat(e,"%")}}catch(t){o.e(t)}finally{o.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var o=0,i=n;o<i.length;o++){var a=i[o];for(var s in a){var u=a[s];t[s]=u}}return t}}]),d(n,[{key:"getAcceptedFiles",value:function(){return this.files.filter((function(t){return t.accepted})).map((function(t){return t}))}},{key:"getRejectedFiles",value:function(){return this.files.filter((function(t){return!t.accepted})).map((function(t){return t}))}},{key:"getFilesWithStatus",value:function(t){return this.files.filter((function(e){return e.status===t})).map((function(t){return t}))}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(n.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(n.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(n.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter((function(t){return t.status===n.UPLOADING||t.status===n.QUEUED})).map((function(t){return t}))}},{key:"init",value:function(){var t=this;if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){!function e(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null===t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!==t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!==t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",n.getElement(t.options.hiddenInputContainer,"hiddenInputContainer").appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",(function(){var n=t.hiddenFileInput.files;if(n.length){var r,o=u(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;t.addFile(i)}}catch(t){o.e(t)}finally{o.f()}}return t.emit("addedfiles",n),e()}))}()}this.URL=null!==window.URL?window.URL:window.webkitURL;var e,r=u(this.events);try{for(r.s();!(e=r.n()).done;){var o=e.value;this.on(o,this.options[o])}}catch(t){r.e(t)}finally{r.f()}this.on("uploadprogress",(function(){return t.updateTotalUploadProgress()})),this.on("removedfile",(function(){return t.updateTotalUploadProgress()})),this.on("canceled",(function(e){return t.emit("complete",e)})),this.on("complete",(function(e){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout((function(){return t.emit("queuecomplete")}),0)}));var i=function(t){if(function(t){if(t.dataTransfer.types)for(var e=0;e<t.dataTransfer.types.length;e++)if("Files"===t.dataTransfer.types[e])return!0;return!1}(t))return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(e){return t.emit("dragstart",e)},dragenter:function(e){return i(e),t.emit("dragenter",e)},dragover:function(e){var n;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",i(e),t.emit("dragover",e)},dragleave:function(e){return t.emit("dragleave",e)},drop:function(e){return i(e),t.drop(e)},dragend:function(e){return t.emit("dragend",e)}}}],this.clickableElements.forEach((function(e){return t.listeners.push({element:e,events:{click:function(r){return(e!==t.element||r.target===t.element||n.elementInside(r.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})})),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var t,e=0,n=0;if(this.getActiveFiles().length){var r,o=u(this.getActiveFiles());try{for(o.s();!(r=o.n()).done;){var i=r.value;e+=i.upload.bytesSent,n+=i.upload.total}}catch(t){o.e(t)}finally{o.f()}t=100*e/n}else t=100;return this.emit("totaluploadprogress",t,n,e)}},{key:"_getParamName",value:function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(t,"]"):"")}},{key:"_renameFile",value:function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}},{key:"getFallbackForm",value:function(){var t,e;if(t=this.getExistingFallback())return t;var r='<div class="dz-fallback">';this.options.dictFallbackText&&(r+="<p>".concat(this.options.dictFallbackText,"</p>")),r+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var o=n.createElement(r);return"FORM"!==this.element.tagName?(e=n.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>'))).appendChild(o):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:o}},{key:"getExistingFallback",value:function(){for(var t=function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(/(^| )fallback($| )/.test(r.className))return r}}catch(t){n.e(t)}finally{n.f()}},e=0,n=["div","form"];e<n.length;e++){var r,o=n[e];if(r=t(this.element.getElementsByTagName(o)))return r}}},{key:"setupEventListeners",value:function(){return this.listeners.map((function(t){return function(){var e=[];for(var n in t.events){var r=t.events[n];e.push(t.element.addEventListener(n,r,!1))}return e}()}))}},{key:"removeEventListeners",value:function(){return this.listeners.map((function(t){return function(){var e=[];for(var n in t.events){var r=t.events[n];e.push(t.element.removeEventListener(n,r,!1))}return e}()}))}},{key:"disable",value:function(){var t=this;return this.clickableElements.forEach((function(t){return t.classList.remove("dz-clickable")})),this.removeEventListeners(),this.disabled=!0,this.files.map((function(e){return t.cancelUpload(e)}))}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach((function(t){return t.classList.add("dz-clickable")})),this.setupEventListeners()}},{key:"filesize",value:function(t){var e=0,n="b";if(t>0){for(var r=["tb","gb","mb","kb","b"],o=0;o<r.length;o++){var i=r[o];if(t>=Math.pow(this.options.filesizeBase,4-o)/10){e=t/Math.pow(this.options.filesizeBase,4-o),n=i;break}}e=Math.round(10*e)/10}return"<strong>".concat(e,"</strong> ").concat(this.options.dictFileSizeUnits[n])}},{key:"_updateMaxFilesReachedClass",value:function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(t){if(t.dataTransfer){this.emit("drop",t);for(var e=[],n=0;n<t.dataTransfer.files.length;n++)e[n]=t.dataTransfer.files[n];if(e.length){var r=t.dataTransfer.items;r&&r.length&&null!=r[0].webkitGetAsEntry?this._addFilesFromItems(r):this.handleFiles(e)}this.emit("addedfiles",e)}}},{key:"paste",value:function(t){if(null!=(e=null!=t?t.clipboardData:void 0,n=function(t){return t.items},null!=e?n(e):void 0)){var e,n;this.emit("paste",t);var r=t.clipboardData.items;return r.length?this._addFilesFromItems(r):void 0}}},{key:"handleFiles",value:function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.addFile(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"_addFilesFromItems",value:function(t){var e=this;return function(){var n,r=[],o=u(t);try{for(o.s();!(n=o.n()).done;){var i,a=n.value;null!=a.webkitGetAsEntry&&(i=a.webkitGetAsEntry())?i.isFile?r.push(e.addFile(a.getAsFile())):i.isDirectory?r.push(e._addFilesFromDirectory(i,i.name)):r.push(void 0):null!=a.getAsFile&&(null==a.kind||"file"===a.kind)?r.push(e.addFile(a.getAsFile())):r.push(void 0)}}catch(t){o.e(t)}finally{o.f()}return r}()}},{key:"_addFilesFromDirectory",value:function(t,e){var n=this,r=t.createReader(),o=function(t){return e=console,n="log",r=function(e){return e.log(t)},null!=e&&"function"==typeof e[n]?r(e,n):void 0;var e,n,r};return function t(){return r.readEntries((function(r){if(r.length>0){var o,i=u(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.isFile?a.file((function(t){if(!n.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath="".concat(e,"/").concat(t.name),n.addFile(t)})):a.isDirectory&&n._addFilesFromDirectory(a,"".concat(e,"/").concat(a.name))}}catch(t){i.e(t)}finally{i.f()}t()}return null}),o)}()}},{key:"accept",value:function(t,e){this.options.maxFilesize&&t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}},{key:"addFile",value:function(t){var e=this;t.upload={uuid:n.uuidv4(),progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=n.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(function(n){n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}))}},{key:"enqueueFiles",value:function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;this.enqueueFile(r)}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"enqueueFile",value:function(t){var e=this;if(t.status!==n.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=n.QUEUED,this.options.autoProcessQueue)return setTimeout((function(){return e.processQueue()}),0)}},{key:"_enqueueThumbnail",value:function(t){var e=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout((function(){return e._processThumbnailQueue()}),0)}},{key:"_processThumbnailQueue",value:function(){var t=this;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length){this._processingThumbnail=!0;var e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(function(n){return t.emit("thumbnail",e,n),t._processingThumbnail=!1,t._processThumbnailQueue()}))}}},{key:"removeFile",value:function(t){if(t.status===n.UPLOADING&&this.cancelUpload(t),this.files=m(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}},{key:"removeAllFiles",value:function(t){null==t&&(t=!1);var e,r=u(this.files.slice());try{for(r.s();!(e=r.n()).done;){var o=e.value;(o.status!==n.UPLOADING||t)&&this.removeFile(o)}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"resizeImage",value:function(t,e,r,o,i){var a=this;return this.createThumbnail(t,e,r,o,!0,(function(e,r){if(null==r)return i(t);var o=a.options.resizeMimeType;null==o&&(o=t.type);var s=r.toDataURL(o,a.options.resizeQuality);return"image/jpeg"!==o&&"image/jpg"!==o||(s=y.restore(t.dataURL,s)),i(n.dataURItoBlob(s))}))}},{key:"createThumbnail",value:function(t,e,n,r,o,i){var a=this,s=new FileReader;s.onload=function(){t.dataURL=s.result,"image/svg+xml"!==t.type?a.createThumbnailFromUrl(t,e,n,r,o,i):null!=i&&i(s.result)},s.readAsDataURL(t)}},{key:"displayExistingFile",value:function(t,e,n,r){var o=this,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.emit("addedfile",t),this.emit("complete",t),i){var a=function(e){o.emit("thumbnail",t,e),n&&n()};t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.resizeMethod,this.options.fixOrientation,a,r)}else this.emit("thumbnail",t,e),n&&n()}},{key:"createThumbnailFromUrl",value:function(t,e,n,r,o,i,a){var s=this,u=document.createElement("img");return a&&(u.crossOrigin=a),o="from-image"!=getComputedStyle(document.body).imageOrientation&&o,u.onload=function(){var a=function(t){return t(1)};return"undefined"!=typeof EXIF&&null!==EXIF&&o&&(a=function(t){return EXIF.getData(u,(function(){return t(EXIF.getTag(this,"Orientation"))}))}),a((function(o){t.width=u.width,t.height=u.height;var a=s.options.resize.call(s,t,e,n,r),l=document.createElement("canvas"),c=l.getContext("2d");switch(l.width=a.trgWidth,l.height=a.trgHeight,o>4&&(l.width=a.trgHeight,l.height=a.trgWidth),o){case 2:c.translate(l.width,0),c.scale(-1,1);break;case 3:c.translate(l.width,l.height),c.rotate(Math.PI);break;case 4:c.translate(0,l.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-l.width);break;case 7:c.rotate(.5*Math.PI),c.translate(l.height,-l.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-l.height,0)}v(c,u,null!=a.srcX?a.srcX:0,null!=a.srcY?a.srcY:0,a.srcWidth,a.srcHeight,null!=a.trgX?a.trgX:0,null!=a.trgY?a.trgY:0,a.trgWidth,a.trgHeight);var f=l.toDataURL("image/png");if(null!=i)return i(f,l)}))},null!=i&&(u.onerror=i),u.src=t.dataURL}},{key:"processQueue",value:function(){var t=this.options.parallelUploads,e=this.getUploadingFiles().length,n=e;if(!(e>=t)){var r=this.getQueuedFiles();if(r.length>0){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,t-e));for(;n<t;){if(!r.length)return;this.processFile(r.shift()),n++}}}}},{key:"processFile",value:function(t){return this.processFiles([t])}},{key:"processFiles",value:function(t){var e,r=u(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;o.processing=!0,o.status=n.UPLOADING,this.emit("processing",o)}}catch(t){r.e(t)}finally{r.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}},{key:"_getFilesWithXhr",value:function(t){return this.files.filter((function(e){return e.xhr===t})).map((function(t){return t}))}},{key:"cancelUpload",value:function(t){if(t.status===n.UPLOADING){var e,r=this._getFilesWithXhr(t.xhr),o=u(r);try{for(o.s();!(e=o.n()).done;){e.value.status=n.CANCELED}}catch(t){o.e(t)}finally{o.f()}void 0!==t.xhr&&t.xhr.abort();var i,a=u(r);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.emit("canceled",s)}}catch(t){a.e(t)}finally{a.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",r)}else t.status!==n.ADDED&&t.status!==n.QUEUED||(t.status=n.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(t){if("function"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(this,n)}return t}},{key:"uploadFile",value:function(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function(t){var e=this;this._transformFiles(t,(function(r){if(e.options.chunking){var o=r[0];t[0].upload.chunked=e.options.chunking&&(e.options.forceChunking||o.size>e.options.chunkSize),t[0].upload.totalChunkCount=Math.ceil(o.size/e.options.chunkSize)}if(t[0].upload.chunked){var i=t[0],a=r[0];i.upload.chunks=[];var s=function(){for(var r=0;void 0!==i.upload.chunks[r];)r++;if(!(r>=i.upload.totalChunkCount)){0;var o=r*e.options.chunkSize,s=Math.min(o+e.options.chunkSize,a.size),u={name:e._getParamName(0),data:a.webkitSlice?a.webkitSlice(o,s):a.slice(o,s),filename:i.upload.filename,chunkIndex:r};i.upload.chunks[r]={file:i,index:r,dataBlock:u,status:n.UPLOADING,progress:0,retries:0},e._uploadData(t,[u])}};if(i.upload.finishedChunkUpload=function(r){var o=!0;r.status=n.SUCCESS,r.dataBlock=null,r.xhr=null;for(var a=0;a<i.upload.totalChunkCount;a++){if(void 0===i.upload.chunks[a])return s();i.upload.chunks[a].status!==n.SUCCESS&&(o=!1)}o&&e.options.chunksUploaded(i,(function(){e._finished(t,"",null)}))},e.options.parallelChunkUploads)for(var u=0;u<i.upload.totalChunkCount;u++)s();else s()}else{for(var l=[],c=0;c<t.length;c++)l[c]={name:e._getParamName(c),data:r[c],filename:t[c].upload.filename};e._uploadData(t,l)}}))}},{key:"_getChunk",value:function(t,e){for(var n=0;n<t.upload.totalChunkCount;n++)if(void 0!==t.upload.chunks[n]&&t.upload.chunks[n].xhr===e)return t.upload.chunks[n]}},{key:"_uploadData",value:function(t,e){var r,o=this,i=new XMLHttpRequest,a=u(t);try{for(a.s();!(r=a.n()).done;){r.value.xhr=i}}catch(t){a.e(t)}finally{a.f()}t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=i);var s=this.resolveOption(this.options.method,t),l=this.resolveOption(this.options.url,t);i.open(s,l,!0),i.timeout=this.resolveOption(this.options.timeout,t),i.withCredentials=!!this.options.withCredentials,i.onload=function(e){o._finishedUploading(t,i,e)},i.ontimeout=function(){o._handleUploadError(t,i,"Request timedout after ".concat(o.options.timeout/1e3," seconds"))},i.onerror=function(){o._handleUploadError(t,i)},(null!=i.upload?i.upload:i).onprogress=function(e){return o._updateFilesUploadProgress(t,i,e)};var c={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};for(var f in this.options.headers&&n.extend(c,this.options.headers),c){var d=c[f];d&&i.setRequestHeader(f,d)}var h=new FormData;if(this.options.params){var p=this.options.params;for(var m in"function"==typeof p&&(p=p.call(this,t,i,t[0].upload.chunked?this._getChunk(t[0],i):null)),p){var g=p[m];if(Array.isArray(g))for(var v=0;v<g.length;v++)h.append(m,g[v]);else h.append(m,g)}}var y,b=u(t);try{for(b.s();!(y=b.n()).done;){var w=y.value;this.emit("sending",w,i,h)}}catch(t){b.e(t)}finally{b.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",t,i,h),this._addFormElementData(h);for(var x=0;x<e.length;x++){var _=e[x];h.append(_.name,_.data,_.filename)}this.submitRequest(i,h,t)}},{key:"_transformFiles",value:function(t,e){for(var n=this,r=[],o=0,i=function(i){n.options.transformFile.call(n,t[i],(function(n){r[i]=n,++o===t.length&&e(r)}))},a=0;a<t.length;a++)i(a)}},{key:"_addFormElementData",value:function(t){if("FORM"===this.element.tagName){var e,n=u(this.element.querySelectorAll("input, textarea, select, button"));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.getAttribute("name"),i=r.getAttribute("type");if(i&&(i=i.toLowerCase()),null!=o)if("SELECT"===r.tagName&&r.hasAttribute("multiple")){var a,s=u(r.options);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.selected&&t.append(o,l.value)}}catch(t){s.e(t)}finally{s.f()}}else(!i||"checkbox"!==i&&"radio"!==i||r.checked)&&t.append(o,r.value)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"_updateFilesUploadProgress",value:function(t,e,n){var r;if(void 0!==n){if(r=100*n.loaded/n.total,t[0].upload.chunked){var o=t[0],i=this._getChunk(o,e);i.progress=r,i.total=n.total,i.bytesSent=n.loaded;o.upload.progress=0,o.upload.total=0,o.upload.bytesSent=0;for(var a=0;a<o.upload.totalChunkCount;a++)void 0!==o.upload.chunks[a]&&void 0!==o.upload.chunks[a].progress&&(o.upload.progress+=o.upload.chunks[a].progress,o.upload.total+=o.upload.chunks[a].total,o.upload.bytesSent+=o.upload.chunks[a].bytesSent);o.upload.progress=o.upload.progress/o.upload.totalChunkCount}else{var s,l=u(t);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.upload.progress=r,c.upload.total=n.total,c.upload.bytesSent=n.loaded}}catch(t){l.e(t)}finally{l.f()}}var f,d=u(t);try{for(d.s();!(f=d.n()).done;){var h=f.value;this.emit("uploadprogress",h,h.upload.progress,h.upload.bytesSent)}}catch(t){d.e(t)}finally{d.f()}}else{var p=!0;r=100;var m,g=u(t);try{for(g.s();!(m=g.n()).done;){var v=m.value;100===v.upload.progress&&v.upload.bytesSent===v.upload.total||(p=!1),v.upload.progress=r,v.upload.bytesSent=v.upload.total}}catch(t){g.e(t)}finally{g.f()}if(p)return;var y,b=u(t);try{for(b.s();!(y=b.n()).done;){var w=y.value;this.emit("uploadprogress",w,r,w.upload.bytesSent)}}catch(t){b.e(t)}finally{b.f()}}}},{key:"_finishedUploading",value:function(t,e,r){var o;if(t[0].status!==n.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(o=e.responseText,e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")))try{o=JSON.parse(o)}catch(t){r=t,o="Invalid JSON response from server."}this._updateFilesUploadProgress(t),200<=e.status&&e.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e)):this._finished(t,o,r):this._handleUploadError(t,e,o)}}},{key:"_handleUploadError",value:function(t,e,r){if(t[0].status!==n.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){var o=this._getChunk(t[0],e);if(o.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[o.dataBlock])}this._errorProcessing(t,r||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}},{key:"submitRequest",value:function(t,e,n){t.send(e)}},{key:"_finished",value:function(t,e,r){var o,i=u(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.status=n.SUCCESS,this.emit("success",a,e,r),this.emit("complete",a)}}catch(t){i.e(t)}finally{i.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(t,e,r){var o,i=u(t);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.status=n.ERROR,this.emit("error",a,e,r),this.emit("complete",a)}}catch(t){i.e(t)}finally{i.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,r),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}}]),n}(h);p.initClass(),p.version="5.7.2",p.options={},p.optionsForElement=function(t){return t.getAttribute("id")?p.options[g(t.getAttribute("id"))]:void 0},p.instances=[],p.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},p.autoDiscover=!0,p.discover=function(){var t;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];var e=function(e){return function(){var n,r=[],o=u(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;/(^| )dropzone($| )/.test(i.className)?r.push(t.push(i)):r.push(void 0)}}catch(t){o.e(t)}finally{o.f()}return r}()};e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return function(){var e,n=[],r=u(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;!1!==p.optionsForElement(o)?n.push(new p(o)):n.push(void 0)}}catch(t){r.e(t)}finally{r.f()}return n}()},p.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],p.isBrowserSupported=function(){var t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){var e,n=u(p.blacklistedBrowsers);try{for(n.s();!(e=n.n()).done;){e.value.test(navigator.userAgent)&&(t=!1)}}catch(t){n.e(t)}finally{n.f()}}else t=!1;else t=!1;return t},p.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),n=t.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(e.length),o=new Uint8Array(r),i=0,a=e.length,s=0<=a;s?i<=a:i>=a;s?i++:i--)o[i]=e.charCodeAt(i);return new Blob([r],{type:n})};var m=function(t,e){return t.filter((function(t){return t!==e})).map((function(t){return t}))},g=function(t){return t.replace(/[\-_](\w)/g,(function(t){return t.charAt(1).toUpperCase()}))};p.createElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},p.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},p.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector or a plain HTML element."));return n},p.getElements=function(t,e){var n,r;if(t instanceof Array){r=[];try{var o,i=u(t);try{for(i.s();!(o=i.n()).done;)n=o.value,r.push(this.getElement(n,e))}catch(t){i.e(t)}finally{i.f()}}catch(t){r=null}}else if("string"==typeof t){r=[];var a,s=u(document.querySelectorAll(t));try{for(s.s();!(a=s.n()).done;)n=a.value,r.push(n)}catch(t){s.e(t)}finally{s.f()}}else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `".concat(e,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return r},p.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},p.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");var n,r=t.type,o=r.replace(/\/.*$/,""),i=u(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if("."===(a=a.trim()).charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(o===a.replace(/\/.*$/,""))return!0}else if(r===a)return!0}}catch(t){i.e(t)}finally{i.f()}return!1},null!=t&&(t.fn.dropzone=function(t){return this.each((function(){return new p(this,t)}))}),null!==e?e.exports=p:window.Dropzone=p,p.ADDED="added",p.QUEUED="queued",p.ACCEPTED=p.QUEUED,p.UPLOADING="uploading",p.PROCESSING=p.UPLOADING,p.CANCELED="canceled",p.ERROR="error",p.SUCCESS="success";var v=function(t,e,n,r,o,i,a,s,u,l){var c=function(t){t.naturalWidth;var e=t.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=e;var r=n.getContext("2d");r.drawImage(t,0,0);for(var o=r.getImageData(1,0,1,e).data,i=0,a=e,s=e;s>i;){0===o[4*(s-1)+3]?a=s:i=s,s=a+i>>1}var u=s/e;return 0===u?1:u}(e);return t.drawImage(e,n,r,o,i,a,s,u,l/c)},y=function(){function t(){c(this,t)}return d(t,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(t){for(var e="",n=void 0,r=void 0,o="",i=void 0,a=void 0,s=void 0,u="",l=0;i=(n=t[l++])>>2,a=(3&n)<<4|(r=t[l++])>>4,s=(15&r)<<2|(o=t[l++])>>6,u=63&o,isNaN(r)?s=u=64:isNaN(o)&&(u=64),e=e+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u),n=r=o="",i=a=s=u="",l<t.length;);return e}},{key:"restore",value:function(t,e){if(!t.match("data:image/jpeg;base64,"))return e;var n=this.decode64(t.replace("data:image/jpeg;base64,","")),r=this.slice2Segments(n),o=this.exifManipulation(e,r);return"data:image/jpeg;base64,".concat(this.encode64(o))}},{key:"exifManipulation",value:function(t,e){var n=this.getExifArray(e),r=this.insertExif(t,n);return new Uint8Array(r)}},{key:"getExifArray",value:function(t){for(var e=void 0,n=0;n<t.length;){if(255===(e=t[n])[0]&225===e[1])return e;n++}return[]}},{key:"insertExif",value:function(t,e){var n=t.replace("data:image/jpeg;base64,",""),r=this.decode64(n),o=r.indexOf(255,3),i=r.slice(0,o),a=r.slice(o),s=i;return s=(s=s.concat(e)).concat(a)}},{key:"slice2Segments",value:function(t){for(var e=0,n=[];;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{var r=e+(256*t[e+2]+t[e+3])+2,o=t.slice(e,r);n.push(o),e=r}if(e>t.length)break}return n}},{key:"decode64",value:function(t){var e=void 0,n=void 0,r="",o=void 0,i=void 0,a="",s=0,u=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");e=this.KEY_STR.indexOf(t.charAt(s++))<<2|(o=this.KEY_STR.indexOf(t.charAt(s++)))>>4,n=(15&o)<<4|(i=this.KEY_STR.indexOf(t.charAt(s++)))>>2,r=(3&i)<<6|(a=this.KEY_STR.indexOf(t.charAt(s++))),u.push(e),64!==i&&u.push(n),64!==a&&u.push(r),e=n=r="",o=i=a="",s<t.length;);return u}}]),t}();y.initClass();p._autoDiscoverFunction=function(){if(p.autoDiscover)return p.discover()},function(t,e){var n=!1,r=!0,o=t.document,i=o.documentElement,a=o.addEventListener?"addEventListener":"attachEvent",s=o.addEventListener?"removeEventListener":"detachEvent",u=o.addEventListener?"":"on",l=function r(i){if("readystatechange"!==i.type||"complete"===o.readyState)return("load"===i.type?t:o)[s](u+i.type,r,!1),!n&&(n=!0)?e.call(t,i.type||i):void 0};if("complete"!==o.readyState){if(o.createEventObject&&i.doScroll){try{r=!t.frameElement}catch(t){}r&&function t(){try{i.doScroll("left")}catch(e){return void setTimeout(t,50)}return l("poll")}()}o[a](u+"DOMContentLoaded",l,!1),o[a](u+"readystatechange",l,!1),t[a](u+"load",l,!1)}}(window,p._autoDiscoverFunction)}).call(this,n("EVdn"),n("YuTi")(t))},endd:function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},eqyj:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"fE+E":function(t,e){!function(t){"use strict";var e,n,r,o,i=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},u=function(t,e){t.addCommand("mceTogglePlainTextPaste",(function(){!function(t,e){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),s(t,!1)):(e.pasteFormat.set("text"),s(t,!0)),t.focus()}(t,e)})),t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)}))},l=function(){},c=function(t){return function(){return t}},f=c(!1),d=c(!0),h=function(){return p},p=(e=function(t){return t.isNone()},{fold:function(t,e){return t()},is:f,isSome:f,isNone:d,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:c(null),getOrUndefined:c(void 0),or:r,orThunk:n,map:h,each:l,bind:h,exists:f,forall:d,filter:h,equals:e,equals_:e,toArray:function(){return[]},toString:c("none()")}),m=function(t){var e=c(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:d,isNone:f,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return m(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:p},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(f,(function(e){return n(t,e)}))}};return o},g={some:m,none:h,from:function(t){return null==t?p:m(t)}},v=(o="function",function(t){return typeof t===o}),y=Array.prototype.slice,b=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},w=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},x=v(Array.from)?Array.from:function(t){return y.call(t)},_=tinymce.util.Tools.resolve("tinymce.Env"),k=tinymce.util.Tools.resolve("tinymce.util.Delay"),C=tinymce.util.Tools.resolve("tinymce.util.Promise"),S=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.util.VK"),E=function(t){return-1!==t.indexOf("\x3c!-- x-tinymce/html --\x3e")},O=tinymce.util.Tools.resolve("tinymce.html.Entities"),A=function(t,e,n){var r=t.split(/\n\n/),o=function(t,e){var n,r=[],o="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+O.encodeAllRaw(e[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"}(e,n),i="</"+e+">",a=S.map(r,(function(t){return t.split(/\n/).join("<br />")}));return 1===a.length?a[0]:S.map(a,(function(t){return o+t+i})).join("")},D=tinymce.util.Tools.resolve("tinymce.html.DomParser"),N=tinymce.util.Tools.resolve("tinymce.html.Serializer"),P=tinymce.util.Tools.resolve("tinymce.html.Node"),M=tinymce.util.Tools.resolve("tinymce.html.Schema"),L=function(t){return t.getParam("paste_data_images",!1)},R=function(t){return t.getParam("paste_merge_formats",!0)},I=function(t){return t.getParam("paste_retain_style_properties")},B=function(t){return t.getParam("validate")},F=function(t){return t.getParam("allow_html_data_urls",!1,"boolean")},j=function(t){return t.getParam("paste_data_images",!1,"boolean")};function z(t,e){return S.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}function H(t){return t=z(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?" ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])}var q=function(){return-1!==t.navigator.userAgent.indexOf(" Edge/")};function U(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}function W(t){var e;return t=t.replace(/^[\u00a0 ]+/,""),S.each([/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],(function(n){if(n.test(t))return e=!0,!1})),e}function V(t){var e,n,r=1;function o(t){var e="";if(3===t.type)return t.value;if(t=t.firstChild)do{e+=o(t)}while(t=t.next);return e}function i(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do{if(!i(t,e))return!1}while(t=t.next);return!0}function a(t,o,a){var s=t._listLevel||r;s!==r&&(s<r?e&&(e=e.parent.parent):(n=e,e=null)),e&&e.name===o?e.append(t):(n=n||e,e=new P(o,1),a>1&&e.attr("start",""+a),t.wrap(e)),t.name="li",s>r&&n&&n.lastChild.append(e),r=s,function t(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{t(e)}while(e=e.next)}(t),i(t,/^\u00a0+/),i(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(t,/^\u00a0+/)}for(var s=[],u=t.firstChild;null!=u;)if(s.push(u),null!==(u=u.walk()))for(;void 0!==u&&u.parent!==t;)u=u.walk();for(var l=0;l<s.length;l++)if("p"===(t=s[l]).name&&t.firstChild){var c=o(t);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)){a(t,"ul");continue}if(W(c)){var f=/([0-9]+)\./.exec(c),d=1;f&&(d=parseInt(f[1],10)),a(t,"ol",d);continue}if(t._listLevel){a(t,"ul",1);continue}e=null}else n=e,e=null}function $(t,e,n,r){var o,i={},a=t.dom.parseStyle(r);return S.each(a,(function(a,s){switch(s){case"mso-list":(o=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(i[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}0!==s.indexOf("mso-comment")?0!==s.indexOf("mso-")&&("all"===I(t)||e&&e[s])&&(i[s]=a):n.remove()})),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new P("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new P("i",1))),(i=t.dom.serializeStyle(i,n.name))||null}var G,Y,K=function(t,e){return function(t){return t.getParam("paste_enable_default_filters",!0)}(t)?function(t,e){var n,r=I(t);r&&(n=S.makeMap(r.split(/[, ]/))),e=z(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(" "):""}]]);var o=function(t){return t.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(t),i=M({valid_elements:o,valid_children:"-li[p]"});S.each(i.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var a=D({},i);a.addAttributeFilter("style",(function(e){for(var r,o=e.length;o--;)(r=e[o]).attr("style",$(t,n,r,r.attr("style"))),"span"===r.name&&r.parent&&!r.attributes.length&&r.unwrap()})),a.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)n=(e=t[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)})),a.addNodeFilter("del",(function(t){for(var e=t.length;e--;)t[e].remove()})),a.addNodeFilter("a",(function(t){for(var e,n,r,o=t.length;o--;)if(n=(e=t[o]).attr("href"),r=e.attr("name"),n&&-1!==n.indexOf("#_msocom_"))e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()}));var s=a.parse(e);return function(t){return t.getParam("paste_convert_word_fake_lists",!0)}(t)&&V(s),e=N({validate:B(t)},i).serialize(s)}(t,e):e},Z=function(t,e){return{content:t,cancelled:e}},X=function(t,e,n,r){var o=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})}(t,e,n,r),i=function(t,e){var n=D({},t.schema);n.addNodeFilter("meta",(function(t){S.each(t,(function(t){return t.remove()}))}));var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return N({validate:B(t)},t.schema).serialize(r)}(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e),i=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})}(t,o,n,r);return Z(i.node.innerHTML,i.isDefaultPrevented())}(t,i,n,r):Z(i,o.isDefaultPrevented())},J=function(t,e){return t.insertContent(e,{merge:R(t),paste:!0}),!0},Q=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},tt=function(t){return Q(t)&&/.(gif|jpe?g|png)$/.test(t)},et=function(t,e,n){return!(!1!==t.selection.isCollapsed()||!Q(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},nt=function(t,e,n){return!!tt(e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},rt=function(t,e,n){n||!1===function(t){return t.getParam("smart_paste",!0)}(t)?J(t,e):function(t,e){S.each([et,nt,J],(function(n){return!0!==n(t,e,J)}))}(t,e)},ot=function(t){return"\n"===t||"\r"===t},it=function(t){return function(t,e,n){return w(t,(function(t){n=e(n,t)})),n}(t,(function(e,n){return function(t){return-1!==" \f\t\v".indexOf(t)}(n)||" "===n?e.pcIsSpace||""===e.str||e.str.length===t.length-1||function(t,e){return e<t.length&&e>=0&&ot(t[e])}(t,e.str.length+1)?{pcIsSpace:!1,str:e.str+" "}:{pcIsSpace:!0,str:e.str+" "}:{pcIsSpace:ot(n),str:e.str+n}}),{pcIsSpace:!1,str:""}).str},at=function(t,e,n,r){var o=function(t,e,n){var r=U(e),o=r?K(t,e):e;return X(t,o,n,r)}(t,e,n);!1===o.cancelled&&rt(t,o.content,r)},st=function(t,e,n){var r=n||E(e);at(t,function(t){return t.replace("\x3c!-- x-tinymce/html --\x3e","")}(e),r,!1)},ut=function(t,e){var n=t.dom.encode(e).replace(/\r\n/g,"\n"),r=function(t,e,n){return e?A(t,!0===e?"p":e,n):function(t){return t.replace(/\r?\n/g,"<br>")}(t)}(it(n),function(t){return t.getParam("forced_root_block")}(t),function(t){return t.getParam("forced_root_block_attrs")}(t));at(t,r,!1,!0)},lt=function(t){var e={};if(t){if(t.getData){var n=t.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(e["text/plain"]=n)}if(t.types)for(var r=0;r<t.types.length;r++){var o=t.types[r];try{e[o]=t.getData(o)}catch(t){e[o]=""}}}return e},ct=function(t,e){return e in t&&t[e].length>0},ft=function(t){return ct(t,"text/html")||ct(t,"text/plain")},dt=(G="mceclip",Y=0,function(){return G+Y++}),ht=function(e,n){var r,o,i=(r=n.uri,(o=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(r))?{type:o[1],data:decodeURIComponent(o[2])}:{type:null,data:null}),a=i.data,s=i.type,u=dt(),l=function(t){return t.getParam("images_reuse_filename")}(e)&&n.blob.name?function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null}(e,n.blob.name):u,c=new t.Image;if(c.src=n.uri,function(t,e){var n=function(t){return t.getParam("images_dataimg_filter")}(t);return!n||n(e)}(e,c)){var f=e.editorUpload.blobCache,d=void 0,h=f.getByData(a,s);h?d=h:(d=f.create(u,n.blob,a,l),f.add(d)),st(e,'<img src="'+d.blobUri()+'">',!1)}else st(e,'<img src="'+n.uri+'">',!1)},pt=function(t,e,n){var r,o="paste"===e.type?e.clipboardData:e.dataTransfer;if(j(t)&&o){var i=function(t){var e=t.items?b(x(t.items),(function(t){return t.getAsFile()})):[],n=t.files?x(t.files):[];return function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}(e.length>0?e:n,(function(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)}))}(o);if(i.length>0)return e.preventDefault(),(r=i,C.all(b(r,(function(t){return new C((function(e){var n=t.getAsFile?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)}))})))).then((function(e){n&&t.selection.setRng(n),w(e,(function(e){ht(t,e)}))})),!0}return!1},mt=function(t){return T.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},gt=function(e,n,r){var o,a,s=(o=i(g.none()),{clear:function(){o.set(g.none())},set:function(t){o.set(g.some(t))},isSet:function(){return o.get().isSome()},on:function(t){o.get().each(t)}});function u(t,r,o,i){var a;ct(t,"text/html")?a=t["text/html"]:(a=n.getHtml(),i=i||E(a),n.isDefaultContent(a)&&(o=!0)),a=H(a),n.remove();var s=!1===i&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),u=tt(a);(!a.length||s&&!u)&&(o=!0),(o||u)&&(a=ct(t,"text/plain")&&s?t["text/plain"]:function(t){var e=M(),n=D({},e),r="",o=e.getShortEndedElements(),i=S.makeMap("script noscript style textarea video audio iframe object"," "),a=e.getBlockElements();return t=z(t,[/<!\[[^\]]+\]>/g]),function t(e){var n=e.name,s=e;if("br"!==n){if("wbr"!==n)if(o[n]&&(r+=" "),i[n])r+=" ";else{if(3===e.type&&(r+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);a[n]&&s.next&&(r+="\n","p"===n&&(r+="\n"))}}else r+="\n"}(n.parse(t)),r}(a)),n.isDefaultContent(a)?r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):o?ut(e,a):st(e,a,i)}e.on("keydown",(function(r){function o(t){mt(t)&&!t.isDefaultPrevented()&&n.remove()}if(mt(r)&&!r.isDefaultPrevented()){if((a=r.shiftKey&&86===r.keyCode)&&_.webkit&&-1!==t.navigator.userAgent.indexOf("Version/"))return;if(r.stopImmediatePropagation(),s.set(r),window.setTimeout((function(){s.clear()}),100),_.ie&&a)return r.preventDefault(),void function(t,e){t.fire("paste",{ieFake:e})}(e,!0);n.remove(),n.create(),e.once("keyup",o),e.once("paste",(function(){e.off("keyup",o)}))}}));e.on("paste",(function(o){var i=s.isSet(),l=function(t,e){var n=lt(e.clipboardData||t.getDoc().dataTransfer);return q()?S.extend(n,{"text/html":""}):n}(e,o),c="text"===r.get()||a,f=ct(l,"x-tinymce/html");a=!1,o.isDefaultPrevented()||function(e){var n=e.clipboardData;return-1!==t.navigator.userAgent.indexOf("Android")&&n&&n.items&&0===n.items.length}(o)?n.remove():ft(l)||!pt(e,o,n.getLastRng()||e.selection.getRng())?(i||o.preventDefault(),!_.ie||i&&!o.ieFake||ct(l,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",(function(t){t.stopPropagation()})),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=n.getHtml()),ct(l,"text/html")?(o.preventDefault(),f||(f=E(l["text/html"])),u(l,i,c,f)):k.setEditorTimeout(e,(function(){u(l,i,c,f)}),0)):n.remove()}))},vt=function(e){return _.ie&&e.inline?t.document.body:e.getBody()},yt=function(t,e,n){(function(t){return vt(t)!==t.getBody()})(t)&&t.dom.bind(e,"paste keyup",(function(e){xt(t,n)||t.fire("paste")}))},bt=function(t){return t.dom.get("mcepastebin")},wt=function(t,e){return e===t},xt=function(t,e){var n,r=bt(t);return(n=r)&&"mcepastebin"===n.id&&wt(e,r.innerHTML)},_t=function(t){var e=i(null);return{create:function(){return function(t,e,n){var r=t.dom,o=t.getBody();e.set(t.selection.getRng());var i=t.dom.add(vt(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n);(_.ie||_.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),yt(t,i,n),i.focus(),t.selection.select(i,!0)}(t,e,"%MCEPASTEBIN%")},remove:function(){return function(t,e){if(bt(t)){for(var n=void 0,r=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)}(t,e)},getEl:function(){return bt(t)},getHtml:function(){return function(t){var e=function(e,n){e.appendChild(n),t.dom.remove(n,!0)},n=S.grep(vt(t).childNodes,(function(t){return"mcepastebin"===t.id})),r=n.shift();S.each(n,(function(t){e(r,t)}));for(var o=t.dom.select("div[id=mcepastebin]",r),i=o.length-1;i>=0;i--){var a=t.dom.create("div");r.insertBefore(a,o[i]),e(a,o[i])}return r?r.innerHTML:""}(t)},getLastRng:function(){return function(t){return t.get()}(e)},isDefault:function(){return xt(t,"%MCEPASTEBIN%")},isDefaultContent:function(t){return wt("%MCEPASTEBIN%",t)}}},kt=function(t,e){var n=_t(t);return t.on("PreInit",(function(){return function(t,e,n){var r;gt(t,e,n),t.parser.addNodeFilter("img",(function(e,n,o){var i=function(t){t.attr("data-mce-object")||r===_.transparentSrc||t.remove()},a=function(t){return 0===t.indexOf("webkit-fake-url")},s=function(t){return 0===t.indexOf("data:")};if(!j(t)&&function(t){return t.data&&!0===t.data.paste}(o))for(var u=e.length;u--;)(r=e[u].attr("src"))&&(a(r)||!F(t)&&s(r))&&i(e[u])}))}(t,n,e)})),{pasteFormat:e,pasteHtml:function(e,n){return st(t,e,n)},pasteText:function(e){return ut(t,e)},pasteImageData:function(e,n){return pt(t,e,n)},getDataTransferItems:lt,hasHtmlOrText:ft,hasContentType:ct}},Ct=function(t,e,n){if(!function(t){return!1===_.iOS&&void 0!==t&&"function"==typeof t.setData&&!0!==q()}(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData("x-tinymce/html",e),!0}catch(t){return!1}},St=function(t,e,n,r){Ct(t.clipboardData,e.html,e.text)?(t.preventDefault(),r()):n(e.html,r)},Tt=function(t){return function(e,n){var r=function(t){return"\x3c!-- x-tinymce/html --\x3e"+t}(e),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var a=t.selection.getRng();i.focus();var s=t.dom.createRng();s.selectNodeContents(i),t.selection.setRng(s),k.setTimeout((function(){t.selection.setRng(a),o.parentNode.removeChild(o),n()}),0)}},Et=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},Ot=function(t){return!t.selection.isCollapsed()||function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())}(t)},At=function(t){t.on("cut",function(t){return function(e){Ot(t)&&St(e,Et(t),Tt(t),(function(){if(_.browser.isChrome()){var e=t.selection.getRng();k.setEditorTimeout(t,(function(){t.selection.setRng(e),t.execCommand("Delete")}),0)}else t.execCommand("Delete")}))}}(t)),t.on("copy",function(t){return function(e){Ot(t)&&St(e,Et(t),Tt(t),(function(){}))}}(t))},Dt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Nt=function(t,e){return Dt.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},Pt=function(t,e){t.focus(),t.selection.setRng(e)};function Mt(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function Lt(t,e){if(!U(e))return e;var n=[];return S.each(t.schema.getBlockElements(),(function(t,e){n.push(e)})),e=z(e,[[new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g"),"$1"]]),e=z(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function Rt(t,e,n,r){if(r||n)return e;var o,i=function(t){return t.getParam("paste_webkit_styles")}(t);if(!1===function(t){return t.getParam("paste_remove_styles_if_webkit",!0)}(t)||"all"===i)return e;if(i&&(o=i.split(/[, ]/)),o){var a=t.dom,s=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,r){var i=a.parseStyle(a.decode(n)),u={};if("none"===o)return e+r;for(var l=0;l<o.length;l++){var c=i[o[l]],f=a.getStyle(s,o[l],!0);/color/.test(o[l])&&(c=a.toHex(c),f=a.toHex(f)),f!==c&&(u[o[l]]=c)}return(u=a.serializeStyle(u,"span"))?e+' style="'+u+'"'+r:e+r}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,r){return e+' style="'+n+'"'+r}))}function It(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,!0)}))}var Bt=function(t,e){return function(n){n.setActive("text"===e.pasteFormat.get());var r=function(t){return n.setActive(t.state)};return t.on("PastePlainTextToggle",r),function(){return t.off("PastePlainTextToggle",r)}}};a.add("paste",(function(e){if(!1===function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.getParam("plugins"))||!a.get("powerpaste")||(void 0!==t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))}(e)){var n=i(!1),r=i(function(t){return t.getParam("paste_as_text",!1)}(e)?"text":"html"),o=kt(e,r),s=function(t){_.webkit&&Mt(t,Rt),_.ie&&(Mt(t,Lt),function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}(t,It))}(e);return function(t,e){t.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:Bt(t,e)}),t.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:function(){return t.execCommand("mceTogglePlainTextPaste")},onSetup:Bt(t,e)})}(e,o),u(e,o),function(t){var e=t.plugins.paste,n=function(t){return t.getParam("paste_preprocess")}(t);n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}));var r=function(t){return t.getParam("paste_postprocess")}(t);r&&t.on("PastePostProcess",(function(t){r.call(e,e,t)}))}(e),At(e),function(t,e,n){(function(t){return t.getParam("paste_block_drop",!1)})(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),L(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()})),t.on("drop",(function(r){var o=Nt(t,r);if(!r.isDefaultPrevented()&&!n.get()){var i,a=e.getDataTransferItems(r.dataTransfer),s=e.hasContentType(a,"x-tinymce/html");if((e.hasHtmlOrText(a)&&(!(i=a["text/plain"])||0!==i.indexOf("file://"))||!e.pasteImageData(r,o))&&o&&function(t){return t.getParam("paste_filter_drop",!0)}(t)){var u=a["mce-internal"]||a["text/html"]||a["text/plain"];u&&(r.preventDefault(),k.setEditorTimeout(t,(function(){t.undoManager.transact((function(){a["mce-internal"]&&t.execCommand("Delete"),Pt(t,o),u=H(u),a["text/html"]?e.pasteHtml(u,s):e.pasteText(u)}))})))}}})),t.on("dragstart",(function(t){n.set(!0)})),t.on("dragover dragend",(function(e){L(t)&&!1===n.get()&&(e.preventDefault(),Pt(t,Nt(t,e))),"dragend"===e.type&&n.set(!1)}))}(e,o,n),function(t,e){return{clipboard:t,quirks:e}}(o,s)}}))}(window)},g7np:function(t,e,n){"use strict";var r=n("2SVd"),o=n("5oMp");t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},hKaO:function(t,e,n){"use strict";n.r(e),function(t){var n,r,o='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',i="\n  .codeflask {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n  }\n\n  .codeflask, .codeflask * {\n    box-sizing: border-box;\n  }\n\n  .codeflask__pre {\n    pointer-events: none;\n    z-index: 3;\n    overflow: hidden;\n  }\n\n  .codeflask__textarea {\n    background: none;\n    border: none;\n    color: "+(n="caret-color",r="#000",("undefined"!=typeof CSS?CSS.supports(n,r):"undefined"!=typeof document&&function(t){return(t=t.split("-").filter((function(t){return!!t})).map((function(t){return t[0].toUpperCase()+t.substr(1)})).join(""))[0].toLowerCase()+t.substr(1)}(n)in document.body.style)?"#fff":"#ccc")+";\n    z-index: 1;\n    resize: none;\n    font-family: "+o+";\n    -webkit-appearance: pre;\n    caret-color: #111;\n    z-index: 2;\n    width: 100%;\n    height: 100%;\n  }\n\n  .codeflask--has-line-numbers .codeflask__textarea {\n    width: calc(100% - 40px);\n  }\n\n  .codeflask__code {\n    display: block;\n    font-family: "+o+";\n    overflow: hidden;\n  }\n\n  .codeflask__flatten {\n    padding: 10px;\n    font-size: 13px;\n    line-height: 20px;\n    white-space: pre;\n    position: absolute;\n    top: 0;\n    left: 0;\n    overflow: auto;\n    margin: 0 !important;\n    outline: none;\n    text-align: left;\n  }\n\n  .codeflask--has-line-numbers .codeflask__flatten {\n    width: calc(100% - 40px);\n    left: 40px;\n  }\n\n  .codeflask__line-highlight {\n    position: absolute;\n    top: 10px;\n    left: 0;\n    width: 100%;\n    height: 20px;\n    background: rgba(0,0,0,0.1);\n    z-index: 1;\n  }\n\n  .codeflask__lines {\n    padding: 10px 4px;\n    font-size: 12px;\n    line-height: 20px;\n    font-family: 'Cousine', monospace;\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 40px;\n    height: 100%;\n    text-align: right;\n    color: #999;\n    z-index: 2;\n  }\n\n  .codeflask__lines__line {\n    display: block;\n  }\n\n  .codeflask.codeflask--has-line-numbers {\n    padding-left: 40px;\n  }\n\n  .codeflask.codeflask--has-line-numbers:before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 40px;\n    height: 100%;\n    background: #eee;\n    z-index: 1;\n  }\n";function a(t,e,n){var r=e||"codeflask-style",o=n||document.head;if(!t)return!1;if(document.getElementById(r))return!0;var i=document.createElement("style");return i.innerHTML=t,i.id=r,o.appendChild(i),!0}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function u(t){return String(t).replace(/[&<>"'`=/]/g,(function(t){return s[t]}))}var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var c=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=function(t){var e=/\blang(?:uage)?-([\w-]+)\b/i,n=0,r={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(t){return t instanceof o?new o(t.type,r.util.encode(t.content),t.alias):Array.isArray(t)?t.map(r.util.encode):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var o,i,a=r.util.type(e);switch(n=n||{},a){case"Object":if(i=r.util.objId(e),n[i])return n[i];for(var s in o={},n[i]=o,e)e.hasOwnProperty(s)&&(o[s]=t(e[s],n));return o;case"Array":return i=r.util.objId(e),n[i]?n[i]:(o=[],n[i]=o,e.forEach((function(e,r){o[r]=t(e,n)})),o);default:return e}}},languages:{extend:function(t,e){var n=r.util.clone(r.languages[t]);for(var o in e)n[o]=e[o];return n},insertBefore:function(t,e,n,o){var i=(o=o||r.languages)[t],a={};for(var s in i)if(i.hasOwnProperty(s)){if(s==e)for(var u in n)n.hasOwnProperty(u)&&(a[u]=n[u]);n.hasOwnProperty(s)||(a[s]=i[s])}var l=o[t];return o[t]=a,r.languages.DFS(r.languages,(function(e,n){n===l&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,o,i){i=i||{};var a=r.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],o||s);var u=e[s],l=r.util.type(u);"Object"!==l||i[a(u)]?"Array"!==l||i[a(u)]||(i[a(u)]=!0,t(u,n,s,i)):(i[a(u)]=!0,t(u,n,null,i))}}},plugins:{},highlightAll:function(t,e){r.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var o={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o);for(var i,a=o.elements||t.querySelectorAll(o.selector),s=0;i=a[s++];)r.highlightElement(i,!0===e,o.callback)},highlightElement:function(n,o,i){for(var a,s,u=n;u&&!e.test(u.className);)u=u.parentNode;u&&(a=(u.className.match(e)||[,""])[1].toLowerCase(),s=r.languages[a]),n.className=n.className.replace(e,"").replace(/\s+/g," ")+" language-"+a,n.parentNode&&(u=n.parentNode,/pre/i.test(u.nodeName)&&(u.className=u.className.replace(e,"").replace(/\s+/g," ")+" language-"+a));var l={element:n,language:a,grammar:s,code:n.textContent},c=function(t){l.highlightedCode=t,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),i&&i.call(l.element)};if(r.hooks.run("before-sanity-check",l),l.code)if(r.hooks.run("before-highlight",l),l.grammar)if(o&&t.Worker){var f=new Worker(r.filename);f.onmessage=function(t){c(t.data)},f.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code));else r.hooks.run("complete",l)},highlight:function(t,e,n){var i={code:t,grammar:e,language:n};return r.hooks.run("before-tokenize",i),i.tokens=r.tokenize(i.code,i.grammar),r.hooks.run("after-tokenize",i),o.stringify(r.util.encode(i.tokens),i.language)},matchGrammar:function(t,e,n,i,a,s,u){for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==u)return;var c=n[l];c="Array"===r.util.type(c)?c:[c];for(var f=0;f<c.length;++f){var d=c[f],h=d.inside,p=!!d.lookbehind,m=!!d.greedy,g=0,v=d.alias;if(m&&!d.pattern.global){var y=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,y+"g")}d=d.pattern||d;for(var b=i,w=a;b<e.length;w+=e[b].length,++b){var x=e[b];if(e.length>t.length)return;if(!(x instanceof o)){if(m&&b!=e.length-1){if(d.lastIndex=w,!(E=d.exec(t)))break;for(var _=E.index+(p?E[1].length:0),k=E.index+E[0].length,C=b,S=w,T=e.length;C<T&&(S<k||!e[C].type&&!e[C-1].greedy);++C)_>=(S+=e[C].length)&&(++b,w=S);if(e[b]instanceof o)continue;O=C-b,x=t.slice(w,S),E.index-=w}else{d.lastIndex=0;var E=d.exec(x),O=1}if(E){p&&(g=E[1]?E[1].length:0),k=(_=E.index+g)+(E=E[0].slice(g)).length;var A=x.slice(0,_),D=x.slice(k),N=[b,O];A&&(++b,w+=A.length,N.push(A));var P=new o(l,h?r.tokenize(E,h):E,v,E,m);if(N.push(P),D&&N.push(D),Array.prototype.splice.apply(e,N),1!=O&&r.matchGrammar(t,e,n,b,w,!0,l),s)break}else if(s)break}}}}},tokenize:function(t,e){var n=[t],o=e.rest;if(o){for(var i in o)e[i]=o[i];delete e.rest}return r.matchGrammar(t,n,e,0,0,!1),n},hooks:{all:{},add:function(t,e){var n=r.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=r.hooks.all[t];if(n&&n.length)for(var o,i=0;o=n[i++];)o(e)}},Token:o};function o(t,e,n,r,o){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length,this.greedy=!!o}if(t.Prism=r,o.stringify=function(t,e,n){if("string"==typeof t)return t;if(Array.isArray(t))return t.map((function(n){return o.stringify(n,e,t)})).join("");var i={type:t.type,content:o.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n};if(t.alias){var a=Array.isArray(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,a)}r.hooks.run("wrap",i);var s=Object.keys(i.attributes).map((function(t){return t+'="'+(i.attributes[t]||"").replace(/"/g,"&quot;")+'"'})).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(s?" "+s:"")+">"+i.content+"</"+i.tag+">"},!t.document)return t.addEventListener?(r.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),o=n.language,i=n.code,a=n.immediateClose;t.postMessage(r.highlight(i,r.languages[o],o)),a&&t.close()}),!1),r):r;var i=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return i&&(r.filename=i.src,r.manual||i.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(r.highlightAll):window.setTimeout(r.highlightAll,16):document.addEventListener("DOMContentLoaded",r.highlightAll))),r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});t.exports&&(t.exports=e),void 0!==l&&(l.Prism=e),e.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.replace(/&amp;/,"&"))})),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:e.languages[n]};var i={};i[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",i)}}),e.languages.xml=e.languages.extend("markup",{}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,function(t){var e=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+e.source+"|.*?)\\)","i"),selector:RegExp("[^{}\\s](?:[^{};\"']|"+e.source+")*?(?=\\s*\\{)"),string:{pattern:e,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))}(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}}}),e.languages.markup&&e.languages.markup.tag.addInlined("script","javascript"),e.languages.js=e.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var n={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach((function(t){if(!t.hasAttribute("data-src-loaded")){for(var r,o=t.getAttribute("data-src"),i=t,a=/\blang(?:uage)?-([\w-]+)\b/i;i&&!a.test(i.className);)i=i.parentNode;if(i&&(r=(t.className.match(a)||[,""])[1]),!r){var s=(o.match(/\.(\w+)$/)||[,""])[1];r=n[s]||s}var u=document.createElement("code");u.className="language-"+r,t.textContent="",u.textContent="Loading…",t.appendChild(u);var l=new XMLHttpRequest;l.open("GET",o,!0),l.onreadystatechange=function(){4==l.readyState&&(l.status<400&&l.responseText?(u.textContent=l.responseText,e.highlightElement(u),t.setAttribute("data-src-loaded","")):l.status>=400?u.textContent="✖ Error "+l.status+" while fetching file: "+l.statusText:u.textContent="✖ Error: File does not exist or is empty")},l.send(null)}})),e.plugins.toolbar&&e.plugins.toolbar.registerButton("download-file",(function(t){var e=t.element.parentNode;if(e&&/pre/i.test(e.nodeName)&&e.hasAttribute("data-src")&&e.hasAttribute("data-download-link")){var n=e.getAttribute("data-src"),r=document.createElement("a");return r.textContent=e.getAttribute("data-download-link-label")||"Download",r.setAttribute("download",""),r.href=n,r}}))},document.addEventListener("DOMContentLoaded",(function(){self.Prism.fileHighlight()})))})),f=function(t,e){if(!t)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!e)throw Error("CodeFlask expects an object containing options as second parameter");if(t.nodeType)this.editorRoot=t;else{var n=document.querySelector(t);n&&(this.editorRoot=n)}this.opts=e,this.startEditor()};f.prototype.startEditor=function(){if(!a(i,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},f.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},f.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},f.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},f.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},f.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},f.prototype.createElement=function(t,e){var n=document.createElement(t);return e.appendChild(n),n},f.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=!1!==this.opts.defaultTheme,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,"boolean"!=typeof this.opts.handleTabs&&(this.opts.handleTabs=!0),"boolean"!=typeof this.opts.handleSelfClosingCharacters&&(this.opts.handleSelfClosingCharacters=!0),"boolean"!=typeof this.opts.handleNewLineIndentation&&(this.opts.handleNewLineIndentation=!0),!0===this.opts.rtl&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),!1===this.opts.enableAutocorrect&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&a("\n.codeflask {\n  background: #fff;\n  color: #4f559c;\n}\n\n.codeflask .token.punctuation {\n  color: #4a4a4a;\n}\n\n.codeflask .token.keyword {\n  color: #8500ff;\n}\n\n.codeflask .token.operator {\n  color: #ff5598;\n}\n\n.codeflask .token.string {\n  color: #41ad8f;\n}\n\n.codeflask .token.comment {\n  color: #9badb7;\n}\n\n.codeflask .token.function {\n  color: #8500ff;\n}\n\n.codeflask .token.boolean {\n  color: #8500ff;\n}\n\n.codeflask .token.number {\n  color: #8500ff;\n}\n\n.codeflask .token.selector {\n  color: #8500ff;\n}\n\n.codeflask .token.property {\n  color: #8500ff;\n}\n\n.codeflask .token.tag {\n  color: #8500ff;\n}\n\n.codeflask .token.attr-value {\n  color: #8500ff;\n}\n","theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},f.prototype.updateLineNumbersCount=function(){for(var t="",e=1;e<=this.lineNumber;e++)t=t+'<span class="codeflask__lines__line">'+e+"</span>";this.elLineNumbers.innerHTML=t},f.prototype.listenTextarea=function(){var t=this;this.elTextarea.addEventListener("input",(function(e){t.code=e.target.value,t.elCode.innerHTML=u(e.target.value),t.highlight(),setTimeout((function(){t.runUpdate(),t.setLineNumber()}),1)})),this.elTextarea.addEventListener("keydown",(function(e){t.handleTabs(e),t.handleSelfClosingCharacters(e),t.handleNewLineIndentation(e)})),this.elTextarea.addEventListener("scroll",(function(e){t.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",t.elLineNumbers&&(t.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")}))},f.prototype.handleTabs=function(t){if(this.opts.handleTabs){if(9!==t.keyCode)return;t.preventDefault();var e=this.elTextarea,n=e.selectionDirection,r=e.selectionStart,o=e.selectionEnd,i=e.value,a=i.substr(0,r),s=i.substring(r,o),u=i.substring(o),l=" ".repeat(this.opts.tabSize);if(r!==o&&s.length>=l.length){var c=r-a.split("\n").pop().length,f=l.length,d=l.length;t.shiftKey?(i.substr(c,l.length)===l?(f=-f,c>r?(s=s.substring(0,c)+s.substring(c+l.length),d=0):c===r?(f=0,d=0,s=s.substring(l.length)):(d=-d,a=a.substring(0,c)+a.substring(c+l.length))):(f=0,d=0),s=s.replace(new RegExp("\n"+l.split("").join("\\"),"g"),"\n")):(a=a.substr(0,c)+l+a.substring(c,r),s=s.replace(/\n/g,"\n"+l)),e.value=a+s+u,e.selectionStart=r+f,e.selectionEnd=r+s.length+d,e.selectionDirection=n}else e.value=a+l+u,e.selectionStart=r+l.length,e.selectionEnd=r+l.length;var h=e.value;this.updateCode(h),this.elTextarea.selectionEnd=o+this.opts.tabSize}},f.prototype.handleSelfClosingCharacters=function(t){if(this.opts.handleSelfClosingCharacters){var e=t.key;if(["(","[","{","<","'",'"'].includes(e)||[")","]","}",">","'",'"'].includes(e))switch(e){case"(":case")":this.closeCharacter(e);break;case"[":case"]":this.closeCharacter(e);break;case"{":case"}":this.closeCharacter(e);break;case"<":case">":case"'":case'"':this.closeCharacter(e)}}},f.prototype.setLineNumber=function(){this.lineNumber=this.code.split("\n").length,this.opts.lineNumbers&&this.updateLineNumbersCount()},f.prototype.handleNewLineIndentation=function(t){if(this.opts.handleNewLineIndentation&&13===t.keyCode){t.preventDefault();var e=this.elTextarea,n=e.selectionStart,r=e.selectionEnd,o=e.value,i=o.substr(0,n),a=o.substring(r),s=o.lastIndexOf("\n",n-1),u=s+o.slice(s+1).search(/[^ ]|$/),l=u>s?u-s:0,c=i+"\n"+" ".repeat(l)+a;e.value=c,e.selectionStart=n+l+1,e.selectionEnd=n+l+1,this.updateCode(e.value)}},f.prototype.closeCharacter=function(t){var e=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd;if(this.skipCloseChar(t)){var r=this.code.substr(n,1)===t,o=r?n+1:n,i=!r&&["'",'"'].includes(t)?t:"",a=""+this.code.substring(0,e)+i+this.code.substring(o);this.updateCode(a),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var s=t;switch(t){case"(":s=String.fromCharCode(t.charCodeAt()+1);break;case"<":case"{":case"[":s=String.fromCharCode(t.charCodeAt()+2)}var u=this.code.substring(e,n),l=""+this.code.substring(0,e)+u+s+this.code.substring(n);this.updateCode(l)}this.elTextarea.selectionEnd=e},f.prototype.skipCloseChar=function(t){var e=this.elTextarea.selectionStart,n=this.elTextarea.selectionEnd,r=Math.abs(n-e)>0;return[")","}","]",">"].includes(t)||["'",'"'].includes(t)&&!r},f.prototype.updateCode=function(t){this.code=t,this.elTextarea.value=t,this.elCode.innerHTML=u(t),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},f.prototype.updateLanguage=function(t){var e=this.opts.language;this.elCode.classList.remove("language-"+e),this.elCode.classList.add("language-"+t),this.opts.language=t,this.highlight()},f.prototype.addLanguage=function(t,e){c.languages[t]=e},f.prototype.populateDefault=function(){this.updateCode(this.code)},f.prototype.highlight=function(){c.highlightElement(this.elCode,!1)},f.prototype.onUpdate=function(t){if(t&&"[object Function]"!=={}.toString.call(t))throw Error("CodeFlask expects callback of type Function");this.updateCallBack=t},f.prototype.getCode=function(){return this.code},f.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},f.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},f.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")},e.default=f}.call(this,n("yLpj"))},hOyB:function(t,e,n){n("JAFY")},hVuo:function(t,e,n){n("4tak")},iLZO:function(t,e){!function(){"use strict";var t,e,n,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),i=function(t,e,n){var r="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(r,!1,!1===n?null:{"list-style-type":n})},a=function(){},s=function(t){return function(){return t}},u=s(!1),l=s(!0),c=function(){return f},f=(t=function(t){return t.isNone()},{fold:function(t,e){return t()},is:u,isSome:u,isNone:l,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:e,map:c,each:a,bind:c,exists:u,forall:l,filter:c,equals:t,equals_:t,toArray:function(){return[]},toString:s("none()")}),d=function(t){var e=s(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},h=function(t){return null==t?f:d(t)},p=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},m=function(t,e,n){var r=function(t,e){for(var n=0;n<t.length;n++){if(e(t[n]))return n}return-1}(e.parents,p),i=-1!==r?e.parents.slice(0,r):e.parents,a=o.grep(i,function(t){return function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&function(t,e){return t.$.contains(t.getBody(),e)}(t,e)}}(t));return a.length>0&&a[0].nodeName===n},g=function(t,e,n,r,a,s){t.ui.registry.addSplitButton(e,{tooltip:n,icon:"OL"===a?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(o.map(s,(function(t){return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===a?"num":"bull")+"-"+("disc"===t||"decimal"===t?"default":t),text:function(t){return t.replace(/\-/g," ").replace(/\b\w/g,(function(t){return t.toUpperCase()}))}(t)}})))},onAction:function(){return t.execCommand(r)},onItemAction:function(e,n){i(t,a,n)},select:function(e){return function(t){var e=t.dom.getParent(t.selection.getNode(),"ol,ul"),n=t.dom.getStyle(e,"listStyleType");return h(n)}(t).map((function(t){return e===t})).getOr(!1)},onSetup:function(e){var n=function(n){e.setActive(m(t,n,a))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}})},v=function(t,e,n,r,o,i){i.length>1?g(t,e,n,r,o,i):function(t,e,n,r,o,i){t.ui.registry.addToggleButton(e,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:function(e){var n=function(n){e.setActive(m(t,n,o))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}},onAction:function(){return t.execCommand(r)}})}(t,e,n,r,o)};r.add("advlist",(function(t){(function(t,e){return-1!==o.inArray(t.getParam("plugins","","string").split(/[ ,]/),e)})(t,"lists")&&(function(t){v(t,"numlist","Numbered list","InsertOrderedList","OL",function(t){var e=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return e?e.split(/[ ,]/):[]}(t)),v(t,"bullist","Bullet list","InsertUnorderedList","UL",function(t){var e=t.getParam("advlist_bullet_styles","default,circle,square");return e?e.split(/[ ,]/):[]}(t))}(t),function(t){t.addCommand("ApplyUnorderedListStyle",(function(e,n){i(t,"UL",n["list-style-type"])})),t.addCommand("ApplyOrderedListStyle",(function(e,n){i(t,"OL",n["list-style-type"])}))}(t))}))}()},iWJ3:function(t,e,n){(function(t){!function(e){"use strict";var n=function(){return(n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function o(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}var i=function(){},a=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},s=function(t){return function(){return t}},u=function(t){return t};function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var c,f=function(t){return function(e){return!t(e)}},d=function(t){return function(){throw new Error(t)}},h=function(t){return t()},p=s(!1),m=s(!0),g=function(){return v},v=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:p,isSome:p,isNone:m,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:n,orThunk:e,map:g,each:i,bind:g,exists:p,forall:m,filter:g,equals:t,equals_:t,toArray:function(){return[]},toString:s("none()")}}(),y=function(t){var e=s(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:m,isNone:p,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return y(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:v},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(p,(function(e){return n(t,e)}))}};return o},b={some:y,none:g,from:function(t){return null==t?v:y(t)}},w=Object.keys,x=Object.hasOwnProperty,_=function(t,e){for(var n=w(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},k=function(t,e){return C(t,(function(t,n){return{k:n,v:e(t,n)}}))},C=function(t,e){var n={};return _(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},S=function(t,e){var n={};return function(t,e,n,r){_(t,(function(t,o){(e(t,o)?n:r)(t,o)}))}(t,e,function(t){return function(e,n){t[n]=e}}(n),i),n},T=function(t,e){var n=[];return _(t,(function(t,r){n.push(e(t,r))})),n},E=function(t,e){return O(t,e)?b.from(t[e]):b.none()},O=function(t,e){return x.call(t,e)},A=function(t,e){return O(t,e)&&void 0!==t[e]&&null!==t[e]},D=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},N=function(){return P(0,0)},P=function(t,e){return{major:t,minor:e}},M={nu:P,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?N():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return P(r(1),r(2))}(t,n)},unknown:N},L=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},R={unknown:function(){return L({current:void 0,version:M.unknown()})},nu:L,edge:s("Edge"),chrome:s("Chrome"),ie:s("IE"),opera:s("Opera"),firefox:s("Firefox"),safari:s("Safari")},I=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},B={unknown:function(){return I({current:void 0,version:M.unknown()})},nu:I,windows:s("Windows"),ios:s("iOS"),android:s("Android"),linux:s("Linux"),osx:s("OSX"),solaris:s("Solaris"),freebsd:s("FreeBSD"),chromeos:s("ChromeOS")},F=function(t){return function(e){return function(t){var e=typeof t;return null===t?"null":"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},j=function(t){return function(e){return typeof e===t}},z=F("string"),H=F("object"),q=F("array"),U=j("boolean"),W=function(t){return!function(t){return null==t}(t)},V=j("function"),$=j("number"),G=Array.prototype.slice,Y=Array.prototype.indexOf,K=Array.prototype.push,Z=function(t,e){return function(t,e){return Y.call(t,e)}(t,e)>-1},X=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},J=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},Q=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},tt=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},et=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},nt=function(t,e,n){return Q(t,(function(t){n=e(n,t)})),n},rt=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return b.some(i);if(n(i,r))break}return b.none()}(t,e,p)},ot=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return b.some(n)}return b.none()},it=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!q(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);K.apply(e,t[n])}return e},at=function(t,e){return it(J(t,e))},st=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},ut=function(t){var e=G.call(t,0);return e.reverse(),e},lt=function(t,e){return tt(t,(function(t){return!Z(e,t)}))},ct=function(t){return[t]},ft=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return b.none()},dt=function(t,e){var n=String(e).toLowerCase();return rt(t,(function(t){return t.search(n)}))},ht=function(t,e){return dt(t,e).map((function(t){var n=M.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},pt=function(t,e){return dt(t,e).map((function(t){var n=M.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},mt=function(t,e){return-1!==t.indexOf(e)},gt=function(t){return function(e){return e.replace(t,"")}}(/^\s+|\s+$/g),vt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,yt=function(t){return function(e){return mt(e,t)}},bt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return mt(t,"edge/")&&mt(t,"chrome")&&mt(t,"safari")&&mt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vt],search:function(t){return mt(t,"chrome")&&!mt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return mt(t,"msie")||mt(t,"trident")}},{name:"Opera",versionRegexes:[vt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:yt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:yt("firefox")},{name:"Safari",versionRegexes:[vt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(mt(t,"safari")||mt(t,"mobile/"))&&mt(t,"applewebkit")}}],wt=[{name:"Windows",search:yt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return mt(t,"iphone")||mt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:yt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:yt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:yt("linux"),versionRegexes:[]},{name:"Solaris",search:yt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:yt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:yt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xt={browsers:s(bt),oses:s(wt)},_t=function(t,e){var n=xt.browsers(),r=xt.oses(),o=ht(n,t).fold(R.unknown,R.nu),i=pt(r,t).fold(B.unknown,B.nu),a=function(t,e,n,r){var o=t.isiOS()&&!0===/ipad/i.test(n),i=t.isiOS()&&!o,a=t.isiOS()||t.isAndroid(),u=a||r("(pointer:coarse)"),l=o||!i&&a&&r("(min-device-width:768px)"),c=i||a&&!l,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!f;return{isiPad:s(o),isiPhone:s(i),isTablet:s(l),isPhone:s(c),isTouch:s(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:s(f),isDesktop:s(d)}}(i,o,t,e);return{browser:o,os:i,deviceType:a}},kt=function(t){return e.window.matchMedia(t).matches},Ct=D((function(){return _t(e.navigator.userAgent,kt)})),St=function(){return Ct()},Tt=s("touchstart"),Et=s("touchmove"),Ot=s("touchend"),At=s("mousedown"),Dt=s("mousemove"),Nt=s("mouseup"),Pt=s("mouseover"),Mt=s("keydown"),Lt=s("keyup"),Rt=s("input"),It=s("change"),Bt=s("click"),Ft=s("transitionend"),jt=s("selectstart"),zt={tap:s("alloy.tap")},Ht=s("alloy.focus"),qt=s("alloy.blur.post"),Ut=s("alloy.paste.post"),Wt=s("alloy.receive"),Vt=s("alloy.execute"),$t=s("alloy.focus.item"),Gt=zt.tap,Yt=s("alloy.longpress"),Kt=s("alloy.system.init"),Zt=s("alloy.system.attached"),Xt=s("alloy.system.detached"),Jt=s("alloy.focusmanager.shifted"),Qt=s("alloy.highlight"),te=s("alloy.dehighlight"),ee=function(t,e){ie(t,t.element(),e,{})},ne=function(t,e,n){ie(t,t.element(),e,n)},re=function(t){ee(t,Vt())},oe=function(t,e,n){ie(t,e,n,{})},ie=function(t,e,r,o){var i=n({target:e},o);t.getSystem().triggerEvent(r,e,k(i,s))},ae=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:s(t)}},se={fromHtml:function(t,n){var r=(n||e.document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ae(r.childNodes[0])},fromTag:function(t,n){var r=(n||e.document).createElement(t);return ae(r)},fromText:function(t,n){var r=(n||e.document).createTextNode(t);return ae(r)},fromDom:ae,fromPoint:function(t,e,n){var r=t.dom();return b.from(r.elementFromPoint(e,n)).map(ae)}},ue=(void 0!==e.window?e.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),le=function(t){return function(e){return function(t){return t.dom().nodeType}(e)===t}},ce=le(1),fe=le(3),de=le(9),he=le(11),pe=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},me=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},ge=function(t,n){var r=void 0===n?e.document:n.dom();return me(r)?[]:J(r.querySelectorAll(t),se.fromDom)},ve=function(t,n){var r=void 0===n?e.document:n.dom();return me(r)?b.none():b.from(r.querySelector(t)).map(se.fromDom)},ye=function(t,e){return t.dom()===e.dom()},be=function(t){return se.fromDom(t.dom().ownerDocument)},we=function(t){return b.from(t.dom().parentNode).map(se.fromDom)},xe=function(t){return J(t.dom().childNodes,se.fromDom)},_e=function(t,e){var n=t.dom().childNodes;return b.from(n[e]).map(se.fromDom)},ke=V(e.Element.prototype.attachShadow)&&V(e.Node.prototype.getRootNode),Ce=s(ke),Se=ke?function(t){return se.fromDom(t.dom().getRootNode())}:function(t){return de(t)?t:be(t)},Te=function(t){var e=Se(t);return he(e)?b.some(e):b.none()},Ee=function(t){return se.fromDom(t.dom().host)},Oe=function(t){if(Ce()&&W(t.target)){var e=se.fromDom(t.target);if(ce(e)&&Ae(se.fromDom(t.target))){var n=t;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return 0===(o=r).length?b.none():b.some(o[0])}}}var o;return b.from(t.target)},Ae=function(t){return W(t.dom().shadowRoot)},De=function(t){var e,n,r=fe(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&Te(se.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=De,n=Ee,function(t){return e(n(t))}))},Ne=function(){return Pe(se.fromDom(e.document))},Pe=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return se.fromDom(e)},Me=function(t,e){we(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},Le=function(t,e){(function(t){return b.from(t.dom().nextSibling).map(se.fromDom)})(t).fold((function(){we(t).each((function(t){Ie(t,e)}))}),(function(t){Me(t,e)}))},Re=function(t,e){(function(t){return _e(t,0)})(t).fold((function(){Ie(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},Ie=function(t,e){t.dom().appendChild(e.dom())},Be=function(t,e){Q(e,(function(e){Ie(t,e)}))},Fe=function(t){t.dom().textContent="",Q(xe(t),(function(t){je(t)}))},je=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},ze=function(t){ee(t,Xt());var e=t.components();Q(e,ze)},He=function(t){var e=t.components();Q(e,He),ee(t,Zt())},qe=function(t,e){Ie(t.element(),e.element())},Ue=function(t,e){var n=t.components();!function(t){Q(t.components(),(function(t){return je(t.element())})),Fe(t.element()),t.syncComponents()}(t);var r=lt(n,e);Q(r,(function(e){ze(e),t.getSystem().removeFromWorld(e)})),Q(e,(function(e){e.getSystem().isConnected()?qe(t,e):(t.getSystem().addToWorld(e),qe(t,e),De(t.element())&&He(e)),t.syncComponents()}))},We=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),De(t.element())&&He(e),t.syncComponents()},Ve=function(t){var e=we(t.element()).bind((function(e){return t.getSystem().getByDom(e).toOption()}));!function(t){ze(t),je(t.element()),t.getSystem().removeFromWorld(t)}(t),e.each((function(t){t.syncComponents()}))},$e=function(t,e,n){n(t,e.element());var r=xe(e.element());Q(r,(function(t){e.getByDom(t).each(He)}))},Ge=function(t){return{is:function(e){return t===e},isValue:m,isError:p,getOr:s(t),getOrThunk:s(t),getOrDie:s(t),or:function(e){return Ge(t)},orThunk:function(e){return Ge(t)},fold:function(e,n){return n(t)},map:function(e){return Ge(e(t))},mapError:function(e){return Ge(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return b.some(t)}}},Ye=function(t){return{is:p,isValue:p,isError:m,getOr:u,getOrThunk:function(t){return t()},getOrDie:function(){return d(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Ye(t)},mapError:function(e){return Ye(e(t))},each:i,bind:function(e){return Ye(t)},exists:p,forall:m,toOption:b.none}},Ke={value:Ge,error:Ye,fromOption:function(t,e){return t.fold((function(){return Ye(e)}),Ge)}};!function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"}(c||(c={}));var Ze,Xe,Je,Qe=function(t,e,n){return t.stype===c.Error?e(t.serror):n(t.svalue)},tn=function(t){return{stype:c.Value,svalue:t}},en=function(t){return{stype:c.Error,serror:t}},nn=function(t){return t.fold(en,tn)},rn=function(t){return Qe(t,Ke.error,Ke.value)},on=tn,an=function(t){var e=[],n=[];return Q(t,(function(t){Qe(t,(function(t){return n.push(t)}),(function(t){return e.push(t)}))})),{values:e,errors:n}},sn=en,un=function(t,e){return t.stype===c.Value?e(t.svalue):t},ln=function(t,e){return t.stype===c.Error?e(t.serror):t},cn=function(t,e){return t.stype===c.Value?{stype:c.Value,svalue:e(t.svalue)}:t},fn=function(t,e){return t.stype===c.Error?{stype:c.Error,serror:e(t.serror)}:t},dn=function(t){if(!q(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return Q(t,(function(o,i){var a=w(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!q(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var l=function(t){var e=w(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!st(n,(function(t){return Z(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:l,log:function(t){e.console.log(t,{constructors:n,constructor:s,params:o})}}}})),r},hn=Object.prototype.hasOwnProperty,pn=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var a in i)hn.call(i,a)&&(r[a]=t(r[a],i[a]))}return r}},mn=pn((function(t,e){return H(t)&&H(e)?mn(t,e):e})),gn=pn((function(t,e){return e})),vn=dn([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),yn=function(t){return vn.defaultedThunk(s(t))},bn=function(t){return vn.mergeWithThunk(s(t))},wn=vn.strict,xn=vn.asOption,_n=vn.defaultedThunk,kn=(vn.asDefaultedOptionThunk,vn.mergeWithThunk),Cn=function(t,e){var n;return(n={})[t]=e,n},Sn=(dn([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(t,e){return function(t,e){var n={};return _(t,(function(t,r){Z(e,r)||(n[r]=t)})),n}(t,e)}),Tn=function(t,e){return Cn(t,e)},En=function(t){return function(t){var e={};return Q(t,(function(t){e[t.key]=t.value})),e}(t)},On=function(t,e){var n,r=function(t){var e=[],n=[];return Q(t,(function(t){t.fold((function(t){e.push(t)}),(function(t){n.push(t)}))})),{errors:e,values:n}}(t);return r.errors.length>0?(n=r.errors,Ke.error(it(n))):function(t,e){return 0===t.length?Ke.value(e):Ke.value(mn(e,gn.apply(void 0,t)))}(r.values,e)},An=function(t){return a(sn,it)(t)},Dn=function(t,e){var n=an(t);return n.errors.length>0?An(n.errors):function(t,e){return t.length>0?on(mn(e,gn.apply(void 0,t))):on(e)}(n.values,e)},Nn=function(t){var e=an(t);return e.errors.length>0?An(e.errors):on(e.values)},Pn=function(t){return H(t)&&w(t).length>100?" removed due to size":JSON.stringify(t,null,2)},Mn=function(t,e){return sn([{path:t,getErrorInfo:e}])},Ln=dn([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Rn=function(t,e,n){return E(e,n).fold((function(){return function(t,e,n){return Mn(t,(function(){return'Could not find valid *strict* value for "'+e+'" in '+Pn(n)}))}(t,n,e)}),on)},In=function(t,e,n){var r=E(t,e).fold((function(){return n(t)}),u);return on(r)},Bn=function(t,e,n,r){return n.fold((function(n,o,i,a){var u=function(e){var i=a.extract(t.concat([n]),r,e);return cn(i,(function(t){return Cn(o,r(t))}))},l=function(e){return e.fold((function(){var t=Cn(o,r(b.none()));return on(t)}),(function(e){var i=a.extract(t.concat([n]),r,e);return cn(i,(function(t){return Cn(o,r(b.some(t)))}))}))};return i.fold((function(){return un(Rn(t,e,n),u)}),(function(t){return un(In(e,n,t),u)}),(function(){return un(function(t,e){return on(E(t,e))}(e,n),l)}),(function(t){return un(function(t,e,n){var r=E(t,e).map((function(e){return!0===e?n(t):e}));return on(r)}(e,n,t),l)}),(function(t){var r=t(e),o=cn(In(e,n,s({})),(function(t){return mn(r,t)}));return un(o,u)}))}),(function(t,n){var o=n(e);return on(Cn(t,r(o)))}))},Fn=function(t){return{extract:function(e,n,r){return ln(t(r,n),(function(t){return function(t,e){return Mn(t,(function(){return e}))}(e,t)}))},toString:function(){return"val"}}},jn=function(t){return w(S(t,(function(t){return null!=t})))},zn=function(t){var e=Hn(t),n=et(t,(function(t,e){return e.fold((function(e){return mn(t,Tn(e,!0))}),s(t))}),{});return{extract:function(t,r,o){var i=U(o)?[]:jn(o),a=tt(i,(function(t){return!A(n,t)}));return 0===a.length?e.extract(t,r,o):function(t,e){return Mn(t,(function(){return"There are unsupported fields: ["+e.join(", ")+"] specified"}))}(t,a)},toString:e.toString}},Hn=function(t){return{extract:function(e,n,r){return function(t,e,n,r){var o=J(n,(function(n){return Bn(t,e,n,r)}));return Dn(o,{})}(e,r,t,n)},toString:function(){return"obj{\n"+J(t,(function(t){return t.fold((function(t,e,n,r){return t+" -> "+r.toString()}),(function(t,e){return"state("+t+")"}))})).join("\n")+"}"}}},qn=function(t,e){var n=function(e,n){return function(t){return{extract:function(e,n,r){var o=J(r,(function(r,o){return t.extract(e.concat(["["+o+"]"]),n,r)}));return Nn(o)},toString:function(){return"array("+t.toString()+")"}}}(Fn(t)).extract(e,u,n)};return{extract:function(t,r,o){var i=w(o),a=n(t,i);return un(a,(function(n){var i=J(n,(function(t){return Ln.field(t,t,wn(),e)}));return Hn(i).extract(t,r,o)}))},toString:function(){return"setOf("+e.toString()+")"}}},Un=s(Fn(on)),Wn=Ln.state,Vn=Ln.field,$n=function(t,e,n,r,o){return E(r,o).fold((function(){return function(t,e,n){return Mn(t,(function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Pn(e)}))}(t,r,o)}),(function(r){return r.extract(t.concat(["branch: "+o]),e,n)}))},Gn=function(t,e){return{extract:function(n,r,o){return E(o,t).fold((function(){return function(t,e){return Mn(t,(function(){return'Choice schema did not contain choice key: "'+e+'"'}))}(n,t)}),(function(t){return $n(n,r,o,e,t)}))},toString:function(){return"chooseOn("+t+"). Possible values: "+w(e)}}},Yn=Fn(on),Kn=function(t){return Fn((function(e){return t(e).fold(sn,on)}))},Zn=function(t,e){return qn((function(e){return nn(t(e))}),e)},Xn=function(t,e,n){return rn(function(t,e,n,r){var o=e.extract([t],n,r);return fn(o,(function(t){return{input:r,errors:t}}))}(t,e,u,n))},Jn=function(t){return t.fold((function(t){throw new Error(tr(t))}),u)},Qn=function(t,e,n){return Jn(Xn(t,e,n))},tr=function(t){return"Errors: \n"+(e=t.errors,n=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,J(n,(function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))).join("\n")+"\n\nInput object: "+Pn(t.input);var e,n},er=function(t,e){return Gn(t,k(e,Hn))},nr=s(Yn),rr=(Ze=V,Xe="function",Fn((function(t){var e=typeof t;return Ze(t)?on(t):sn("Expected type: "+Xe+" but got: "+e)}))),or=function(t){return Vn(t,t,wn(),Un())},ir=function(t,e){return Vn(t,t,wn(),e)},ar=function(t,e){return Vn(t,t,wn(),Hn(e))},sr=function(t){return Vn(t,t,xn(),Un())},ur=function(t,e){return Vn(t,t,xn(),e)},lr=function(t,e){return ur(t,Hn(e))},cr=function(t,e){return ur(t,zn(e))},fr=function(t,e){return Vn(t,t,yn(e),Un())},dr=function(t,e,n){return Vn(t,t,yn(e),n)},hr=function(t,e){return Wn(t,e)},pr=function(t){return V(t)?t:s(!1)},mr=function(t,e,n){var r=e(t),o=pr(n);return r.orThunk((function(){return o(t)?b.none():function(t,e,n){for(var r=t.dom(),o=pr(n);r.parentNode;){r=r.parentNode;var i=se.fromDom(r),a=e(i);if(a.isSome())return a;if(o(i))break}return b.none()}(t,e,o)}))},gr=function(t,e){return ye(t.element(),e.event().target())},vr=function(t){if(!A(t,"can")&&!A(t,"abort")&&!A(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return Qn("Extracting event.handler",zn([fr("can",s(!0)),fr("abort",s(!1)),fr("run",i)]),t)},yr=function(t){var e=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return nt(t,(function(t,r){return t&&e(r).apply(void 0,n)}),!0)}}(t,(function(t){return t.can})),n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return nt(t,(function(t,r){return t||e(r).apply(void 0,n)}),!1)}}(t,(function(t){return t.abort}));return vr({can:e,abort:n,run:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Q(t,(function(t){t.run.apply(void 0,e)}))}})},br=function(t){return En(t)},wr=function(t,e){return{key:t,value:vr({abort:e})}},xr=function(t,e){return{key:t,value:vr({run:e})}},_r=function(t,e,n){return{key:t,value:vr({run:function(t,r){e.apply(void 0,[t,r].concat(n))}})}},kr=function(t){return function(e){return{key:t,value:vr({run:function(t,n){gr(t,n)&&e(t,n)}})}}},Cr=function(t,e,n){return function(t,e){return xr(t,(function(n,r){n.getSystem().getByUid(e).each((function(e){!function(t,e,n,r){t.getSystem().triggerEvent(n,e,r.event())}(e,e.element(),t,r)}))}))}(t,e.partUids[n])},Sr=function(t){return xr(t,(function(t,e){e.cut()}))},Tr=function(t){return xr(t,(function(t,e){e.stop()}))},Er=function(t,e){return kr(t)(e)},Or=kr(Zt()),Ar=kr(Xt()),Dr=kr(Kt()),Nr=function(t){return function(e){return xr(t,e)}}(Vt()),Pr=function(t){return J(t,(function(t){return function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e}(e=t,n="/*",e.length-n.length)?t.substring(0,t.length-"/*".length):t;var e,n}))},Mr=function(t,e){var n=t.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Pr(i)}},t},Lr=function(t){return{classes:void 0!==t.classes?t.classes:[],attributes:void 0!==t.attributes?t.attributes:{},styles:void 0!==t.styles?t.styles:{}}},Rr=function(t,e,n){return Dr((function(r,o){n(r,t,e)}))},Ir=function(t,e,n){return function(t,e,n){var r=n.toString(),o=r.indexOf(")")+1,i=r.indexOf("("),a=r.substring(i+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:Pr(a.slice(0,1).concat(a.slice(3)))}},t}((function(r){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=[r].concat(o);return r.config({name:s(t)}).fold((function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+n)}),(function(t){var n=Array.prototype.slice.call(a,1);return e.apply(void 0,[r,t.config,t.state].concat(n))}))}),n,e)},Br=function(t){return{key:t,value:void 0}},Fr=function(t,e,r,o,i,a,s){var u=function(t){return A(t,r)?t[r]():b.none()},c=k(i,(function(t,e){return Ir(r,t,e)})),f=k(a,(function(t,e){return Mr(t,e)})),d=n(n(n({},f),c),{revoke:l(Br,r),config:function(e){var n=Qn(r+"-config",t,e);return{key:r,value:{config:n,me:d,configAsRaw:D((function(){return Qn(r+"-config",t,e)})),initialConfig:e,state:s}}},schema:function(){return e},exhibit:function(t,e){return u(t).bind((function(t){return E(o,"exhibit").map((function(n){return n(e,t.config,t.state)}))})).getOr(Lr({}))},name:function(){return r},handlers:function(t){return u(t).map((function(t){return E(o,"events").getOr((function(){return{}}))(t.config,t.state)})).getOr({})}});return d},jr={init:function(){return zr({readState:function(){return"No State required"}})}},zr=function(t){return t},Hr=function(t){return En(t)},qr=zn([or("fields"),or("name"),fr("active",{}),fr("apis",{}),fr("state",jr),fr("extra",{})]),Ur=function(t){var e=Qn("Creating behaviour: "+t.name,qr,t);return function(t,e,n,r,o,i){var a=zn(t),s=lr(e,[cr("config",t)]);return Fr(a,s,e,n,r,o,i)}(e.fields,e.name,e.active,e.apis,e.extra,e.state)},Wr=zn([or("branchKey"),or("branches"),or("name"),fr("active",{}),fr("apis",{}),fr("state",jr),fr("extra",{})]),Vr=s(void 0),$r=function(t,n,r){if(!(z(r)||U(r)||$(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},Gr=function(t,e,n){$r(t.dom(),e,n)},Yr=function(t,e){var n=t.dom();_(e,(function(t,e){$r(n,e,t)}))},Kr=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Zr=function(t,e){return b.from(Kr(t,e))},Xr=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Jr=function(t,e){t.dom().removeAttribute(e)},Qr=function(t,e){var n=Kr(t,e);return void 0===n||""===n?[]:n.split(" ")},to=function(t){return void 0!==t.dom().classList},eo=function(t,e){return function(t,e,n){var r=Qr(t,e).concat([n]);return Gr(t,e,r.join(" ")),!0}(t,"class",e)},no=function(t,e){return function(t,e,n){var r=tt(Qr(t,e),(function(t){return t!==n}));return r.length>0?Gr(t,e,r.join(" ")):Jr(t,e),!1}(t,"class",e)},ro=function(t,e){to(t)?t.dom().classList.add(e):eo(t,e)},oo=function(t){0===(to(t)?t.dom().classList:function(t){return Qr(t,"class")}(t)).length&&Jr(t,"class")},io=function(t,e){to(t)?t.dom().classList.remove(e):no(t,e);oo(t)},ao=function(t,e){return to(t)&&t.dom().classList.contains(e)},so=function(t,e,n){io(t,n),ro(t,e)},uo=Object.freeze({__proto__:null,toAlpha:function(t,e,n){so(t.element(),e.alpha,e.omega)},toOmega:function(t,e,n){so(t.element(),e.omega,e.alpha)},isAlpha:function(t,e,n){return ao(t.element(),e.alpha)},isOmega:function(t,e,n){return ao(t.element(),e.omega)},clear:function(t,e,n){io(t.element(),e.alpha),io(t.element(),e.omega)}}),lo=[or("alpha"),or("omega")],co=Ur({fields:lo,name:"swapping",apis:uo}),fo=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},ho=function(t){return t.dom().focus()},po=function(t){return t.dom().blur()},mo=function(t){return void 0===t&&(t=se.fromDom(e.document)),b.from(t.dom().activeElement).map(se.fromDom)},go=function(t){return mo(Se(t)).filter((function(e){return t.dom().contains(e.dom())}))},vo=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yo=tinymce.util.Tools.resolve("tinymce.ThemeManager"),bo=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],wo=["undo","bold","italic","link","image","bullist","styleselect"],xo=function(t){return t.dom().innerHTML},_o=function(t,n){var r,o,i=be(t).dom(),a=se.fromDom(i.createDocumentFragment()),s=(r=n,(o=(i||e.document).createElement("div")).innerHTML=r,xe(se.fromDom(o)));Be(a,s),Fe(t),Ie(t,a)},ko=function(t){return function(t,e){return se.fromDom(t.dom().cloneNode(e))}(t,!1)},Co=function(t){return function(t){var e=se.fromTag("div"),n=se.fromDom(t.dom().cloneNode(!0));return Ie(e,n),xo(e)}(ko(t))},So=function(t){return Co(t)},To=Object.freeze({__proto__:null,events:function(t){return br([xr(Wt(),(function(e,n){var r=t.channels,o=w(r),i=n,a=function(t,e){return e.universal()?t:tt(t,(function(t){return Z(e.channels(),t)}))}(o,i);Q(a,(function(t){var n=r[t],o=n.schema,a=Qn("channel["+t+"] data\nReceiver: "+So(e.element()),o,i.data());n.onReceive(e,a)}))}))])}});!function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"}(Je||(Je={}));var Eo,Oo=fo({}),Ao=function(t,n,r){switch(E(Oo.get(),t).orThunk((function(){var e=w(Oo.get());return ft(e,(function(e){return t.indexOf(e)>-1?b.some(Oo.get()[e]):b.none()}))})).getOr(Je.NORMAL)){case Je.NORMAL:return r(Po());case Je.LOGGING:var o=function(t,n){var r=[],o=(new Date).getTime();return{logEventCut:function(t,e,n){r.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){r.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){r.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){r.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){r.push({outcome:"response",purpose:n,target:e})},write:function(){var i=(new Date).getTime();Z(["mousemove","mouseover","mouseout",Kt()],t)||e.console.log(t,{event:t,time:i-o,target:n.dom(),sequence:J(r,(function(t){return Z(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+So(t.target)+")":t.outcome}))})}}}(t,n),i=r(o);return o.write(),i;case Je.STOP:return!0}},Do=["alloy/data/Fields","alloy/debugging/Debugging"],No=function(t,e,n){return Ao(t,e,n)},Po=s({logEventCut:i,logEventStopped:i,logNoParent:i,logEventNoHandlers:i,logEventResponse:i,write:i}),Mo=s([or("menu"),or("selectedMenu")]),Lo=s([or("item"),or("selectedItem")]),Ro=(s(Hn(Lo().concat(Mo()))),s(Hn(Lo()))),Io=ar("initSize",[or("numColumns"),or("numRows")]),Bo=function(t,e,n){!function(){var t=new Error;if(void 0!==t.stack){var e=t.stack.split("\n");return rt(e,(function(t){return t.indexOf("alloy")>0&&!X(Do,(function(e){return t.indexOf(e)>-1}))})).getOr("unknown")}}();return Vn(e,e,n,Kn((function(t){return Ke.value((function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.apply(void 0,e)}))})))},Fo=function(t){return Bo(0,t,yn(i))},jo=function(t){return Bo(0,t,yn(b.none))},zo=function(t){return Bo(0,t,wn())},Ho=function(t){return Bo(0,t,wn())},qo=function(t,e){return hr(t,s(e))},Uo=function(t){return hr(t,u)},Wo=s(Io),Vo=[ir("channels",Zn(Ke.value,zn([zo("onReceive"),fr("schema",nr())])))],$o=Ur({fields:Vo,name:"receiving",active:To}),Go=function(t,e,n){var r=e.aria;r.update(t,r,n.get())},Yo=function(t,e,n){e.toggleClass.each((function(e){n.get()?ro(t.element(),e):io(t.element(),e)}))},Ko=function(t,e,n){Jo(t,e,n,!n.get())},Zo=function(t,e,n){n.set(!0),Yo(t,e,n),Go(t,e,n)},Xo=function(t,e,n){n.set(!1),Yo(t,e,n),Go(t,e,n)},Jo=function(t,e,n,r){(r?Zo:Xo)(t,e,n)},Qo=function(t,e,n){Jo(t,e,n,e.selected)},ti=Object.freeze({__proto__:null,onLoad:Qo,toggle:Ko,isOn:function(t,e,n){return n.get()},on:Zo,off:Xo,set:Jo}),ei=Object.freeze({__proto__:null,exhibit:function(){return Lr({})},events:function(t,e){var n,r,o,i=(n=t,r=e,o=Ko,Nr((function(t){o(t,n,r)}))),a=Rr(t,e,Qo);return br(it([t.toggleOnExecute?[i]:[],[a]]))}}),ni=function(t,e,n){Gr(t.element(),"aria-expanded",n)},ri=[fr("selected",!1),sr("toggleClass"),fr("toggleOnExecute",!0),dr("aria",{mode:"none"},er("mode",{pressed:[fr("syncWithExpanded",!1),qo("update",(function(t,e,n){Gr(t.element(),"aria-pressed",n),e.syncWithExpanded&&ni(t,e,n)}))],checked:[qo("update",(function(t,e,n){Gr(t.element(),"aria-checked",n)}))],expanded:[qo("update",ni)],selected:[qo("update",(function(t,e,n){Gr(t.element(),"aria-selected",n)}))],none:[qo("update",i)]}))],oi=Ur({fields:ri,name:"toggling",active:ei,apis:ti,state:(Eo=!1,{init:function(){var t=fo(Eo);return{get:function(){return t.get()},set:function(e){return t.set(e)},clear:function(){return t.set(Eo)},readState:function(){return t.get()}}}})}),ii=function(t,e){return $o.config({channels:Tn("formatChanged",{onReceive:function(n,r){r.command===t&&e(n,r.state)}})})},ai=function(t){return $o.config({channels:Tn("orientationChanged",{onReceive:t})})},si=function(t,e){return{key:t,value:{onReceive:e}}},ui=function(t){return"tinymce-mobile-"+t},li=function(){var t=function(t,e){e.stop(),re(t)};return[xr(Bt(),t),xr(Gt(),t),Sr(Tt()),Sr(At())]},ci=function(t,e){e.ignore||(ho(t.element()),e.onFocus(t))},fi=Object.freeze({__proto__:null,focus:ci,blur:function(t,e){e.ignore||po(t.element())},isFocused:function(t){return function(t){var e=Se(t).dom();return t.dom()===e.activeElement}(t.element())}}),di=Object.freeze({__proto__:null,exhibit:function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return Lr(n)},events:function(t){return br([xr(Ht(),(function(e,n){ci(e,t),n.stop()}))].concat(t.stopMousedown?[xr(At(),(function(t,e){e.event().prevent()}))]:[]))}}),hi=[Fo("onFocus"),fr("stopMousedown",!1),fr("ignore",!1)],pi=Ur({fields:hi,name:"focusing",active:di,apis:fi}),mi=function(t){return void 0!==t.style&&V(t.style.getPropertyValue)},gi=function(t,n,r){if(!z(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);mi(t)&&t.style.setProperty(n,r)},vi=function(t,e,n){var r=t.dom();gi(r,e,n)},yi=function(t,e){var n=t.dom();_(e,(function(t,e){gi(n,e,t)}))},bi=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r).getPropertyValue(n);return""!==o||De(t)?o:wi(r,n)},wi=function(t,e){return mi(t)?t.style.getPropertyValue(e):""},xi=function(t,e){var n=t.dom(),r=wi(n,e);return b.from(r).filter((function(t){return t.length>0}))},_i=function(t,e){!function(t,e){mi(t)&&t.style.removeProperty(e)}(t.dom(),e),Zr(t,"style").map(gt).is("")&&Jr(t,"style")},ki=function(t){return t.dom().offsetWidth};function Ci(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=bi(n,t);return parseFloat(o)||0}return r},r=function(t,e){return nt(e,(function(e,n){var r=bi(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!$(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();mi(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}var Si=Ci("height",(function(t){var e=t.dom();return De(t)?e.getBoundingClientRect().height:e.offsetHeight})),Ti=function(t){return Si.get(t)},Ei=function(t,e,n){return tt(function(t,e){for(var n=V(e)?e:p,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=se.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(t,n),e)},Oi=function(t,e){return tt(function(t){return we(t).map(xe).map((function(e){return tt(e,(function(e){return!ye(t,e)}))})).getOr([])}(t),e)},Ai=function(t,e,n){return Ei(t,(function(t){return pe(t,e)}),n)},Di=function(t,e){return ge(e,t)};function Ni(t,e,n,r,o){return t(n,r)?b.some(n):V(o)&&o(n)?b.none():e(n,r,o)}var Pi,Mi=function(t,e,n){for(var r=t.dom(),o=V(n)?n:s(!1);r.parentNode;){r=r.parentNode;var i=se.fromDom(r);if(e(i))return b.some(i);if(o(i))break}return b.none()},Li=function(t){return ve(t)},Ri=function(t,e,n){return Mi(t,(function(t){return pe(t,e)}),n)},Ii=function(t,e){return ve(e,t)},Bi=function(t,e,n){return Ni((function(t,e){return pe(t,e)}),Ri,t,e,n)},Fi=function(t,e,n){var r=ut(t.slice(0,e)),o=ut(t.slice(e+1));return rt(r.concat(o),n)},ji=function(t,e,n){var r=ut(t.slice(0,e));return rt(r,n)},zi=function(t,e,n){var r=t.slice(0,e),o=t.slice(e+1);return rt(o.concat(r),n)},Hi=function(t,e,n){var r=t.slice(e+1);return rt(r,n)},qi=function(t){return function(e){var n=e.raw();return Z(t,n.which)}},Ui=function(t){return function(e){return st(t,(function(t){return t(e)}))}},Wi=function(t){return!0===t.raw().shiftKey},Vi=function(t){return!0===t.raw().ctrlKey},$i=f(Wi),Gi=function(t,e){return{matches:t,classification:e}},Yi=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Ki=function(t,e,n,r){var o=t+e;return o>r?n:o<n?r:o},Zi=function(t,e,n){return Math.min(Math.max(t,e),n)},Xi=function(t,e,n,r){var o=Di(t.element(),"."+e.highlightClass);Q(o,(function(n){X(r,(function(t){return t.element()===n}))||(io(n,e.highlightClass),t.getSystem().getByDom(n).each((function(n){e.onDehighlight(t,n),ee(n,te())})))}))},Ji=function(t,e,n,r){Xi(t,e,0,[r]),Qi(t,e,n,r)||(ro(r.element(),e.highlightClass),e.onHighlight(t,r),ee(r,Qt()))},Qi=function(t,e,n,r){return ao(r.element(),e.highlightClass)},ta=function(t,e,n,r){var o=Di(t.element(),"."+e.itemClass);return b.from(o[r]).fold((function(){return Ke.error("No element found with index "+r)}),t.getSystem().getByDom)},ea=function(t,e,n){return Ii(t.element(),"."+e.itemClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},na=function(t,e,n){var r=Di(t.element(),"."+e.itemClass);return(r.length>0?b.some(r[r.length-1]):b.none()).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},ra=function(t,e,n,r){var o=Di(t.element(),"."+e.itemClass);return ot(o,(function(t){return ao(t,e.highlightClass)})).bind((function(e){var n=Ki(e,r,0,o.length-1);return t.getSystem().getByDom(o[n]).toOption()}))},oa=function(t,e,n){var r=Di(t.element(),"."+e.itemClass);return Yi(J(r,(function(e){return t.getSystem().getByDom(e).toOption()})))},ia=Object.freeze({__proto__:null,dehighlightAll:function(t,e,n){return Xi(t,e,0,[])},dehighlight:function(t,e,n,r){Qi(t,e,n,r)&&(io(r.element(),e.highlightClass),e.onDehighlight(t,r),ee(r,te()))},highlight:Ji,highlightFirst:function(t,e,n){ea(t,e).each((function(r){Ji(t,e,n,r)}))},highlightLast:function(t,e,n){na(t,e).each((function(r){Ji(t,e,n,r)}))},highlightAt:function(t,e,n,r){ta(t,e,n,r).fold((function(t){throw new Error(t)}),(function(r){Ji(t,e,n,r)}))},highlightBy:function(t,e,n,r){var o=oa(t,e);rt(o,r).each((function(r){Ji(t,e,n,r)}))},isHighlighted:Qi,getHighlighted:function(t,e,n){return Ii(t.element(),"."+e.highlightClass).bind((function(e){return t.getSystem().getByDom(e).toOption()}))},getFirst:ea,getLast:na,getPrevious:function(t,e,n){return ra(t,e,0,-1)},getNext:function(t,e,n){return ra(t,e,0,1)},getCandidates:oa}),aa=[or("highlightClass"),or("itemClass"),Fo("onHighlight"),Fo("onDehighlight")],sa=Ur({fields:aa,name:"highlighting",apis:ia}),ua=function(t,e,n){e.exists((function(t){return n.exists((function(e){return ye(e,t)}))}))||ne(t,Jt(),{prevFocus:e,newFocus:n})},la=function(){var t=function(t){return go(t.element())};return{get:t,set:function(e,n){var r=t(e);e.getSystem().triggerFocus(n,e.element());var o=t(e);ua(e,r,o)}}},ca=function(){var t=function(t){return sa.getHighlighted(t).map((function(t){return t.element()}))};return{get:t,set:function(e,n){var r=t(e);e.getSystem().getByDom(n).fold(i,(function(t){sa.highlight(e,t)}));var o=t(e);ua(e,r,o)}}};!function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"}(Pi||(Pi={}));var fa=function(t,e,n,r,o){var i=function(t,e,n,r,o){var i,a,s=n(t,e,r,o);return(i=s,a=e.event(),rt(i,(function(t){return t.matches(a)})).map((function(t){return t.classification}))).bind((function(n){return n(t,e,r,o)}))},a={schema:function(){return t.concat([fr("focusManager",la()),dr("focusInside","onFocus",Kn((function(t){return Z(["onFocus","onEnterOrSpace","onApi"],t)?Ke.value(t):Ke.error("Invalid value for focusInside")}))),qo("handler",a),qo("state",e),qo("sendFocusIn",o)])},processKey:i,toEvents:function(t,e){var a=t.focusInside!==Pi.OnFocusMode?b.none():o(t).map((function(n){return xr(Ht(),(function(r,o){n(r,t,e),o.stop()}))})),s=[xr(Mt(),(function(r,a){i(r,a,n,t,e).fold((function(){!function(n,r){var i=qi([32].concat([13]))(r.event());t.focusInside===Pi.OnEnterOrSpaceMode&&i&&gr(n,r)&&o(t).each((function(o){o(n,t,e),r.stop()}))}(r,a)}),(function(t){a.stop()}))})),xr(Lt(),(function(n,o){i(n,o,r,t,e).each((function(t){o.stop()}))}))];return br(a.toArray().concat(s))}};return a},da=function(t){var e=[sr("onEscape"),sr("onEnter"),fr("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),fr("firstTabstop",0),fr("useTabstopAt",s(!0)),sr("visibilitySelector")].concat([t]),n=function(t,e){var n=t.visibilitySelector.bind((function(t){return Bi(e,t)})).getOr(e);return Ti(n)>0},r=function(t,e,r){(function(t,e){var r=Di(t.element(),e.selector),o=tt(r,(function(t){return n(e,t)}));return b.from(o[e.firstTabstop])})(t,e).each((function(n){e.focusManager.set(t,n)}))},o=function(t,e,r,o,i){return i(e,r,(function(t){return function(t,e){return n(t,e)&&t.useTabstopAt(e)}(o,t)})).fold((function(){return o.cyclic?b.some(!0):b.none()}),(function(e){return o.focusManager.set(t,e),b.some(!0)}))},i=function(t,e,n,r){var i=Di(t.element(),n.selector);return function(t,e){return e.focusManager.get(t).bind((function(t){return Bi(t,e.selector)}))}(t,n).bind((function(e){return ot(i,l(ye,e)).bind((function(e){return o(t,i,e,n,r)}))}))},a=s([Gi(Ui([Wi,qi([9])]),(function(t,e,n){var r=n.cyclic?Fi:ji;return i(t,0,n,r)})),Gi(qi([9]),(function(t,e,n){var r=n.cyclic?zi:Hi;return i(t,0,n,r)})),Gi(qi([27]),(function(t,e,n){return n.onEscape.bind((function(n){return n(t,e)}))})),Gi(Ui([$i,qi([13])]),(function(t,e,n){return n.onEnter.bind((function(n){return n(t,e)}))}))]),u=s([]);return fa(e,jr.init,a,u,(function(){return b.some(r)}))},ha=da(hr("cyclic",s(!1))),pa=da(hr("cyclic",s(!0))),ma=function(t){return"input"===ue(t)&&"radio"!==Kr(t,"type")||"textarea"===ue(t)},ga=function(t,e,n){return ma(n)&&qi([32])(e.event())?b.none():function(t,e,n){return oe(t,n,Vt()),b.some(!0)}(t,0,n)},va=function(t,e){return b.some(!0)},ya=[fr("execute",ga),fr("useSpace",!1),fr("useEnter",!0),fr("useControlEnter",!1),fr("useDown",!1)],ba=function(t,e,n){return n.execute(t,e,t.element())},wa=fa(ya,jr.init,(function(t,e,n,r){var o=n.useSpace&&!ma(t.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],s=o.concat(i).concat(a);return[Gi(qi(s),ba)].concat(n.useControlEnter?[Gi(Ui([Vi,qi([13])]),ba)]:[])}),(function(t,e,n,r){return n.useSpace&&!ma(t.element())?[Gi(qi([32]),va)]:[]}),(function(){return b.none()})),xa=function(){var t=fo(b.none());return zr({readState:function(){return t.get().map((function(t){return{numRows:String(t.numRows),numColumns:String(t.numColumns)}})).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(e,n){t.set(b.some({numRows:e,numColumns:n}))},getNumRows:function(){return t.get().map((function(t){return t.numRows}))},getNumColumns:function(){return t.get().map((function(t){return t.numColumns}))}})},_a=Object.freeze({__proto__:null,flatgrid:xa,init:function(t){return t.state(t)}}),ka=function(t,e){return function(n){return"rtl"===Ca(n)?e:t}},Ca=function(t){return"rtl"===bi(t,"direction")?"rtl":"ltr"},Sa=function(t){return function(e,n,r,o){var i=t(e.element());return Aa(i,e,n,r,o)}},Ta=function(t,e){var n=ka(t,e);return Sa(n)},Ea=function(t,e){var n=ka(e,t);return Sa(n)},Oa=function(t){return function(e,n,r,o){return Aa(t,e,n,r,o)}},Aa=function(t,e,n,r,o){return r.focusManager.get(e).bind((function(n){return t(e.element(),n,r,o)})).map((function(t){return r.focusManager.set(e,t),!0}))},Da=Oa,Na=Oa,Pa=Oa,Ma=function(t){return!function(t){return t.offsetWidth<=0&&t.offsetHeight<=0}(t.dom())},La=function(t,e,n){var r=Di(t,n);return function(t,e){return ot(t,e).map((function(e){return{index:s(e),candidates:s(t)}}))}(tt(r,Ma),(function(t){return ye(t,e)}))},Ra=function(t,e){return ot(t,(function(t){return ye(e,t)}))},Ia=function(t,e,n,r){return r(Math.floor(e/n),e%n).bind((function(e){var r=e.row()*n+e.column();return r>=0&&r<t.length?b.some(t[r]):b.none()}))},Ba=function(t,e,n,r,o){return Ia(t,e,r,(function(e,i){var a=e===n-1?t.length-e*r:r,u=Ki(i,o,0,a-1);return b.some({row:s(e),column:s(u)})}))},Fa=function(t,e,n,r,o){return Ia(t,e,r,(function(e,i){var a=Ki(e,o,0,n-1),u=a===n-1?t.length-a*r:r,l=Zi(i,0,u-1);return b.some({row:s(a),column:s(l)})}))},ja=[or("selector"),fr("execute",ga),jo("onEscape"),fr("captureTab",!1),Wo()],za=function(t,e,n){Ii(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Ha=function(t){return function(e,n,r,o){return La(e,n,r.selector).bind((function(e){return t(e.candidates(),e.index(),o.getNumRows().getOr(r.initSize.numRows),o.getNumColumns().getOr(r.initSize.numColumns))}))}},qa=function(t,e,n){return n.captureTab?b.some(!0):b.none()},Ua=Ha((function(t,e,n,r){return Ba(t,e,n,r,-1)})),Wa=Ha((function(t,e,n,r){return Ba(t,e,n,r,1)})),Va=Ha((function(t,e,n,r){return Fa(t,e,n,r,-1)})),$a=Ha((function(t,e,n,r){return Fa(t,e,n,r,1)})),Ga=s([Gi(qi([37]),Ta(Ua,Wa)),Gi(qi([39]),Ea(Ua,Wa)),Gi(qi([38]),Da(Va)),Gi(qi([40]),Na($a)),Gi(Ui([Wi,qi([9])]),qa),Gi(Ui([$i,qi([9])]),qa),Gi(qi([27]),(function(t,e,n){return n.onEscape(t,e)})),Gi(qi([32].concat([13])),(function(t,e,n,r){return function(t,e){return e.focusManager.get(t).bind((function(t){return Bi(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))}))]),Ya=s([Gi(qi([32]),va)]),Ka=fa(ja,xa,Ga,Ya,(function(){return b.some(za)})),Za=function(t,e,n,r){var o=function(t,e,n){var i,a=Ki(e,r,0,n.length-1);return a===t?b.none():(i=n[a],"button"===ue(i)&&"disabled"===Kr(i,"disabled")?o(t,a,n):b.from(n[a]))};return La(t,n,e).bind((function(t){var e=t.index(),n=t.candidates();return o(e,e,n)}))},Xa=[or("selector"),fr("getInitial",b.none),fr("execute",ga),jo("onEscape"),fr("executeOnMove",!1),fr("allowVertical",!0)],Ja=function(t,e,n){return function(t,e){return e.focusManager.get(t).bind((function(t){return Bi(t,e.selector)}))}(t,n).bind((function(r){return n.execute(t,e,r)}))},Qa=function(t,e,n){e.getInitial(t).orThunk((function(){return Ii(t.element(),e.selector)})).each((function(n){e.focusManager.set(t,n)}))},ts=function(t,e,n){return Za(t,n.selector,e,-1)},es=function(t,e,n){return Za(t,n.selector,e,1)},ns=function(t){return function(e,n,r,o){return t(e,n,r,o).bind((function(){return r.executeOnMove?Ja(e,n,r):b.some(!0)}))}},rs=function(t,e,n){return n.onEscape(t,e)},os=s([Gi(qi([32]),va)]),is=fa(Xa,jr.init,(function(t,e,n,r){var o=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[Gi(qi(o),ns(Ta(ts,es))),Gi(qi(i),ns(Ea(ts,es))),Gi(qi([13]),Ja),Gi(qi([32]),Ja),Gi(qi([27]),rs)]}),os,(function(){return b.some(Qa)})),as=function(t,e,n){return b.from(t[e]).bind((function(t){return b.from(t[n]).map((function(t){return{rowIndex:e,columnIndex:n,cell:t}}))}))},ss=function(t,e,n,r){var o=t[e].length,i=Ki(n,r,0,o-1);return as(t,e,i)},us=function(t,e,n,r){var o=Ki(n,r,0,t.length-1),i=t[o].length,a=Zi(e,0,i-1);return as(t,o,a)},ls=function(t,e,n,r){var o=t[e].length,i=Zi(n+r,0,o-1);return as(t,e,i)},cs=function(t,e,n,r){var o=Zi(n+r,0,t.length-1),i=t[o].length,a=Zi(e,0,i-1);return as(t,o,a)},fs=[ar("selectors",[or("row"),or("cell")]),fr("cycles",!0),fr("previousSelector",b.none),fr("execute",ga)],ds=function(t,e,n){e.previousSelector(t).orThunk((function(){var n=e.selectors;return Ii(t.element(),n.cell)})).each((function(n){e.focusManager.set(t,n)}))},hs=function(t,e){return function(n,r,o){var i=o.cycles?t:e;return Bi(r,o.selectors.row).bind((function(t){var e=Di(t,o.selectors.cell);return Ra(e,r).bind((function(e){var r=Di(n,o.selectors.row);return Ra(r,t).bind((function(t){var n=function(t,e){return J(t,(function(t){return Di(t,e.selectors.cell)}))}(r,o);return i(n,t,e).map((function(t){return t.cell}))}))}))}))}},ps=hs((function(t,e,n){return ss(t,e,n,-1)}),(function(t,e,n){return ls(t,e,n,-1)})),ms=hs((function(t,e,n){return ss(t,e,n,1)}),(function(t,e,n){return ls(t,e,n,1)})),gs=hs((function(t,e,n){return us(t,n,e,-1)}),(function(t,e,n){return cs(t,n,e,-1)})),vs=hs((function(t,e,n){return us(t,n,e,1)}),(function(t,e,n){return cs(t,n,e,1)})),ys=s([Gi(qi([37]),Ta(ps,ms)),Gi(qi([39]),Ea(ps,ms)),Gi(qi([38]),Da(gs)),Gi(qi([40]),Na(vs)),Gi(qi([32].concat([13])),(function(t,e,n){return go(t.element()).bind((function(r){return n.execute(t,e,r)}))}))]),bs=s([Gi(qi([32]),va)]),ws=fa(fs,jr.init,ys,bs,(function(){return b.some(ds)})),xs=[or("selector"),fr("execute",ga),fr("moveOnTab",!1)],_s=function(t,e,n){return n.focusManager.get(t).bind((function(r){return n.execute(t,e,r)}))},ks=function(t,e,n){Ii(t.element(),e.selector).each((function(n){e.focusManager.set(t,n)}))},Cs=function(t,e,n){return Za(t,n.selector,e,-1)},Ss=function(t,e,n){return Za(t,n.selector,e,1)},Ts=s([Gi(qi([38]),Pa(Cs)),Gi(qi([40]),Pa(Ss)),Gi(Ui([Wi,qi([9])]),(function(t,e,n,r){return n.moveOnTab?Pa(Cs)(t,e,n,r):b.none()})),Gi(Ui([$i,qi([9])]),(function(t,e,n,r){return n.moveOnTab?Pa(Ss)(t,e,n,r):b.none()})),Gi(qi([13]),_s),Gi(qi([32]),_s)]),Es=s([Gi(qi([32]),va)]),Os=fa(xs,jr.init,Ts,Es,(function(){return b.some(ks)})),As=[jo("onSpace"),jo("onEnter"),jo("onShiftEnter"),jo("onLeft"),jo("onRight"),jo("onTab"),jo("onShiftTab"),jo("onUp"),jo("onDown"),jo("onEscape"),fr("stopSpaceKeyup",!1),sr("focusIn")],Ds=fa(As,jr.init,(function(t,e,n){return[Gi(qi([32]),n.onSpace),Gi(Ui([$i,qi([13])]),n.onEnter),Gi(Ui([Wi,qi([13])]),n.onShiftEnter),Gi(Ui([Wi,qi([9])]),n.onShiftTab),Gi(Ui([$i,qi([9])]),n.onTab),Gi(qi([38]),n.onUp),Gi(qi([40]),n.onDown),Gi(qi([37]),n.onLeft),Gi(qi([39]),n.onRight),Gi(qi([32]),n.onSpace),Gi(qi([27]),n.onEscape)]}),(function(t,e,n){return n.stopSpaceKeyup?[Gi(qi([32]),va)]:[]}),(function(t){return t.focusIn})),Ns=ha.schema(),Ps=pa.schema(),Ms=is.schema(),Ls=Ka.schema(),Rs=ws.schema(),Is=wa.schema(),Bs=Os.schema(),Fs=Ds.schema(),js=function(t){var e=Qn("Creating behaviour: "+t.name,Wr,t);return function(t,e,n,r,o,i){var a=t,s=lr(e,[ur("config",t)]);return Fr(a,s,e,n,r,o,i)}(er(e.branchKey,e.branches),e.name,e.active,e.apis,e.extra,e.state)}({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:Ns,cyclic:Ps,flow:Ms,flatgrid:Ls,matrix:Rs,execution:Is,menu:Bs,special:Fs}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t,e,n){e.sendFocusIn(e).fold((function(){t.getSystem().triggerFocus(t.element(),t.element())}),(function(r){r(t,e,n)}))},setGridSize:function(t,n,r,o,i){!function(t){return A(t,"setGridSize")}(r)?e.console.error("Layout does not support setGridSize"):r.setGridSize(o,i)}},state:_a}),zs=function(t,e){return function(t,e,n){return dr(t,e,Hn(n))}(t,{},J(e,(function(e){return n=e.name(),r="Cannot configure "+e.name()+" for "+t,Vn(n,n,xn(),Fn((function(t){return sn("The field: "+n+" is forbidden. "+r)})));var n,r})).concat([hr("dump",u)]))},Hs=function(t){return t.dump},qs=function(t,e){return n(n({},t.dump),Hr(e))},Us=zs,Ws=qs,Vs=dn([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),$s=function(t){return O(t,"uiType")},Gs=function(t,e,n,r){return $s(n)&&"placeholder"===n.uiType?function(t,e,n,r){return t.exists((function(t){return t!==n.owner}))?Vs.single(!0,s(n)):E(r,n.name).fold((function(){throw new Error("Unknown placeholder component: "+n.name+"\nKnown: ["+w(r)+"]\nNamespace: "+t.getOr("none")+"\nSpec: "+JSON.stringify(n,null,2))}),(function(t){return t.replace()}))}(t,0,n,r):Vs.single(!1,s(n))},Ys=function(t,e,r,o){return Gs(t,0,r,o).fold((function(i,a){var s=$s(r)?a(e,r.config,r.validated):a(e),u=E(s,"components").getOr([]),l=at(u,(function(n){return Ys(t,e,n,o)}));return[n(n({},s),{components:l})]}),(function(t,n){if($s(r)){var o=n(e,r.config,r.validated);return r.validated.preprocess.getOr(u)(o)}return n(e)}))},Ks=function(t,e,n,r){var o=k(r,(function(t,e){return r=t,o=!1,{name:s(n=e),required:function(){return r.fold((function(t,e){return t}),(function(t,e){return t}))},used:function(){return o},replace:function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+n);return o=!0,r}};var n,r,o})),i=function(t,e,n,r){return at(n,(function(n){return Ys(t,e,n,r)}))}(t,e,n,o);return _(o,(function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+t.getOr("none")+"\nComponents: "+JSON.stringify(e.components,null,2))})),i},Zs=Vs.single,Xs=Vs.multiple,Js=s("placeholder"),Qs=0,tu=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Qs+String(e)},eu=dn([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),nu=fr("factory",{sketch:u}),ru=fr("schema",[]),ou=or("name"),iu=Vn("pname","pname",_n((function(t){return"<alloy."+tu(t.name)+">"})),nr()),au=hr("schema",(function(){return[sr("preprocess")]})),su=fr("defaults",s({})),uu=fr("overrides",s({})),lu=Hn([nu,ru,ou,iu,su,uu]),cu=Hn([nu,ru,ou,su,uu]),fu=Hn([nu,ru,ou,iu,su,uu]),du=Hn([nu,au,ou,or("unit"),iu,su,uu]),hu=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},pu=function(t,e){return function(n){var r=Qn("Converting part type",e,n);return t(r)}},mu=pu(eu.required,lu),gu=(pu(eu.external,cu),pu(eu.optional,fu)),vu=pu(eu.group,du),yu=s("entirety"),bu=function(t,e,n,r){return mn(e.defaults(t,n,r),n,{uid:t.partUids[e.name]},e.overrides(t,n,r))},wu=function(t,e){var r={};return Q(e,(function(e){(function(t){return t.fold(b.some,b.none,b.some,b.some)})(e).each((function(e){var o=xu(t,e.pname);r[e.name]=function(r){var i=Qn("Part: "+e.name+" in "+t,Hn(e.schema),r);return n(n({},o),{config:r,validated:i})}}))})),r},xu=function(t,e){return{uiType:Js(),owner:t,name:e}},_u=function(t,e,n){return function(t,e,n){var r={},o={};return Q(n,(function(t){t.fold((function(t){r[t.pname]=Zs(!0,(function(e,n,r){return t.factory.sketch(bu(e,t,n,r))}))}),(function(t){var n=e.parts[t.name];o[t.name]=s(t.factory.sketch(bu(e,t,n[yu()]),n))}),(function(t){r[t.pname]=Zs(!1,(function(e,n,r){return t.factory.sketch(bu(e,t,n,r))}))}),(function(t){r[t.pname]=Xs(!0,(function(e,n,r){var o=e[t.name];return J(o,(function(n){return t.factory.sketch(mn(t.defaults(e,n,r),n,t.overrides(e,n)))}))}))}))})),{internals:s(r),externals:s(o)}}(0,e,n)},ku=function(t,e,n){return Ks(b.some(t),e,e.components,n)},Cu=function(t,e,n){var r=e.partUids[n];return t.getSystem().getByUid(r).toOption()},Su=function(t,e,n){return Cu(t,e,n).getOrDie("Could not find part: "+n)},Tu=function(t,e){var n=function(t){return J(t,hu)}(e);return En(J(n,(function(e){return{key:e,value:t+"-"+e}})))},Eu=function(t){return Vn("partUids","partUids",kn((function(e){return Tu(e.uid,t)})),nr())},Ou=tu("alloy-premade"),Au=function(t){return Tn(Ou,t)},Du=function(t){return function(t,e){var n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),i=n.substring(o+1,r-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:Pr(i.slice(1))}},t}((function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.apply(void 0,o([e.getApis(),e],n))}),t)},Nu=s("alloy-id-"),Pu=s("data-alloy-id"),Mu=Nu(),Lu=Pu(),Ru=function(t,e){Object.defineProperty(t.dom(),Lu,{value:e,writable:!0})},Iu=function(t){var e=ce(t)?t.dom()[Lu]:null;return b.from(e)},Bu=function(t){return tu(t)},Fu=function(t,e,n,r,o){var i=function(t,e){return(t.length>0?[ar("parts",t)]:[]).concat([or("uid"),fr("dom",{}),fr("components",[]),Uo("originalSpec"),fr("debug.sketcher",{})]).concat(e)}(r,o);return Qn(t+" [SpecSchema]",zn(i.concat(e)),n)},ju=function(t,e,n,r,o){var i=zu(o),a=function(t){return at(t,(function(t){return t.fold(b.none,b.some,b.none,b.none).map((function(t){return ar(t.name,t.schema.concat([Uo(yu())]))})).toArray()}))}(n),s=Eu(n),u=Fu(t,e,i,a,[s]),l=_u(0,u,n);return r(u,ku(t,u,l.internals()),i,l.externals())},zu=function(t){return function(t){return O(t,"uid")}(t)?t:n(n({},t),{uid:Bu("uid")})};var Hu=zn([or("name"),or("factory"),or("configFields"),fr("apis",{}),fr("extraApis",{})]),qu=zn([or("name"),or("factory"),or("configFields"),or("partFields"),fr("apis",{}),fr("extraApis",{})]),Uu=function(t){var e=Qn("Sketcher for "+t.name,Hu,t),r=k(e.apis,Du),o=k(e.extraApis,(function(t,e){return Mr(t,e)}));return n(n({name:s(e.name),configFields:s(e.configFields),sketch:function(t){return function(t,e,n,r){var o=zu(r);return n(Fu(t,e,o,[],[]),o)}(e.name,e.configFields,e.factory,t)}},r),o)},Wu=function(t){var e=Qn("Sketcher for "+t.name,qu,t),r=wu(e.name,e.partFields),o=k(e.apis,Du),i=k(e.extraApis,(function(t,e){return Mr(t,e)}));return n(n({name:s(e.name),partFields:s(e.partFields),configFields:s(e.configFields),sketch:function(t){return ju(e.name,e.configFields,e.partFields,e.factory,t)},parts:s(r)},o),i)},Vu=Uu({name:"Button",factory:function(t){var e,r=(e=t.action,br(it([e.map((function(t){return Nr((function(e,n){t(e),n.stop()}))})).toArray(),li()]))),o=t.dom.tag,i=function(e){return E(t.dom,"attributes").bind((function(t){return E(t,e)}))};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Ws(t.buttonBehaviours,[pi.config({}),js.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"===o){var t=i("type").getOr("button"),e=i("role").map((function(t){return{role:t}})).getOr({});return n({type:t},e)}return{role:i("role").getOr("button")}}()},eventOrder:t.eventOrder}},configFields:[fr("uid",void 0),or("dom"),fr("components",[]),Us("buttonBehaviours",[pi,js]),sr("action"),sr("role"),fr("eventOrder",{})]}),$u=Object.freeze({__proto__:null,events:function(){return br([wr(jt(),s(!0))])},exhibit:function(){return Lr({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}}),Gu=Ur({fields:[],name:"unselecting",active:$u}),Yu=function(t){var e=se.fromHtml(t),r=xe(e),o=function(t){var e=void 0!==t.dom().attributes?t.dom().attributes:[];return nt(e,(function(t,e){var r;return"class"===e.name?t:n(n({},t),((r={})[e.name]=e.value,r))}),{})}(e),i=function(t){return Array.prototype.slice.call(t.dom().classList,0)}(e),a=0===r.length?{}:{innerHtml:xo(e)};return n({tag:ue(e),classes:i,attributes:o},a)},Ku=function(t){var e,n=(e={prefix:"tinymce-mobile"},t.replace(/\$\{([^{}]*)\}/g,(function(t,n){var r=e[n];return function(t){var e=typeof t;return"string"===e||"number"===e}(r)?r.toString():t})));return Yu(n)},Zu=function(t){return{dom:Ku(t)}},Xu=function(t){return Hr([oi.config({toggleClass:ui("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),ii(t,(function(t,e){(e?oi.on:oi.off)(t)}))])},Ju=function(t,e,n,r){var o=Xu(n);return tl(e,r,o,t)},Qu=function(t,e){var n=e.ui.registry.getAll().icons;return b.from(n[t]).fold((function(){return Ku('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item ${prefix}-icon-'+t+' ${prefix}-icon"></span>')}),(function(t){return Ku('<span class="${prefix}-toolbar-button ${prefix}-toolbar-group-item">'+t+"</span>")}))},tl=function(t,e,n,r){return Vu.sketch({dom:Qu(t,r),action:e,buttonBehaviours:mn(Hr([Gu.config({})]),n)})},el=gu({schema:[or("dom")],name:"label"}),nl=function(t){return gu({name:t+"-edge",overrides:function(e){return e.model.manager.edgeActions[t].fold((function(){return{}}),(function(t){return{events:br([_r(Tt(),(function(e,n,r){return t(e,r)}),[e]),_r(At(),(function(e,n,r){return t(e,r)}),[e]),_r(Dt(),(function(e,n,r){r.mouseIsDown.get()&&t(e,r)}),[e])])}}))}})},rl=nl("top-left"),ol=nl("top"),il=nl("top-right"),al=nl("right"),sl=nl("bottom-right"),ul=nl("bottom"),ll=nl("bottom-left"),cl=[el,nl("left"),al,ol,ul,rl,il,ll,sl,mu({name:"thumb",defaults:s({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:br([Cr(Tt(),t,"spectrum"),Cr(Et(),t,"spectrum"),Cr(Ot(),t,"spectrum"),Cr(At(),t,"spectrum"),Cr(Dt(),t,"spectrum"),Cr(Nt(),t,"spectrum")])}}}),mu({schema:[hr("mouseIsDown",(function(){return fo(!1)}))],name:"spectrum",overrides:function(t){var e=t.model.manager,n=function(n,r){return e.getValueFromEvent(r).map((function(r){return e.setValueFrom(n,t,r)}))};return{behaviours:Hr([js.config({mode:"special",onLeft:function(n){return e.onLeft(n,t)},onRight:function(n){return e.onRight(n,t)},onUp:function(n){return e.onUp(n,t)},onDown:function(n){return e.onDown(n,t)}}),pi.config({})]),events:br([xr(Tt(),n),xr(Et(),n),xr(At(),n),xr(Dt(),(function(e,r){t.mouseIsDown.get()&&n(e,r)}))])}}})],fl=function(t,e,n){e.store.manager.onLoad(t,e,n)},dl=function(t,e,n){e.store.manager.onUnload(t,e,n)},hl=Object.freeze({__proto__:null,onLoad:fl,onUnload:dl,setValue:function(t,e,n,r){e.store.manager.setValue(t,e,n,r)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),pl=Object.freeze({__proto__:null,events:function(t,e){var n=t.resetOnDom?[Or((function(n,r){fl(n,t,e)})),Ar((function(n,r){dl(n,t,e)}))]:[Rr(t,e,fl)];return br(n)}}),ml=function(){var t=fo(null);return zr({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},gl=function(){var t=fo({}),e=fo({});return zr({readState:function(){return{mode:"dataset",dataByValue:t.get(),dataByText:e.get()}},lookup:function(n){return E(t.get(),n).orThunk((function(){return E(e.get(),n)}))},update:function(r){var o=t.get(),i=e.get(),a={},s={};Q(r,(function(t){a[t.value]=t,E(t,"meta").each((function(e){E(e,"text").each((function(e){s[e]=t}))}))})),t.set(n(n({},o),a)),e.set(n(n({},i),s))},clear:function(){t.set({}),e.set({})}})},vl=Object.freeze({__proto__:null,memory:ml,dataset:gl,manual:function(){return zr({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),yl=function(t,e,n,r){var o=e.store;n.update([r]),o.setValue(t,r),e.onSetValue(t,r)},bl=[sr("initialValue"),or("getFallbackEntry"),or("getDataKey"),or("setValue"),qo("manager",{setValue:yl,getValue:function(t,e,n){var r=e.store,o=r.getDataKey(t);return n.lookup(o).fold((function(){return r.getFallbackEntry(o)}),(function(t){return t}))},onLoad:function(t,e,n){e.store.initialValue.each((function(r){yl(t,e,n,r)}))},onUnload:function(t,e,n){n.clear()},state:gl})],wl=[or("getValue"),fr("setValue",i),sr("initialValue"),qo("manager",{setValue:function(t,e,n,r){e.store.setValue(t,r),e.onSetValue(t,r)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(t,e,n){e.store.initialValue.each((function(n){e.store.setValue(t,n)}))},onUnload:i,state:jr.init})],xl=[sr("initialValue"),qo("manager",{setValue:function(t,e,n,r){n.set(r),e.onSetValue(t,r)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each((function(t){n.isNotSet()&&n.set(t)}))},onUnload:function(t,e,n){n.clear()},state:ml})],_l=[dr("store",{mode:"memory"},er("mode",{memory:xl,manual:wl,dataset:bl})),Fo("onSetValue"),fr("resetOnDom",!1)],kl=Ur({fields:_l,name:"representing",active:pl,apis:hl,extra:{setValueFrom:function(t,e){var n=kl.getValue(e);kl.setValue(t,n)}},state:vl}),Cl=Ci("width",(function(t){return t.dom().offsetWidth})),Sl=function(t,e){return Cl.set(t,e)},Tl=function(t){return Cl.get(t)},El=function(t,e){return{left:s(t),top:s(e),translate:function(n,r){return El(t+n,e+r)}}},Ol=El,Al=s("slider.change.value"),Dl=function(t){var e=t.event().raw();if(function(t){return-1!==t.type.indexOf("touch")}(e)){var n=e;return void 0!==n.touches&&1===n.touches.length?b.some(n.touches[0]).map((function(t){return Ol(t.clientX,t.clientY)})):b.none()}var r=e;return void 0!==r.clientX?b.some(r).map((function(t){return Ol(t.clientX,t.clientY)})):b.none()},Nl=function(t){return t.model.minX},Pl=function(t){return t.model.minY},Ml=function(t){return t.model.minX-1},Ll=function(t){return t.model.minY-1},Rl=function(t){return t.model.maxX},Il=function(t){return t.model.maxY},Bl=function(t){return t.model.maxX+1},Fl=function(t){return t.model.maxY+1},jl=function(t,e,n){return e(t)-n(t)},zl=function(t){return jl(t,Rl,Nl)},Hl=function(t){return jl(t,Il,Pl)},ql=function(t){return zl(t)/2},Ul=function(t){return Hl(t)/2},Wl=function(t){return t.stepSize},Vl=function(t){return t.snapToGrid},$l=function(t){return t.snapStart},Gl=function(t){return t.rounded},Yl=function(t,e){return void 0!==t[e+"-edge"]},Kl=function(t){return Yl(t,"left")},Zl=function(t){return Yl(t,"right")},Xl=function(t){return Yl(t,"top")},Jl=function(t){return Yl(t,"bottom")},Ql=function(t){return t.model.value.get()},tc=function(t){return{x:s(t)}},ec=function(t){return{y:s(t)}},nc=function(t,e){return{x:s(t),y:s(e)}},rc=function(t,e){ne(t,Al(),{value:e})},oc=function(t,e,n,r){return t<e?t:t>n?n:t===e?e-1:Math.max(e,t-r)},ic=function(t,e,n,r){return t>n?t:t<e?e:t===n?n+1:Math.min(n,t+r)},ac=function(t,e,n){return Math.max(e,Math.min(n,t))},sc=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.step,a=t.snap,s=t.snapStart,u=t.rounded,l=t.hasMinEdge,c=t.hasMaxEdge,f=t.minBound,d=t.maxBound,h=t.screenRange,p=l?e-1:e,m=c?n+1:n;if(o<f)return p;if(o>d)return m;var g=function(t,e,n){return Math.min(n,Math.max(t,e))-e}(o,f,d),v=ac(g/h*r+e,p,m);return a&&v>=e&&v<=n?function(t,e,n,r,o){return o.fold((function(){var o=t-e,i=Math.round(o/r)*r;return ac(e+i,e-1,n+1)}),(function(e){var o=(t-e)%r,i=Math.round(o/r),a=Math.floor((t-e)/r),s=Math.floor((n-e)/r),u=e+Math.min(s,a+i)*r;return Math.max(e,u)}))}(v,e,n,i,s):u?Math.round(v):v},uc=function(t){var e=t.min,n=t.max,r=t.range,o=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,s=t.maxBound,u=t.maxOffset,l=t.centerMinEdge,c=t.centerMaxEdge;return o<e?i?0:l:o>n?a?s:c:(o-e)/r*u},lc=function(t){return t.element().dom().getBoundingClientRect()},cc=function(t,e){return t[e]},fc=function(t){var e=lc(t);return cc(e,"left")},dc=function(t){var e=lc(t);return cc(e,"right")},hc=function(t){var e=lc(t);return cc(e,"top")},pc=function(t){var e=lc(t);return cc(e,"bottom")},mc=function(t){var e=lc(t);return cc(e,"width")},gc=function(t){var e=lc(t);return cc(e,"height")},vc=function(t,e,n){return(t+e)/2-n},yc=function(t,e){var n=lc(t),r=lc(e),o=cc(n,"left"),i=cc(n,"right"),a=cc(r,"left");return vc(o,i,a)},bc=function(t,e){var n=lc(t),r=lc(e),o=cc(n,"top"),i=cc(n,"bottom"),a=cc(r,"top");return vc(o,i,a)},wc=function(t,e){ne(t,Al(),{value:e})},xc=function(t){return{x:s(t)}},_c=function(t,e,n){var r={min:Nl(e),max:Rl(e),range:zl(e),value:n,step:Wl(e),snap:Vl(e),snapStart:$l(e),rounded:Gl(e),hasMinEdge:Kl(e),hasMaxEdge:Zl(e),minBound:fc(t),maxBound:dc(t),screenRange:mc(t)};return sc(r)},kc=function(t){return function(e,n){return function(t,e,n){var r=(t>0?ic:oc)(Ql(n).x(),Nl(n),Rl(n),Wl(n));return wc(e,xc(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},Cc=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=mc(t),a=r.bind((function(e){return b.some(yc(e,t))})).getOr(0),s=o.bind((function(e){return b.some(yc(e,t))})).getOr(i),u={min:Nl(e),max:Rl(e),range:zl(e),value:n,hasMinEdge:Kl(e),hasMaxEdge:Zl(e),minBound:fc(t),minOffset:0,maxBound:dc(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return uc(u)}(e,i,n,r,o);return fc(e)-fc(t)+a},Sc=kc(-1),Tc=kc(1),Ec=b.none,Oc=b.none,Ac={"top-left":b.none(),top:b.none(),"top-right":b.none(),right:b.some((function(t,e){rc(t,tc(Bl(e)))})),"bottom-right":b.none(),bottom:b.none(),"bottom-left":b.none(),left:b.some((function(t,e){rc(t,tc(Ml(e)))}))},Dc=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=_c(t,e,n),o=xc(r);return wc(t,o),r},setToMin:function(t,e){var n=Nl(e);wc(t,xc(n))},setToMax:function(t,e){var n=Rl(e);wc(t,xc(n))},findValueOfOffset:_c,getValueFromEvent:function(t){return Dl(t).map((function(t){return t.left()}))},findPositionOfValue:Cc,setPositionFromValue:function(t,e,n,r){var o=Ql(n),i=Cc(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=Tl(e.element())/2;vi(e.element(),"left",i-a+"px")},onLeft:Sc,onRight:Tc,onUp:Ec,onDown:Oc,edgeActions:Ac}),Nc=function(t,e){ne(t,Al(),{value:e})},Pc=function(t){return{y:s(t)}},Mc=function(t,e,n){var r={min:Pl(e),max:Il(e),range:Hl(e),value:n,step:Wl(e),snap:Vl(e),snapStart:$l(e),rounded:Gl(e),hasMinEdge:Xl(e),hasMaxEdge:Jl(e),minBound:hc(t),maxBound:pc(t),screenRange:gc(t)};return sc(r)},Lc=function(t){return function(e,n){return function(t,e,n){var r=(t>0?ic:oc)(Ql(n).y(),Pl(n),Il(n),Wl(n));return Nc(e,Pc(r)),b.some(r)}(t,e,n).map((function(){return!0}))}},Rc=function(t,e,n,r,o,i){var a=function(t,e,n,r,o){var i=gc(t),a=r.bind((function(e){return b.some(bc(e,t))})).getOr(0),s=o.bind((function(e){return b.some(bc(e,t))})).getOr(i),u={min:Pl(e),max:Il(e),range:Hl(e),value:n,hasMinEdge:Xl(e),hasMaxEdge:Jl(e),minBound:hc(t),minOffset:0,maxBound:pc(t),maxOffset:i,centerMinEdge:a,centerMaxEdge:s};return uc(u)}(e,i,n,r,o);return hc(e)-hc(t)+a},Ic=b.none,Bc=b.none,Fc=Lc(-1),jc=Lc(1),zc={"top-left":b.none(),top:b.some((function(t,e){rc(t,ec(Ll(e)))})),"top-right":b.none(),right:b.none(),"bottom-right":b.none(),bottom:b.some((function(t,e){rc(t,ec(Fl(e)))})),"bottom-left":b.none(),left:b.none()},Hc=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=Mc(t,e,n),o=Pc(r);return Nc(t,o),r},setToMin:function(t,e){var n=Pl(e);Nc(t,Pc(n))},setToMax:function(t,e){var n=Il(e);Nc(t,Pc(n))},findValueOfOffset:Mc,getValueFromEvent:function(t){return Dl(t).map((function(t){return t.top()}))},findPositionOfValue:Rc,setPositionFromValue:function(t,e,n,r){var o=Ql(n),i=Rc(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),a=Ti(e.element())/2;vi(e.element(),"top",i-a+"px")},onLeft:Ic,onRight:Bc,onUp:Fc,onDown:jc,edgeActions:zc}),qc=function(t,e){ne(t,Al(),{value:e})},Uc=function(t,e){return{x:s(t),y:s(e)}},Wc=function(t,e){return function(n,r){return function(t,e,n,r){var o=t>0?ic:oc,i=e?Ql(r).x():o(Ql(r).x(),Nl(r),Rl(r),Wl(r)),a=e?o(Ql(r).y(),Pl(r),Il(r),Wl(r)):Ql(r).y();return qc(n,Uc(i,a)),b.some(i)}(t,e,n,r).map((function(){return!0}))}},Vc=Wc(-1,!1),$c=Wc(1,!1),Gc=Wc(-1,!0),Yc=Wc(1,!0),Kc={"top-left":b.some((function(t,e){rc(t,nc(Ml(e),Ll(e)))})),top:b.some((function(t,e){rc(t,nc(ql(e),Ll(e)))})),"top-right":b.some((function(t,e){rc(t,nc(Bl(e),Ll(e)))})),right:b.some((function(t,e){rc(t,nc(Bl(e),Ul(e)))})),"bottom-right":b.some((function(t,e){rc(t,nc(Bl(e),Fl(e)))})),bottom:b.some((function(t,e){rc(t,nc(ql(e),Fl(e)))})),"bottom-left":b.some((function(t,e){rc(t,nc(Ml(e),Fl(e)))})),left:b.some((function(t,e){rc(t,nc(Ml(e),Ul(e)))}))},Zc=Object.freeze({__proto__:null,setValueFrom:function(t,e,n){var r=_c(t,e,n.left()),o=Mc(t,e,n.top()),i=Uc(r,o);return qc(t,i),i},setToMin:function(t,e){var n=Nl(e),r=Pl(e);qc(t,Uc(n,r))},setToMax:function(t,e){var n=Rl(e),r=Il(e);qc(t,Uc(n,r))},getValueFromEvent:function(t){return Dl(t)},setPositionFromValue:function(t,e,n,r){var o=Ql(n),i=Cc(t,r.getSpectrum(t),o.x(),r.getLeftEdge(t),r.getRightEdge(t),n),a=Rc(t,r.getSpectrum(t),o.y(),r.getTopEdge(t),r.getBottomEdge(t),n),s=Tl(e.element())/2,u=Ti(e.element())/2;vi(e.element(),"left",i-s+"px"),vi(e.element(),"top",a-u+"px")},onLeft:Vc,onRight:$c,onUp:Gc,onDown:Yc,edgeActions:Kc}),Xc=[fr("stepSize",1),fr("onChange",i),fr("onChoose",i),fr("onInit",i),fr("onDragStart",i),fr("onDragEnd",i),fr("snapToGrid",!1),fr("rounded",!0),sr("snapStart"),ir("model",er("mode",{x:[fr("minX",0),fr("maxX",100),hr("value",(function(t){return fo(t.mode.minX)})),or("getInitialValue"),qo("manager",Dc)],y:[fr("minY",0),fr("maxY",100),hr("value",(function(t){return fo(t.mode.minY)})),or("getInitialValue"),qo("manager",Hc)],xy:[fr("minX",0),fr("maxX",100),fr("minY",0),fr("maxY",100),hr("value",(function(t){return fo({x:s(t.mode.minX),y:s(t.mode.minY)})})),or("getInitialValue"),qo("manager",Zc)]})),zs("sliderBehaviours",[js,kl]),hr("mouseIsDown",(function(){return fo(!1)}))],Jc=s("mouse.released"),Qc=Wu({name:"Slider",configFields:Xc,partFields:cl,factory:function(t,e,n,r){var o,i=function(e){return Su(e,t,"thumb")},a=function(e){return Su(e,t,"spectrum")},u=function(e){return Cu(e,t,"left-edge")},l=function(e){return Cu(e,t,"right-edge")},c=function(e){return Cu(e,t,"top-edge")},f=function(e){return Cu(e,t,"bottom-edge")},d=t.model,h=d.manager,p=function(e,n){h.setPositionFromValue(e,n,t,{getLeftEdge:u,getRightEdge:l,getTopEdge:c,getBottomEdge:f,getSpectrum:a})},m=function(e,n){d.value.set(n);var r=i(e);return p(e,r),t.onChange(e,r,n),b.some(!0)},g=function(e){var n=t.mouseIsDown.get();t.mouseIsDown.set(!1),n&&Cu(e,t,"thumb").each((function(n){var r=d.value.get();t.onChoose(e,n,r)}))},v=function(e,n){n.stop(),t.mouseIsDown.set(!0),t.onDragStart(e,i(e))},y=function(e,n){n.stop(),t.onDragEnd(e,i(e)),g(e)};return{uid:t.uid,dom:t.dom,components:e,behaviours:qs(t.sliderBehaviours,[js.config({mode:"special",focusIn:function(e){return Cu(e,t,"spectrum").map(js.focusIn).map(s(!0))}}),kl.config({store:{mode:"manual",getValue:function(t){return d.value.get()}}}),$o.config({channels:(o={},o[Jc()]={onReceive:g},o)})]),events:br([xr(Al(),(function(t,e){m(t,e.event().value())})),Or((function(e,n){var r=d.getInitialValue();d.value.set(r);var o=i(e);p(e,o);var s=a(e);t.onInit(e,o,s,d.value.get())})),xr(Tt(),v),xr(Ot(),y),xr(At(),v),xr(Nt(),y)]),apis:{resetToMin:function(e){h.setToMin(e,t)},resetToMax:function(e){h.setToMax(e,t)},changeValue:m,refresh:p},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),tf=function(t,e,n,r){return tl(e,(function(){var r=n();t.setContextToolbar([{label:e+" group",items:r}])}),{},r)},ef=function(t){var e=function(t){return t<0?"black":t>360?"white":"hsl("+t+", 100%, 50%)"};return Qc.sketch({dom:Ku('<div class="${prefix}-slider ${prefix}-hue-slider-container"></div>'),components:[Qc.parts()["left-edge"](Zu('<div class="${prefix}-hue-slider-black"></div>')),Qc.parts().spectrum({dom:Ku('<div class="${prefix}-slider-gradient-container"></div>'),components:[Zu('<div class="${prefix}-slider-gradient"></div>')],behaviours:Hr([oi.config({toggleClass:ui("thumb-active")})])}),Qc.parts()["right-edge"](Zu('<div class="${prefix}-hue-slider-white"></div>')),Qc.parts().thumb({dom:Ku('<div class="${prefix}-slider-thumb"></div>'),behaviours:Hr([oi.config({toggleClass:ui("thumb-active")})])})],onChange:function(n,r,o){var i=e(o.x());vi(r.element(),"background-color",i),t.onChange(n,r,i)},onDragStart:function(t,e){oi.on(e)},onDragEnd:function(t,e){oi.off(e)},onInit:function(t,n,r,o){var i=e(o.x());vi(n.element(),"background-color",i)},stepSize:10,model:{mode:"x",minX:0,maxX:360,getInitialValue:function(){return{x:function(){return t.getInitialValue()}}}},sliderBehaviours:Hr([ai(Qc.refresh)])})},nf=function(t,e){var n={onChange:function(t,n,r){e.undoManager.transact((function(){e.formatter.apply("forecolor",{value:r}),e.nodeChanged()}))},getInitialValue:function(){return-1}};return tf(t,"color-levels",(function(){return function(t){return[ef(t)]}(n)}),e)},rf=zn([or("getInitialValue"),or("onChange"),or("category"),or("sizes")]),of=function(t){var e=Qn("SizeSlider",rf,t);return Qc.sketch({dom:{tag:"div",classes:[ui("slider-"+e.category+"-size-container"),ui("slider"),ui("slider-size-container")]},onChange:function(t,n,r){var o=r.x();(function(t){return t>=0&&t<e.sizes.length})(o)&&e.onChange(o)},onDragStart:function(t,e){oi.on(e)},onDragEnd:function(t,e){oi.off(e)},model:{mode:"x",minX:0,maxX:e.sizes.length-1,getInitialValue:function(){return{x:function(){return e.getInitialValue()}}}},stepSize:1,snapToGrid:!0,sliderBehaviours:Hr([ai(Qc.refresh)]),components:[Qc.parts().spectrum({dom:Ku('<div class="${prefix}-slider-size-container"></div>'),components:[Zu('<div class="${prefix}-slider-size-line"></div>')]}),Qc.parts().thumb({dom:Ku('<div class="${prefix}-slider-thumb"></div>'),behaviours:Hr([oi.config({toggleClass:ui("thumb-active")})])})]})},af=["9px","10px","11px","12px","14px","16px","18px","20px","24px","32px","36px"],sf=function(t,e){return(ce(e)?b.some(e):we(e).filter(ce)).map((function(e){return function(t,e,n){return Ni((function(t,e){return e(t)}),Mi,t,e,n)}(e,(function(t){return xi(t,"font-size").isSome()}),t).bind((function(t){return xi(t,"font-size")})).getOrThunk((function(){return bi(e,"font-size")}))})).getOr("")},uf=function(t){var e=t.selection.getStart(),n=se.fromDom(e),r=se.fromDom(t.getBody()),o=sf((function(t){return ye(r,t)}),n);return rt(af,(function(t){return o===t})).getOr("medium")},lf=function(t){return function(t){return ot(af,(function(e){return e===t}))}(uf(t)).getOr(2)},cf=function(t,e){(function(t){return b.from(af[t])})(e).each((function(e){!function(t,e){uf(t)!==e&&t.execCommand("fontSize",!1,e)}(t,e)}))},ff=s(af)(),df=function(t){return of({onChange:t.onChange,sizes:ff,category:"font",getInitialValue:t.getInitialValue})},hf=function(t){return[Zu('<span class="${prefix}-toolbar-button ${prefix}-icon-small-font ${prefix}-icon"></span>'),df(t),Zu('<span class="${prefix}-toolbar-button ${prefix}-icon-large-font ${prefix}-icon"></span>')]},pf=function(t){var e=function(t){return void 0!==t.uid}(t)&&A(t,"uid")?t.uid:Bu("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).toOption()},asSpec:function(){return n(n({},t),{uid:e})}}},mf=window.Promise?window.Promise:function(){var t=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(t,r(a,this),r(s,this))},n=t.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)};function r(t,e){return function(){return t.apply(e,arguments)}}var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t){var e=this;null!==this._state?n((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void t.reject(e)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void c(r(e,t),r(a,this),r(s,this))}this._state=!0,this._value=t,u.call(this)}catch(t){s.call(this,t)}}function s(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];i.call(this,n)}this._deferreds=[]}function l(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function c(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(t){if(r)return;r=!0,n(t)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){i.call(r,new l(e,n,t,o))}))},t.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Array.prototype.slice.call(1===e.length&&o(e[0])?e[0]:e);return new t((function(t,e){if(0===r.length)return t([]);var n=r.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),e)}r[i]=a,0==--n&&t(r)}catch(t){e(t)}}for(var i=0;i<r.length;i++)o(i,r[i])}))},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=0,o=e;r<o.length;r++){o[r].then(t,n)}}))},t}();function gf(t){return function(t){return new mf((function(n){var r=new e.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(t)}))}(t).then((function(t){return t.split(",")[1]}))}var vf,yf,bf=function(t,e){(function(t){return gf(t)})(e).then((function(n){t.undoManager.transact((function(){var r=t.editorUpload.blobCache,o=r.create(tu("mceu"),e,n);r.add(o);var i=t.dom.createHTML("img",{src:o.blobUri()});t.insertContent(i)}))}))},wf=function(t){var e=pf({dom:{tag:"input",attributes:{accept:"image/*",type:"file",title:""},styles:{visibility:"hidden",position:"absolute"}},events:br([Sr(Bt()),xr(It(),(function(e,n){(function(t){var e=t.event(),n=e.raw().target.files||e.raw().dataTransfer.files;return b.from(n[0])})(n).each((function(e){bf(t,e)}))}))])});return Vu.sketch({dom:Qu("image",t),components:[e.asSpec()],action:function(t){e.get(t).element().dom().click()}})},xf=function(t){return t.dom().textContent},_f=function(t){return t.length>0},kf=function(t){return null==t?"":t},Cf=function(t){return Ef(t).fold((function(){return function(t){return{url:"",text:t.selection.getContent({format:"text"}),title:"",target:"",link:b.none()}}(t)}),(function(t){return function(t){var e=xf(t),n=Kr(t,"href"),r=Kr(t,"title"),o=Kr(t,"target");return{url:kf(n),text:e!==n?kf(e):"",title:kf(r),target:kf(o),link:b.some(t)}}(t)}))},Sf=function(t,e,n){return n.text.toOption().filter(_f).fold((function(){return function(t){return Kr(t,"href")===xf(t)}(t)?b.some(e):b.none()}),b.some)},Tf=function(t,e){e.url.toOption().filter(_f).fold((function(){!function(t,e){e.link.bind(u).each((function(e){t.execCommand("unlink")}))}(t,e)}),(function(n){var r=function(t,e){var n={};return n.href=t,e.title.toOption().filter(_f).each((function(t){n.title=t})),e.target.toOption().filter(_f).each((function(t){n.target=t})),n}(n,e);e.link.bind(u).fold((function(){var o=e.text.toOption().filter(_f).getOr(n);t.insertContent(t.dom.createHTML("a",r,t.dom.encode(o)))}),(function(t){var o=Sf(t,n,e);Yr(t,r),o.each((function(e){!function(t,e){t.dom().textContent=e}(t,e)}))}))}))},Ef=function(t){var e=se.fromDom(t.selection.getStart());return Bi(e,"a")},Of=St(),Af=function(t,e){var n=e.selection.getRng();t(),e.selection.setRng(n)},Df=function(t,e){return{key:t,value:{config:{},me:function(t,e){var n=br(e);return Ur({fields:[or("enabled")],name:t,active:{events:s(n)}})}(t,e),configAsRaw:s({}),initialConfig:{},state:jr}}},Nf=Object.freeze({__proto__:null,getCurrent:function(t,e,n){return e.find(t)}}),Pf=[or("find")],Mf=Ur({fields:Pf,name:"composing",apis:Nf}),Lf=Uu({name:"Container",factory:function(t){var e=t.dom,o=e.attributes,i=r(e,["attributes"]);return{uid:t.uid,dom:n({tag:"div",attributes:n({role:"presentation"},o)},i),components:t.components,behaviours:Hs(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[fr("components",[]),zs("containerBehaviours",[]),fr("events",{}),fr("domModification",{}),fr("eventOrder",{})]}),Rf=Uu({name:"DataField",factory:function(t){return{uid:t.uid,dom:t.dom,behaviours:Ws(t.dataBehaviours,[kl.config({store:{mode:"memory",initialValue:t.getInitialValue()}}),Mf.config({find:b.some})]),events:br([Or((function(e,n){kl.setValue(e,t.getInitialValue())}))])}},configFields:[or("uid"),or("dom"),or("getInitialValue"),Us("dataBehaviours",[kl,Mf])]}),If=function(t){return t.dom().value},Bf=function(t,e){if(void 0===e)throw new Error("Value.set was undefined");t.dom().value=e},Ff=s([sr("data"),fr("inputAttributes",{}),fr("inputStyles",{}),fr("tag","input"),fr("inputClasses",[]),Fo("onSetValue"),fr("styles",{}),fr("eventOrder",{}),zs("inputBehaviours",[kl,pi]),fr("selectOnFocus",!0)]),jf=function(t){return n(n({},function(t){return Hr([pi.config({onFocus:t.selectOnFocus?function(t){var e=t.element(),n=If(e);e.dom().setSelectionRange(0,n.length)}:i})])}(t)),qs(t.inputBehaviours,[kl.config({store:n(n({mode:"manual"},t.data.map((function(t){return{initialValue:t}})).getOr({})),{getValue:function(t){return If(t.element())},setValue:function(t,e){If(t.element())!==e&&Bf(t.element(),e)}}),onSetValue:t.onSetValue})]))},zf=function(t){return{tag:t.tag,attributes:n({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},Hf=Uu({name:"Input",configFields:Ff(),factory:function(t,e){return{uid:t.uid,dom:zf(t),components:[],behaviours:jf(t),eventOrder:t.eventOrder}}}),qf=Object.freeze({__proto__:null,exhibit:function(t,e){return Lr({attributes:En([{key:e.tabAttr,value:"true"}])})}}),Uf=[fr("tabAttr","data-alloy-tabstop")],Wf=Ur({fields:Uf,name:"tabstopping",active:qf}),Vf=tinymce.util.Tools.resolve("tinymce.util.I18n"),$f=function(t,e){var n=pf(Hf.sketch({inputAttributes:{placeholder:Vf.translate(e)},onSetValue:function(t,e){ee(t,Rt())},inputBehaviours:Hr([Mf.config({find:b.some}),Wf.config({}),js.config({mode:"execution"})]),selectOnFocus:!1})),r=pf(Vu.sketch({dom:Ku('<button class="${prefix}-input-container-x ${prefix}-icon-cancel-circle ${prefix}-icon"></button>'),action:function(t){var e=n.get(t);kl.setValue(e,"")}}));return{name:t,spec:Lf.sketch({dom:Ku('<div class="${prefix}-input-container"></div>'),components:[n.asSpec(),r.asSpec()],containerBehaviours:Hr([oi.config({toggleClass:ui("input-container-empty")}),Mf.config({find:function(t){return b.some(n.get(t))}}),Df("input-clearing",[xr(Rt(),(function(t){var e=n.get(t);(kl.getValue(e).length>0?oi.off:oi.on)(t)}))])])})}},Gf=function(t){return{name:t,spec:Rf.sketch({dom:{tag:"span",styles:{display:"none"}},getInitialValue:function(){return b.none()}})}},Yf=["input","button","textarea","select"],Kf=function(t,e,n){(e.disabled()?ed:nd)(t,e,n)},Zf=function(t,e){return!0===e.useNative&&Z(Yf,ue(t.element()))},Xf=function(t){Gr(t.element(),"disabled","disabled")},Jf=function(t){Jr(t.element(),"disabled")},Qf=function(t){Gr(t.element(),"aria-disabled","true")},td=function(t){Gr(t.element(),"aria-disabled","false")},ed=function(t,e,n){e.disableClass.each((function(e){ro(t.element(),e)})),(Zf(t,e)?Xf:Qf)(t),e.onDisabled(t)},nd=function(t,e,n){e.disableClass.each((function(e){io(t.element(),e)})),(Zf(t,e)?Jf:td)(t),e.onEnabled(t)},rd=function(t,e){return Zf(t,e)?function(t){return Xr(t.element(),"disabled")}(t):function(t){return"true"===Kr(t.element(),"aria-disabled")}(t)},od=Object.freeze({__proto__:null,enable:nd,disable:ed,isDisabled:rd,onLoad:Kf,set:function(t,e,n,r){(r?ed:nd)(t,e,n)}}),id=Object.freeze({__proto__:null,exhibit:function(t,e){return Lr({classes:e.disabled()?e.disableClass.toArray():[]})},events:function(t,e){return br([wr(Vt(),(function(e,n){return rd(e,t)})),Rr(t,e,Kf)])}}),ad=[(vf="disabled",yf=p,dr(vf,yf,rr)),fr("useNative",!0),sr("disableClass"),Fo("onDisabled"),Fo("onEnabled")],sd=Ur({fields:ad,name:"disabling",active:id,apis:od}),ud=[zs("formBehaviours",[kl])],ld=function(t){return"<alloy.field."+t+">"},cd=function(t,e){return{uid:t.uid,dom:t.dom,components:e,behaviours:qs(t.formBehaviours,[kl.config({store:{mode:"manual",getValue:function(e){var n=function(t,e){var n=t.getSystem();return k(e.partUids,(function(t,e){return s(n.getByUid(t))}))}(e,t);return k(n,(function(t,e){return t().bind((function(t){var n,r,o=Mf.getCurrent(t);return n=o,r=new Error("Cannot find a current component to extract the value from for form part '"+e+"': "+So(t.element())),n.fold((function(){return Ke.error(r)}),Ke.value)})).map(kl.getValue)}))},setValue:function(e,n){_(n,(function(n,r){Cu(e,t,r).each((function(t){Mf.getCurrent(t).each((function(t){kl.setValue(t,n)}))}))}))}}})]),apis:{getField:function(e,n){return Cu(e,t,n).bind(Mf.getCurrent)}}}},fd=(Du((function(t,e,n){return t.getField(e,n)})),function(t){var e=function(){var t=[];return{field:function(e,n){return t.push(e),function(t,e,n){return{uiType:Js(),owner:t,name:e,config:n,validated:{}}}("form",ld(e),n)},record:function(){return t}}}(),n=t(e),r=e.record(),o=J(r,(function(t){return mu({name:t,pname:ld(t)})}));return ju("form",ud,o,cd,n)}),dd=function(){var t=fo(b.none()),e=function(){t.get().each((function(t){t.destroy()}))};return{clear:function(){e(),t.set(b.none())},isSet:function(){return t.get().isSome()},set:function(n){e(),t.set(b.some(n))},run:function(e){t.get().each(e)}}},hd=function(){var t=fo(b.none());return{clear:function(){t.set(b.none())},set:function(e){t.set(b.some(e))},isSet:function(){return t.get().isSome()},on:function(e){t.get().each(e)}}},pd=function(t){var e=Hn([or("fields"),fr("maxFieldIndex",t.fields.length-1),or("onExecute"),or("getInitialValue"),hr("state",(function(){return{dialogSwipeState:hd(),currentScreen:fo(0)}}))]),n=Qn("SerialisedDialog",e,t),r=function(t,e,n){return Vu.sketch({dom:Ku('<span class="${prefix}-icon-'+e+' ${prefix}-icon"></span>'),action:function(e){ne(e,"navigateEvent",{direction:t})},buttonBehaviours:Hr([sd.config({disableClass:ui("toolbar-navigation-disabled"),disabled:function(){return!n}})])})},o=function(t,e){var r=Di(t.element(),"."+ui("serialised-dialog-screen"));Ii(t.element(),"."+ui("serialised-dialog-chain")).each((function(t){n.state.currentScreen.get()+e>=0&&n.state.currentScreen.get()+e<r.length&&(xi(t,"left").each((function(n){var o=parseInt(n,10),i=Tl(r[0]);vi(t,"left",o-e*i+"px")})),n.state.currentScreen.set(n.state.currentScreen.get()+e))}))},i=function(t){var e=Di(t.element(),"input");b.from(e[n.state.currentScreen.get()]).each((function(e){t.getSystem().getByDom(e).each((function(e){var n,r;n=t,r=e.element(),n.getSystem().triggerFocus(r,n.element())}))}));var r=s.get(t);sa.highlightAt(r,n.state.currentScreen.get())},a=pf(fd((function(t){return{dom:Ku('<div class="${prefix}-serialised-dialog"></div>'),components:[Lf.sketch({dom:Ku('<div class="${prefix}-serialised-dialog-chain" style="left: 0px; position: absolute;"></div>'),components:J(n.fields,(function(e,o){return o<=n.maxFieldIndex?Lf.sketch({dom:Ku('<div class="${prefix}-serialised-dialog-screen"></div>'),components:[r(-1,"previous",o>0),t.field(e.name,e.spec),r(1,"next",o<n.maxFieldIndex)]}):t.field(e.name,e.spec)}))})],formBehaviours:Hr([ai((function(t,e){!function(t,e){Ii(t.element(),"."+ui("serialised-dialog-chain")).each((function(t){vi(t,"left",-n.state.currentScreen.get()*e.width+"px")}))}(t,e)})),js.config({mode:"special",focusIn:function(t,e){i(t)},onTab:function(t,e){return o(t,1),b.some(!0)},onShiftTab:function(t,e){return o(t,-1),b.some(!0)}}),Df("form-events",[Or((function(t,e){n.state.currentScreen.set(0),n.state.dialogSwipeState.clear();var r=s.get(t);sa.highlightFirst(r),n.getInitialValue(t).each((function(e){kl.setValue(t,e)}))})),Nr(n.onExecute),xr(Ft(),(function(t,e){"left"===e.event().raw().propertyName&&i(t)})),xr("navigateEvent",(function(t,e){var n=e.event().direction();o(t,n)}))])])}}))),s=pf({dom:Ku('<div class="${prefix}-dot-container"></div>'),behaviours:Hr([sa.config({highlightClass:ui("dot-active"),itemClass:ui("dot-item")})]),components:at(n.fields,(function(t,e){return e<=n.maxFieldIndex?[Zu('<div class="${prefix}-dot-item ${prefix}-icon-full-dot ${prefix}-icon"></div>')]:[]}))});return{dom:Ku('<div class="${prefix}-serializer-wrapper"></div>'),components:[a.asSpec(),s.asSpec()],behaviours:Hr([js.config({mode:"special",focusIn:function(t){var e=a.get(t);js.focusIn(e)}}),Df("serializer-wrapper-events",[xr(Tt(),(function(t,e){var r=e.event();n.state.dialogSwipeState.set(function(t){return{xValue:t,points:[]}}(r.raw().touches[0].clientX))})),xr(Et(),(function(t,e){var r=e.event();n.state.dialogSwipeState.on((function(t){e.event().prevent(),n.state.dialogSwipeState.set(function(t,e){if(e===t.xValue)return t;var n=e-t.xValue>0?1:-1,r={direction:n,xValue:e};return{xValue:e,points:(0===t.points.length?[]:t.points[t.points.length-1].direction===n?t.points.slice(0,t.points.length-1):t.points).concat([r])}}(t,r.raw().touches[0].clientX))}))})),xr(Ot(),(function(t,e){n.state.dialogSwipeState.on((function(e){var n=a.get(t),r=-1*function(t){if(0===t.points.length)return 0;var e=t.points[0].direction,n=t.points[t.points.length-1].direction;return-1===e&&-1===n?-1:1===e&&1===n?1:0}(e);o(n,r)}))}))])])}},md=D((function(t,e){return[{label:"the link group",items:[pd({fields:[$f("url","Type or paste URL"),$f("text","Link text"),$f("title","Link title"),$f("target","Link target"),Gf("link")],maxFieldIndex:["url","text","title","target"].length-1,getInitialValue:function(){return b.some(Cf(e))},onExecute:function(n,r){var o=kl.getValue(n);Tf(e,o),t.restoreToolbar(),e.focus()}})]}]})),gd=function(t,e){return Ju(e,"link","link",(function(){var n=md(t,e);t.setContextToolbar(n),function(t,e){(Of.os.isAndroid()?Af:h)(e,t)}(e,(function(){t.focusToolbar()})),Ef(e).each((function(t){e.selection.select(t.dom())}))}))},vd=br([function(t,e){return{key:t,value:vr({can:e})}}(Ht(),(function(t,n){var r=n.event().originator(),o=n.event().target();return!function(t,e,n){return ye(e,t.element())&&!ye(e,n)}(t,r,o)||(e.console.warn(Ht()+" did not get interpreted by the desired target. \nOriginator: "+So(r)+"\nTarget: "+So(o)+"\nCheck the "+Ht()+" event handlers"),!1)}))]),yd=Object.freeze({__proto__:null,events:vd}),bd=u,wd=function(t){var e=function(e){return function(){throw new Error("The component must be in a context to send: "+e+(t?"\n"+So(t().element())+" is not in context.":""))}};return{debugInfo:s("fake"),triggerEvent:e("triggerEvent"),triggerFocus:e("triggerFocus"),triggerEscape:e("triggerEscape"),build:e("build"),addToWorld:e("addToWorld"),removeFromWorld:e("removeFromWorld"),addToGui:e("addToGui"),removeFromGui:e("removeFromGui"),getByUid:e("getByUid"),getByDom:e("getByDom"),broadcast:e("broadcast"),broadcastOn:e("broadcastOn"),broadcastEvent:e("broadcastEvent"),isConnected:s(!1)}},xd=wd(),_d=function(t,e){var n={};return _(t,(function(t,r){_(t,(function(t,o){var i=E(n,o).getOr([]);n[o]=i.concat([e(r,t)])}))})),n},kd=function(t,e,n,r){try{var o=(i=n,a=function(n,o){var i=n[e](),a=o[e](),s=r.indexOf(i),u=r.indexOf(a);if(-1===s)throw new Error("The ordering for "+t+" does not have an entry for "+i+".\nOrder specified: "+JSON.stringify(r,null,2));if(-1===u)throw new Error("The ordering for "+t+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(r,null,2));return s<u?-1:u<s?1:0},(s=G.call(i,0)).sort(a),s);return Ke.value(o)}catch(t){return Ke.error([t])}var i,a,s},Cd=function(t,e){return n=l.apply(void 0,[t.handler].concat(e)),r=t.purpose(),{cHandler:n,purpose:s(r)};var n,r},Sd=function(t){return t.cHandler},Td=function(t,e){return{name:s(t),handler:s(e)}},Ed=function(t,e,r){var o=n(n({},r),function(t,e){var n={};return Q(t,(function(t){n[t.name()]=t.handlers(e)})),n}(e,t));return _d(o,Td)},Od=function(t){var e=function(t){return V(t)?{can:s(!0),abort:s(!1),run:t}:t}(t);return function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var i=[t,n].concat(r);e.abort.apply(void 0,i)?n.stop():e.can.apply(void 0,i)&&e.run.apply(void 0,i)}},Ad=function(t,e,n){var r=e[n];return r?kd("Event: "+n,"name",t,r).map((function(t){var e=J(t,(function(t){return t.handler()}));return yr(e)})):function(t,e){return Ke.error(["The event ("+t+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify(J(e,(function(t){return t.name()})),null,2)])}(n,t)},Dd=function(t,e){var n=T(t,(function(t,n){return(1===t.length?Ke.value(t[0].handler()):Ad(t,e,n)).map((function(r){var o=Od(r),i=t.length>1?tt(e[n],(function(e){return X(t,(function(t){return t.name()===e}))})).join(" > "):t[0].name();return Tn(n,function(t,e){return{handler:t,purpose:s(e)}}(o,i))}))}));return On(n,{})},Nd=function(t){return t.events},Pd=function(t,e){Q(e,(function(e){ro(t,e)}))},Md=function(t,e){Q(e,(function(e){io(t,e)}))},Ld=function(t,e){return function(t,e){var n=J(e,(function(t){return lr(t.name(),[or("config"),fr("state",jr)])})),r=Xn("component.behaviours",Hn(n),t.behaviours).fold((function(e){throw new Error(tr(e)+"\nComplete spec:\n"+JSON.stringify(t,null,2))}),(function(t){return t}));return{list:e,data:k(r,(function(t){var e=t.map((function(t){return{config:t.config,state:t.state.init(t.config)}}));return function(){return e}}))}}(t,e)},Rd=function(t){var e=function(t){var e=E(t,"behaviours").getOr({}),n=tt(w(e),(function(t){return void 0!==e[t]}));return J(n,(function(t){return e[t].me}))}(t);return Ld(t,e)},Id=function(t,e,r){var o,i,a,s=n(n({},(o=t).dom),{uid:o.uid,domChildren:J(o.components,(function(t){return t.element()}))}),u=function(t){return t.domModification.fold((function(){return Lr({})}),Lr)}(t),l={"alloy.base.modification":u},c=e.length>0?function(t,e,r,o){var i=n({},e);Q(r,(function(e){i[e.name()]=e.exhibit(t,o)}));var a=_d(i,(function(t,e){return{name:t,modification:e}})),s=function(t){return et(t,(function(t,e){return n(n({},e.modification),t)}),{})},u=et(a.classes,(function(t,e){return e.modification.concat(t)}),[]),l=s(a.attributes),c=s(a.styles);return Lr({classes:u,attributes:l,styles:c})}(r,l,e,s):u;return a=c,n(n({},i=s),{attributes:n(n({},i.attributes),a.attributes),styles:n(n({},i.styles),a.styles),classes:i.classes.concat(a.classes)})},Bd=function(t,e,n){var r={"alloy.base.behaviour":Nd(t)};return function(t,e,n,r){var o=Ed(t,n,r);return Dd(o,e)}(n,t.eventOrder,e,r).getOrDie()},Fd=function(t){var e=function(){return f},n=fo(xd),r=Jn(function(t){return Xn("custom.definition",Hn([Vn("dom","dom",wn(),Hn([or("tag"),fr("styles",{}),fr("classes",[]),fr("attributes",{}),sr("value"),sr("innerHtml")])),or("components"),or("uid"),fr("events",{}),fr("apis",{}),Vn("eventOrder","eventOrder",bn({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]}),nr()),sr("domModification")]),t)}(t)),o=Rd(t),i=function(t){return t.list}(o),a=function(t){return t.data}(o),u=function(t){var e=se.fromTag(t.tag);Yr(e,t.attributes),Pd(e,t.classes),yi(e,t.styles),t.innerHtml.each((function(t){return _o(e,t)}));var n=t.domChildren;return Be(e,n),t.value.each((function(t){Bf(e,t)})),t.uid,Ru(e,t.uid),e}(Id(r,i,a)),l=Bd(r,i,a),c=fo(r.components),f={getSystem:n.get,config:function(e){var n=a;return(V(n[e.name()])?n[e.name()]:function(){throw new Error("Could not find "+e.name()+" in "+JSON.stringify(t,null,2))})()},hasConfigured:function(t){return V(a[t.name()])},spec:s(t),readState:function(t){return a[t]().map((function(t){return t.state.readState()})).getOr("not enabled")},getApis:function(){return r.apis},connect:function(t){n.set(t)},disconnect:function(){n.set(wd(e))},element:s(u),syncComponents:function(){var t=xe(u),e=at(t,(function(t){return n.get().getByDom(t).fold((function(){return[]}),(function(t){return[t]}))}));c.set(e)},components:c.get,events:s(l)};return f},jd=function(t){var e=bd(t),o=e.events,i=r(e,["events"]),a=function(t){var e=E(t,"components").getOr([]);return J(e,Ud)}(i),s=n(n({},i),{events:n(n({},yd),o),components:a});return Ke.value(Fd(s))},zd=function(t){var e=se.fromText(t);return Hd({element:e})},Hd=function(t){var e=Qn("external.component",zn([or("element"),sr("uid")]),t),n=fo(wd());e.uid.each((function(t){Ru(e.element,t)}));var r={getSystem:n.get,config:b.none,hasConfigured:s(!1),connect:function(t){n.set(t)},disconnect:function(){n.set(wd((function(){return r})))},getApis:function(){return{}},element:s(e.element),spec:s(t),readState:s("No state"),syncComponents:i,components:s([]),events:s({})};return Au(r)},qd=Bu,Ud=function(t){return function(t){return E(t,Ou)}(t).fold((function(){var e=t.hasOwnProperty("uid")?t:n({uid:qd("")},t);return jd(e).getOrDie()}),(function(t){return t}))},Wd=Au,Vd=function(t){(go(t.element()).isNone()||pi.isFocused(t))&&(pi.isFocused(t)||pi.focus(t),ne(t,"alloy.item-hover",{item:t}))},$d=function(t){ne(t,"alloy.item-focus",{item:t})},Gd=s("alloy.item-hover"),Yd=s("alloy.item-focus"),Kd=[or("data"),or("components"),or("dom"),fr("hasSubmenu",!1),sr("toggling"),Us("itemBehaviours",[oi,pi,js,kl]),fr("ignoreFocus",!1),fr("domModification",{}),qo("builder",(function(t){return{dom:t.dom,domModification:n(n({},t.domModification),{attributes:n(n(n({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Ws(t.itemBehaviours,[t.toggling.fold(oi.revoke,(function(t){return oi.config(n({aria:{mode:"checked"}},t))})),pi.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){$d(t)}}),js.config({mode:"execution"}),kl.config({store:{mode:"memory",initialValue:t.data}}),Df("item-type-events",o(li(),[xr(Pt(),Vd),xr($t(),pi.focus)]))]),components:t.components,eventOrder:t.eventOrder}})),fr("eventOrder",{})],Zd=[or("dom"),or("components"),qo("builder",(function(t){return{dom:t.dom,components:t.components,events:br([Tr($t())])}}))],Xd=s([mu({name:"widget",overrides:function(t){return{behaviours:Hr([kl.config({store:{mode:"manual",getValue:function(e){return t.data},setValue:function(){}}})])}}})]),Jd=[or("uid"),or("data"),or("components"),or("dom"),fr("autofocus",!1),fr("ignoreFocus",!1),Us("widgetBehaviours",[kl,pi,js]),fr("domModification",{}),Eu(Xd()),qo("builder",(function(t){var e=_u(0,t,Xd()),n=ku("item-widget",t,e.internals()),r=function(e){return Cu(e,t,"widget").map((function(t){return js.focusIn(t),t}))},o=function(e,n){return ma(n.event().target())?b.none():t.autofocus?(n.setSource(e.element()),b.none()):b.none()};return{dom:t.dom,components:n,domModification:t.domModification,events:br([Nr((function(t,e){r(t).each((function(t){e.stop()}))})),xr(Pt(),Vd),xr($t(),(function(e,n){t.autofocus?r(e):pi.focus(e)}))]),behaviours:Ws(t.widgetBehaviours,[kl.config({store:{mode:"memory",initialValue:t.data}}),pi.config({ignore:t.ignoreFocus,onFocus:function(t){$d(t)}}),js.config({mode:"special",focusIn:t.autofocus?function(t){r(t)}:Vr(),onLeft:o,onRight:o,onEscape:function(e,n){return pi.isFocused(e)||t.autofocus?t.autofocus?(n.setSource(e.element()),b.none()):b.none():(pi.focus(e),b.some(!0))}})])}}))],Qd=er("type",{widget:Jd,item:Kd,separator:Zd}),th=s([vu({factory:{sketch:function(t){var e=Qn("menu.spec item",Qd,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:n(n({},e),{uid:Bu("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),eh=s([or("value"),or("items"),or("dom"),or("components"),fr("eventOrder",{}),zs("menuBehaviours",[sa,kl,Mf,js]),dr("movement",{mode:"menu",moveOnTab:!0},er("mode",{grid:[Wo(),qo("config",(function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}}))],matrix:[qo("config",(function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}})),or("rowSelector")],menu:[fr("moveOnTab",!0),qo("config",(function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}}))]})),ir("markers",Ro()),fr("fakeFocus",!1),fr("focusManager",la()),Fo("onHighlight")]),nh=s("alloy.menu-focus"),rh=Wu({name:"Menu",configFields:eh(),partFields:th(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:qs(t.menuBehaviours,[sa.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),kl.config({store:{mode:"memory",initialValue:t.value}}),Mf.config({find:b.some}),js.config(t.movement.config(t,t.movement))]),events:br([xr(Yd(),(function(t,e){var n=e.event();t.getSystem().getByDom(n.target()).each((function(n){sa.highlight(t,n),e.stop(),ne(t,nh(),{menu:t,item:n})}))})),xr(Gd(),(function(t,e){var n=e.event().item();sa.highlight(t,n)}))]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),oh=function(t,e){var n=be(e),r=mo(n).bind((function(t){var n,r,o=function(e){return ye(t,e)};return o(e)?b.some(e):(n=o,(r=function(t){for(var e=0;e<t.childNodes.length;e++){var o=se.fromDom(t.childNodes[e]);if(n(o))return b.some(o);var i=r(t.childNodes[e]);if(i.isSome())return i}return b.none()})(e.dom()))})),o=t(e);return r.each((function(t){mo(n).filter((function(e){return ye(e,t)})).fold((function(){ho(t)}),i)})),o},ih=function(t,e,n,r){var o=t.getSystem().build(r);We(t,o,n)},ah=function(t,e,n,r){var o=sh(t);rt(o,(function(t){return ye(r.element(),t.element())})).each(Ve)},sh=function(t,e){return t.components()},uh=function(t,e,n,r,o){var i=sh(t);return b.from(i[r]).map((function(e){return ah(t,0,0,e),o.each((function(e){ih(t,0,(function(t,e){!function(t,e,n){_e(t,n).fold((function(){Ie(t,e)}),(function(t){Me(t,e)}))}(t,e,r)}),e)})),e}))},lh=Ur({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(t,e,n,r){ih(t,0,Ie,r)},prepend:function(t,e,n,r){ih(t,0,Re,r)},remove:ah,replaceAt:uh,replaceBy:function(t,e,n,r,o){var i=sh(t);return ot(i,r).bind((function(e){return uh(t,0,0,e,o)}))},set:function(t,e,n,r){oh((function(){var e=J(r,t.getSystem().build);Ue(t,e)}),t.element())},contents:sh})}),ch=function(t,e,n,r){return E(n,r).bind((function(r){return E(t,r).bind((function(r){var o=ch(t,e,n,r);return b.some([r].concat(o))}))})).getOr([])},fh=function(t,e){var n={};_(t,(function(t,e){Q(t,(function(t){n[t]=e}))}));var r=e,o=C(e,(function(t,e){return{k:t,v:e}})),i=k(o,(function(t,e){return[e].concat(ch(n,r,o,e))}));return k(n,(function(t){return E(i,t).getOr([t])}))},dh=function(t){return"prepared"===t.type?b.some(t.menu):b.none()},hh={init:function(){var t=fo({}),e=fo({}),r=fo({}),o=fo(b.none()),i=fo({}),a=function(e){return function(t,e){for(var n=w(t),r=0,o=n.length;r<o;r++){var i=n[r],a=t[i];if(e(a,i,t))return b.some(a)}return b.none()}(t.get(),(function(t,n){return t===e}))},s=function(t){return u(t).bind(dh)},u=function(t){return E(e.get(),t)},l=function(e){return E(t.get(),e)};return{setMenuBuilt:function(t,r){var o;e.set(n(n({},e.get()),((o={})[t]={type:"prepared",menu:r},o)))},setContents:function(n,a,s,u){o.set(b.some(n)),t.set(s),e.set(a),i.set(u);var l=fh(u,s);r.set(l)},expand:function(e){return E(t.get(),e).map((function(t){var n=E(r.get(),e).getOr([]);return[t].concat(n)}))},refresh:function(t){return E(r.get(),t)},collapse:function(t){return E(r.get(),t).bind((function(t){return t.length>1?b.some(t.slice(1)):b.none()}))},lookupMenu:u,lookupItem:l,otherMenus:function(t){var e=i.get();return lt(w(e),t)},getPrimary:function(){return o.get().bind(s)},getMenus:function(){return e.get()},clear:function(){t.set({}),e.set({}),r.set({}),o.set(b.none())},isClear:function(){return o.get().isNone()},getTriggeringPath:function(t,e){var n=tt(l(t).toArray(),(function(t){return s(t).isSome()}));return E(r.get(),t).bind((function(t){var r=ut(n.concat(t));return function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.isSome())return b.none();e.push(r.getOrDie())}return b.some(e)}(at(r,(function(t,n){return function(t,e,n){return s(t).bind((function(r){return a(t).bind((function(t){return e(t).map((function(t){return{triggeredMenu:r,triggeringItem:t,triggeringPath:n}}))}))}))}(t,e,r.slice(0,n+1)).fold((function(){return o.get().is(t)?[]:[b.none()]}),(function(t){return[b.some(t)]}))})))}))}}},extractPreparedMenu:dh},ph=s("collapse-item"),mh=Uu({name:"TieredMenu",configFields:[Ho("onExecute"),Ho("onEscape"),zo("onOpenMenu"),zo("onOpenSubmenu"),Fo("onRepositionMenu"),Fo("onCollapseMenu"),fr("highlightImmediately",!0),ar("data",[or("primary"),or("menus"),or("expansions")]),fr("fakeFocus",!1),Fo("onHighlight"),Fo("onHover"),ar("markers",[or("backgroundMenu")].concat(Mo()).concat(Lo())),or("dom"),fr("navigateOnHover",!0),fr("stayInDom",!1),zs("tmenuBehaviours",[js,sa,Mf,lh]),fr("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)},repositionMenus:function(t,e){t.repositionMenus(e)}},factory:function(t,e){var r,o=fo(b.none()),i=hh.init(),a=function(e){var r=function(e,r,o){return k(o,(function(o,i){var a=function(){return rh.sketch(n(n({},o),{value:i,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?ca():la()}))};return i===r?{type:"prepared",menu:e.getSystem().build(a())}:{type:"notbuilt",nbMenu:a}}))}(e,t.data.primary,t.data.menus),o=u();return i.setContents(t.data.primary,r,t.data.expansions,o),i.getPrimary()},s=function(t){return kl.getValue(t).value},u=function(e){return k(t.data.menus,(function(t,e){return at(t.items,(function(t){return"separator"===t.type?[]:[t.data.value]}))}))},l=function(t,e){sa.highlight(t,e),sa.getHighlighted(e).orThunk((function(){return sa.getFirst(e)})).each((function(e){oe(t,e.element(),$t())}))},c=function(t,e){return Yi(J(e,(function(e){return t.lookupMenu(e).bind((function(t){return"prepared"===t.type?b.some(t.menu):b.none()}))})))},f=function(e,n,r){var o=c(n,n.otherMenus(r));Q(o,(function(n){Md(n.element(),[t.markers.backgroundMenu]),t.stayInDom||lh.remove(e,n)}))},d=function(e,n){var r=function(e){return o.get().getOrThunk((function(){var n={},r=Di(e.element(),"."+t.markers.item),i=tt(r,(function(t){return"true"===Kr(t,"aria-haspopup")}));return Q(i,(function(t){e.getSystem().getByDom(t).each((function(t){var e=s(t);n[e]=t}))})),o.set(b.some(n)),n}))}(e);_(r,(function(t,e){var r=Z(n,e);Gr(t.element(),"aria-expanded",r)}))},h=function(e,n,r){return b.from(r[0]).bind((function(o){return n.lookupMenu(o).bind((function(o){if("notbuilt"===o.type)return b.none();var i=o.menu,a=c(n,r.slice(1));return Q(a,(function(e){ro(e.element(),t.markers.backgroundMenu)})),De(i.element())||lh.append(e,Wd(i)),Md(i.element(),[t.markers.backgroundMenu]),l(e,i),f(e,n,r),b.some(i)}))}))};!function(t){t[t.HighlightSubmenu=0]="HighlightSubmenu",t[t.HighlightParent=1]="HighlightParent"}(r||(r={}));var p=function(e,n,o){void 0===o&&(o=r.HighlightSubmenu);var a=s(n);return i.expand(a).bind((function(a){return d(e,a),b.from(a[0]).bind((function(s){return i.lookupMenu(s).bind((function(u){var l=function(t,e,n){if("notbuilt"===n.type){var r=t.getSystem().build(n.nbMenu());return i.setMenuBuilt(e,r),r}return n.menu}(e,s,u);return De(l.element())||lh.append(e,Wd(l)),t.onOpenSubmenu(e,n,l,ut(a)),o===r.HighlightSubmenu?(sa.highlightFirst(l),h(e,i,a)):(sa.dehighlightAll(l),b.some(n))}))}))}))},m=function(e,n){var r=s(n);return i.collapse(r).bind((function(r){return d(e,r),h(e,i,r).map((function(r){return t.onCollapseMenu(e,n,r),r}))}))},g=function(e){return function(n,r){return Bi(r.getSource(),"."+t.markers.item).bind((function(t){return n.getSystem().getByDom(t).toOption().bind((function(t){return e(n,t).map((function(){return!0}))}))}))}},v=br([xr(nh(),(function(t,e){var n=e.event().item();i.lookupItem(s(n)).each((function(){var n=e.event().menu();sa.highlight(t,n);var r=s(e.event().item());i.refresh(r).each((function(e){return f(t,i,e)}))}))})),Nr((function(e,n){var o=n.event().target();e.getSystem().getByDom(o).each((function(n){0===s(n).indexOf("collapse-item")&&m(e,n),p(e,n,r.HighlightSubmenu).fold((function(){t.onExecute(e,n)}),(function(){}))}))})),Or((function(e,n){a(e).each((function(n){lh.append(e,Wd(n)),t.onOpenMenu(e,n),t.highlightImmediately&&l(e,n)}))}))].concat(t.navigateOnHover?[xr(Gd(),(function(e,n){var o=n.event().item();!function(t,e){var n=s(e);i.refresh(n).bind((function(e){return d(t,e),h(t,i,e)}))}(e,o),p(e,o,r.HighlightParent),t.onHover(e,o)}))]:[])),y=function(t){return sa.getHighlighted(t).bind(sa.getHighlighted)},w={collapseMenu:function(t){y(t).each((function(e){m(t,e)}))},highlightPrimary:function(t){i.getPrimary().each((function(e){l(t,e)}))},repositionMenus:function(e){i.getPrimary().bind((function(t){return y(e).bind((function(t){var e,n=s(t),r=(e=i.getMenus(),T(e,(function(t){return t}))),o=Yi(J(r,hh.extractPreparedMenu));return i.getTriggeringPath(n,(function(t){return function(t,e,n){return ft(e,(function(t){if(!t.getSystem().isConnected())return b.none();var e=sa.getCandidates(t);return rt(e,(function(t){return s(t)===n}))}))}(0,o,t)}))})).map((function(e){return{primary:t,triggeringPath:e}}))})).fold((function(){(function(t){return b.from(t.components()[0]).filter((function(t){return"menu"===Kr(t.element(),"role")}))})(e).each((function(n){t.onRepositionMenu(e,n,[])}))}),(function(n){var r=n.primary,o=n.triggeringPath;t.onRepositionMenu(e,r,o)}))}};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:qs(t.tmenuBehaviours,[js.config({mode:"special",onRight:g((function(t,e){return ma(e.element())?b.none():p(t,e,r.HighlightSubmenu)})),onLeft:g((function(t,e){return ma(e.element())?b.none():m(t,e)})),onEscape:g((function(e,n){return m(e,n).orThunk((function(){return t.onEscape(e,n).map((function(){return e}))}))})),focusIn:function(t,e){i.getPrimary().each((function(e){oe(t,e.element(),$t())}))}}),sa.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Mf.config({find:function(t){return sa.getHighlighted(t)}}),lh.config({})]),eventOrder:t.eventOrder,apis:w,events:v}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:Tn(t,e),expansions:{}}},collapseItem:function(t){return{value:tu(ph()),meta:{text:t}}}}}),gh=function(t,e,n,r){return E(e.routes,r.start).bind((function(t){return E(t,r.destination)}))},vh=function(t,e,n,r){return gh(0,e,0,r).bind((function(t){return t.transition.map((function(e){return{transition:e,route:t}}))}))},yh=function(t,e,n){(function(t,e,n){return bh(t,e).bind((function(r){return vh(t,e,n,r)}))})(t,e,n).each((function(n){var r=n.transition;io(t.element(),r.transitionClass),Jr(t.element(),e.destinationAttr)}))},bh=function(t,e,n){var r=t.element();return Zr(r,e.destinationAttr).map((function(n){return{start:Kr(t.element(),e.stateAttr),destination:n}}))},wh=function(t,e,n,r){yh(t,e,n),Xr(t.element(),e.stateAttr)&&Kr(t.element(),e.stateAttr)!==r&&e.onFinish(t,r),Gr(t.element(),e.stateAttr,r)},xh=Object.freeze({__proto__:null,findRoute:gh,disableTransition:yh,getCurrentRoute:bh,jumpTo:wh,progressTo:function(t,e,n,r){!function(t,e,n,r){Xr(t.element(),e.destinationAttr)&&(Zr(t.element(),e.destinationAttr).each((function(n){Gr(t.element(),e.stateAttr,n)})),Jr(t.element(),e.destinationAttr))}(t,e);var o=function(t,e,n,r){return{start:Kr(t.element(),e.stateAttr),destination:r}}(t,e,0,r);vh(t,e,n,o).fold((function(){wh(t,e,n,r)}),(function(o){yh(t,e,n);var i=o.transition;ro(t.element(),i.transitionClass),Gr(t.element(),e.destinationAttr,r)}))},getState:function(t,e,n){return Zr(t.element(),e.stateAttr)}}),_h=Object.freeze({__proto__:null,events:function(t,e){return br([xr(Ft(),(function(n,r){var o=r.event().raw();bh(n,t).each((function(r){gh(0,t,0,r).each((function(i){i.transition.each((function(i){o.propertyName===i.property&&(wh(n,t,e,r.destination),t.onTransition(n,r))}))}))}))})),Or((function(n,r){wh(n,t,e,t.initialState)}))])}}),kh=[fr("destinationAttr","data-transitioning-destination"),fr("stateAttr","data-transitioning-state"),or("initialState"),Fo("onTransition"),Fo("onFinish"),ir("routes",Zn(Ke.value,Zn(Ke.value,zn([cr("transition",[or("property"),or("transitionClass")])]))))],Ch=Ur({fields:kh,name:"transitioning",active:_h,apis:xh,extra:{createRoutes:function(t){var e={};return _(t,(function(t,n){var r=n.split("<->");e[r[0]]=Tn(r[1],t),e[r[1]]=Tn(r[0],t)})),e},createBistate:function(t,e,n){return En([{key:t,value:Tn(e,n)},{key:e,value:Tn(t,n)}])},createTristate:function(t,e,n,r){return En([{key:t,value:En([{key:e,value:r},{key:n,value:r}])},{key:e,value:En([{key:t,value:r},{key:n,value:r}])},{key:n,value:En([{key:t,value:r},{key:e,value:r}])}])}}}),Sh=ui("scrollable"),Th=function(t){ro(t,Sh)},Eh=function(t){io(t,Sh)},Oh=Sh,Ah=function(t){return E(t,"format").getOr(t.title)},Dh=function(t,e,n,r,o){return{data:{value:t,text:e},type:"item",dom:{tag:"div",classes:o?[ui("styles-item-is-menu")]:[]},toggling:{toggleOnExecute:!1,toggleClass:ui("format-matches"),selected:n},itemBehaviours:Hr(o?[]:[ii(t,(function(t,e){(e?oi.on:oi.off)(t)}))]),components:[{dom:{tag:"div",attributes:{style:r},innerHtml:e}}]}},Nh=function(t,e,n,r){return{value:t,dom:{tag:"div"},components:[Vu.sketch({dom:{tag:"div",classes:[ui("styles-collapser")]},components:r?[{dom:{tag:"span",classes:[ui("styles-collapse-icon")]}},zd(t)]:[zd(t)],action:function(t){if(r){var e=n().get(t);mh.collapseMenu(e)}}}),{dom:{tag:"div",classes:[ui("styles-menu-items-container")]},components:[rh.parts().items({})],behaviours:Hr([Df("adhoc-scrollable-menu",[Or((function(t,e){vi(t.element(),"overflow-y","auto"),vi(t.element(),"-webkit-overflow-scrolling","touch"),Th(t.element())})),Ar((function(t){_i(t.element(),"overflow-y"),_i(t.element(),"-webkit-overflow-scrolling"),Eh(t.element())}))])])}],items:e,menuBehaviours:Hr([Ch.config({initialState:"after",routes:Ch.createTristate("before","current","after",{transition:{property:"transform",transitionClass:"transitioning"}})})])}},Ph=function(t){var e,n,r,o,i,a=(e=t.formats,n=function(){return s},r=Nh("Styles",[].concat(J(e.items,(function(t){return Dh(Ah(t),t.title,t.isSelected(),t.getPreview(),A(e.expansions,Ah(t)))}))),n,!1),o=k(e.menus,(function(t,r){var o=J(t,(function(t){return Dh(Ah(t),t.title,void 0!==t.isSelected&&t.isSelected(),void 0!==t.getPreview?t.getPreview():"",A(e.expansions,Ah(t)))}));return Nh(r,o,n,!0)})),i=mn(o,Tn("styles",r)),{tmenu:mh.tieredData("styles",i,e.expansions)}),s=pf(mh.sketch({dom:{tag:"div",classes:[ui("styles-menu")]},components:[],fakeFocus:!0,stayInDom:!0,onExecute:function(e,n){var r=kl.getValue(n);return t.handle(n,r.value),b.none()},onEscape:function(){return b.none()},onOpenMenu:function(t,e){var n=Tl(t.element());Sl(e.element(),n),Ch.jumpTo(e,"current")},onOpenSubmenu:function(t,e,n){var r=Tl(t.element()),o=Ri(e.element(),'[role="menu"]').getOrDie("hacky"),i=t.getSystem().getByDom(o).getOrDie();Sl(n.element(),r),Ch.progressTo(i,"before"),Ch.jumpTo(n,"after"),Ch.progressTo(n,"current")},onCollapseMenu:function(t,e,n){var r=Ri(e.element(),'[role="menu"]').getOrDie("hacky"),o=t.getSystem().getByDom(r).getOrDie();Ch.progressTo(o,"after"),Ch.progressTo(n,"current")},navigateOnHover:!1,highlightImmediately:!0,data:a.tmenu,markers:{backgroundMenu:ui("styles-background-menu"),menu:ui("styles-menu"),selectedMenu:ui("styles-selected-menu"),item:ui("styles-item"),selectedItem:ui("styles-selected-item")}}));return s.asSpec()},Mh=function(t){return A(t,"items")?function(t){var e=mn(Sn(t,["items"]),{menu:!0}),n=Lh(t.items);return{item:e,menus:mn(n.menus,Tn(t.title,n.items)),expansions:mn(n.expansions,Tn(t.title,t.title))}}(t):{item:t,menus:{},expansions:{}}},Lh=function(t){return et(t,(function(t,e){var n=Mh(e);return{menus:mn(t.menus,n.menus),items:[n.item].concat(t.items),expansions:mn(t.expansions,n.expansions)}}),{menus:{},expansions:{},items:[]})},Rh=function(t){var e=function(e){return function(){return t.formatter.match(e)}},n=function(e){return function(){return t.formatter.getCssText(e)}},r=function(o){return J(o,(function(o){if(A(o,"items")){var i=r(o.items);return mn(function(t){return mn(t,{isSelected:s(!1),getPreview:s("")})}(o),{items:i})}return A(o,"format")?function(t){return mn(t,{isSelected:e(t.format),getPreview:n(t.format)})}(o):function(r){var o=tu(r.title),i=mn(r,{format:o,isSelected:e(o),getPreview:n(o)});return t.formatter.register(o,i),i}(o)}))};return r(function(t){return t.getParam("style_formats",bo,"array")}(t))},Ih=function(t,e,n){var r=function(t,e){var n=function(e){return at(e,(function(e){return void 0!==e.items?n(e.items).length>0?[e]:[]:!A(e,"format")||t.formatter.canApply(e.format)?[e]:[]}))},r=n(e);return Lh(r)}(t,e);return Ph({formats:r,handle:function(e,r){t.undoManager.transact((function(){oi.isOn(e)?t.formatter.remove(r):t.formatter.apply(r)})),n()}})},Bh=function(t){var e=t.replace(/\|/g," ").trim();return e.length>0?e.split(/\s+/):[]},Fh=function(t){return at(t,(function(t){return q(t)?Fh(t):Bh(t)}))},jh=function(t){var e=function(t){return t.getParam("toolbar",wo,"array")}(t);return q(e)?Fh(e):Bh(e)},zh=function(t,e){var n=function(t){return function(){return function(t,e){return tl(e,(function(){t.execCommand(e)}),{},t)}(e,t)}},r=function(t){return function(){return function(t,e){var n=Xu(e);return tl(e,(function(){t.execCommand(e)}),n,t)}(e,t)}},o=function(t,n,r){return function(){return Ju(e,t,n,r)}},i=n("undo"),a=n("redo"),s=r("bold"),u=r("italic"),l=r("underline"),c=n("removeformat"),f=o("unlink","link",(function(){e.execCommand("unlink",null,!1)})),d=o("unordered-list","ul",(function(){e.execCommand("InsertUnorderedList",null,!1)})),h=o("ordered-list","ol",(function(){e.execCommand("InsertOrderedList",null,!1)})),p=Rh(e),m=function(){return Ih(e,p,(function(){e.fire("scrollIntoView")}))},g=function(t,n){return{isSupported:function(){var n=e.ui.registry.getAll().buttons;return t.forall((function(t){return A(n,t)}))},sketch:n}};return{undo:g(b.none(),i),redo:g(b.none(),a),bold:g(b.none(),s),italic:g(b.none(),u),underline:g(b.none(),l),removeformat:g(b.none(),c),link:g(b.none(),(function(){return gd(t,e)})),unlink:g(b.none(),f),image:g(b.none(),(function(){return wf(e)})),bullist:g(b.some("bullist"),d),numlist:g(b.some("numlist"),h),fontsizeselect:g(b.none(),(function(){return function(t,e){var n={onChange:function(t){cf(e,t)},getInitialValue:function(){return lf(e)}};return tf(t,"font-size",(function(){return hf(n)}),e)}(t,e)})),forecolor:g(b.none(),(function(){return nf(t,e)})),styleselect:g(b.none(),(function(){return tl("style-formats",(function(n){e.fire("toReading"),t.dropup().appear(m,oi.on,n)}),Hr([oi.config({toggleClass:ui("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),$o.config({channels:En([si("orientationChanged",oi.off),si("dropupDismissed",oi.off)])})]),e)}))}},Hh=function(t){var e=se.fromDom(Oe(t).getOr(t.target)),n=function(){return t.stopPropagation()},r=function(){return t.preventDefault()},o=a(r,n);return function(t,e,n,r,o,i,a){return{target:s(t),x:s(e),y:s(n),stop:r,prevent:o,kill:i,raw:s(a)}}(e,t.clientX,t.clientY,n,r,o,t)},qh=function(t,e,n,r,o){var i=function(t,e){return function(n){t(n)&&e(Hh(n))}}(n,r);return t.dom().addEventListener(e,i,o),{unbind:l(Uh,t,e,i,o)}},Uh=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Wh=s(!0),Vh=function(t,e,n){return function(t,e,n,r){return qh(t,e,n,r,!1)}(t,e,Wh,n)},$h=function(t,e,n){return function(t,e,n,r){return qh(t,e,n,r,!0)}(t,e,Wh,n)},Gh=tinymce.util.Tools.resolve("tinymce.util.Delay"),Yh=function(t){var e=t.matchMedia("(orientation: portrait)").matches;return{isPortrait:s(e)}},Kh=function(t){var e=St().os.isiOS(),n=Yh(t).isPortrait();return e&&!n?t.screen.height:t.screen.width},Zh=function(t,e){var n=se.fromDom(t),r=null,o=Vh(n,"orientationchange",(function(){Gh.clearInterval(r);var n=Yh(t);e.onChange(n),i((function(){e.onReady(n)}))})),i=function(e){Gh.clearInterval(r);var n=t.innerHeight,o=0;r=Gh.setInterval((function(){n!==t.innerHeight?(Gh.clearInterval(r),e(b.some(t.innerHeight))):o>20&&(Gh.clearInterval(r),e(b.none())),o++}),50)};return{onAdjustment:i,destroy:function(){o.unbind()}}};var Xh=function(t){var e=t.raw();return void 0===e.touches||1!==e.touches.length?b.none():b.some(e.touches[0])},Jh=function(t){var n,r,o,i=fo(b.none()),a=fo(!1),s=(n=function(e){t.triggerEvent(Yt(),e),a.set(!0)},r=400,o=null,{cancel:function(){null!==o&&(e.clearTimeout(o),o=null)},schedule:function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o=e.setTimeout((function(){n.apply(null,t),o=null}),r)}}),u=En([{key:Tt(),value:function(t){return Xh(t).each((function(e){s.cancel();var n={x:e.clientX,y:e.clientY,target:t.target()};s.schedule(t),a.set(!1),i.set(b.some(n))})),b.none()}},{key:Et(),value:function(t){return s.cancel(),Xh(t).each((function(t){i.get().each((function(e){(function(t,e){var n=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y);return n>5||r>5})(t,e)&&i.set(b.none())}))})),b.none()}},{key:Ot(),value:function(e){s.cancel();return i.get().filter((function(t){return ye(t.target,e.target())})).map((function(n){return a.get()?(e.prevent(),!1):t.triggerEvent(Gt(),e)}))}}]);return{fireIfReady:function(t,e){return E(u,e).bind((function(e){return e(t)}))}}},Qh=function(t){var e=Jh({triggerEvent:function(e,n){t.onTapContent(n)}});return{fireTouchstart:function(t){e.fireIfReady(t,"touchstart")},onTouchend:function(){return Vh(t.body(),"touchend",(function(t){e.fireIfReady(t,"touchend")}))},onTouchmove:function(){return Vh(t.body(),"touchmove",(function(t){e.fireIfReady(t,"touchmove")}))}}},tp=St().os.version.major>=6,ep=function(t,e,n){var r=Qh(t),o=be(e),a=function(t){return!ye(t.start(),t.finish())||t.soffset()!==t.foffset()},s=function(){var r=t.doc().dom().hasFocus()&&t.getSelection().exists(a);n.getByDom(e).each(!0===(r||mo(o).filter((function(t){return"input"===ue(t)})).exists((function(t){return t.dom().selectionStart!==t.dom().selectionEnd})))?oi.on:oi.off)},u=[Vh(t.body(),"touchstart",(function(e){t.onTouchContent(),r.fireTouchstart(e)})),r.onTouchmove(),r.onTouchend(),Vh(e,"touchstart",(function(e){t.onTouchToolstrip()})),t.onToReading((function(){po(t.body())})),t.onToEditing(i),t.onScrollToCursor((function(e){e.preventDefault(),t.getCursorBox().each((function(e){var n=t.win(),r=e.top()>n.innerHeight||e.bottom()>n.innerHeight?e.bottom()-n.innerHeight+50:0;0!==r&&n.scrollTo(n.pageXOffset,n.pageYOffset+r)}))}))].concat(!0===tp?[]:[Vh(se.fromDom(t.win()),"blur",(function(){n.getByDom(e).each(oi.off)})),Vh(o,"select",s),Vh(t.doc(),"selectionchange",s)]);return{destroy:function(){Q(u,(function(t){t.unbind()}))}}},np=function(t,e){var n=parseInt(Kr(t,e),10);return isNaN(n)?0:n};var rp=function(t,e){var n=function(e){return t(e)?b.from(e.dom().nodeValue):b.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(fe,"text"),op=function(t){return"img"===ue(t)?1:function(t){return rp.getOption(t)}(t).fold((function(){return xe(t).length}),(function(t){return t.length}))},ip=function(t,e,n,r){return{start:s(t),soffset:s(e),finish:s(n),foffset:s(r)}},ap=dn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),sp={before:ap.before,on:ap.on,after:ap.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(u,u,u)}},up=dn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),lp={domRange:up.domRange,relative:up.relative,exact:up.exact,exactFromRange:function(t){return up.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){return function(t){return se.fromDom(t.dom().ownerDocument.defaultView)}(function(t){return t.match({domRange:function(t){return se.fromDom(t.startContainer)},relative:function(t,e){return sp.getStart(t)},exact:function(t,e,n,r){return t}})}(t))},range:ip},cp=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(o,n),o},fp=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},dp=function(t){return{left:s(t.left),top:s(t.top),right:s(t.right),bottom:s(t.bottom),width:s(t.width),height:s(t.height)}},hp=dn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),pp=function(t,e,n){return e(se.fromDom(n.startContainer),n.startOffset,se.fromDom(n.endContainer),n.endOffset)},mp=function(t,e){return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return hp.rtl(se.fromDom(t.endContainer),t.endOffset,se.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return pp(0,hp.ltr,n)})):pp(0,hp.ltr,n)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:s(t),rtl:b.none}},relative:function(e,n){return{ltr:D((function(){return cp(t,e,n)})),rtl:D((function(){return b.some(cp(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:D((function(){return fp(t,e,n,r,o)})),rtl:D((function(){return b.some(fp(t,r,o,e,n))}))}}})}(t,e))},gp=(hp.ltr,hp.rtl,function(t,e){var n=ue(t);return"input"===n?sp.after(t):Z(["br","img"],n)?0===e?sp.before(t):sp.after(t):sp.on(t,e)}),vp=function(t,e,n,r){var o=function(t,e,n,r){var o=be(t).dom().createRange();return o.setStart(t.dom(),e),o.setEnd(n.dom(),r),o}(t,e,n,r),i=ye(t,n)&&e===r;return o.collapsed&&!i},yp=function(t,e,n,r,o){!function(t,e){b.from(t.getSelection()).each((function(t){t.removeAllRanges(),t.addRange(e)}))}(t,fp(t,e,n,r,o))},bp=function(t,e,n,r,o){!function(t,e){mp(t,e).match({ltr:function(e,n,r,o){yp(t,e,n,r,o)},rtl:function(e,n,r,o){var i=t.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom(),n,r.dom(),o);else if(i.extend)try{!function(t,e,n,r,o,i){e.collapse(n.dom(),r),e.extend(o.dom(),i)}(0,i,e,n,r,o)}catch(i){yp(t,r,o,e,n)}else yp(t,r,o,e,n)}})}(t,function(t,e,n,r){var o=gp(t,e),i=gp(n,r);return lp.relative(o,i)}(e,n,r,o))},wp=function(t){var e=se.fromDom(t.anchorNode),n=se.fromDom(t.focusNode);return vp(e,t.anchorOffset,n,t.focusOffset)?b.some(ip(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return b.some(ip(se.fromDom(e.startContainer),e.startOffset,se.fromDom(n.endContainer),n.endOffset))}return b.none()}(t)},xp=function(t){return b.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(wp)},_p=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?b.some(n).map(dp):b.none()}(function(t,e){return mp(t,e).match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})}(t,e))},kp=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:s(2),height:t.height}},Cp=function(t){return{left:s(t.left),top:s(t.top),right:s(t.right),bottom:s(t.bottom),width:s(t.width),height:s(t.height)}},Sp=function(t){var e=t.getSelection();return void 0!==e&&e.rangeCount>0?function(t){if(t.collapsed){var e=se.fromDom(t.startContainer);return we(e).bind((function(n){var r=lp.exact(e,t.startOffset,n,op(n));return _p(t.startContainer.ownerDocument.defaultView,r).map(kp).map(ct)})).getOr([])}return J(t.getClientRects(),Cp)}(e.getRangeAt(0)):[]},Tp=function(t){t.focus();var e=se.fromDom(t.document.body);(mo().exists((function(t){return Z(["input","textarea"],ue(t))}))?function(t){Gh.setTimeout((function(){t()}),0)}:h)((function(){mo().each(po),ho(e)}))},Ep="data-"+ui("last-outer-height"),Op=function(t,e){Gr(t,Ep,e)},Ap=function(t){return{top:s(t.top()),bottom:s(t.top()+t.height())}},Dp=function(t,e){var n=function(t){return np(t,Ep)}(e),r=t.innerHeight;return n>r?b.some(n-r):b.none()},Np=function(t,e){var n=se.fromDom(e.document.body),r=Vh(se.fromDom(t),"resize",(function(){Dp(t,n).each((function(t){(function(t){var e=Sp(t);return e.length>0?b.some(e[0]).map(Ap):b.none()})(e).each((function(n){var r=function(t,e,n){return e.top()>t.innerHeight||e.bottom()>t.innerHeight?Math.min(n,e.bottom()-t.innerHeight+50):0}(e,n,t);0!==r&&e.scrollTo(e.pageXOffset,e.pageYOffset+r)}))})),Op(n,t.innerHeight)}));Op(n,t.innerHeight);return{toEditing:function(){Tp(e)},destroy:function(){r.unbind()}}},Pp=function(t){return b.from(t.dom().contentWindow)},Mp=function(t){return Pp(t).bind(xp)},Lp=function(t){return t.getFrame()},Rp=function(t,e,n,r){return t[n].getOrThunk((function(){return function(t){return Vh(e,r,t)}}))},Ip=function(t){return{left:s(t.left),top:s(t.top),right:s(t.right),bottom:s(t.bottom),width:s(t.width),height:s(t.height)}},Bp=function(t){var e=Lp(t);return function(t){return b.some(se.fromDom(t.dom().contentWindow.document.body))}(e).bind((function(n){return function(t){return b.some(se.fromDom(t.dom().contentWindow.document))}(e).bind((function(r){return Pp(e).map((function(o){var i=se.fromDom(r.dom().documentElement),a=t.getCursorBox.getOrThunk((function(){return function(){return function(t){return xp(t).map((function(t){return lp.exact(t.start(),t.soffset(),t.finish(),t.foffset())}))}(o).bind((function(t){return _p(o,t).orThunk((function(){return function(t){return xp(t).filter((function(t){return ye(t.start(),t.finish())&&t.soffset()===t.foffset()})).bind((function(t){var e=t.start().dom().getBoundingClientRect();return e.width>0||e.height>0?b.some(e).map(Ip):b.none()}))}(o)}))}))}})),u=t.setSelection.getOrThunk((function(){return function(t,e,n,r){bp(o,t,e,n,r)}})),c=t.clearSelection.getOrThunk((function(){return function(){!function(t){t.getSelection().removeAllRanges()}(o)}}));return{body:s(n),doc:s(r),win:s(o),html:s(i),getSelection:l(Mp,e),setSelection:u,clearSelection:c,frame:s(e),onKeyup:Rp(t,r,"onKeyup","keyup"),onNodeChanged:Rp(t,r,"onNodeChanged","SelectionChange"),onDomChanged:t.onDomChanged,onScrollToCursor:t.onScrollToCursor,onScrollToElement:t.onScrollToElement,onToReading:t.onToReading,onToEditing:t.onToEditing,onToolbarScrollStart:t.onToolbarScrollStart,onTouchContent:t.onTouchContent,onTapContent:t.onTapContent,onTouchToolstrip:t.onTouchToolstrip,getCursorBox:a}}))}))}))},Fp=function(t,e){return function(n){return n[t].getOrThunk((function(){var t=Lp(n);return function(){return e(t)}}))()}}("getWin",Pp),jp="data-ephox-mobile-fullscreen-style",zp="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Hp=St().os.isAndroid(),qp=function(t,e){var n=function(t){return function(e){var n=Kr(e,"style"),r=void 0===n?"no-styles":n.trim();r!==t&&(Gr(e,jp,r),Gr(e,"style",t))}},r=Ai(t,"*"),o=at(r,(function(t){return e="*",Oi(t,(function(t){return pe(t,e)}));var e})),i=function(t){var e=bi(t,"background-color");return void 0!==e&&""!==e?"background-color:"+e+"!important":"background-color:rgb(255,255,255)!important;"}(e);Q(o,n("display:none!important;")),Q(r,n("position:absolute!important;"+zp+i)),n((!0===Hp?"":"position:absolute!important;")+zp+i)(t)},Up=function(){var t=ge("["+jp+"]");Q(t,(function(t){var e=Kr(t,jp);"no-styles"!==e?Gr(t,"style",e):Jr(t,"style"),Jr(t,jp)}))},Wp=function(){var t=Li("head").getOrDie(),e=Li('meta[name="viewport"]').getOrThunk((function(){var e=se.fromTag("meta");return Gr(e,"name","viewport"),Ie(t,e),e})),n=Kr(e,"content");return{maximize:function(){Gr(e,"content","width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")},restore:function(){null!=n&&n.length>0?Gr(e,"content",n):Gr(e,"content","user-scalable=yes")}}},Vp=function(t,n){var r=null;return{cancel:function(){null!==r&&(e.clearTimeout(r),r=null)},throttle:function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout((function(){t.apply(null,o),r=null}),n)}}},$p=function(t,n){var r,o,i,a=pf(Lf.sketch({dom:Ku('<div aria-hidden="true" class="${prefix}-mask-tap-icon"></div>'),containerBehaviours:Hr([oi.config({toggleClass:ui("mask-tap-icon-selected"),toggleOnExecute:!1})])})),s=(r=t,o=200,i=null,{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===i&&(i=e.setTimeout((function(){r.apply(null,t),i=null}),o))}});return Lf.sketch({dom:Ku('<div class="${prefix}-disabled-mask"></div>'),components:[Lf.sketch({dom:Ku('<div class="${prefix}-content-container"></div>'),components:[Vu.sketch({dom:Ku('<div class="${prefix}-content-tap-section"></div>'),components:[a.asSpec()],action:function(t){s.throttle()},buttonBehaviours:Hr([oi.config({toggleClass:ui("mask-tap-icon-selected")})])})]})]})},Gp=Hn([ar("editor",[or("getFrame"),sr("getBody"),sr("getDoc"),sr("getWin"),sr("getSelection"),sr("setSelection"),sr("clearSelection"),sr("cursorSaver"),sr("onKeyup"),sr("onNodeChanged"),sr("getCursorBox"),or("onDomChanged"),fr("onTouchContent",i),fr("onTapContent",i),fr("onTouchToolstrip",i),fr("onScrollToCursor",s({unbind:i})),fr("onScrollToElement",s({unbind:i})),fr("onToEditing",s({unbind:i})),fr("onToReading",s({unbind:i})),fr("onToolbarScrollStart",u)]),or("socket"),or("toolstrip"),or("dropup"),or("toolbar"),or("container"),or("alloy"),hr("win",(function(t){return be(t.socket).dom().defaultView})),hr("body",(function(t){return se.fromDom(t.socket.dom().ownerDocument.body)})),fr("translate",u),fr("setReadOnly",i),fr("readOnlyOnInit",s(!0))]),Yp=function(t){var e=Qn("Getting AndroidWebapp schema",Gp,t);vi(e.toolstrip,"width","100%");var n=Ud($p((function(){e.setReadOnly(e.readOnlyOnInit()),o.enter()}),e.translate));e.alloy.add(n);var r={show:function(){e.alloy.add(n)},hide:function(){e.alloy.remove(n)}};Ie(e.container,n.element());var o=function(t,e){var n=Wp(),r=dd(),o=dd();return{enter:function(){e.hide(),ro(t.container,ui("fullscreen-maximized")),ro(t.container,ui("android-maximized")),n.maximize(),ro(t.body,ui("android-scroll-reload")),r.set(Np(t.win,Fp(t.editor).getOrDie("no"))),Bp(t.editor).each((function(e){qp(t.container,e.body()),o.set(ep(e,t.toolstrip,t.alloy))}))},exit:function(){n.restore(),e.show(),io(t.container,ui("fullscreen-maximized")),io(t.container,ui("android-maximized")),Up(),io(t.body,ui("android-scroll-reload")),o.clear(),r.clear()}}}(e,r);return{setReadOnly:e.setReadOnly,refreshStructure:i,enter:o.enter,exit:o.exit,destroy:i}},Kp=s([or("dom"),fr("shell",!0),zs("toolbarBehaviours",[lh])]),Zp=s([gu({name:"groups",overrides:function(){return{behaviours:Hr([lh.config({})])}}})]),Xp=Wu({name:"Toolbar",configFields:Kp(),partFields:Zp(),factory:function(t,n,r,o){var i=function(e){return t.shell?b.some(e):Cu(e,t,"groups")},a=t.shell?{behaviours:[lh.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:qs(t.toolbarBehaviours,a.behaviours),apis:{setGroups:function(t,n){i(t).fold((function(){throw e.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")}),(function(t){lh.set(t,n)}))}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),Jp=s([or("items"),function(t){return ar("markers",J(t,or))}(["itemSelector"]),zs("tgroupBehaviours",[js])]),Qp=s([vu({name:"items",unit:"item"})]),tm=Wu({name:"ToolbarGroup",configFields:Jp(),partFields:Qp(),factory:function(t,e,n,r){return{uid:t.uid,dom:t.dom,components:e,behaviours:qs(t.tgroupBehaviours,[js.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),em="data-"+ui("horizontal-scroll"),nm=function(t){return"true"===Kr(t,em)?function(t){return t.dom().scrollLeft>0||function(t){t.dom().scrollLeft=1;var e=0!==t.dom().scrollLeft;return t.dom().scrollLeft=0,e}(t)}(t):function(t){return t.dom().scrollTop>0||function(t){t.dom().scrollTop=1;var e=0!==t.dom().scrollTop;return t.dom().scrollTop=0,e}(t)}(t)};function rm(){var t=function(t){var e=!0===t.scrollable?"${prefix}-toolbar-scrollable-group":"";return{dom:Ku('<div aria-label="'+t.label+'" class="${prefix}-toolbar-group '+e+'"></div>'),tgroupBehaviours:Hr([Df("adhoc-scrollable-toolbar",!0===t.scrollable?[Dr((function(t,e){var n;vi(t.element(),"overflow-x","auto"),n=t.element(),Gr(n,em,"true"),Th(t.element())}))]:[])]),components:[Lf.sketch({components:[tm.parts().items({})]})],markers:{itemSelector:"."+ui("toolbar-group-item")},items:t.items}},e=Ud(Xp.sketch({dom:Ku('<div class="${prefix}-toolbar"></div>'),components:[Xp.parts().groups({})],toolbarBehaviours:Hr([oi.config({toggleClass:ui("context-toolbar"),toggleOnExecute:!1,aria:{mode:"none"}}),js.config({mode:"cyclic"})]),shell:!0})),n=Ud(Lf.sketch({dom:{classes:[ui("toolstrip")]},components:[Wd(e)],containerBehaviours:Hr([oi.config({toggleClass:ui("android-selection-context-toolbar"),toggleOnExecute:!1})])})),r=function(){Xp.setGroups(e,o.get()),oi.off(e)},o=fo([]);return{wrapper:s(n),toolbar:s(e),createGroups:function(e){return J(e,a(tm.sketch,t))},setGroups:function(t){o.set(t),r()},setContextToolbar:function(t){oi.on(e),Xp.setGroups(e,t)},restoreToolbar:function(){oi.isOn(e)&&r()},refresh:function(){},focus:function(){js.focusIn(e)}}}var om=function(t){return Ud(Vu.sketch({dom:Ku('<div class="${prefix}-mask-edit-icon ${prefix}-icon"></div>'),action:function(){t.run((function(t){t.setReadOnly(!1)}))}}))},im=function(){return Ud(Lf.sketch({dom:Ku('<div class="${prefix}-editor-socket"></div>'),components:[],containerBehaviours:Hr([lh.config({})])}))},am=function(t,e){lh.append(t,Wd(e))},sm=function(t,e){lh.remove(t,e)},um=function(t,e,n,r){(!0===n?co.toAlpha:co.toOmega)(r),(n?am:sm)(t,e)},lm=function(t,e){return e.getAnimationRoot.fold((function(){return t.element()}),(function(e){return e(t)}))},cm=function(t){return t.dimension.property},fm=function(t,e){return t.dimension.getDimension(e)},dm=function(t,e){var n=lm(t,e);Md(n,[e.shrinkingClass,e.growingClass])},hm=function(t,e){io(t.element(),e.openClass),ro(t.element(),e.closedClass),vi(t.element(),cm(e),"0px"),ki(t.element())},pm=function(t,e){io(t.element(),e.closedClass),ro(t.element(),e.openClass),_i(t.element(),cm(e))},mm=function(t,e,n,r){n.setCollapsed(),vi(t.element(),cm(e),fm(e,t.element())),ki(t.element()),dm(t,e),hm(t,e),e.onStartShrink(t),e.onShrunk(t)},gm=function(t,e,n,r){var o=r.getOrThunk((function(){return fm(e,t.element())}));n.setCollapsed(),vi(t.element(),cm(e),o),ki(t.element());var i=lm(t,e);io(i,e.growingClass),ro(i,e.shrinkingClass),hm(t,e),e.onStartShrink(t)},vm=function(t,e,n){var r=fm(e,t.element());("0px"===r?mm:gm)(t,e,n,b.some(r))},ym=function(t,e,n){var r=lm(t,e),o=ao(r,e.shrinkingClass),i=fm(e,t.element());pm(t,e);var a=fm(e,t.element());(o?function(){vi(t.element(),cm(e),i),ki(t.element())}:function(){hm(t,e)})(),io(r,e.shrinkingClass),ro(r,e.growingClass),pm(t,e),vi(t.element(),cm(e),a),n.setExpanded(),e.onStartGrow(t)},bm=function(t,e,n){var r=lm(t,e);return!0===ao(r,e.growingClass)},wm=function(t,e,n){var r=lm(t,e);return!0===ao(r,e.shrinkingClass)},xm=Object.freeze({__proto__:null,refresh:function(t,e,n){if(n.isExpanded()){_i(t.element(),cm(e));var r=fm(e,t.element());vi(t.element(),cm(e),r)}},grow:function(t,e,n){n.isExpanded()||ym(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&vm(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&mm(t,e,n,b.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:bm,isShrinking:wm,isTransitioning:function(t,e,n){return!0===bm(t,e)||!0===wm(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?vm:ym)(t,e,n)},disableTransitions:dm}),_m=Object.freeze({__proto__:null,exhibit:function(t,e,n){var r=e.expanded;return Lr(r?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:Tn(e.dimension.property,"0px")})},events:function(t,e){return br([Er(Ft(),(function(n,r){r.event().raw().propertyName===t.dimension.property&&(dm(n,t),e.isExpanded()&&_i(n.element(),t.dimension.property),(e.isExpanded()?t.onGrown:t.onShrunk)(n))}))])}}),km=[or("closedClass"),or("openClass"),or("shrinkingClass"),or("growingClass"),sr("getAnimationRoot"),Fo("onShrunk"),Fo("onStartShrink"),Fo("onGrown"),Fo("onStartGrow"),fr("expanded",!1),ir("dimension",er("property",{width:[qo("property","width"),qo("getDimension",(function(t){return Tl(t)+"px"}))],height:[qo("property","height"),qo("getDimension",(function(t){return Ti(t)+"px"}))]}))],Cm=Ur({fields:km,name:"sliding",active:_m,apis:xm,state:Object.freeze({__proto__:null,init:function(t){var e=fo(t.expanded);return zr({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:l(e.set,!1),setExpanded:l(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),Sm=function(t,n){var r=Ud(Lf.sketch({dom:{tag:"div",classes:[ui("dropup")]},components:[],containerBehaviours:Hr([lh.config({}),Cm.config({closedClass:ui("dropup-closed"),openClass:ui("dropup-open"),shrinkingClass:ui("dropup-shrinking"),growingClass:ui("dropup-growing"),dimension:{property:"height"},onShrunk:function(e){t(),n(),lh.set(e,[])},onGrown:function(e){t(),n()}}),ai((function(t,e){o(i)}))])})),o=function(t){e.window.requestAnimationFrame((function(){t(),Cm.shrink(r)}))};return{appear:function(t,n,o){!0===Cm.hasShrunk(r)&&!1===Cm.isTransitioning(r)&&e.window.requestAnimationFrame((function(){n(o),lh.set(r,[t()]),Cm.grow(r)}))},disappear:o,component:s(r),element:r.element}},Tm=function(t){var e,n;return 8===t.raw().which&&!Z(["input","textarea"],ue(t.target()))&&(e=t.target(),!Bi(e,'[contenteditable="true"]',n).isSome())},Em=function(){return St().browser.isFirefox()},Om=zn([function(t){return ir(t,rr)}("triggerEvent"),fr("stopBackspace",!0)]),Am=function(t,n){var r=Qn("Getting GUI events settings",Om,n),o=Jh(r),i=J(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),(function(e){return Vh(t,e,(function(t){o.fireIfReady(t,e).each((function(e){e&&t.kill()})),r.triggerEvent(e,t)&&t.kill()}))})),a=fo(b.none()),s=Vh(t,"paste",(function(t){o.fireIfReady(t,"paste").each((function(e){e&&t.kill()})),r.triggerEvent("paste",t)&&t.kill(),a.set(b.some(e.setTimeout((function(){r.triggerEvent(Ut(),t)}),0)))})),u=Vh(t,"keydown",(function(t){r.triggerEvent("keydown",t)?t.kill():!0===r.stopBackspace&&Tm(t)&&t.prevent()})),l=function(t,e){return Em()?$h(t,"focus",e):Vh(t,"focusin",e)}(t,(function(t){r.triggerEvent("focusin",t)&&t.kill()})),c=fo(b.none()),f=function(t,e){return Em()?$h(t,"blur",e):Vh(t,"focusout",e)}(t,(function(t){r.triggerEvent("focusout",t)&&t.kill(),c.set(b.some(e.setTimeout((function(){r.triggerEvent(qt(),t)}),0)))}));return{unbind:function(){Q(i,(function(t){t.unbind()})),u.unbind(),l.unbind(),f.unbind(),s.unbind(),a.get().each(e.clearTimeout),c.get().each(e.clearTimeout)}}},Dm=function(t,e){var n=E(t,"target").map((function(t){return t()})).getOr(e);return fo(n)},Nm=dn([{stopped:[]},{resume:["element"]},{complete:[]}]),Pm=function(t,e,n,r,o,i){var a=t(e,r),u=function(t,e){var n=fo(!1),r=fo(!1);return{stop:function(){n.set(!0)},cut:function(){r.set(!0)},isStopped:n.get,isCut:r.get,event:s(t),setSource:e.set,getSource:e.get}}(n,o);return a.fold((function(){return i.logEventNoHandlers(e,r),Nm.complete()}),(function(t){var n=t.descHandler;return Sd(n)(u),u.isStopped()?(i.logEventStopped(e,t.element,n.purpose()),Nm.stopped()):u.isCut()?(i.logEventCut(e,t.element,n.purpose()),Nm.complete()):we(t.element).fold((function(){return i.logNoParent(e,t.element,n.purpose()),Nm.complete()}),(function(r){return i.logEventResponse(e,t.element,n.purpose()),Nm.resume(r)}))}))},Mm=function(t,e,n,r,o,i){return Pm(t,e,n,r,o,i).fold((function(){return!0}),(function(r){return Mm(t,e,n,r,o,i)}),(function(){return!1}))},Lm=function(t,e,n){var r=function(t){var e=fo(!1);return{stop:function(){e.set(!0)},cut:i,isStopped:e.get,isCut:s(!1),event:s(t),setSource:d("Cannot set source of a broadcasted event"),getSource:d("Cannot get source of a broadcasted event")}}(e);return Q(t,(function(t){var e=t.descHandler();Sd(e)(r)})),r.isStopped()},Rm=function(t,e,n,r,o){var i=Dm(n,r);return Mm(t,e,n,r,i,o)};function Im(){var t={};return{registerId:function(e,n,r){_(r,(function(r,o){var i=void 0!==t[o]?t[o]:{};i[n]=Cd(r,e),t[o]=i}))},unregisterId:function(e){_(t,(function(t,n){t.hasOwnProperty(e)&&delete t[e]}))},filterByType:function(e){return E(t,e).map((function(t){return T(t,(function(t,e){return function(t,e){return{id:s(t),descHandler:s(e)}}(e,t)}))})).getOr([])},find:function(e,n,r){var o=E(t,n);return mr(r,(function(t){return function(t,e){return Iu(e).fold((function(){return b.none()}),(function(n){return t.bind((function(t){return E(t,n)})).map((function(t){return function(t,e){return{element:t,descHandler:e}}(e,t)}))}))}(o,t)}),e)}}}function Bm(){var t=Im(),e={},n=function(t){var e=t.element();return Iu(e).fold((function(){return function(t,e){var n=tu(Mu+t);return Ru(e,n),n}("uid-",t.element())}),(function(t){return t}))},r=function(n){Iu(n.element()).each((function(n){delete e[n],t.unregisterId(n)}))};return{find:function(e,n,r){return t.find(e,n,r)},filter:function(e){return t.filterByType(e)},register:function(o){var i=n(o);A(e,i)&&function(t,n){var o=e[n];if(o!==t)throw new Error('The tagId "'+n+'" is already used by: '+So(o.element())+"\nCannot use it for: "+So(t.element())+"\nThe conflicting element is"+(De(o.element())?" ":" not ")+"already in the DOM");r(t)}(o,i);var a=[o];t.registerId(a,i,o.events()),e[i]=o},unregister:r,getById:function(t){return E(e,t)}}}var Fm=function(t){var e=function(e){return we(t.element()).fold((function(){return!0}),(function(t){return ye(e,t)}))},n=Bm(),r=function(t,r){return n.find(e,t,r)},o=Am(t.element(),{triggerEvent:function(t,e){return No(t,e.target(),(function(n){return function(t,e,n,r){var o=n.target();return Rm(t,e,n,o,r)}(r,t,e,n)}))}}),a={debugInfo:s("real"),triggerEvent:function(t,e,n){No(t,e,(function(o){return Rm(r,t,n,e,o)}))},triggerFocus:function(t,e){Iu(t).fold((function(){ho(t)}),(function(n){No(Ht(),t,(function(n){return function(t,e,n,r,o){var i=Dm(n,r);Pm(t,e,n,r,i,o)}(r,Ht(),{originator:s(e),kill:i,prevent:i,target:s(t)},t,n),!1}))}))},triggerEscape:function(t,e){a.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return g(t)},getByDom:function(t){return v(t)},build:Ud,addToGui:function(t){c(t)},removeFromGui:function(t){f(t)},addToWorld:function(t){u(t)},removeFromWorld:function(t){l(t)},broadcast:function(t){h(t)},broadcastOn:function(t,e){p(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:s(!0)},u=function(t){t.connect(a),fe(t.element())||(n.register(t),Q(t.components(),u),a.triggerEvent(Kt(),t.element(),{target:s(t.element())}))},l=function(t){fe(t.element())||(Q(t.components(),l),n.unregister(t)),t.disconnect()},c=function(e){!function(t,e){We(t,e,Ie)}(t,e)},f=function(t){Ve(t)},d=function(t){var e=n.filter(Wt());Q(e,(function(e){var n=e.descHandler();Sd(n)(t)}))},h=function(t){d({universal:s(!0),data:s(t)})},p=function(t,e){d({universal:s(!1),channels:s(t),data:s(e)})},m=function(t,e){var r=n.filter(t);return Lm(r,e)},g=function(t){return n.getById(t).fold((function(){return Ke.error(new Error('Could not find component with uid: "'+t+'" in system.'))}),Ke.value)},v=function(t){var e=Iu(t).getOr("not found");return g(e)};return u(t),{root:s(t),element:t.element,destroy:function(){o.unbind(),je(t.element())},add:c,remove:f,getByUid:g,getByDom:v,addToWorld:u,removeFromWorld:l,broadcast:h,broadcastOn:p,broadcastEvent:m}},jm=ui("readonly-mode"),zm=ui("edit-mode");function Hm(t){var e=Ud(Lf.sketch({dom:{classes:[ui("outer-container")].concat(t.classes)},containerBehaviours:Hr([co.config({alpha:jm,omega:zm})])}));return Fm(e)}var qm=function(t,e){var n=se.fromTag("input");yi(n,{opacity:"0",position:"absolute",top:"-1000px",left:"-1000px"}),Ie(t,n),ho(n),e(n),je(n)},Um=function(t){var e=t.getSelection();if(e.rangeCount>0){var n=e.getRangeAt(0),r=t.document.createRange();r.setStart(n.startContainer,n.startOffset),r.setEnd(n.endContainer,n.endOffset),e.removeAllRanges(),e.addRange(r)}},Wm=function(t,e){mo().each((function(t){ye(t,e)||po(t)})),t.focus(),ho(se.fromDom(t.document.body)),Um(t)},Vm=function(t,e,n,r){var o=function(){Wm(e,r)},i=Vh(n,"keydown",(function(t){Z(["input","textarea"],ue(t.target()))||o()}));return{toReading:function(){qm(t,po)},toEditing:o,onToolbarTouch:function(){},destroy:function(){i.unbind()}}},$m=function(t,e,n,r,o){var i=function(){e.run((function(t){t.refreshSelection()}))},a=function(t,n){var o=t-r.dom().scrollTop;e.run((function(t){t.scrollIntoView(o,o+n)}))},s=function(){e.run((function(t){t.clearSelection()}))},u=function(){t.getCursorBox().each((function(t){a(t.top(),t.height())})),e.run((function(t){t.syncHeight()}))},l=Qh(t),c=Vp(u,300),f=[t.onKeyup((function(){s(),c.throttle()})),t.onNodeChanged(i),t.onDomChanged(c.throttle),t.onDomChanged(i),t.onScrollToCursor((function(t){t.preventDefault(),c.throttle()})),t.onScrollToElement((function(t){t.element(),a(e,r)})),t.onToEditing((function(){e.run((function(t){t.toEditing()}))})),t.onToReading((function(){e.run((function(t){t.toReading()}))})),Vh(t.doc(),"touchend",(function(e){ye(t.html(),e.target())||ye(t.body(),e.target())})),Vh(n,"transitionend",(function(t){var r;"height"===t.raw().propertyName&&(r=Ti(n),e.run((function(t){t.setViewportOffset(r)})),i(),u())})),$h(n,"touchstart",(function(n){var r;e.run((function(t){t.highlightSelection()})),r=n,e.run((function(t){t.onToolbarTouch(r)})),t.onTouchToolstrip()})),Vh(t.body(),"touchstart",(function(e){s(),t.onTouchContent(),l.fireTouchstart(e)})),l.onTouchmove(),l.onTouchend(),Vh(t.body(),"click",(function(t){t.kill()})),Vh(n,"touchmove",(function(){t.onToolbarScrollStart()}))];return{destroy:function(){Q(f,(function(t){t.unbind()}))}}};var Gm={},Ym={exports:Gm};!function(e,n,r,o){!function(o){if("object"==typeof n&&void 0!==r)r.exports=o();else if("function"==typeof e&&e.amd)e([],o);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).EphoxContactWrapper=o()}}((function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof o&&o;if(!u&&l)return l(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,(function(t){return i(e[s][1][t]||t)}),f,f.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){var r,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();var l,c=[],f=!1,d=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,f=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||f||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function o(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void l(t);if("function"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,l(t)}catch(e){u(t,e)}var r,o}function u(t,e){t._state=2,t._value=e,l(t)}function l(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new c(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){if(0===e.length)return t([]);var r=e.length;function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(i,t)}),n)}e[i]=a,0==--r&&t(e)}catch(t){n(t)}}for(var i=0;i<e.length;i++)o(i,e[i])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var o=t("process/browser.js").nextTick,i=Function.prototype.apply,a=Array.prototype.slice,s={},u=0;function l(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=u++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,o((function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}))}(void 0,Gm,Ym,void 0);var Km,Zm=Ym.exports.boltExport,Xm=function(t){var n=b.none(),r=[],o=function(t){i()?s(t):r.push(t)},i=function(){return n.isSome()},a=function(t){Q(t,s)},s=function(t){n.each((function(n){e.setTimeout((function(){t(n)}),0)}))};return t((function(t){i()||(n=b.some(t),a(r),r=[])})),{get:o,map:function(t){return Xm((function(e){o((function(n){e(t(n))}))}))},isReady:i}},Jm={nu:Xm,pure:function(t){return Xm((function(e){e(t)}))}},Qm=function(t){e.setTimeout((function(){throw t}),0)},tg=function(t){var e=function(e){t().then(e,Qm)};return{map:function(e){return tg((function(){return t().then(e)}))},bind:function(e){return tg((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return tg((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return Jm.nu(e)},toCached:function(){var e=null;return tg((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},eg=function(t){return tg((function(){return new Zm(t)}))},ng=function(t){return tg((function(){return Zm.resolve(t)}))},rg=function(t,e){return ft([{width:320,height:480,keyboard:{portrait:300,landscape:240}},{width:320,height:568,keyboard:{portrait:300,landscape:240}},{width:375,height:667,keyboard:{portrait:305,landscape:240}},{width:414,height:736,keyboard:{portrait:320,landscape:240}},{width:768,height:1024,keyboard:{portrait:320,landscape:400}},{width:1024,height:1366,keyboard:{portrait:380,landscape:460}}],(function(n){return function(t,e){return t?b.some(e):b.none()}(t<=n.width&&e<=n.height,n.keyboard)})).getOr({portrait:e/5,landscape:t/4})},og=function(t){var e=Yh(t).isPortrait(),n=function(t){return rg(t.screen.width,t.screen.height)}(t),r=e?n.portrait:n.landscape;return(e?t.screen.height:t.screen.width)-t.innerHeight>r?0:r},ig=function(t,e){var n=be(t).dom().defaultView;return Ti(t)+Ti(e)-og(n)},ag=function(t,e,n){var r=ig(e,n),o=Ti(e)+Ti(n)-r;vi(t,"padding-bottom",o+"px")},sg=dn([{fixed:["element","property","offsetY"]},{scroller:["element","offsetY"]}]),ug="data-"+ui("position-y-fixed"),lg="data-"+ui("y-property"),cg="data-"+ui("scrolling"),fg="data-"+ui("last-window-height"),dg=function(t){return np(t,ug)},hg=function(t,e){var n=function(t){return Kr(t,lg)}(t);return sg.fixed(t,n,e)},pg=function(t,e){return sg.scroller(t,e)},mg=function(t){var e=dg(t);return("true"===Kr(t,cg)?pg:hg)(t,e)},gg=function(t,e,n){var r=be(t).dom().defaultView.innerHeight;return Gr(t,fg,r+"px"),r-e-n},vg=function(t,e,n,r){var o=be(t).dom().defaultView,i=function(t){var e=Kr(t,"style");yi(t,{position:"absolute",top:"0px"}),Gr(t,ug,"0px"),Gr(t,lg,"top");return{restore:function(){Gr(t,"style",e||""),Jr(t,ug),Jr(t,lg)}}}(n),a=Ti(n),s=Ti(r),u=function(t,e,n){var r=Kr(n,"style");Th(n),yi(n,{position:"absolute",height:e+"px",width:"100%",top:t+"px"}),Gr(n,ug,t+"px"),Gr(n,cg,"true"),Gr(n,lg,"top");return{restore:function(){Eh(n),Gr(n,"style",r||""),Jr(n,ug),Jr(n,cg),Jr(n,lg)}}}(a,gg(t,a,s),t),l=function(t){var e=Kr(t,"style");yi(t,{position:"absolute",bottom:"0px"}),Gr(t,ug,"0px"),Gr(t,lg,"bottom");return{restore:function(){Gr(t,"style",e||""),Jr(t,ug),Jr(t,lg)}}}(r),c=!0,d=function(){return o.innerHeight>function(t){return np(t,fg)}(t)},h=function(){if(c){var o=Ti(n),i=Ti(r),a=gg(t,o,i);Gr(t,ug,o+"px"),vi(t,"height",a+"px"),ag(e,t,r)}};return ag(e,t,r),{setViewportOffset:function(e){Gr(t,ug,e+"px"),h()},isExpanding:d,isShrinking:f(d),refresh:h,restore:function(){c=!1,i.restore(),u.restore(),l.restore()}}},yg=(Km=null,{animate:function(t,e,n,r,o,i){var a=!1,s=function(t){a=!0,o(t)};Gh.clearInterval(Km);var u=function(t){Gh.clearInterval(Km),s(t)};Km=Gh.setInterval((function(){var o=t();(function(t,e,n){return Math.abs(t-e)<=n?b.none():t<e?b.some(t+n):b.some(t-n)})(o,e,n).fold((function(){Gh.clearInterval(Km),s(e)}),(function(n){if(r(n,u),!a){var i=t();(i!==n||Math.abs(i-e)>Math.abs(o-e))&&(Gh.clearInterval(Km),s(e))}}))}),i)}}),bg="data-"+ui("last-scroll-top"),wg=function(t){var e=xi(t,"top").getOr("0");return parseInt(e,10)},xg=function(t){return parseInt(t.dom().scrollTop,10)},_g=function(t,e){return eg((function(n){var r=l(xg,t);Gr(t,bg,r());var o=Math.abs(e-r()),i=Math.ceil(o/10);yg.animate(r,e,i,(function(e,n){np(t,bg)!==t.dom().scrollTop?n(t.dom().scrollTop):(t.dom().scrollTop=e,Gr(t,bg,e))}),(function(){t.dom().scrollTop=e,Gr(t,bg,e),n(e)}),10)}))},kg=function(t,e){var n=e+dg(t)+"px";vi(t,"top",n)};var Cg=function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):Q(t,(function(o,i){o.get(function(o){return function(i){n[o]=i,++r>=t.length&&e(n)}}(i))}))}))},Sg=function(t,e,n){var r=e+n,o=xi(t,"top").getOr(n),i=r-parseInt(o,10),a=t.dom().scrollTop+i;return function(t,e,n){return eg((function(r){var o=l(xg,t);yg.animate(o,e,15,(function(e){t.dom().scrollTop=e,vi(t,"top",wg(t)+15+"px")}),(function(){t.dom().scrollTop=e,vi(t,"top",n+"px"),r(e)}),10)}))}(t,a,r)},Tg=function(t,e){return t.fold((function(t,n,r){return function(t,e,n,r){return vi(t,e,n+r+"px"),ng(r)}(t,n,e,r)}),(function(t,n){return Sg(t,e,n)}))},Eg=function(t,e){var n=function(t){var e=Di(t,"["+ug+"]");return J(e,mg)}(t),r=J(n,(function(t){return Tg(t,e)}));return Cg(r,eg)},Og=function(t,e,n,r,o,i){var a,l,c=(a=function(n){return function(t,e,n){var r=be(t).dom().defaultView;return eg((function(o){kg(t,n),kg(e,n),r.scrollTo(0,n),o(n)}))}(t,e,n)},l=fo(Jm.pure({})),{start:function(t){var e=Jm.nu((function(e){return a(t).get(e)}));l.set(e)},idle:function(t){l.get().get((function(){t()}))}}),f=Vp((function(){c.idle((function(){Eg(n,r.pageYOffset).get((function(){var t;(t=Sp(i),b.from(t[0]).bind((function(t){var n=t.top()-e.dom().scrollTop;return n>r.innerHeight+5||n<-5?b.some({top:s(n),bottom:s(n+t.height())}):b.none()}))).each((function(t){e.dom().scrollTop=e.dom().scrollTop+t.top()})),c.start(0),o.refresh()}))}))}),1e3),d=Vh(se.fromDom(r),"scroll",(function(){r.pageYOffset<0||f.throttle()}));return Eg(n,r.pageYOffset).get(u),{unbind:d.unbind}},Ag=function(t){var e=t.cWin,n=t.ceBody,r=t.socket,o=t.toolstrip,a=t.contentElement,s=t.keyboardType,c=t.outerWindow,f=t.dropup,d=t.outerBody,h=vg(r,n,o,f),p=s(d,e,Ne(),a),m=Zh(c,{onChange:i,onReady:h.refresh});m.onAdjustment((function(){h.refresh()}));var g=Vh(se.fromDom(c),"resize",(function(){h.isExpanding()&&h.refresh()})),v=Og(o,r,d,c,h,e),y=function(t,e){var n=t.document,r=se.fromTag("div");ro(r,ui("unfocused-selections")),Ie(se.fromDom(n.documentElement),r);var o=Vh(r,"touchstart",(function(n){n.prevent(),Wm(t,e),a()})),i=function(t){var e=se.fromTag("span");return Pd(e,[ui("layer-editor"),ui("unfocused-selection")]),yi(e,{left:t.left()+"px",top:t.top()+"px",width:t.width()+"px",height:t.height()+"px"}),e},a=function(){Fe(r)};return{update:function(){a();var e=Sp(t),n=J(e,i);Be(r,n)},isActive:function(){return xe(r).length>0},destroy:function(){o.unbind(),je(r)},clear:a}}(e,a),b=function(){y.clear()};return{toEditing:function(){p.toEditing(),b()},toReading:function(){p.toReading()},onToolbarTouch:function(t){p.onToolbarTouch()},refreshSelection:function(){y.isActive()&&y.update()},clearSelection:b,highlightSelection:function(){y.update()},scrollIntoView:function(t,n){!function(t,e,n,r,o){var i=ig(e,n),a=l(Um,t);r>i||o>i?_g(e,e.dom().scrollTop-i+o).get(a):r<0&&_g(e,e.dom().scrollTop+r).get(a)}(e,r,f,t,n)},updateToolbarPadding:i,setViewportOffset:function(t){h.setViewportOffset(t),function(t,e){return eg((function(n){var r=l(wg,t),o=function(e){vi(t,"top",e+"px")},i=Math.abs(e-r()),a=Math.ceil(i/10);yg.animate(r,e,a,o,(function(){o(e),n(e)}),10)}))}(r,t).get(u)},syncHeight:function(){vi(a,"height",a.dom().contentWindow.document.body.scrollHeight+"px")},refreshStructure:h.refresh,destroy:function(){h.restore(),m.destroy(),v.unbind(),g.unbind(),p.destroy(),y.destroy(),qm(Ne(),po)}}},Dg=function(t){var n=Qn("Getting IosWebapp schema",Gp,t);vi(n.toolstrip,"width","100%"),vi(n.container,"position","relative");var r=Ud($p((function(){n.setReadOnly(n.readOnlyOnInit()),a.enter()}),n.translate));n.alloy.add(r);var o={show:function(){n.alloy.add(r)},hide:function(){n.alloy.remove(r)}},a=function(t,n){var r=Wp(),o=hd(),a=hd(),s=dd(),u=dd();return{enter:function(){n.hide();var l=se.fromDom(e.document);Bp(t.editor).each((function(n){var c,f;o.set({socketHeight:xi(t.socket,"height"),iframeHeight:xi(n.frame(),"height"),outerScroll:e.document.body.scrollTop}),a.set({exclusives:(c=l,f="."+Oh,Vh(c,"touchmove",(function(t){Bi(t.target(),f).filter(nm).fold((function(){t.raw().preventDefault()}),i)})))}),ro(t.container,ui("fullscreen-maximized")),qp(t.container,n.body()),r.maximize(),vi(t.socket,"overflow","scroll"),vi(t.socket,"-webkit-overflow-scrolling","touch"),ho(n.body()),s.set(Ag({cWin:n.win(),ceBody:n.body(),socket:t.socket,toolstrip:t.toolstrip,dropup:t.dropup.element(),contentElement:n.frame(),outerBody:t.body,outerWindow:t.win,keyboardType:Vm})),s.run((function(t){t.syncHeight()})),u.set($m(n,s,t.toolstrip,t.socket,t.dropup))}))},refreshStructure:function(){s.run((function(t){t.refreshStructure()}))},exit:function(){r.restore(),u.clear(),s.clear(),n.show(),o.on((function(n){n.socketHeight.each((function(e){vi(t.socket,"height",e)})),n.iframeHeight.each((function(e){vi(t.editor.getFrame(),"height",e)})),e.document.body.scrollTop=n.scrollTop})),o.clear(),a.on((function(t){t.exclusives.unbind()})),a.clear(),io(t.container,ui("fullscreen-maximized")),Up(),Eh(t.toolbar),_i(t.socket,"overflow"),_i(t.socket,"-webkit-overflow-scrolling"),po(t.editor.getFrame()),Bp(t.editor).each((function(t){t.clearSelection()}))}}}(n,o);return{setReadOnly:n.setReadOnly,refreshStructure:a.refreshStructure,enter:a.enter,exit:a.exit,destroy:i}};var Ng=tinymce.util.Tools.resolve("tinymce.EditorManager"),Pg=function(t,e,n){t.system().broadcastOn(["formatChanged"],{command:e,state:n})},Mg=function(t){return function(){var e=function(){t._skinLoaded=!0,t.fire("SkinLoaded")};t.initialized?e():t.on("init",e)}},Lg=function(t){return{getNotificationManagerImpl:function(){return{open:s({progressBar:{value:i},close:i,text:i,getEl:s(null),moveTo:i,moveRel:i,settings:{}}),close:i,reposition:i,getArgs:s({})}},renderUI:function(){var n=t.getElement(),r=function(t){var e=b.from(function(t){return t.getParam("skin_url")}(t)).fold((function(){return Ng.baseURL+"/skins/ui/oxide"}),(function(t){return t}));return{content:e+"/content.mobile.min.css",ui:e+"/skin.mobile.min.css"}}(t);!1===function(t){return!1===t.getParam("skin")}(t)?(t.contentCSS.push(r.content),vo.DOM.styleSheetLoader.load(r.ui,Mg(t))):Mg(t)();var o=function(){t.fire("ScrollIntoView")},a=St().os.isAndroid()?function(t){var e=Hm({classes:[ui("android-container")]}),n=rm(),r=dd(),o=om(r),a=im(),u=Sm(i,t);return e.add(n.wrapper()),e.add(a),e.add(u.component()),{system:s(e),element:e.element,init:function(t){r.set(Yp(t))},exit:function(){r.run((function(t){t.exit(),lh.remove(a,o)}))},setToolbarGroups:function(t){var e=n.createGroups(t);n.setGroups(e)},setContextToolbar:function(t){var e=n.createGroups(t);n.setContextToolbar(e)},focusToolbar:function(){n.focus()},restoreToolbar:function(){n.restoreToolbar()},updateMode:function(t){um(a,o,t,e.root())},socket:s(a),dropup:s(u)}}(o):function(t){var e=Hm({classes:[ui("ios-container")]}),n=rm(),r=dd(),o=om(r),i=im(),a=Sm((function(){r.run((function(t){t.refreshStructure()}))}),t);return e.add(n.wrapper()),e.add(i),e.add(a.component()),{system:s(e),element:e.element,init:function(t){r.set(Dg(t))},exit:function(){r.run((function(t){lh.remove(i,o),t.exit()}))},setToolbarGroups:function(t){var e=n.createGroups(t);n.setGroups(e)},setContextToolbar:function(t){var e=n.createGroups(t);n.setContextToolbar(e)},focusToolbar:function(){n.focus()},restoreToolbar:function(){n.restoreToolbar()},updateMode:function(t){um(i,o,t,e.root())},socket:s(i),dropup:s(a)}}(o);!function(t,e){$e(t,e,Le)}(se.fromDom(n),a.system());var u=n.ownerDocument.defaultView,l=Zh(u,{onChange:function(){a.system().broadcastOn(["orientationChanged"],{width:Kh(u)})},onReady:i}),c=function(e,n,r,o){!1===o&&t.selection.collapse();var i=f(e,n,r);a.setToolbarGroups(!0===o?i.readOnly:i.main),t.setMode(!0===o?"readonly":"design"),t.fire(!0===o?"toReading":"toEditing"),a.updateMode(o)},f=function(t,e,n){var r=t.get();return{readOnly:r.backToMask.concat(e.get()),main:r.backToMask.concat(n.get())}},d=function(e,n){return t.on(e,n),{unbind:function(){t.off(e)}}};return t.on("init",(function(){a.init({editor:{getFrame:function(){return se.fromDom(t.contentAreaContainer.querySelector("iframe"))},onDomChanged:function(){return{unbind:i}},onToReading:function(t){return d("toReading",t)},onToEditing:function(t){return d("toEditing",t)},onScrollToCursor:function(e){t.on("ScrollIntoView",(function(t){e(t)}));return{unbind:function(){t.off("ScrollIntoView"),l.destroy()}}},onTouchToolstrip:function(){n()},onTouchContent:function(){var e,r=se.fromDom(t.editorContainer.querySelector("."+ui("toolbar")));(e=r,go(e).bind((function(t){return a.system().getByDom(t).toOption()}))).each(re),a.restoreToolbar(),n()},onTapContent:function(n){var r=n.target();if("img"===ue(r))t.selection.select(r.dom()),n.kill();else if("a"===ue(r)){a.system().getByDom(se.fromDom(t.editorContainer)).each((function(t){co.isAlpha(t)&&function(t){var n=e.document.createElement("a");n.target="_blank",n.href=t.href,n.rel="noreferrer noopener";var r=e.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,e.window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.document.body.appendChild(n),n.dispatchEvent(r),e.document.body.removeChild(n)}(r.dom())}))}}},container:se.fromDom(t.editorContainer),socket:se.fromDom(t.contentAreaContainer),toolstrip:se.fromDom(t.editorContainer.querySelector("."+ui("toolstrip"))),toolbar:se.fromDom(t.editorContainer.querySelector("."+ui("toolbar"))),dropup:a.dropup(),alloy:a.system(),translate:i,setReadOnly:function(t){c(m,p,h,t)},readOnlyOnInit:function(){return!1}});var n=function(){a.dropup().disappear((function(){a.system().broadcastOn(["dropupDismissed"],{})}))},r={label:"The first group",scrollable:!1,items:[tl("back",(function(){t.selection.collapse(),a.exit()}),{},t)]},o={label:"Back to read only",scrollable:!1,items:[tl("readonly-back",(function(){c(m,p,h,!0)}),{},t)]},s=zh(a,t),u=function(t,e){var n=jh(t),r={};return at(n,(function(t){var n=!A(r,t)&&A(e,t)&&e[t].isSupported()?[e[t].sketch()]:[];return r[t]=!0,n}))}(t,s),f={label:"The extra group",scrollable:!1,items:[]},h=fo([{label:"the action group",scrollable:!0,items:u},f]),p=fo([{label:"The read only mode group",scrollable:!0,items:[]},f]),m=fo({backToMask:[r],backToReadOnly:[o]});!function(t,e){var n=w(e.formatter.get());Q(n,(function(n){e.formatter.formatChanged(n,(function(e){Pg(t,n,e)}))})),Q(["ul","ol"],(function(n){e.selection.selectorChanged(n,(function(e,r){Pg(t,n,e)}))}))}(a,t)})),t.on("remove",(function(){a.exit()})),t.on("detach",(function(){var t,e;t=a.system(),e=xe(t.element()),Q(e,(function(e){t.getByDom(e).each(ze)})),je(t.element()),a.system().destroy()})),{iframeContainer:a.socket().element().dom(),editorContainer:a.element().dom()}}}};yo.add("mobile",Lg)}(window)}).call(this,n("yLpj"))},"jfS+":function(t,e,n){"use strict";var r=n("endd");function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},"kVK+":function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?o-1:0,d=n?-1:1,h=t[e+f];for(f+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+t[e+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,o),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;t[n+h]=255&s,h+=p,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+h]=255&a,h+=p,a/=256,l-=8);t[n+h-p]|=128*m}},kzlf:function(t,e,n){(function(e){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=109)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(17),o=n(18),i=n(19),a=n(45),s=n(46),u=n(47),l=n(48),c=n(49),f=n(12),d=n(32),h=n(33),p=n(31),m=n(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:r.default,Format:o.default,Leaf:i.default,Embed:l.default,Scroll:a.default,Block:u.default,Inline:s.default,Text:c.default,Attributor:{Attribute:f.default,Class:d.default,Style:h.default,Store:p.default}};e.default=g},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=this;return e="[Parchment] "+e,(n=t.call(this,e)||this).message=e,n.name=n.constructor.name,n}return o(e,t),e}(Error);e.ParchmentError=i;var a,s={},u={},l={},c={};function f(t,e){var n;if(void 0===e&&(e=a.ANY),"string"==typeof t)n=c[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?n=c.block:t&a.LEVEL&a.INLINE&&(n=c.inline);else if(t instanceof HTMLElement){var r=(t.getAttribute("class")||"").split(/\s+/);for(var o in r)if(n=u[r[o]])break;n=n||l[t.tagName]}return null==n?null:e&a.LEVEL&n.scope&&e&a.TYPE&n.scope?n:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var n=f(t);if(null==n)throw new i("Unable to create "+t+" blot");var r=n,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:r.create(e);return new r(o,e)},e.find=function t(n,r){return void 0===r&&(r=!1),null==n?null:null!=n[e.DATA_KEY]?n[e.DATA_KEY].blot:r?t(n.parentNode,r):null},e.query=f,e.register=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(e.length>1)return e.map((function(e){return t(e)}));var r=e[0];if("string"!=typeof r.blotName&&"string"!=typeof r.attrName)throw new i("Invalid definition");if("abstract"===r.blotName)throw new i("Cannot register abstract class");if(c[r.blotName||r.attrName]=r,"string"==typeof r.keyName)s[r.keyName]=r;else if(null!=r.className&&(u[r.className]=r),null!=r.tagName){Array.isArray(r.tagName)?r.tagName=r.tagName.map((function(t){return t.toUpperCase()})):r.tagName=r.tagName.toUpperCase();var o=Array.isArray(r.tagName)?r.tagName:[r.tagName];o.forEach((function(t){null!=l[t]&&null!=r.className||(l[t]=r)}))}return r}},function(t,e,n){var r=n(51),o=n(11),i=n(3),a=n(20),s=String.fromCharCode(0),u=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};u.prototype.insert=function(t,e){var n={};return 0===t.length?this:(n.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n))},u.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},u.prototype.retain=function(t,e){if(t<=0)return this;var n={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(n.attributes=e),this.push(n)},u.prototype.push=function(t){var e=this.ops.length,n=this.ops[e-1];if(t=i(!0,{},t),"object"==typeof n){if("number"==typeof t.delete&&"number"==typeof n.delete)return this.ops[e-1]={delete:n.delete+t.delete},this;if("number"==typeof n.delete&&null!=t.insert&&(e-=1,"object"!=typeof(n=this.ops[e-1])))return this.ops.unshift(t),this;if(o(t.attributes,n.attributes)){if("string"==typeof t.insert&&"string"==typeof n.insert)return this.ops[e-1]={insert:n.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof n.retain)return this.ops[e-1]={retain:n.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},u.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},u.prototype.filter=function(t){return this.ops.filter(t)},u.prototype.forEach=function(t){this.ops.forEach(t)},u.prototype.map=function(t){return this.ops.map(t)},u.prototype.partition=function(t){var e=[],n=[];return this.forEach((function(r){(t(r)?e:n).push(r)})),[e,n]},u.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},u.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},u.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},u.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var n=[],r=a.iterator(this.ops),o=0;o<e&&r.hasNext();){var i;o<t?i=r.next(t-o):(i=r.next(e-o),n.push(i)),o+=a.length(i)}return new u(n)},u.prototype.compose=function(t){var e=a.iterator(this.ops),n=a.iterator(t.ops),r=[],i=n.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var s=i.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),r.push(e.next());i.retain-s>0&&n.next(i.retain-s)}for(var l=new u(r);e.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===e.peekType())l.push(e.next());else{var c=Math.min(e.peekLength(),n.peekLength()),f=e.next(c),d=n.next(c);if("number"==typeof d.retain){var h={};"number"==typeof f.retain?h.retain=c:h.insert=f.insert;var p=a.attributes.compose(f.attributes,d.attributes,"number"==typeof f.retain);if(p&&(h.attributes=p),l.push(h),!n.hasNext()&&o(l.ops[l.ops.length-1],h)){var m=new u(e.rest());return l.concat(m).chop()}}else"number"==typeof d.delete&&"number"==typeof f.retain&&l.push(d)}return l.chop()},u.prototype.concat=function(t){var e=new u(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},u.prototype.diff=function(t,e){if(this.ops===t.ops)return new u;var n=[this,t].map((function(e){return e.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),i=new u,l=r(n[0],n[1],e),c=a.iterator(this.ops),f=a.iterator(t.ops);return l.forEach((function(t){for(var e=t[1].length;e>0;){var n=0;switch(t[0]){case r.INSERT:n=Math.min(f.peekLength(),e),i.push(f.next(n));break;case r.DELETE:n=Math.min(e,c.peekLength()),c.next(n),i.delete(n);break;case r.EQUAL:n=Math.min(c.peekLength(),f.peekLength(),e);var s=c.next(n),u=f.next(n);o(s.insert,u.insert)?i.retain(n,a.attributes.diff(s.attributes,u.attributes)):i.push(u).delete(n)}e-=n}})),i.chop()},u.prototype.eachLine=function(t,e){e=e||"\n";for(var n=a.iterator(this.ops),r=new u,o=0;n.hasNext();){if("insert"!==n.peekType())return;var i=n.peek(),s=a.length(i)-n.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(e,s)-s:-1;if(l<0)r.push(n.next());else if(l>0)r.push(n.next(l));else{if(!1===t(r,n.next(1).attributes||{},o))return;o+=1,r=new u}}r.length()>0&&t(r,{},o)},u.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var n=a.iterator(this.ops),r=a.iterator(t.ops),o=new u;n.hasNext()||r.hasNext();)if("insert"!==n.peekType()||!e&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{var i=Math.min(n.peekLength(),r.peekLength()),s=n.next(i),l=r.next(i);if(s.delete)continue;l.delete?o.push(l):o.retain(i,a.attributes.transform(s.attributes,l.attributes,e))}else o.retain(a.length(n.next()));return o.chop()},u.prototype.transformPosition=function(t,e){e=!!e;for(var n=a.iterator(this.ops),r=0;n.hasNext()&&r<=t;){var o=n.peekLength(),i=n.peekType();n.next(),"delete"!==i?("insert"===i&&(r<t||!e)&&(t+=o),r+=o):t-=Math.min(o,t-r)}return t},t.exports=u},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===r.call(t)},s=function(t){if(!t||"[object Object]"!==r.call(t))return!1;var e,o=n.call(t,"constructor"),i=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!o&&!i)return!1;for(e in t);return void 0===e||n.call(t,e)},u=function(t,e){o&&"__proto__"===e.name?o(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,e){if("__proto__"===e){if(!n.call(t,e))return;if(i)return i(t,e).value}return t[e]};t.exports=function t(){var e,n,r,o,i,c,f=arguments[0],d=1,h=arguments.length,p=!1;for("boolean"==typeof f&&(p=f,f=arguments[1]||{},d=2),(null==f||"object"!=typeof f&&"function"!=typeof f)&&(f={});d<h;++d)if(null!=(e=arguments[d]))for(n in e)r=l(f,n),f!==(o=l(e,n))&&(p&&o&&(s(o)||(i=a(o)))?(i?(i=!1,c=r&&a(r)?r:[]):c=r&&s(r)?r:{},u(f,{name:n,newValue:t(p,c,o)})):void 0!==o&&u(f,{name:n,newValue:o}));return f}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=f(n(3)),a=f(n(2)),s=f(n(0)),u=f(n(16)),l=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),r(e,[{key:"attach",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var n=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,e)}},{key:"formatAt",value:function(t,e,n,r){this.format(n,r)}},{key:"insertAt",value:function(t,n,r){if("string"==typeof n&&n.endsWith("\n")){var i=s.default.create(g.blotName);this.parent.insertBefore(i,0===t?this:this.next),i.insertAt(0,n.slice(0,-1))}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r)}}]),e}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var g=function(t){function e(t){d(this,e);var n=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.cache={},n}return p(e,t),r(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),v(e))}),new a.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),this.cache={}}},{key:"formatAt",value:function(t,n,r,i){n<=0||(s.default.query(r,s.default.Scope.BLOCK)?t+n===this.length()&&this.format(r,i):o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(n,this.length()-t-1),r,i),this.cache={})}},{key:"insertAt",value:function(t,n,r){if(null!=r)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);if(0!==n.length){var i=n.split("\n"),a=i.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;i.reduce((function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,n){var r=this.children.head;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n),r instanceof u.default&&r.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,n){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,n),this.cache={}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===t||t>=this.length()-1)){var r=this.clone();return 0===t?(this.parent.insertBefore(r,this),this):(this.parent.insertBefore(r,this.next),r)}var i=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,n);return this.cache={},i}}]),e}(s.default.Block);function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,i.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:v(t.parent,e))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[l.default,s.default.Embed,c.default],e.bubbleFormats=v,e.BlockEmbed=m,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(50);var a=g(n(2)),s=g(n(14)),u=g(n(8)),l=g(n(9)),c=g(n(0)),f=n(15),d=g(f),h=g(n(3)),p=g(n(10)),m=g(n(34));function g(t){return t&&t.__esModule?t:{default:t}}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=(0,p.default)("quill"),w=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(y(this,t),this.options=x(e,r),this.container=this.options.container,null==this.container)return b.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new u.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new d.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(u.default.events.EDITOR_CHANGE,(function(t){t===u.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(u.default.events.SCROLL_UPDATE,(function(t,e){var r=n.selection.lastRange,o=r&&0===r.length?r.index:void 0;_.call(n,(function(){return n.editor.update(null,e,o)}),t)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),p.default.level(t)}},{key:"find",value:function(t){return t.__quill||c.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&b.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var o=t.attrName||t.blotName;"string"==typeof o?this.register("formats/"+o,t,e):Object.keys(t).forEach((function(r){n.register(r,t[r],e)}))}else null==this.imports[t]||r||b.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?c.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),i(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var n=t;(t=document.createElement("div")).classList.add(n)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,n){var r=this,i=k(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],_.call(this,(function(){return r.editor.deleteText(t,e)}),n,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;return _.call(this,(function(){var r=n.getSelection(!0),o=new a.default;if(null==r)return o;if(c.default.query(t,c.default.Scope.BLOCK))o=n.editor.formatLine(r.index,r.length,v({},t,e));else{if(0===r.length)return n.selection.format(t,e),o;o=n.editor.formatText(r.index,r.length,v({},t,e))}return n.setSelection(r,u.default.sources.SILENT),o}),r)}},{key:"formatLine",value:function(t,e,n,r,i){var a,s=this,u=k(t,e,n,r,i),l=o(u,4);return t=l[0],e=l[1],a=l[2],i=l[3],_.call(this,(function(){return s.editor.formatLine(t,e,a)}),i,t,0)}},{key:"formatText",value:function(t,e,n,r,i){var a,s=this,u=k(t,e,n,r,i),l=o(u,4);return t=l[0],e=l[1],a=l[2],i=l[3],_.call(this,(function(){return s.editor.formatText(t,e,a)}),i,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=k(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,n=k(t,e),r=o(n,2);return t=r[0],e=r[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return _.call(this,(function(){return o.editor.insertEmbed(e,n,r)}),i,e)}},{key:"insertText",value:function(t,e,n,r,i){var a,s=this,u=k(t,0,n,r,i),l=o(u,4);return t=l[0],a=l[2],i=l[3],_.call(this,(function(){return s.editor.insertText(t,e,a)}),i,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,n){this.clipboard.dangerouslyPasteHTML(t,e,n)}},{key:"removeFormat",value:function(t,e,n){var r=this,i=k(t,e,n),a=o(i,4);return t=a[0],e=a[1],n=a[3],_.call(this,(function(){return r.editor.removeFormat(t,e)}),n,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return _.call(this,(function(){t=new a.default(t);var n=e.getLength(),r=e.editor.deleteText(0,n),o=e.editor.applyDelta(t),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),o.delete(1)),r.compose(o)}),n)}},{key:"setSelection",value:function(e,n,r){if(null==e)this.selection.setRange(null,n||t.sources.API);else{var i=k(e,n,r),a=o(i,4);e=a[0],n=a[1],r=a[3],this.selection.setRange(new f.Range(e,n),r),r!==u.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API,n=(new a.default).insert(t);return this.setContents(n,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default.sources.API;return _.call(this,(function(){return t=new a.default(t),e.editor.applyDelta(t,n)}),n,!0)}}]),t}();function x(t,e){if((e=(0,h.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==w.DEFAULTS.theme){if(e.theme=w.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=m.default;var n=(0,h.default)(!0,{},e.theme.DEFAULTS);[n,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var r=Object.keys(n.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var n=w.import("modules/"+e);return null==n?b.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=n.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,h.default)(!0,{},w.DEFAULTS,{modules:r},n,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,n){return e.modules[n]&&(t[n]=e.modules[n]),t}),{}),e}function _(t,e,n,r){if(this.options.strict&&!this.isEnabled()&&e===u.default.sources.USER)return new a.default;var o=null==n?null:this.getSelection(),i=this.editor.delta,s=t();if(null!=o&&(!0===n&&(n=o.index),null==r?o=C(o,s,e):0!==r&&(o=C(o,n,r,e)),this.setSelection(o,u.default.sources.SILENT)),s.length()>0){var l,c,f=[u.default.events.TEXT_CHANGE,s,i,e];(l=this.emitter).emit.apply(l,[u.default.events.EDITOR_CHANGE].concat(f)),e!==u.default.sources.SILENT&&(c=this.emitter).emit.apply(c,f)}return s}function k(t,e,n,o,i){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(i=o,o=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(i=o,o=n,n=e,e=0),"object"===(void 0===n?"undefined":r(n))?(a=n,i=o):"string"==typeof n&&(null!=o?a[n]=o:i=n),[t,e,a,i=i||u.default.sources.API]}function C(t,e,n,r){if(null==t)return null;var i=void 0,s=void 0;if(e instanceof a.default){var l=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,r!==u.default.sources.USER)})),c=o(l,2);i=c[0],s=c[1]}else{var d=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&r===u.default.sources.USER?t:n>=0?t+n:Math.max(e,t+n)})),h=o(d,2);i=h[0],s=h[1]}return new f.Range(i,s-i)}w.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},w.events=u.default.events,w.sources=u.default.sources,w.version="1.3.7",w.imports={delta:a.default,parchment:c.default,"core/module":l.default,"core/theme":m.default},e.expandConfig=x,e.overload=k,e.default=w},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(7)),a=s(n(0));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"formatAt",value:function(t,n,r,i){if(e.compare(this.statics.blotName,r)<0&&a.default.query(r,a.default.Scope.BLOT)){var s=this.isolate(t,n);i&&s.wrap(r,i)}else o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,i)}},{key:"optimize",value:function(t){if(o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(t,n){var r=e.order.indexOf(t),o=e.order.indexOf(n);return r>=0||o>=0?r-o:t===n?0:t<n?-1:1}}]),e}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,i.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(0);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default.Text);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=a(n(54));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var n;t.__quill&&t.__quill.emitter&&(n=t.__quill.emitter).handleDOM.apply(n,e)}))}))}));var u=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",s.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"emit",value:function(){s.log.apply(s,arguments),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.listeners[t.type]||[]).forEach((function(e){var r=e.node,o=e.handler;(t.target===r||r.contains(t.target))&&o.apply(void 0,[t].concat(n))}))}},{key:"listenDOM",value:function(t,e,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:n})}}]),e}(i.default);u.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},u.sources={API:"api",SILENT:"silent",USER:"user"},e.default=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.quill=e,this.options=n};o.DEFAULTS={},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["error","warn","log","info"],o="warn";function i(t){if(r.indexOf(t)<=r.indexOf(o)){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(e=console)[t].apply(e,i)}}function a(t){return r.reduce((function(e,n){return e[n]=i.bind(console,n,t),e}),{})}i.level=a.level=function(t){o=t},e.default=a},function(t,e,n){var r=Array.prototype.slice,o=n(52),i=n(53),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var l,c;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(l=0;l<t.length;l++)if(t[l]!==e[l])return!1;return!0}try{var f=o(t),d=o(e)}catch(t){return!1}if(f.length!=d.length)return!1;for(f.sort(),d.sort(),l=f.length-1;l>=0;l--)if(f[l]!=d[l])return!1;for(l=f.length-1;l>=0;l--)if(c=f[l],!a(t[c],e[c],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null==t}function u(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t,e,n){void 0===n&&(n={}),this.attrName=t,this.keyName=e;var o=r.Scope.TYPE&r.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&r.Scope.LEVEL|o:this.scope=r.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=r.query(t,r.Scope.BLOT&(this.scope|r.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=f(n(2)),s=f(n(0)),u=f(n(4)),l=f(n(6)),c=f(n(7));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),e}(l.default);m.blotName="code",m.tagName="CODE";var g=function(t){function e(){return d(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,t),o(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,n){return e.insert(n).insert("\n",t.formats())}),new a.default)}},{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n){var o=this.descendant(c.default,this.length()-1),a=r(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}},{key:"formatAt",value:function(t,n,r,o){if(0!==n&&null!=s.default.query(r,s.default.Scope.BLOCK)&&(r!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(t);if(!(i<0||i>=t+n)){var a=this.newlineIndex(t,!0)+1,u=i-a+1,l=this.isolate(a,u),c=l.next;l.format(r,o),c instanceof e&&c.formatAt(0,t-a+n-u,r,o)}}}},{key:"insertAt",value:function(t,e,n){if(null==n){var o=this.descendant(c.default,t),i=r(o,2),a=i[0],s=i[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var n=this.domNode.textContent.slice(t).indexOf("\n");return n>-1?t+n:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(t),n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),e}(u.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",e.Code=m,e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=v(n(2)),s=v(n(20)),u=v(n(0)),l=v(n(13)),c=v(n(24)),f=n(4),d=v(f),h=v(n(16)),p=v(n(21)),m=v(n(11)),g=v(n(3));function v(t){return t&&t.__esModule?t:{default:t}}var y=/^[ -~]*$/,b=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return i(t,[{key:"applyDelta",value:function(t){var e=this,n=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var n=(0,p.default)(e.attributes);return delete n.image,t.insert({image:e.attributes.image},n)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,p.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var r=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(r,e.attributes)}return t.push(e)}),new a.default)}(t)).reduce((function(t,a){var l=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&n&&(n=!1,h=h.slice(0,-1)),t>=i&&!h.endsWith("\n")&&(n=!0),e.scroll.insertAt(t,h);var p=e.scroll.line(t),m=o(p,2),v=m[0],y=m[1],b=(0,g.default)({},(0,f.bubbleFormats)(v));if(v instanceof d.default){var w=v.descendant(u.default.Leaf,y),x=o(w,1)[0];b=(0,g.default)(b,(0,f.bubbleFormats)(x))}c=s.default.attributes.diff(b,c)||{}}else if("object"===r(a.insert)){var _=Object.keys(a.insert)[0];if(null==_)return t;e.scroll.insertAt(t,_,a.insert[_])}i+=l}return Object.keys(c).forEach((function(n){e.scroll.formatAt(t,l,n,c[n])})),t+l}),0),t.reduce((function(t,n){return"number"==typeof n.delete?(e.scroll.deleteAt(t,n.delete),t):t+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(r).forEach((function(o){if(null==n.scroll.whitelist||n.scroll.whitelist[o]){var i=n.scroll.lines(t,Math.max(e,1)),a=e;i.forEach((function(e){var i=e.length();if(e instanceof l.default){var s=t-e.offset(n.scroll),u=e.newlineIndex(s+a)-s+1;e.formatAt(s,u,o,r[o])}else e.format(o,r[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"formatText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e,o,r[o])})),this.update((new a.default).retain(t).retain(e,(0,p.default)(r)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=[];0===e?this.scroll.path(t).forEach((function(t){var e=o(t,1)[0];e instanceof d.default?n.push(e):e instanceof u.default.Leaf&&r.push(e)})):(n=this.scroll.lines(t,e),r=this.scroll.descendants(u.default.Leaf,t,e));var i=[n,r].map((function(t){if(0===t.length)return{};for(var e=(0,f.bubbleFormats)(t.shift());Object.keys(e).length>0;){var n=t.shift();if(null==n)return e;e=w((0,f.bubbleFormats)(n),e)}return e}));return g.default.apply(g.default,i)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,n){return this.scroll.insertAt(t,e,n),this.update((new a.default).retain(t).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},e,n)))}},{key:"insertText",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(r).forEach((function(o){n.scroll.formatAt(t,e.length,o,r[o])})),this.update((new a.default).retain(t).insert(e,(0,p.default)(r)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===d.default.blotName&&!(t.children.length>1)&&t.children.head instanceof h.default}},{key:"removeFormat",value:function(t,e){var n=this.getText(t,e),r=this.scroll.line(t+e),i=o(r,2),s=i[0],u=i[1],c=0,f=new a.default;null!=s&&(c=s instanceof l.default?s.newlineIndex(u)-u+1:s.length()-u,f=s.delta().slice(u,u+c-1).insert("\n"));var d=this.getContents(t,e+c).diff((new a.default).insert(n).concat(f)),h=(new a.default).retain(t).concat(d);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(y)&&u.default.find(e[0].target)){var o=u.default.find(e[0].target),i=(0,f.bubbleFormats)(o),s=o.offset(this.scroll),l=e[0].oldValue.replace(c.default.CONTENTS,""),d=(new a.default).insert(l),h=(new a.default).insert(o.value()),p=(new a.default).retain(s).concat(d.diff(h,n));t=p.reduce((function(t,e){return e.insert?t.insert(e.insert,i):t.push(e)}),new a.default),this.delta=r.compose(t)}else this.delta=this.getDelta(),t&&(0,m.default)(r.compose(t),this.delta)||(t=r.diff(this.delta,n));return t}}]),t}();function w(t,e){return Object.keys(e).reduce((function(n,r){return null==t[r]||(e[r]===t[r]?n[r]=e[r]:Array.isArray(e[r])?e[r].indexOf(t[r])<0&&(n[r]=e[r].concat([t[r]])):n[r]=[e[r],t[r]]),n}),{})}e.default=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=l(n(0)),a=l(n(21)),s=l(n(11)),u=l(n(8));function l(t){return t&&t.__esModule?t:{default:t}}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=(0,l(n(10)).default)("quill:selection"),h=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.index=e,this.length=n},p=function(){function t(e,n){var r=this;f(this,t),this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){r.mouseDown||setTimeout(r.update.bind(r,u.default.sources.USER),1)})),this.emitter.on(u.default.events.EDITOR_CHANGE,(function(t,e){t===u.default.events.TEXT_CHANGE&&e.length()>0&&r.update(u.default.sources.SILENT)})),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,(function(){if(r.hasFocus()){var t=r.getNativeRange();null!=t&&t.start.node!==r.cursor.textNode&&r.emitter.once(u.default.events.SCROLL_UPDATE,(function(){try{r.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var n=e.range,o=n.startNode,i=n.startOffset,a=n.endNode,s=n.endOffset;r.setNativeRange(o,i,a,s)}})),this.update(u.default.sources.SILENT)}return o(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(u.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!i.default.query(t,i.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=i.default.find(n.start.node,!1);if(null==r)return;if(r instanceof i.default.Leaf){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;var o=void 0,i=this.scroll.leaf(t),a=r(i,2),s=a[0],u=a[1];if(null==s)return null;var l=s.position(u,!0),c=r(l,2);o=c[0],u=c[1];var f=document.createRange();if(e>0){f.setStart(o,u);var d=this.scroll.leaf(t+e),h=r(d,2);if(s=h[0],u=h[1],null==s)return null;var p=s.position(u,!0),m=r(p,2);return o=m[0],u=m[1],f.setEnd(o,u),f.getBoundingClientRect()}var g="left",v=void 0;return o instanceof Text?(u<o.data.length?(f.setStart(o,u),f.setEnd(o,u+1)):(f.setStart(o,u-1),f.setEnd(o,u),g="right"),v=f.getBoundingClientRect()):(v=s.domNode.getBoundingClientRect(),u>0&&(g="right")),{bottom:v.top+v.height,height:v.height,left:v[g],right:v[g],top:v.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var n=this.normalizeNative(e);return d.info("getNativeRange",n),n}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,n=[[t.start.node,t.start.offset]];t.native.collapsed||n.push([t.end.node,t.end.offset]);var o=n.map((function(t){var n=r(t,2),o=n[0],a=n[1],s=i.default.find(o,!0),u=s.offset(e.scroll);return 0===a?u:s instanceof i.default.Container?u+s.length():u+s.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(o)));return new h(s,a-s)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,n=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>n)e=e.childNodes[n],n=0;else{if(e.childNodes.length!==n)break;n=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=n})),e}},{key:"rangeToNative",value:function(t){var e=this,n=t.collapsed?[t.index]:[t.index,t.index+t.length],o=[],i=this.scroll.length();return n.forEach((function(t,n){t=Math.min(i-1,t);var a,s=e.scroll.leaf(t),u=r(s,2),l=u[0],c=u[1],f=l.position(c,0!==n),d=r(f,2);a=d[0],c=d[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var n=this.getBounds(e.index,e.length);if(null!=n){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(e.index,o)),a=r(i,1)[0],s=a;if(e.length>0){var u=this.scroll.line(Math.min(e.index+e.length,o));s=r(u,1)[0]}if(null!=a&&null!=s){var l=t.getBoundingClientRect();n.top<l.top?t.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(t.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(d.info("setNativeRange",t,e,n,r),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=n.parentNode){var i=document.getSelection();if(null!=i)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||t!==a.startContainer||e!==a.startOffset||n!==a.endContainer||r!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==n.tagName&&(r=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(n,r),i.removeAllRanges(),i.addRange(s)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e&&(n=e,e=!1),d.info("setRange",t),null!=t){var r=this.rangeToNative(t);this.setNativeRange.apply(this,c(r).concat([e]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.sources.USER,e=this.lastRange,n=this.getRange(),o=r(n,2),i=o[0],l=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var c;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var f,d=[u.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];(c=this.emitter).emit.apply(c,[u.default.events.EDITOR_CHANGE].concat(d)),t!==u.default.sources.SILENT&&(f=this.emitter).emit.apply(f,d)}}}]),t}();function m(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=h,e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"insertInto",value:function(t,n){0===t.children.length?function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default.Embed);u.blotName="break",u.tagName="BR",e.default=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(44),a=n(30),s=n(1),u=function(t){function e(e){var n=t.call(this,e)||this;return n.build(),n}return o(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var n=l(e);t.insertBefore(n,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,n){t.deleteAt(e,n)}))},e.prototype.descendant=function(t,n){var r=this.children.find(n),o=r[0],i=r[1];return null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t?[o,i]:o instanceof e?o.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=Number.MAX_VALUE);var o=[],i=r;return this.children.forEachAt(n,r,(function(n,r,a){(null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t)&&o.push(n),n instanceof e&&(o=o.concat(n.descendants(t,r,i))),i-=a})),o},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,n,r){this.children.forEachAt(t,e,(function(t,e,o){t.formatAt(e,o,n,r)}))},e.prototype.insertAt=function(t,e,n){var r=this.children.find(t),o=r[0],i=r[1];if(o)o.insertAt(i,e,n);else{var a=null==n?s.create("text",e):s.create(e,n);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(n){t.insertBefore(n,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(e)}else this.remove()},e.prototype.path=function(t,n){void 0===n&&(n=!1);var r=this.children.find(t,n),o=r[0],i=r[1],a=[[this,t]];return o instanceof e?a.concat(o.path(i,n)):(null!=o&&a.push([o,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(n){n instanceof e&&n.moveChildren(this),t.prototype.replace.call(this,n)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(t,this.length(),(function(t,r,o){t=t.split(r,e),n.appendChild(t)})),n},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var n=this,r=[],o=[];t.forEach((function(t){t.target===n.domNode&&"childList"===t.type&&(r.push.apply(r,t.addedNodes),o.push.apply(o,t.removedNodes))})),o.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==n.domNode||e.detach())}})),r.filter((function(t){return t.parentNode==n.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var r=l(t);r.next==e&&null!=r.next||(null!=r.parent&&r.parent.removeChild(n),n.insertBefore(r,e||void 0))}))},e}(a.default);function l(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(n){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n(31),s=n(17),u=n(1),l=function(t){function e(e){var n=t.call(this,e)||this;return n.attributes=new a.default(n.domNode),n}return o(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var n=u.query(t);n instanceof i.default?this.attributes.attribute(n,e):e&&(null==n||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,n){var r=t.prototype.replaceWith.call(this,e,n);return this.attributes.copy(r),r},e.prototype.update=function(e,n){var r=this;t.prototype.update.call(this,e,n),e.some((function(t){return t.target===r.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(n,r){var o=t.prototype.wrap.call(this,n,r);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e}(s.default);e.default=l},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(30),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){var r=n(11),o=n(3),i={attributes:{compose:function(t,e,n){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var r=o(!0,{},e);for(var i in n||(r=Object.keys(r).reduce((function(t,e){return null!=r[e]&&(t[e]=r[e]),t}),{})),t)void 0!==t[i]&&void 0===e[i]&&(r[i]=t[i]);return Object.keys(r).length>0?r:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var n=Object.keys(t).concat(Object.keys(e)).reduce((function(n,o){return r(t[o],e[o])||(n[o]=void 0===e[o]?null:e[o]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(t,e,n){if("object"!=typeof t)return e;if("object"==typeof e){if(!n)return e;var r=Object.keys(e).reduce((function(n,r){return void 0===t[r]&&(n[r]=e[r]),n}),{});return Object.keys(r).length>0?r:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var n=this.offset,r=i.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var o={};return e.attributes&&(o.attributes=e.attributes),"number"==typeof e.retain?o.retain=t:"string"==typeof e.insert?o.insert=e.insert.substr(n,t):o.insert=e.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}return[]},t.exports=i},function(t,n){var r=function(){"use strict";function t(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(a,u,l,c,f){"object"==typeof u&&(l=u.depth,c=u.prototype,f=u.includeNonEnumerable,u=u.circular);var d=[],h=[],p=void 0!==e;return void 0===u&&(u=!0),void 0===l&&(l=1/0),function a(l,m){if(null===l)return null;if(0===m)return l;var g,v;if("object"!=typeof l)return l;if(t(l,n))g=new n;else if(t(l,r))g=new r;else if(t(l,o))g=new o((function(t,e){l.then((function(e){t(a(e,m-1))}),(function(t){e(a(t,m-1))}))}));else if(i.__isArray(l))g=[];else if(i.__isRegExp(l))g=new RegExp(l.source,s(l)),l.lastIndex&&(g.lastIndex=l.lastIndex);else if(i.__isDate(l))g=new Date(l.getTime());else{if(p&&e.isBuffer(l))return g=e.allocUnsafe?e.allocUnsafe(l.length):new e(l.length),l.copy(g),g;t(l,Error)?g=Object.create(l):void 0===c?(v=Object.getPrototypeOf(l),g=Object.create(v)):(g=Object.create(c),v=c)}if(u){var y=d.indexOf(l);if(-1!=y)return h[y];d.push(l),h.push(g)}for(var b in t(l,n)&&l.forEach((function(t,e){var n=a(e,m-1),r=a(t,m-1);g.set(n,r)})),t(l,r)&&l.forEach((function(t){var e=a(t,m-1);g.add(e)})),l){var w;v&&(w=Object.getOwnPropertyDescriptor(v,b)),w&&null==w.set||(g[b]=a(l[b],m-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(b=0;b<x.length;b++){var _=x[b];(!(C=Object.getOwnPropertyDescriptor(l,_))||C.enumerable||f)&&(g[_]=a(l[_],m-1),C.enumerable||Object.defineProperty(g,_,{enumerable:!1}))}}if(f){var k=Object.getOwnPropertyNames(l);for(b=0;b<k.length;b++){var C,S=k[b];(C=Object.getOwnPropertyDescriptor(l,S))&&C.enumerable||(g[S]=a(l[S],m-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(a,l)}function a(t){return Object.prototype.toString.call(t)}function s(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=a,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===a(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===a(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===a(t)},i.__getRegExpFlags=s,i}();"object"==typeof t&&t.exports&&(t.exports=r)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=h(n(0)),s=h(n(8)),u=n(4),l=h(u),c=h(n(16)),f=h(n(13)),d=h(n(25));function h(t){return t&&t.__esModule?t:{default:t}}function p(t){return t instanceof l.default||t instanceof u.BlockEmbed}var m=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.emitter=n.emitter,Array.isArray(n.whitelist)&&(r.whitelist=n.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),r.domNode.addEventListener("DOMNodeInserted",(function(){})),r.optimize(),r.enable(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,n){var o=this.line(t),a=r(o,2),s=a[0],l=a[1],d=this.line(t+n),h=r(d,1)[0];if(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,n),null!=h&&s!==h&&l>0){if(s instanceof u.BlockEmbed||h instanceof u.BlockEmbed)return void this.optimize();if(s instanceof f.default){var p=s.newlineIndex(s.length(),!0);if(p>-1&&(s=s.split(p+1))===h)return void this.optimize()}else if(h instanceof f.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var g=h.children.head instanceof c.default?null:h.children.head;s.moveChildren(h,g),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,n,r,o){(null==this.whitelist||this.whitelist[r])&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,n,r,o),this.optimize())}},{key:"insertAt",value:function(t,n,r){if(null==r||null==this.whitelist||this.whitelist[n]){if(t>=this.length())if(null==r||null==a.default.query(n,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==r&&n.endsWith("\n")&&(n=n.slice(0,-1)),o.insertAt(0,n,r)}else{var s=a.default.create(n,r);this.appendChild(s)}else i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,n,r);this.optimize()}}},{key:"insertBefore",value:function(t,n){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var r=a.default.create(this.statics.defaultChild);r.appendChild(t),t=r}i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(p,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function t(e,n,r){var o=[],i=r;return e.children.forEachAt(n,r,(function(e,n,r){p(e)?o.push(e):e instanceof a.default.Container&&(o=o.concat(t(e,n,i))),i-=r})),o};return n(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,n),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,n))}},{key:"path",value:function(t){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof t&&(n=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,t),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,t)}}}]),e}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[l.default,u.BlockEmbed,d.default],e.default=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=m(n(21)),s=m(n(11)),u=m(n(3)),l=m(n(2)),c=m(n(20)),f=m(n(0)),d=m(n(5)),h=m(n(10)),p=m(n(9));function m(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=(0,h.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.bindings={},Object.keys(r.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&r.options.bindings[e]&&r.addBinding(r.options.bindings[e])})),r.addBinding({key:e.keys.ENTER,shiftKey:null},C),r.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},x),r.addBinding({key:e.keys.DELETE},{collapsed:!0},_)):(r.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),r.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},_)),r.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},k),r.addBinding({key:e.keys.DELETE},{collapsed:!1},k),r.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),r.listen(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"match",value:function(t,e){return e=E(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!e[n]!==t[n]&&null!==e[n]}))&&e.key===(t.which||t.keyCode)}}]),i(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=E(t);if(null==r||null==r.key)return v.warn("Attempted to add invalid keyboard binding",r);"function"==typeof e&&(e={handler:e}),"function"==typeof n&&(n={handler:n}),r=(0,u.default)(r,e,n),this.bindings[r.key]=this.bindings[r.key]||[],this.bindings[r.key].push(r)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var i=n.which||n.keyCode,a=(t.bindings[i]||[]).filter((function(t){return e.match(n,t)}));if(0!==a.length){var u=t.quill.getSelection();if(null!=u&&t.quill.hasFocus()){var l=t.quill.getLine(u.index),c=o(l,2),d=c[0],h=c[1],p=t.quill.getLeaf(u.index),m=o(p,2),g=m[0],v=m[1],y=0===u.length?[g,v]:t.quill.getLeaf(u.index+u.length),b=o(y,2),w=b[0],x=b[1],_=g instanceof f.default.Text?g.value().slice(0,v):"",k=w instanceof f.default.Text?w.value().slice(x):"",C={collapsed:0===u.length,empty:0===u.length&&d.length()<=1,format:t.quill.getFormat(u),offset:h,prefix:_,suffix:k};a.some((function(e){if(null!=e.collapsed&&e.collapsed!==C.collapsed)return!1;if(null!=e.empty&&e.empty!==C.empty)return!1;if(null!=e.offset&&e.offset!==C.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==C.format[t]})))return!1}else if("object"===r(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=C.format[t]:!1===e.format[t]?null==C.format[t]:(0,s.default)(e.format[t],C.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(C.prefix)||null!=e.suffix&&!e.suffix.test(C.suffix)||!0===e.handler.call(t,u,C))}))&&n.preventDefault()}}}}))}}]),e}(p.default);function w(t,e){var n,r=t===b.keys.LEFT?"prefix":"suffix";return g(n={key:t,shiftKey:e,altKey:null},r,/^$/),g(n,"handler",(function(n){var r=n.index;t===b.keys.RIGHT&&(r+=n.length+1);var i=this.quill.getLeaf(r);return!(o(i,1)[0]instanceof f.default.Embed&&(t===b.keys.LEFT?e?this.quill.setSelection(n.index-1,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index-1,d.default.sources.USER):e?this.quill.setSelection(n.index,n.length+1,d.default.sources.USER):this.quill.setSelection(n.index+n.length+1,d.default.sources.USER),1))})),n}function x(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var n=this.quill.getLine(t.index),r=o(n,1)[0],i={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=o(a,1)[0];if(null!=s&&s.length()>1){var u=r.formats(),l=this.quill.getFormat(t.index-1,1);i=c.default.attributes.diff(u,l)||{}}}var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-f,f,d.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index-f,f,i,d.default.sources.USER),this.quill.focus()}}function _(t,e){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-n)){var r={},i=0,a=this.quill.getLine(t.index),s=o(a,1)[0];if(e.offset>=s.length()-1){var u=this.quill.getLine(t.index+1),l=o(u,1)[0];if(l){var f=s.formats(),h=this.quill.getFormat(t.index,1);r=c.default.attributes.diff(f,h)||{},i=l.length()}}this.quill.deleteText(t.index,n,d.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(t.index+i-1,n,r,d.default.sources.USER)}}function k(t){var e=this.quill.getLines(t),n={};if(e.length>1){var r=e[0].formats(),o=e[e.length-1].formats();n=c.default.attributes.diff(o,r)||{}}this.quill.deleteText(t,d.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index,1,n,d.default.sources.USER),this.quill.setSelection(t.index,d.default.sources.SILENT),this.quill.focus()}function C(t,e){var n=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var r=Object.keys(e.format).reduce((function(t,n){return f.default.query(n,f.default.Scope.BLOCK)&&!Array.isArray(e.format[n])&&(t[n]=e.format[n]),t}),{});this.quill.insertText(t.index,"\n",r,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==r[t]&&(Array.isArray(e.format[t])||"link"!==t&&n.quill.format(t,e.format[t],d.default.sources.USER))}))}function S(t){return{key:b.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var n=f.default.query("code-block"),r=e.index,i=e.length,a=this.quill.scroll.descendant(n,r),s=o(a,2),u=s[0],l=s[1];if(null!=u){var c=this.quill.getIndex(u),h=u.newlineIndex(l,!0)+1,p=u.newlineIndex(c+l+i),m=u.domNode.textContent.slice(h,p).split("\n");l=0,m.forEach((function(e,o){t?(u.insertAt(h+l,n.TAB),l+=n.TAB.length,0===o?r+=n.TAB.length:i+=n.TAB.length):e.startsWith(n.TAB)&&(u.deleteAt(h+l,n.TAB.length),l-=n.TAB.length,0===o?r-=n.TAB.length:i-=n.TAB.length),l+=e.length+1})),this.quill.update(d.default.sources.USER),this.quill.setSelection(r,i,d.default.sources.SILENT)}}}}function T(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,n){this.quill.format(t,!n.format[t],d.default.sources.USER)}}}function E(t){if("string"==typeof t||"number"==typeof t)return E({key:t});if("object"===(void 0===t?"undefined":r(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=b.keys[t.key.toUpperCase()])t.key=b.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[y]=t.shortKey,delete t.shortKey),t}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:T("bold"),italic:T("italic"),underline:T("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":S(!0),"outdent code-block":S(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,d.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new l.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,d.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,d.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(0,u.default)({},r.formats(),{list:"checked"}),s=(new l.default).retain(t.index).insert("\n",a).retain(r.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var n=this.quill.getLine(t.index),r=o(n,2),i=r[0],a=r[1],s=(new l.default).retain(t.index).insert("\n",e.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,d.default.sources.USER),this.quill.setSelection(t.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var n=e.prefix.length,r=this.quill.getLine(t.index),i=o(r,2),a=i[0],s=i[1];if(s>n)return!0;var u=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":u="unchecked";break;case"[x]":u="checked";break;case"-":case"*":u="bullet";break;default:u="ordered"}this.quill.insertText(t.index," ",d.default.sources.USER),this.quill.history.cutoff();var c=(new l.default).retain(t.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:u});this.quill.updateContents(c,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,d.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),n=o(e,2),r=n[0],i=n[1],a=(new l.default).retain(t.index+r.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,d.default.sources.USER)}},"embed left":w(b.keys.LEFT,!1),"embed left shift":w(b.keys.LEFT,!0),"embed right":w(b.keys.RIGHT,!1),"embed right shift":w(b.keys.RIGHT,!0)}},e.default=b,e.SHORTKEY=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=u(n(0)),s=u(n(7));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.selection=n,r.textNode=document.createTextNode(e.CONTENTS),r.domNode.appendChild(r.textNode),r._length=0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,null,[{key:"value",value:function(){}}]),i(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,n){if(0!==this._length)return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);for(var r=this,i=0;null!=r&&r.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;null!=r&&(this._length=e.CONTENTS.length,r.optimize(),r.formatAt(i,e.CONTENTS.length,t,n),this._length=0)}},{key:"index",value:function(t,n){return t===this.textNode?0:o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,n=this.selection.getNativeRange(),o=void 0,i=void 0,u=void 0;if(null!=n&&n.start.node===t&&n.end.node===t){var l=[t,n.start.offset,n.end.offset];o=l[0],i=l[1],u=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var c=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=e.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var f=[i,u].map((function(t){return Math.max(0,Math.min(o.data.length,t-1))})),d=r(f,2);return i=d[0],u=d[1],{startNode:o,startOffset:i,endNode:o,endOffset:u}}}}},{key:"update",value:function(t,e){var n=this;if(t.some((function(t){return"characterData"===t.type&&t.target===n.textNode}))){var r=this.restore();r&&(e.range=r)}}},{key:"value",value:function(){return""}}]),e}(a.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(0)),o=n(4),i=a(o);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):n}}]),e}(a.default.Attributor.Style),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),f=new l("color","color",{scope:a.default.Scope.INLINE});e.ColorAttributor=l,e.ColorClass=c,e.ColorStyle=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){if(t!==this.statics.blotName||!n)return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),n.setAttribute("href",t),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return c(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);function c(t,e){var n=document.createElement("a");n.href=t;var r=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(r)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=l,e.sanitize=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(23)),a=s(n(107));function s(t){return t&&t.__esModule?t:{default:t}}var u=0;function l(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:n.togglePicker();break;case i.default.keys.ESCAPE:n.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",(function(){e.selectItem(n,!0)})),n.addEventListener("keydown",(function(t){switch(t.keyCode){case i.default.keys.ENTER:e.selectItem(n,!0),t.preventDefault();break;case i.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+u,u+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(n){var r=t.buildItem(n);e.appendChild(r),!0===n.selected&&t.selectItem(r)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":r(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),t}();e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=v(n(0)),o=v(n(5)),i=n(4),a=v(i),s=v(n(16)),u=v(n(25)),l=v(n(24)),c=v(n(35)),f=v(n(6)),d=v(n(22)),h=v(n(7)),p=v(n(55)),m=v(n(42)),g=v(n(23));function v(t){return t&&t.__esModule?t:{default:t}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":s.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":c.default,"blots/inline":f.default,"blots/scroll":d.default,"blots/text":h.default,"modules/clipboard":p.default,"modules/history":m.default,"modules/keyboard":g.default}),r.default.register(a.default,s.default,l.default,f.default,d.default,h.default),e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(t){this.domNode=t,this.domNode[r.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new r.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return r.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[r.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,n,o){var i=this.isolate(t,e);if(null!=r.query(n,r.Scope.BLOT)&&o)i.wrap(n,o);else if(null!=r.query(n,r.Scope.ATTRIBUTE)){var a=r.create(this.statics.scope);i.wrap(a),a.format(n,o)}},t.prototype.insertAt=function(t,e,n){var o=null==n?r.create("text",e):r.create(e,n),i=this.split(t);this.parent.insertBefore(o,i)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var n=null;t.children.insertBefore(this,e),null!=e&&(n=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==n||t.domNode.insertBefore(this.domNode,n),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var n=this.split(t);return n.split(e),n},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[r.DATA_KEY]&&delete this.domNode[r.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var n="string"==typeof t?r.create(t,e):t;return n.replace(this),n},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var n="string"==typeof t?r.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},t.blotName="abstract",t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(12),o=n(32),i=n(33),a=n(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=r.default.keys(this.domNode),n=o.default.keys(this.domNode),s=i.default.keys(this.domNode);e.concat(n).concat(s).forEach((function(e){var n=a.query(e,a.Scope.ATTRIBUTE);n instanceof r.default&&(t.attributes[n.attrName]=n)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(n){var r=e.attributes[n].value(e.domNode);t.format(n,r)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,n){return e[n]=t.attributes[n].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){i(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(i(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function i(t){var e=t.split("-"),n=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+n}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[i(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[i(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[i(this.keyName)];return this.canAdd(t,e)?e:""},e}(n(12).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=n,this.modules={}}return r(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();o.DEFAULTS={modules:{}},o.themes={default:o},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(0)),i=a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(t){n.contentNode.appendChild(t)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"index",value:function(t,n){return t===this.leftGuard?0:t===this.rightGuard?1:function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,n)}},{key:"restore",value:function(t){var e=void 0,n=void 0,r=t.data.split("\ufeff").join("");if(t===this.leftGuard)if(this.prev instanceof i.default){var a=this.prev.length();this.prev.insertAt(a,r),e={startNode:this.prev.domNode,startOffset:a+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof i.default?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(o.default.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data="\ufeff",e}},{key:"update",value:function(t,e){var n=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===n.leftGuard||t.target===n.rightGuard)){var r=n.restore(t.target);r&&(e.range=r)}}))}}]),e}(o.default.Embed);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new i.default.Attributor.Attribute("align","align",a),u=new i.default.Attributor.Class("align","ql-align",a),l=new i.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=u,e.AlignStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(26),s=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),u=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},s=new i.default.Attributor.Attribute("direction","dir",a),u=new i.default.Attributor.Class("direction","ql-direction",a),l=new i.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=u,e.DirectionStyle=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=(r=i)&&r.__esModule?r:{default:r};function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",l),f=new(function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"value",value:function(t){return function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(a.default.Attributor.Style))("font","font-family",l);e.FontStyle=f,e.FontClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,n){"use strict";t.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n(0)),i=a(n(5));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastRecorded=0,r.ignoreChange=!1,r.clear(),r.quill.on(i.default.events.EDITOR_CHANGE,(function(t,e,n,o){t!==i.default.events.TEXT_CHANGE||r.ignoreChange||(r.options.userOnly&&o!==i.default.sources.USER?r.transform(e):r.record(e,n))})),r.quill.keyboard.addBinding({key:"Z",shortKey:!0},r.undo.bind(r)),r.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},r.redo.bind(r)),/Win/i.test(navigator.platform)&&r.quill.keyboard.addBinding({key:"Y",shortKey:!0},r.redo.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var n=this.stack[t].pop();this.stack[e].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[t],i.default.sources.USER),this.ignoreChange=!1;var r=u(n[t]);this.quill.setSelection(r)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(e),r=Date.now();if(this.lastRecorded+this.options.delay>r&&this.stack.undo.length>0){var o=this.stack.undo.pop();n=n.compose(o.undo),t=o.redo.compose(t)}else this.lastRecorded=r;this.stack.undo.push({redo:t,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(a(n(9)).default);function u(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),n=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=o.default.query(t,o.default.Scope.BLOCK)})))}(t)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=s,e.getLastChangeIndex=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=h(n(3)),i=h(n(2)),a=h(n(8)),s=h(n(23)),u=h(n(34)),l=h(n(59)),c=h(n(60)),f=h(n(28)),d=h(n(61));function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b=[!1,"serif","monospace"],w=["1","2","3",!1],x=["small",!1,"large","huge"],_=function(t){function e(t,n){p(this,e);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return t.emitter.listenDOM("click",document.body,(function e(n){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==r.tooltip||r.tooltip.root.contains(n.target)||document.activeElement===r.tooltip.textbox||r.quill.hasFocus()||r.tooltip.hide(),null!=r.pickers&&r.pickers.forEach((function(t){t.container.contains(n.target)||t.close()}))})),r}return g(e,t),r(e,[{key:"addModule",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=e[n]))if("direction"===n)t.innerHTML=e[n][""]+e[n].rtl;else if("string"==typeof e[n])t.innerHTML=e[n];else{var r=t.value||"";null!=r&&e[n][r]&&(t.innerHTML=e[n][r])}}))}))}},{key:"buildPickers",value:function(t,e){var n=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&C(t,v),new c.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var n=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&C(t,y,"background"===n?"#ffffff":"#000000"),new l.default(t,e[n])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?C(t,b):t.classList.contains("ql-header")?C(t,w):t.classList.contains("ql-size")&&C(t,x)),new f.default(t)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(t){t.update()}))}))}}]),e}(u.default);_.DEFAULTS=(0,o.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var n=new FileReader;n.onload=function(n){var r=t.quill.getSelection(!0);t.quill.updateContents((new i.default).retain(r.index).delete(r.length).insert({image:n.target.result}),a.default.sources.USER),t.quill.setSelection(r.index+1,a.default.sources.SILENT),e.value=""},n.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var k=function(t){function e(t,n){p(this,e);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.textbox=r.root.querySelector('input[type="text"]'),r.listen(),r}return g(e,t),r(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){s.default.match(e,"enter")?(t.save(),e.preventDefault()):s.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var r=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,a.default.sources.USER)),this.quill.root.scrollTop=r;break;case"video":e=(t=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),n=e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!n)break;var o=this.quill.getSelection(!0);if(null!=o){var i=o.index+o.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),n,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",a.default.sources.USER),this.quill.setSelection(i+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(d.default);function C(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=document.createElement("option");e===n?r.setAttribute("selected","selected"):r.setAttribute("value",e),t.appendChild(r)}))}e.BaseTooltip=k,e.default=_},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,n=this.iterator();e=n();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,n=this.head;null!=n;){if(n===t)return e;e+=n.length(),n=n.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var n,r=this.iterator();n=r();){var o=n.length();if(t<o||e&&t===o&&(null==n.next||0!==n.next.length()))return[n,t];t-=o}return[null,0]},t.prototype.forEach=function(t){for(var e,n=this.iterator();e=n();)t(e)},t.prototype.forEachAt=function(t,e,n){if(!(e<=0))for(var r,o=this.find(t),i=o[0],a=t-o[1],s=this.iterator(i);(r=s())&&a<t+e;){var u=r.length();t>a?n(r,t-a,Math.min(e,a+u-t)):n(r,0,Math.min(u,t+e-a)),a+=u}},t.prototype.map=function(t){return this.reduce((function(e,n){return e.push(t(n)),e}),[])},t.prototype.reduce=function(t,e){for(var n,r=this.iterator();n=r();)e=t(e,n);return e},t}();e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=function(t){function e(e){var n=t.call(this,e)||this;return n.scroll=n,n.observer=new MutationObserver((function(t){n.update(t)})),n.observer.observe(n.domNode,s),n.attach(),n}return o(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,n){this.update(),0===e&&n===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,n)},e.prototype.formatAt=function(e,n,r,o){this.update(),t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){this.update(),t.prototype.insertAt.call(this,e,n,r)},e.prototype.optimize=function(e,n){var r=this;void 0===e&&(e=[]),void 0===n&&(n={}),t.prototype.optimize.call(this,n);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)e.push(o.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==r&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&s(t.parent))},u=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(u),t.optimize(n))},l=e,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach((function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=a.find(t,!1);s(e,!1),e instanceof i.default&&e.children.forEach((function(t){s(t,!1)}))}))):"attributes"===t.type&&s(e.prev)),s(e))})),this.children.forEach(u),o=(l=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)e.push(o.pop())}},e.prototype.update=function(e,n){var r=this;void 0===n&&(n={}),(e=e||this.observer.takeRecords()).map((function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==r&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(e,n)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(i.default);e.default=u},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){if(n.tagName!==e.tagName)return t.formats.call(this,n)},e.prototype.format=function(n,r){var o=this;n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):(this.children.forEach((function(t){t instanceof i.default||(t=t.wrap(e.blotName,!0)),o.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,n,r,o){null!=this.formats()[r]||a.query(r,a.Scope.ATTRIBUTE)?this.isolate(e,n).format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var o=this.next;o instanceof e&&o.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(t[n]!==e[n])return!1;return!0}(r,o.formats())&&(o.moveChildren(this),o.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(18),a=n(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(n){var r=a.query(e.blotName).tagName;if(n.tagName!==r)return t.formats.call(this,n)},e.prototype.format=function(n,r){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||r?t.prototype.format.call(this,n,r):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,n,r,o){null!=a.query(r,a.Scope.BLOCK)?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.insertAt=function(e,n,r){if(null==r||null!=a.query(n,a.Scope.INLINE))t.prototype.insertAt.call(this,e,n,r);else{var o=this.split(e),i=a.create(n,r);o.parent.insertBefore(i,o)}},e.prototype.update=function(e,n){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,n)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(i.default);e.default=s},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.formats=function(t){},e.prototype.format=function(e,n){t.prototype.formatAt.call(this,0,this.length(),e,n)},e.prototype.formatAt=function(e,n,r,o){0===e&&n===this.length()?this.format(r,o):t.prototype.formatAt.call(this,e,n,r,o)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(n(19).default);e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(19),a=n(1),s=function(t){function e(e){var n=t.call(this,e)||this;return n.text=n.statics.value(n.domNode),n}return o(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,n,r){null==r?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,n,r)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(n){t.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return void 0===e&&(e=!1),[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var n=a.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},e.prototype.update=function(t,e){var n=this;t.some((function(t){return"characterData"===t.type&&t.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(i.default);e.default=s},function(t,e,n){"use strict";var r=document.createElement("div");if(r.classList.toggle("test-class",!1),r.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:o.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var n=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>n.length)&&(e=n.length),e-=t.length;var r=n.indexOf(t,e);return-1!==r&&r===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),r=n.length>>>0,o=arguments[1],i=0;i<r;i++)if(e=n[i],t.call(o,e,i,n))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){function n(t,e,a){if(t==e)return t?[[0,t]]:[];(a<0||t.length<a)&&(a=null);var u=o(t,e),l=t.substring(0,u);u=i(t=t.substring(u),e=e.substring(u));var c=t.substring(t.length-u),f=function(t,e){var a;if(!t)return[[1,e]];if(!e)return[[-1,t]];var s=t.length>e.length?t:e,u=t.length>e.length?e:t,l=s.indexOf(u);if(-1!=l)return a=[[1,s.substring(0,l)],[0,u],[1,s.substring(l+u.length)]],t.length>e.length&&(a[0][0]=a[2][0]=-1),a;if(1==u.length)return[[-1,t],[1,e]];var c=function(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;function a(t,e,n){for(var r,a,s,u,l=t.substring(n,n+Math.floor(t.length/4)),c=-1,f="";-1!=(c=e.indexOf(l,c+1));){var d=o(t.substring(n),e.substring(c)),h=i(t.substring(0,n),e.substring(0,c));f.length<h+d&&(f=e.substring(c-h,c)+e.substring(c,c+d),r=t.substring(0,n-h),a=t.substring(n+d),s=e.substring(0,c-h),u=e.substring(c+d))}return 2*f.length>=t.length?[r,a,s,u,f]:null}var s,u,l,c,f,d=a(n,r,Math.ceil(n.length/4)),h=a(n,r,Math.ceil(n.length/2));if(!d&&!h)return null;s=h?d&&d[4].length>h[4].length?d:h:d,t.length>e.length?(u=s[0],l=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],u=s[2],l=s[3]);var p=s[4];return[u,l,c,f,p]}(t,e);if(c){var f=c[0],d=c[1],h=c[2],p=c[3],m=c[4],g=n(f,h),v=n(d,p);return g.concat([[0,m]],v)}return function(t,e){for(var n=t.length,o=e.length,i=Math.ceil((n+o)/2),a=i,s=2*i,u=new Array(s),l=new Array(s),c=0;c<s;c++)u[c]=-1,l[c]=-1;u[a+1]=0,l[a+1]=0;for(var f=n-o,d=f%2!=0,h=0,p=0,m=0,g=0,v=0;v<i;v++){for(var y=-v+h;y<=v-p;y+=2){for(var b=a+y,w=(S=y==-v||y!=v&&u[b-1]<u[b+1]?u[b+1]:u[b-1]+1)-y;S<n&&w<o&&t.charAt(S)==e.charAt(w);)S++,w++;if(u[b]=S,S>n)p+=2;else if(w>o)h+=2;else if(d&&(k=a+f-y)>=0&&k<s&&-1!=l[k]){var x=n-l[k];if(S>=x)return r(t,e,S,w)}}for(var _=-v+m;_<=v-g;_+=2){for(var k=a+_,C=(x=_==-v||_!=v&&l[k-1]<l[k+1]?l[k+1]:l[k-1]+1)-_;x<n&&C<o&&t.charAt(n-x-1)==e.charAt(o-C-1);)x++,C++;if(l[k]=x,x>n)g+=2;else if(C>o)m+=2;else if(!d&&(b=a+f-_)>=0&&b<s&&-1!=u[b]){var S=u[b];if(w=a+S-b,S>=(x=n-x))return r(t,e,S,w)}}}return[[-1,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-u),e=e.substring(0,e.length-u));return l&&f.unshift([0,l]),c&&f.push([0,c]),function t(e){e.push([0,""]);for(var n,r=0,a=0,s=0,u="",l="";r<e.length;)switch(e[r][0]){case 1:s++,l+=e[r][1],r++;break;case-1:a++,u+=e[r][1],r++;break;case 0:a+s>1?(0!==a&&0!==s&&(0!==(n=o(l,u))&&(r-a-s>0&&0==e[r-a-s-1][0]?e[r-a-s-1][1]+=l.substring(0,n):(e.splice(0,0,[0,l.substring(0,n)]),r++),l=l.substring(n),u=u.substring(n)),0!==(n=i(l,u))&&(e[r][1]=l.substring(l.length-n)+e[r][1],l=l.substring(0,l.length-n),u=u.substring(0,u.length-n))),0===a?e.splice(r-s,a+s,[1,l]):0===s?e.splice(r-a,a+s,[-1,u]):e.splice(r-a-s,a+s,[-1,u],[1,l]),r=r-a-s+(a?1:0)+(s?1:0)+1):0!==r&&0==e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,s=0,a=0,u="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(r=1;r<e.length-1;)0==e[r-1][0]&&0==e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),c=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),c=!0)),r++;c&&t(e)}(f),null!=a&&(f=function(t,e){var n=function(t,e){if(0===e)return[0,t];for(var n=0,r=0;r<t.length;r++){var o=t[r];if(-1===o[0]||0===o[0]){var i=n+o[1].length;if(e===i)return[r+1,t];if(e<i){t=t.slice();var a=e-n,s=[o[0],o[1].slice(0,a)],u=[o[0],o[1].slice(a)];return t.splice(r,1,s,u),[r+1,t]}n=i}}throw new Error("cursor_pos is out of bounds!")}(t,e),r=n[1],o=n[0],i=r[o],a=r[o+1];if(null==i)return t;if(0!==i[0])return t;if(null!=a&&i[1]+a[1]===a[1]+i[1])return r.splice(o,2,a,i),s(r,o,2);if(null!=a&&0===a[1].indexOf(i[1])){r.splice(o,2,[a[0],i[1]],[0,i[1]]);var u=a[1].slice(i[1].length);return u.length>0&&r.splice(o+2,0,[a[0],u]),s(r,o,3)}return t}(f,a)),f=function(t){for(var e=!1,n=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=2;r<t.length;r+=1)0===t[r-2][0]&&(o=t[r-2][1]).charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319&&-1===t[r-1][0]&&n(t[r-1][1])&&1===t[r][0]&&n(t[r][1])&&(e=!0,t[r-1][1]=t[r-2][1].slice(-1)+t[r-1][1],t[r][1]=t[r-2][1].slice(-1)+t[r][1],t[r-2][1]=t[r-2][1].slice(0,-1));var o;if(!e)return t;var i=[];for(r=0;r<t.length;r+=1)t[r][1].length>0&&i.push(t[r]);return i}(f)}function r(t,e,r,o){var i=t.substring(0,r),a=e.substring(0,o),s=t.substring(r),u=e.substring(o),l=n(i,a),c=n(s,u);return l.concat(c)}function o(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(i,o)==e.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}function i(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),o=r,i=0;n<o;)t.substring(t.length-o,t.length-i)==e.substring(e.length-o,e.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o}var a=n;function s(t,e,n){for(var r=e+n-1;r>=0&&r>=e-1;r--)if(r+1<t.length){var o=t[r],i=t[r+1];o[0]===i[1]&&t.splice(r,2,[o[0],o[1]+i[1]])}return t}a.INSERT=1,a.DELETE=-1,a.EQUAL=0,t.exports=a},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r="~";function o(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,e,o=[];if(0===this._eventsCount)return o;for(e in t=this._events)n.call(t,e)&&o.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t,e){var n=r?r+t:t,o=this._events[n];if(e)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,s=new Array(a);i<a;i++)s[i]=o[i].fn;return s},a.prototype.emit=function(t,e,n,o,i,a){var s=r?r+t:t;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,e),!0;case 3:return c.fn.call(c.context,e,n),!0;case 4:return c.fn.call(c.context,e,n,o),!0;case 5:return c.fn.call(c.context,e,n,o,i),!0;case 6:return c.fn.call(c.context,e,n,o,i,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(t,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,e);break;case 3:c[l].fn.call(c[l].context,e,n);break;case 4:c[l].fn.call(c[l].context,e,n,o);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},a.prototype.on=function(t,e,n){var o=new i(e,n||this),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(t,e,n){var o=new i(e,n||this,!0),a=r?r+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var u=0,l=[],c=s.length;u<c;u++)(s[u].fn!==e||i&&!s[u].once||n&&s[u].context!==n)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=b(n(3)),s=b(n(2)),u=b(n(0)),l=b(n(5)),c=b(n(10)),f=b(n(9)),d=n(36),h=n(37),p=b(n(13)),m=n(26),g=n(38),v=n(39),y=n(40);function b(t){return t&&t.__esModule?t:{default:t}}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=(0,c.default)("quill:clipboard"),_="__ql-matcher",k=[[Node.TEXT_NODE,I],[Node.TEXT_NODE,L],["br",function(t,e){return A(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(t,e){var n={},r=t.style||{};return r.fontStyle&&"italic"===O(t).fontStyle&&(n.italic=!0),r.fontWeight&&(O(t).fontWeight.startsWith("bold")||parseInt(O(t).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(e=E(e,n)),parseFloat(r.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e)),e}],["li",function(t,e){var n=u.default.query(t);if(null==n||"list-item"!==n.blotName||!A(e,"\n"))return e;for(var r=-1,o=t.parentNode;!o.classList.contains("ql-clipboard");)"list"===(u.default.query(o)||{}).blotName&&(r+=1),o=o.parentNode;return r<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:r}))}],["b",N.bind(N,"bold")],["i",N.bind(N,"italic")],["style",function(){return new s.default}]],C=[d.AlignAttribute,g.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),S=[d.AlignStyle,h.BackgroundStyle,m.ColorStyle,g.DirectionStyle,v.FontStyle,y.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),T=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.root.addEventListener("paste",r.onPaste.bind(r)),r.container=r.quill.addContainer("ql-clipboard"),r.container.setAttribute("contenteditable",!0),r.container.setAttribute("tabindex",-1),r.matchers=[],k.concat(r.options.matchers).forEach((function(t){var e=o(t,2),i=e[0],a=e[1];(n.matchVisual||a!==R)&&r.addMatcher(i,a)})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[p.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,w({},p.default.blotName,e[p.default.blotName]))}var r=this.prepareMatching(),i=o(r,2),a=i[0],u=i[1],l=function t(e,n,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,n){return n(e,t)}),new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(o,i){var a=t(i,n,r);return i.nodeType===e.ELEMENT_NODE&&(a=n.reduce((function(t,e){return e(i,t)}),a),a=(i[_]||[]).reduce((function(t,e){return e(i,t)}),a)),o.concat(a)}),new s.default):new s.default}(this.container,a,u);return A(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),x.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,l.default.sources.SILENT);else{var r=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(r),n),this.quill.setSelection(t+r.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),r=(new s.default).retain(n.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout((function(){r=r.concat(e.convert()).delete(n.length),e.quill.updateContents(r,l.default.sources.USER),e.quill.setSelection(r.length()-n.length,l.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=o,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],n=[];return this.matchers.forEach((function(r){var i=o(r,2),a=i[0],s=i[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[_]=t[_]||[],t[_].push(s)}))}})),[e,n]}}]),e}(f.default);function E(t,e,n){return"object"===(void 0===e?"undefined":r(e))?Object.keys(e).reduce((function(t,n){return E(t,n,e[n])}),t):t.reduce((function(t,r){return r.attributes&&r.attributes[e]?t.push(r):t.insert(r.insert,(0,a.default)({},w({},e,n),r.attributes))}),new s.default)}function O(t){return t.nodeType!==Node.ELEMENT_NODE?{}:t["__ql-computed-style"]||(t["__ql-computed-style"]=window.getComputedStyle(t))}function A(t,e){for(var n="",r=t.ops.length-1;r>=0&&n.length<e.length;--r){var o=t.ops[r];if("string"!=typeof o.insert)break;n=o.insert+n}return n.slice(-1*e.length)===e}function D(t){if(0===t.childNodes.length)return!1;var e=O(t);return["block","list-item"].indexOf(e.display)>-1}function N(t,e,n){return E(n,t,!0)}function P(t,e){var n=u.default.Attributor.Attribute.keys(t),r=u.default.Attributor.Class.keys(t),o=u.default.Attributor.Style.keys(t),i={};return n.concat(r).concat(o).forEach((function(e){var n=u.default.query(e,u.default.Scope.ATTRIBUTE);null!=n&&(i[n.attrName]=n.value(t),i[n.attrName])||(null==(n=C[e])||n.attrName!==e&&n.keyName!==e||(i[n.attrName]=n.value(t)||void 0),null==(n=S[e])||n.attrName!==e&&n.keyName!==e||(n=S[e],i[n.attrName]=n.value(t)||void 0))})),Object.keys(i).length>0&&(e=E(e,i)),e}function M(t,e){var n=u.default.query(t);if(null==n)return e;if(n.prototype instanceof u.default.Embed){var r={},o=n.value(t);null!=o&&(r[n.blotName]=o,e=(new s.default).insert(r,n.formats(t)))}else"function"==typeof n.formats&&(e=E(e,n.blotName,n.formats(t)));return e}function L(t,e){return A(e,"\n")||(D(t)||e.length()>0&&t.nextSibling&&D(t.nextSibling))&&e.insert("\n"),e}function R(t,e){if(D(t)&&null!=t.nextElementSibling&&!A(e,"\n\n")){var n=t.offsetHeight+parseFloat(O(t).marginTop)+parseFloat(O(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*n&&e.insert("\n")}return e}function I(t,e){var n=t.data;if("O:P"===t.parentNode.tagName)return e.insert(n.trim());if(0===n.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!O(t.parentNode).whiteSpace.startsWith("pre")){var r=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,r.bind(r,!0)),(null==t.previousSibling&&D(t.parentNode)||null!=t.previousSibling&&D(t.previousSibling))&&(n=n.replace(/^\s+/,r.bind(r,!1))),(null==t.nextSibling&&D(t.parentNode)||null!=t.nextSibling&&D(t.nextSibling))&&(n=n.replace(/\s+$/,r.bind(r,!1)))}return e.insert(n)}T.DEFAULTS={matchers:[],matchVisual:!0},e.default=T,e.matchAttributor=P,e.matchBlot=M,e.matchNewline=L,e.matchSpacing=R,e.matchText=I},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(6);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"optimize",value:function(t){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);l.blotName="bold",l.tagName=["STRONG","B"],e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=c(n(2)),a=c(n(0)),s=c(n(5)),u=c(n(10)),l=c(n(9));function c(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=(0,u.default)("quill:toolbar"),h=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,i=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(Array.isArray(i.options.container)){var a=document.createElement("div");m(a,i.options.container),t.container.parentNode.insertBefore(a,t.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(t){i.addHandler(t,i.options.handlers[t])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(t){i.attach(t)})),i.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e){t===s.default.events.SELECTION_CHANGE&&i.update(e)})),i.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var t=i.quill.selection.getRange(),e=r(t,1)[0];i.update(e)})),i):(o=d.error("Container required for toolbar",i.options),f(i,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,n=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void d.warn("ignoring attaching to disabled format",n,t);if(null==a.default.query(n))return void d.warn("ignoring attaching to nonexistent format",n,t)}var o="SELECT"===t.tagName?"change":"click";t.addEventListener(o,(function(o){var u=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var l=t.options[t.selectedIndex];u=!l.hasAttribute("selected")&&(l.value||!1)}else u=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),o.preventDefault();e.quill.focus();var c=e.quill.selection.getRange(),f=r(c,1)[0];if(null!=e.handlers[n])e.handlers[n].call(e,u);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(u=prompt("Enter "+n)))return;e.quill.updateContents((new i.default).retain(f.index).delete(f.length).insert(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},n,u)),s.default.sources.USER)}else e.quill.format(n,u,s.default.sources.USER);e.update(f)})),this.controls.push([n,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(n){var o=r(n,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[i])s=a.querySelector("option[selected]");else if(!Array.isArray(e[i])){var u=e[i];"string"==typeof u&&(u=u.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+u+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var l=e[i]===a.getAttribute("value")||null!=e[i]&&e[i].toString()===a.getAttribute("value")||null==e[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",l)}else a.classList.toggle("ql-active",null!=e[i])}))}}]),e}(l.default);function p(t,e,n){var r=document.createElement("button");r.setAttribute("type","button"),r.classList.add("ql-"+e),null!=n&&(r.value=n),t.appendChild(r)}function m(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var n=document.createElement("span");n.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)p(n,t);else{var e=Object.keys(t)[0],r=t[e];Array.isArray(r)?function(t,e,n){var r=document.createElement("select");r.classList.add("ql-"+e),n.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),r.appendChild(e)})),t.appendChild(r)}(n,e,r):p(n,e,r)}})),t.appendChild(n)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e),r=parseInt(n.indent||0);if("+1"===t||"-1"===t){var o="+1"===t?1:-1;"rtl"===n.direction&&(o*=-1),this.quill.format("indent",r+o,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),n=this.quill.getFormat(e);"check"===t?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=h,e.addControls=m},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(28),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.label.innerHTML=n,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"buildItem",value:function(t){var n=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return n.style.backgroundColor=t.getAttribute("value")||"",n}},{key:"selectItem",value:function(t,n){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n);var r=this.label.querySelector(".ql-color-label"),o=t&&t.getAttribute("data-value")||"";r&&("line"===r.tagName?r.style.stroke=o:r.style.fill=o)}}]),e}(((r=a)&&r.__esModule?r:{default:r}).default);e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(28),a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=n[t.getAttribute("data-value")||""]})),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"selectItem",value:function(t,n){(function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,n),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){r.root.style.marginTop=-1*r.quill.root.scrollTop+"px"})),this.hide()}return r(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>r.right&&(i=r.right-o.right,this.root.style.left=e+i+"px"),o.left<r.left&&(i=r.left-o.left,this.root.style.left=e+i+"px"),o.bottom>r.bottom){var a=o.bottom-o.top,s=t.bottom-t.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=h(n(3)),s=h(n(8)),u=n(43),l=h(u),c=h(n(27)),f=n(15),d=h(n(41));function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(t){function e(t,n){p(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=v);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-snow"),r}return g(e,t),i(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),d.default),this.tooltip=new b(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,n){t.handlers.link.call(t,!n.format.link)}))}}]),e}(l.default);y.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var b=function(t){function e(t,n){p(this,e);var r=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.preview=r.root.querySelector("a.ql-preview"),r}return g(e,t),i(e,[{key:"listen",value:function(){var t=this;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var n=t.linkRange;t.restoreFocus(),t.quill.formatText(n,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(e,n,o){if(null!=e){if(0===e.length&&o===s.default.sources.USER){var i=t.quill.scroll.descendant(c.default,e.index),a=r(i,2),u=a[0],l=a[1];if(null!=u){t.linkRange=new f.Range(e.index-l,u.length());var d=c.default.formats(u.domNode);return t.preview.textContent=d,t.preview.setAttribute("href",d),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(u.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=R(n(29)),o=n(36),i=n(38),a=n(64),s=R(n(65)),u=R(n(66)),l=n(67),c=R(l),f=n(37),d=n(26),h=n(39),p=n(40),m=R(n(56)),g=R(n(68)),v=R(n(27)),y=R(n(69)),b=R(n(70)),w=R(n(71)),x=R(n(72)),_=R(n(73)),k=n(13),C=R(k),S=R(n(74)),T=R(n(75)),E=R(n(57)),O=R(n(41)),A=R(n(28)),D=R(n(59)),N=R(n(60)),P=R(n(61)),M=R(n(108)),L=R(n(62));function R(t){return t&&t.__esModule?t:{default:t}}r.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":f.BackgroundClass,"attributors/class/color":d.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":p.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":f.BackgroundStyle,"attributors/style/color":d.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":p.SizeStyle},!0),r.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":f.BackgroundStyle,"formats/color":d.ColorStyle,"formats/font":h.FontClass,"formats/size":p.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":u.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":k.Code,"formats/italic":g.default,"formats/link":v.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":w.default,"formats/image":x.default,"formats/video":_.default,"formats/list/item":l.ListItem,"modules/formula":S.default,"modules/syntax":T.default,"modules/toolbar":E.default,"themes/bubble":M.default,"themes/snow":L.default,"ui/icons":O.default,"ui/picker":A.default,"ui/icon-picker":N.default,"ui/color-picker":D.default,"ui/tooltip":P.default},!0),e.default=r.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r};function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=new(function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"add",value:function(t,n){if("+1"===n||"-1"===n){var r=this.value(t)||0;n="+1"===n?r+1:r-1}return 0===n?(this.remove(t),!0):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,n)}},{key:"canAdd",value:function(t,n){return i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,n)||i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(n))}},{key:"value",value:function(t){return parseInt(i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(4);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default);u.blotName="header",u.tagName=["H1","H2","H3","H4","H5","H6"],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=u(n(0)),a=u(n(4)),s=u(n(25));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"format",value:function(t,n){t!==h.blotName||n?o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,n){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,n),this):(this.parent.unwrap(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,n))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:o(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(a.default);d.blotName="list-item",d.tagName="LI";var h=function(t){function e(t){l(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),r=function(e){if(e.target.parentNode===t){var r=n.statics.formats(t),o=i.default.find(e.target);"checked"===r?o.format("list","unchecked"):"unchecked"===r&&o.format("list","checked")}};return t.addEventListener("touchstart",r),t.addEventListener("mousedown",r),n}return f(e,t),r(e,null,[{key:"create",value:function(t){var n="ordered"===t?"OL":"UL",r=o(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,n);return"checked"!==t&&"unchecked"!==t||r.setAttribute("data-checked","checked"===t),r}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),r(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,n=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t;var t,e,n}},{key:"insertBefore",value:function(t,n){if(t instanceof d)o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,n);else{var r=null==n?this.length():n.offset(this),i=this.split(r);i.parent.insertBefore(t,i)}}},{key:"optimize",value:function(t){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var n=i.default.create(this.statics.defaultChild);t.moveChildren(n),this.appendChild(n)}o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(s.default);h.blotName="list",h.scope=i.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[d],e.ListItem=d,e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(56);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((r=i)&&r.__esModule?r:{default:r}).default);u.blotName="script",u.tagName=["SUB","SUP"],e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="strike",s.tagName="S",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(6);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return i(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((r=o)&&r.__esModule?r:{default:r}).default);s.blotName="underline",s.tagName="U",e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(0),s=(r=a)&&r.__esModule?r:{default:r},u=n(27);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=["alt","height","width"],d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,u.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.default.Embed);d.blotName="image",d.tagName="IMG",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},a=n(4),s=n(27),u=(r=s)&&r.__esModule?r:{default:r};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var f=["height","width"],d=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),o(e,[{key:"format",value:function(t,n){f.indexOf(t)>-1?n?this.domNode.setAttribute(t,n):this.domNode.removeAttribute(t):i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,n)}}],[{key:"create",value:function(t){var n=i(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(t)),n}},{key:"formats",value:function(t){return f.reduce((function(e,n){return t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e}),{})}},{key:"sanitize",value:function(t){return u.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(35)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),r(e,null,[{key:"create",value:function(t){var n=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",t)),n}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(o.default);f.blotName="formula",f.className="ql-formula",f.tagName="SPAN";var d=function(t){function e(){u(this,e);var t=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return c(e,t),r(e,null,[{key:"register",value:function(){i.default.register(f,!0)}}]),e}(a.default);e.FormulaBlot=f,e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(0)),i=s(n(5)),a=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,t),r(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(s(n(13)).default);f.className="ql-syntax";var d=new o.default.Attributor.Class("token","hljs",{scope:o.default.Scope.INLINE}),h=function(t){function e(t,n){u(this,e);var r=l(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if("function"!=typeof r.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return r.quill.on(i.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){r.highlight(),o=null}),r.options.interval)})),r.highlight(),r}return c(e,t),r(e,null,[{key:"register",value:function(){i.default.register(d,!0),i.default.register(f,!0)}}]),r(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(i.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(f).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(i.default.sources.SILENT),null!=e&&this.quill.setSelection(e,i.default.sources.SILENT)}}}]),e}(a.default);h.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=f,e.CodeToken=d,e.default=h},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var r=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=f(n(3)),a=f(n(8)),s=n(43),u=f(s),l=n(15),c=f(n(41));function f(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(t){function e(t,n){d(this,e),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.container.classList.add("ql-bubble"),r}return p(e,t),o(e,[{key:"extendToolbar",value:function(t){this.tooltip=new v(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),c.default)}}]),e}(u.default);g.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var v=function(t){function e(t,n){d(this,e);var r=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e,n,o){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&o===a.default.sources.USER){r.show(),r.root.style.left="0px",r.root.style.width="",r.root.style.width=r.root.offsetWidth+"px";var i=r.quill.getLines(e.index,e.length);if(1===i.length)r.position(r.quill.getBounds(e));else{var s=i[i.length-1],u=r.quill.getIndex(s),c=Math.min(s.length()-1,e.index+e.length-u),f=r.quill.getBounds(new l.Range(u,c));r.position(f)}}else document.activeElement!==r.textbox&&r.quill.hasFocus()&&r.hide()})),r}return p(e,t),o(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===n)return n;o.style.marginLeft=-1*n-o.offsetWidth/2+"px"}}]),e}(s.BaseTooltip);v.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=v,e.default=g},function(t,e,n){t.exports=n(63)}]).default},t.exports=n()}).call(this,n("tjlA").Buffer)},lDS1:function(t,e,n){n("6LCz")},lM69:function(t,e){!function(t){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(){},r=function(t){return function(){return t}},o=function(t){return t};function i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}var a=function(t){return function(e){return!t(e)}},s=r(!1),u=r(!0),l=function(){return c},c=function(){var t=function(t){return t.isNone()},e=function(t){return t()},o=function(t){return t};return{fold:function(t,e){return t()},is:s,isSome:s,isNone:u,getOr:o,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:o,orThunk:e,map:l,each:n,bind:l,exists:s,forall:u,filter:l,equals:t,equals_:t,toArray:function(){return[]},toString:r("none()")}}(),f=function(t){var e=r(t),n=function(){return i},o=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:u,isNone:s,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return f(e(t))},each:function(e){e(t)},bind:o,exists:o,forall:o,filter:function(e){return e(t)?i:c},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(s,(function(e){return n(t,e)}))}};return i},d={some:f,none:l,from:function(t){return null==t?c:f(t)}},h=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},p=function(t){return function(e){return typeof e===t}},m=h("string"),g=h("object"),v=h("array"),y=p("boolean"),b=function(t){return!function(t){return null==t}(t)},w=p("function"),x=p("number"),_=Array.prototype.slice,k=Array.prototype.indexOf,C=Array.prototype.push,S=function(t,e){return n=t,r=e,k.call(n,r)>-1;var n,r},T=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return!0}return!1},E=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},O=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},A=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},D=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},N=function(t,e,n){return function(t,e){for(var n=t.length-1;n>=0;n--){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n},P=function(t,e,n){return A(t,(function(t){n=e(n,t)})),n},M=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return d.some(i);if(n(i,r))break}return d.none()}(t,e,s)},L=function(t,e){for(var n=0,r=t.length;n<r;n++){if(e(t[n],n))return d.some(n)}return d.none()},R=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!v(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);C.apply(e,t[n])}return e},I=function(t,e){return R(O(t,e))},B=function(t,e){for(var n=0,r=t.length;n<r;++n){if(!0!==e(t[n],n))return!1}return!0},F=function(t){return 0===t.length?d.none():d.some(t[t.length-1])},j=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return d.none()},z=Object.keys,H=Object.hasOwnProperty,q=function(t,e){for(var n=z(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},U=function(t,e){return W(t,(function(t,n){return{k:n,v:e(t,n)}}))},W=function(t,e){var n={};return q(t,(function(t,r){var o=e(t,r);n[o.k]=o.v})),n},V=function(t,e){var r={};return function(t,e,n,r){q(t,(function(t,o){(e(t,o)?n:r)(t,o)}))}(t,e,function(t){return function(e,n){t[n]=e}}(r),n),r},$=function(t,e){return G(t,e)?d.from(t[e]):d.none()},G=function(t,e){return H.call(t,e)},Y=(void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),K=function(t){return t.dom().nodeType},Z=function(t){return function(e){return K(e)===t}},X=function(t){return 8===K(t)||"#comment"===Y(t)},J=Z(1),Q=Z(3),tt=Z(9),et=Z(11),nt=function(e,n,r){if(!(m(r)||y(r)||x(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},rt=function(t,e,n){nt(t.dom(),e,n)},ot=function(t,e){var n=t.dom();q(e,(function(t,e){nt(n,e,t)}))},it=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},at=function(t,e){return d.from(it(t,e))},st=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},ut=function(t,e){t.dom().removeAttribute(e)},lt=function(t){return P(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},ct=function(t,e,n){return""===e||t.length>=e.length&&t.substr(n,n+e.length)===e},ft=function(t,e){return-1!==t.indexOf(e)},dt=function(t,e){return ct(t,e,t.length-e.length)},ht=function(t){return function(e){return e.replace(t,"")}}(/^\s+|\s+$/g),pt=function(t){return t.length>0},mt=function(t){return void 0!==t.style&&w(t.style.getPropertyValue)},gt=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},vt={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return gt(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return gt(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return gt(r)},fromDom:gt,fromPoint:function(t,e,n){var r=t.dom();return d.from(r.elementFromPoint(e,n)).map(gt)}},yt=function(){return(yt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},bt=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},wt=function(){return xt(0,0)},xt=function(t,e){return{major:t,minor:e}},_t={nu:xt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?wt():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return xt(r(1),r(2))}(t,n)},unknown:wt},kt=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isEdge:r("Edge"),isChrome:r("Chrome"),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r("Firefox"),isSafari:r("Safari")}},Ct={unknown:function(){return kt({current:void 0,version:_t.unknown()})},nu:kt,edge:r("Edge"),chrome:r("Chrome"),ie:r("IE"),opera:r("Opera"),firefox:r("Firefox"),safari:r("Safari")},St=function(t){var e=t.current,n=t.version,r=function(t){return function(){return e===t}};return{current:e,version:n,isWindows:r("Windows"),isiOS:r("iOS"),isAndroid:r("Android"),isOSX:r("OSX"),isLinux:r("Linux"),isSolaris:r("Solaris"),isFreeBSD:r("FreeBSD"),isChromeOS:r("ChromeOS")}},Tt={unknown:function(){return St({current:void 0,version:_t.unknown()})},nu:St,windows:r("Windows"),ios:r("iOS"),android:r("Android"),linux:r("Linux"),osx:r("OSX"),solaris:r("Solaris"),freebsd:r("FreeBSD"),chromeos:r("ChromeOS")},Et=function(t,e){var n=String(e).toLowerCase();return M(t,(function(t){return t.search(n)}))},Ot=function(t,e){return Et(t,e).map((function(t){var n=_t.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},At=function(t,e){return Et(t,e).map((function(t){var n=_t.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Dt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nt=function(t){return function(e){return ft(e,t)}},Pt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ft(t,"edge/")&&ft(t,"chrome")&&ft(t,"safari")&&ft(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Dt],search:function(t){return ft(t,"chrome")&&!ft(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ft(t,"msie")||ft(t,"trident")}},{name:"Opera",versionRegexes:[Dt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nt("firefox")},{name:"Safari",versionRegexes:[Dt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ft(t,"safari")||ft(t,"mobile/"))&&ft(t,"applewebkit")}}],Mt=[{name:"Windows",search:Nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ft(t,"iphone")||ft(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nt("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nt("linux"),versionRegexes:[]},{name:"Solaris",search:Nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nt("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nt("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Lt={browsers:r(Pt),oses:r(Mt)},Rt=function(t,e){var n=Lt.browsers(),o=Lt.oses(),i=Ot(n,t).fold(Ct.unknown,Ct.nu),a=At(o,t).fold(Tt.unknown,Tt.nu),s=function(t,e,n,o){var i=t.isiOS()&&!0===/ipad/i.test(n),a=t.isiOS()&&!i,s=t.isiOS()||t.isAndroid(),u=s||o("(pointer:coarse)"),l=i||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,f=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!f;return{isiPad:r(i),isiPhone:r(a),isTablet:r(l),isPhone:r(c),isTouch:r(u),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:r(f),isDesktop:r(d)}}(a,i,t,e);return{browser:i,os:a,deviceType:s}},It=function(e){return t.window.matchMedia(e).matches},Bt=bt((function(){return Rt(t.navigator.userAgent,It)})),Ft=function(){return Bt()},jt=function(t,e){var n=t.dom();if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},zt=function(t){return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType||0===t.childElementCount},Ht=function(t,e){return t.dom()===e.dom()},qt=function(e,n){return r=e.dom(),o=n.dom(),function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(r,o,t.Node.DOCUMENT_POSITION_CONTAINED_BY);var r,o},Ut=function(t,e){return Ft().browser.isIE()?qt(t,e):function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)}(t,e)},Wt=jt,Vt=function(t){return vt.fromDom(t.dom().ownerDocument)},$t=function(t){return d.from(t.dom().parentNode).map(vt.fromDom)},Gt=function(t,e){for(var n=w(e)?e:s,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=vt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o},Yt=function(t){return d.from(t.dom().previousSibling).map(vt.fromDom)},Kt=function(t){return d.from(t.dom().nextSibling).map(vt.fromDom)},Zt=function(t){return O(t.dom().childNodes,vt.fromDom)},Xt=function(t,e){var n=t.dom().childNodes;return d.from(n[e]).map(vt.fromDom)},Jt=w(t.Element.prototype.attachShadow)&&w(t.Node.prototype.getRootNode),Qt=r(Jt),te=Jt?function(t){return vt.fromDom(t.dom().getRootNode())}:function(t){return tt(t)?t:Vt(t)},ee=function(t){var e=te(t);return et(e)?d.some(e):d.none()},ne=function(t){return vt.fromDom(t.dom().host)},re=function(t){if(Qt()&&b(t.target)){var e=vt.fromDom(t.target);if(J(e)&&oe(vt.fromDom(t.target))){var n=t;if(n.composed&&n.composedPath){var r=n.composedPath();if(r)return 0===(o=r).length?d.none():d.some(o[0])}}}var o;return d.from(t.target)},oe=function(t){return b(t.dom().shadowRoot)},ie=function(t){var e,n,r=Q(t)?t.dom().parentNode:t.dom();return null!=r&&null!==r.ownerDocument&&ee(vt.fromDom(r)).fold((function(){return r.ownerDocument.body.contains(r)}),(e=ie,n=ne,function(t){return e(n(t))}))},ae=function(t){var e=t.dom().body;if(null==e)throw new Error("Body is not available yet");return vt.fromDom(e)},se=function(e,n,r){if(!m(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);mt(e)&&e.style.setProperty(n,r)},ue=function(t,e,n){var r=t.dom();se(r,e,n)},le=function(t,e){var n=t.dom();q(e,(function(t,e){se(n,e,t)}))},ce=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r).getPropertyValue(n);return""!==o||ie(e)?o:fe(r,n)},fe=function(t,e){return mt(t)?t.style.getPropertyValue(e):""},de=function(t,e){var n=t.dom(),r=fe(n,e);return d.from(r).filter((function(t){return t.length>0}))},he=function(t,e){!function(t,e){mt(t)&&t.style.removeProperty(e)}(t.dom(),e),at(t,"style").map(ht).is("")&&ut(t,"style")},pe=function(t,e){$t(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},me=function(t,e){Kt(t).fold((function(){$t(t).each((function(t){ve(t,e)}))}),(function(t){pe(t,e)}))},ge=function(t,e){(function(t){return Xt(t,0)})(t).fold((function(){ve(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},ve=function(t,e){t.dom().appendChild(e.dom())},ye=function(t,e){pe(t,e),ve(e,t)},be=function(t,e){A(e,(function(n,r){var o=0===r?t:e[r-1];me(o,n)}))},we=function(t,e){A(e,(function(e){ve(t,e)}))},xe=function(t){t.dom().textContent="",A(Zt(t),(function(t){_e(t)}))},_e=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},ke=function(t){var e,n=Zt(t);n.length>0&&(e=t,A(n,(function(t){pe(e,t)}))),_e(t)},Ce=function(t,e,n){return{element:r(t),rowspan:r(e),colspan:r(n)}},Se=function(t,e,n){return{element:r(t),cells:r(e),section:r(n)}},Te=function(t,e){return{element:r(t),isNew:r(e)}},Ee=function(t,e){return{cells:r(t),section:r(e)}},Oe=function(t,e){var n=[];return A(Zt(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(Oe(t,e))})),n},Ae=function(t,e,n){return function(t,e,n){return D(Gt(t,n),e)}(t,(function(t){return jt(t,e)}),n)},De=function(t,e){return function(t,e){return D(Zt(t),e)}(t,(function(t){return jt(t,e)}))},Ne=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return zt(r)?[]:O(r.querySelectorAll(e),vt.fromDom)}(n,e)};function Pe(t,e,n,r,o){return t(n,r)?d.some(n):w(o)&&o(n)?d.none():e(n,r,o)}var Me=function(t,e,n){for(var o=t.dom(),i=w(n)?n:r(!1);o.parentNode;){o=o.parentNode;var a=vt.fromDom(o);if(e(a))return d.some(a);if(i(a))break}return d.none()},Le=function(t,e,n){return Me(t,(function(t){return jt(t,e)}),n)},Re=function(t,e){return function(t,e){return M(t.dom().childNodes,(function(t){return e(vt.fromDom(t))})).map(vt.fromDom)}(t,(function(t){return jt(t,e)}))},Ie=function(e,n){return function(e,n){var r=void 0===n?t.document:n.dom();return zt(r)?d.none():d.from(r.querySelector(e)).map(vt.fromDom)}(n,e)},Be=function(t,e,n){return Pe((function(t,e){return jt(t,e)}),Le,t,e,n)},Fe=function(t,e,n){return void 0===n&&(n=0),at(t,e).map((function(t){return parseInt(t,10)})).getOr(n)},je=function(t,e){return Fe(t,e,1)},ze=function(t){return je(t,"colspan")>1},He=function(t){return je(t,"rowspan")>1},qe=function(t,e){return parseInt(ce(t,e),10)},Ue=r(10),We=r(10),Ve=function(t,e){return $e(t,e,r(!0))},$e=function(t,e,n){return I(Zt(t),(function(t){return jt(t,e)?n(t)?[t]:[]:$e(t,e,n)}))},Ge=function(t,e){return function(t,e,n){if(void 0===n&&(n=s),n(e))return d.none();if(S(t,Y(e)))return d.some(e);return Le(e,t.join(","),(function(t){return jt(t,"table")||n(t)}))}(["td","th"],t,e)},Ye=function(t){return Ve(t,"th,td")},Ke=function(t,e){return Be(t,"table",e)},Ze=function(t){return Ve(t,"tr")},Xe=function(t){var e=Ze(t);return O(e,(function(t){var e=t,n=$t(e).map((function(t){var e=Y(t);return"tfoot"===e||"thead"===e||"tbody"===e?e:"tbody"})).getOr("tbody"),r=O(Ye(t),(function(t){var e=Fe(t,"rowspan",1),n=Fe(t,"colspan",1);return Ce(t,e,n)}));return Se(e,r,n)}))},Je=function(t,e){return t+","+e},Qe=function(t,e){var n=I(t.all,(function(t){return t.cells()}));return D(n,e)},tn=function(t){var e={},n=[],o=t.length,i=0;return A(t,(function(t,o){var a=[];A(t.cells(),(function(t){for(var n=0;void 0!==e[Je(o,n)];)n++;for(var s=function(t,e,n,o,i){return{element:r(t),rowspan:r(e),colspan:r(n),row:r(o),column:r(i)}}(t.element(),t.rowspan(),t.colspan(),o,n),u=0;u<t.colspan();u++)for(var l=0;l<t.rowspan();l++){var c=n+u,f=Je(o+l,c);e[f]=s,i=Math.max(i,c+1)}a.push(s)})),n.push(Se(t.element(),a,t.section()))})),{grid:function(t,e){return{rows:r(t),columns:r(e)}}(o,i),access:e,all:n}},en={fromTable:function(t){var e=Xe(t);return tn(e)},generate:tn,getAt:function(t,e,n){var r=t.access[Je(e,n)];return void 0!==r?d.some(r):d.none()},findItem:function(t,e,n){var r=Qe(t,(function(t){return n(e,t.element())}));return r.length>0?d.some(r[0]):d.none()},filterItems:Qe,justCells:function(t){var e=O(t.all,(function(t){return t.cells()}));return R(e)}},nn=function(t,e,n){var r=t[n].element(),o=vt.fromTag("td");ve(o,vt.fromTag("br")),(e?ve:ge)(r,o)},rn=function(t,e){var n=function(t){return jt(t.element(),e)},r=Xe(t),o=en.generate(r),i=function(t,e){var n=t.grid.columns(),r=t.grid.rows(),o=n,i=0,a=0;return q(t.access,(function(t){if(e(t)){var n=t.row(),s=n+t.rowspan()-1,u=t.column(),l=u+t.colspan()-1;n<r?r=n:s>i&&(i=s),u<o?o=u:l>a&&(a=l)}})),function(t,e,n,r){return{minRow:t,minCol:e,maxRow:n,maxCol:r}}(r,o,i,a)}(o,n),a="th:not("+e+"),td:not("+e+")",s=$e(t,"th,td",(function(t){return jt(t,a)}));return A(s,_e),function(t,e,n,r){for(var o=e.grid.columns(),i=e.grid.rows(),a=0;a<i;a++)for(var s=!1,u=0;u<o;u++){if(!(a<n.minRow||a>n.maxRow||u<n.minCol||u>n.maxCol))en.getAt(e,a,u).filter(r).isNone()?nn(t,s,a):s=!0}}(r,o,i,n),function(t,e){var n=D(Ve(t,"tr"),(function(t){return 0===t.dom().childElementCount}));A(n,_e),e.minCol!==e.maxCol&&e.minRow!==e.maxRow||A(Ve(t,"th,td"),(function(t){ut(t,"rowspan"),ut(t,"colspan")})),ut(t,"width"),ut(t,"height"),he(t,"width"),he(t,"height")}(t,i),t};var on=function(t,e){var n=function(e){return t(e)?d.from(e.dom().nodeValue):d.none()};return{get:function(r){if(!t(r))throw new Error("Can only get "+e+" value of a "+e+" node");return n(r).getOr("")},getOption:n,set:function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r}}}(Q,"text"),an=function(t){return on.get(t)},sn=function(t){return on.getOption(t)},un=function(t,e){return on.set(t,e)},ln=function(t){return"img"===Y(t)?1:sn(t).fold((function(){return Zt(t).length}),(function(t){return t.length}))},cn=["img","br"],fn=function(t){return sn(t).filter((function(t){return 0!==t.trim().length||t.indexOf(" ")>-1})).isSome()||S(cn,Y(t))},dn=function(t){return e=fn,(n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=vt.fromDom(t.childNodes[r]);if(e(o))return d.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return d.none()})(t.dom());var e,n},hn=function(t){return pn(t,fn)},pn=function(t,e){var n=function(t){for(var r=Zt(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return d.some(i);var a=n(i);if(a.isSome())return a}return d.none()};return n(t)},mn=function(t,e){return vt.fromDom(t.dom().cloneNode(e))},gn=function(t){return mn(t,!1)},vn=function(t){return mn(t,!0)},yn=function(t,e){var n=function(t,e){var n=vt.fromTag(e),r=lt(t);return ot(n,r),n}(t,e),r=Zt(vn(t));return we(n,r),n},bn=function(){var t=vt.fromTag("td");return ve(t,vt.fromTag("br")),t},wn=function(t,e,n){var r=yn(t,e);return q(n,(function(t,e){null===t?ut(r,e):rt(r,e,t)})),r},xn=function(t){return t},_n=function(t){return function(){return vt.fromTag("tr",t.dom())}},kn=function(t,e,n){return{row:_n(e),cell:function(e){var r,o,i,a,s=Vt(e.element()),u=vt.fromTag(Y(e.element()),s.dom()),l=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),c=l.length>0?function(t,e,n){return dn(t).map((function(r){var o=n.join(","),i=Ae(r,o,(function(e){return Ht(e,t)}));return N(i,(function(t,e){var n=gn(e);return ut(n,"contenteditable"),ve(t,n),n}),e)})).getOr(e)}(e.element(),u,l):u;return ve(c,vt.fromTag("br")),r=e.element(),o=u,i=r.dom(),a=o.dom(),mt(i)&&mt(a)&&(a.style.cssText=i.style.cssText),he(u,"height"),1!==e.colspan()&&he(e.element(),"width"),t(e.element(),u),u},replace:wn,gap:bn}},Cn=function(t){return{row:_n(t),cell:bn,replace:xn,gap:bn}},Sn=function(t,e){var n=e.column(),r=e.column()+e.colspan()-1,o=e.row(),i=e.row()+e.rowspan()-1;return n<=t.finishCol()&&r>=t.startCol()&&o<=t.finishRow()&&i>=t.startRow()},Tn=function(t,e){return e.column()>=t.startCol()&&e.column()+e.colspan()-1<=t.finishCol()&&e.row()>=t.startRow()&&e.row()+e.rowspan()-1<=t.finishRow()},En=function(t,e){return n=Math.min(t.row(),e.row()),o=Math.min(t.column(),e.column()),i=Math.max(t.row()+t.rowspan()-1,e.row()+e.rowspan()-1),a=Math.max(t.column()+t.colspan()-1,e.column()+e.colspan()-1),{startRow:r(n),startCol:r(o),finishRow:r(i),finishCol:r(a)};var n,o,i,a},On=function(t,e,n){var r=en.findItem(t,e,Ht),o=en.findItem(t,n,Ht);return r.bind((function(t){return o.map((function(e){return En(t,e)}))}))},An=function(t,e,n){return On(t,e,n).bind((function(e){return function(t,e){for(var n=!0,r=i(Tn,e),o=e.startRow();o<=e.finishRow();o++)for(var a=e.startCol();a<=e.finishCol();a++)n=n&&en.getAt(t,o,a).exists(r);return n?d.some(e):d.none()}(t,e)}))},Dn=function(t,e,n){return On(t,e,n).map((function(e){var n=en.filterItems(t,i(Sn,e));return O(n,(function(t){return t.element()}))}))},Nn=function(t,e){return en.findItem(t,e,(function(t,e){return Ut(e,t)})).map((function(t){return t.element()}))},Pn=function(t,e,n){return Ke(t).bind((function(r){return function(t,e,n,r){return en.findItem(t,e,Ht).bind((function(e){var o=n>0?e.row()+e.rowspan()-1:e.row(),i=r>0?e.column()+e.colspan()-1:e.column();return en.getAt(t,o+n,i+r).map((function(t){return t.element()}))}))}(Rn(r),t,e,n)}))},Mn=function(t,e,n){var r=Rn(t);return Dn(r,e,n)},Ln=function(t,e,n,r,o){var i=Rn(t),a=Ht(t,n)?d.some(e):Nn(i,e),s=Ht(t,o)?d.some(r):Nn(i,r);return a.bind((function(t){return s.bind((function(e){return Dn(i,t,e)}))}))},Rn=en.fromTable,In=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Bn(){return{up:r({selector:Le,closest:Be,predicate:Me,all:Gt}),down:r({selector:Ne,predicate:Oe}),styles:r({get:ce,getRaw:de,set:ue,remove:he}),attrs:r({get:it,set:rt,remove:ut,copyTo:function(t,e){var n=lt(t);ot(e,n)}}),insert:r({before:pe,after:me,afterAll:be,append:ve,appendAll:we,prepend:ge,wrap:ye}),remove:r({unwrap:ke,remove:_e}),create:r({nu:vt.fromTag,clone:function(t){return vt.fromDom(t.dom().cloneNode(!1))},text:vt.fromText}),query:r({comparePosition:function(t,e){return t.dom().compareDocumentPosition(e.dom())},prevSibling:Yt,nextSibling:Kt}),property:r({children:Zt,name:Y,parent:$t,document:function(t){return t.dom().ownerDocument},isText:Q,isComment:X,isElement:J,getText:an,setText:un,isBoundary:function(t){return!!J(t)&&("body"===Y(t)||S(In,Y(t)))},isEmptyTag:function(t){return!!J(t)&&S(["br","img","hr","input"],Y(t))},isNonEditable:function(t){return J(t)&&"false"===it(t,"contenteditable")}}),eq:Ht,is:Wt}}var Fn=function(t,e,n,r){var o=e(t,n);return N(r,(function(n,r){var o=e(t,r);return jn(t,n,o)}),o)},jn=function(t,e,n){return e.bind((function(e){return n.filter(i(t.eq,e))}))},zn=function(t,e,n){return n.length>0?function(t,e,n,r){return r(t,e,n[0],n.slice(1))}(t,e,n,Fn):d.none()},Hn=function(t,e,n,o){void 0===o&&(o=s);var a=[e].concat(t.up().all(e)),u=[n].concat(t.up().all(n)),l=function(t){return L(t,o).fold((function(){return t}),(function(e){return t.slice(0,e+1)}))},c=l(a),f=l(u),d=M(c,(function(e){return T(f,function(t,e){return i(t.eq,e)}(t,e))}));return{firstpath:r(c),secondpath:r(f),shared:r(d)}},qn=Bn(),Un=function(t,e){return zn(qn,(function(e,n){return t(n)}),e)},Wn=function(t){return Le(t,"table")},Vn=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||Ht(e,t)}};return Ht(t,e)?d.some({boxes:d.some([t]),start:t,finish:e}):Wn(t).bind((function(o){return Wn(e).bind((function(i){if(Ht(o,i))return d.some({boxes:Mn(o,t,e),start:t,finish:e});if(Ut(o,i)){var a=(s=Ae(e,"td,th",r(o))).length>0?s[s.length-1]:e;return d.some({boxes:Ln(o,t,o,e,i),start:t,finish:a})}if(Ut(i,o)){var s,u=(s=Ae(t,"td,th",r(i))).length>0?s[s.length-1]:t;return d.some({boxes:Ln(i,t,o,e,i),start:t,finish:u})}return function(t,e,n){return Hn(qn,t,e,n)}(t,e).shared().bind((function(a){return Be(a,"table",n).bind((function(n){var a=Ae(e,"td,th",r(n)),s=a.length>0?a[a.length-1]:e,u=Ae(t,"td,th",r(n)),l=u.length>0?u[u.length-1]:t;return d.some({boxes:Ln(n,t,o,e,i),start:l,finish:s})}))}))}))}))},$n=function(t,e){var n=Ne(t,e);return n.length>0?d.some(n):d.none()},Gn=function(t,e,n){return Ie(t,e).bind((function(e){return Ie(t,n).bind((function(t){return Un(Wn,[e,t]).map((function(n){return{first:r(e),last:r(t),table:r(n)}}))}))}))},Yn=function(t,e,n,r,o){return function(t,e){return M(t,(function(t){return jt(t,e)}))}(t,o).bind((function(t){return Pn(t,e,n).bind((function(t){return function(t,e){return Le(t,"table").bind((function(n){return Ie(n,e).bind((function(e){return Vn(e,t).bind((function(t){return t.boxes.map((function(e){return{boxes:e,start:t.start,finish:t.finish}}))}))}))}))}(t,r)}))}))},Kn=function(t,e,n){return Gn(t,e,n).bind((function(e){var n=function(e){return Ht(t,e)},r=Le(e.first(),"thead,tfoot,tbody,table",n),o=Le(e.last(),"thead,tfoot,tbody,table",n);return r.bind((function(t){return o.bind((function(n){return Ht(t,n)?function(t,e,n){var r=Rn(t);return An(r,e,n)}(e.table(),e.first(),e.last()):d.none()}))}))}))},Zn=Object.freeze({__proto__:null,selected:"data-mce-selected",selectedSelector:"td[data-mce-selected],th[data-mce-selected]",attributeSelector:"[data-mce-selected]",firstSelected:"data-mce-first-selected",firstSelectedSelector:"td[data-mce-first-selected],th[data-mce-first-selected]",lastSelected:"data-mce-last-selected",lastSelectedSelector:"td[data-mce-last-selected],th[data-mce-last-selected]"}),Xn=function(e){if(!v(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return A(e,(function(o,i){var a=z(o);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],u=o[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!v(u))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==u.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+u.length+" ("+u+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var l=function(t){var e=z(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!B(n,(function(t){return S(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:l,log:function(e){t.console.log(e,{constructors:n,constructor:s,params:o})}}}})),r},Jn=Xn([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Qn=function(t,e,n,r){return t.fold(e,n,r)},tr=Jn.none,er=Jn.multiple,nr=Jn.single,rr=function(t,e){return Qn(e.get(),r([]),o,r([t]))},or=function(t,e){var n=rr(t,e);return n.length>0&&B(n,(function(t){return st(t,"rowspan")&&parseInt(it(t,"rowspan"),10)>1||st(t,"colspan")&&parseInt(it(t,"colspan"),10)>1}))?d.some(n):d.none()},ir=function(t,e){return Qn(e.get(),d.none,(function(e,n){return 0===e.length?d.none():Kn(t,"td[data-mce-first-selected],th[data-mce-first-selected]","td[data-mce-last-selected],th[data-mce-last-selected]").bind((function(t){return e.length>1?d.some({bounds:r(t),cells:r(e)}):d.none()}))}),d.none)},ar=function(t){return{element:r(t),mergable:d.none,unmergable:d.none,selection:r([t])}},sr=function(t,e,n){return{element:r(n),mergable:r(ir(e,t)),unmergable:r(or(n,t)),selection:r(rr(n,t))}},ur=function(e,o,i,a){e.on("BeforeGetContent",(function(t){!0===t.selection&&Qn(o.get(),n,(function(n){t.preventDefault(),function(t){return Ke(t[0]).map(vn).map((function(t){return[rn(t,"[data-mce-selected]")]}))}(n).each((function(n){t.content="text"===t.format?function(t){return O(t,(function(t){return t.dom().innerText})).join("")}(n):function(t,e){return O(e,(function(e){return t.selection.serializer.serialize(e.dom(),{})})).join("")}(e,n)}))}),n)})),e.on("BeforeSetContent",(function(n){!0===n.selection&&!0===n.paste&&d.from(e.dom.getParent(e.selection.getStart(),"th,td")).each((function(o){var s=vt.fromDom(o);Ke(s).each((function(o){var u,l,c,f,d=D((u=n.content,(c=(l||t.document).createElement("div")).innerHTML=u,Zt(vt.fromDom(c))),(function(t){return"meta"!==Y(t)}));if(1===d.length&&(f=d[0],"table"===Y(f))){n.preventDefault();var h=vt.fromDom(e.getDoc()),p=Cn(h),m=function(t,e,n){return{element:r(t),clipboard:r(e),generators:r(n)}}(s,d[0],p);i.pasteCells(o,m).each((function(t){e.selection.setRng(t),e.focus(),a.clear(o)}))}}))}))}))},lr=function(t,e){return{left:r(t),top:r(e),translate:function(n,r){return lr(t+n,e+r)}}},cr=lr,fr=function(t,e){return void 0!==t?t:void 0!==e?e:0},dr=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement;if(n===t.dom())return cr(n.offsetLeft,n.offsetTop);var i=fr(r.pageYOffset,o.scrollTop),a=fr(r.pageXOffset,o.scrollLeft),s=fr(o.clientTop,n.clientTop),u=fr(o.clientLeft,n.clientLeft);return hr(t).translate(a-u,i-s)},hr=function(t){var e=t.dom(),n=e.ownerDocument.body;return n===e?cr(n.offsetLeft,n.offsetTop):ie(t)?function(t){var e=t.getBoundingClientRect();return cr(e.left,e.top)}(e):cr(0,0)},pr=function(t){var e=d.from(t.dom().documentElement).map(vt.fromDom).getOr(t);return{parent:r(e),view:r(t),origin:r(cr(0,0))}},mr=function(t,e){return{parent:r(e),view:r(t),origin:r(cr(0,0))}};function gr(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var o=ce(n,t);return parseFloat(o)||0}return r},r=function(t,e){return P(e,(function(e,n){var r=ce(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o}),0)};return{set:function(e,n){if(!x(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();mt(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var o=r(t,n);return e>o?e-o:0}}}var vr=gr("height",(function(t){var e=t.dom();return ie(t)?e.getBoundingClientRect().height:e.offsetHeight})),yr=function(t){return vr.get(t)},br=function(t){return vr.getOuter(t)},wr=gr("width",(function(t){return t.dom().offsetWidth})),xr=function(t){return wr.get(t)},_r=function(t){return wr.getOuter(t)},kr=function(t,e){return{row:t,y:e}},Cr=function(t,e){return{col:t,x:e}},Sr=function(t){return dr(t).left()+_r(t)},Tr=function(t){return dr(t).left()},Er=function(t,e){return Cr(t,Tr(e))},Or=function(t,e){return Cr(t,Sr(e))},Ar=function(t){return dr(t).top()},Dr=function(t,e){return kr(t,Ar(e))},Nr=function(t,e){return kr(t,Ar(e)+br(e))},Pr=function(t,e,n){if(0===n.length)return[];var r=O(n.slice(1),(function(e,n){return e.map((function(e){return t(n,e)}))})),o=n[n.length-1].map((function(t){return e(n.length-1,t)}));return r.concat([o])},Mr={delta:o,positions:function(t){return Pr(Dr,Nr,t)},edge:Ar},Lr={delta:o,edge:Tr,positions:function(t){return Pr(Er,Or,t)}},Rr={delta:function(t){return-t},edge:Sr,positions:function(t){return Pr(Or,Er,t)}},Ir=function(t){var e=t.grid,n=E(e.columns(),o),i=E(e.rows(),o);return O(n,(function(e){return Br((function(){return I(i,(function(n){return en.getAt(t,n,e).filter((function(t){return t.column()===e})).fold(r([]),(function(t){return[t]}))}))}),(function(t){return 1===t.colspan()}),(function(){return en.getAt(t,0,e)}))}))},Br=function(t,e,n){var r=t();return M(r,e).orThunk((function(){return d.from(r[0]).orThunk(n)})).map((function(t){return t.element()}))},Fr=function(t){var e=t.grid,n=E(e.rows(),o),i=E(e.columns(),o);return O(n,(function(e){return Br((function(){return I(i,(function(n){return en.getAt(t,e,n).filter((function(t){return t.row()===e})).fold(r([]),(function(t){return[t]}))}))}),(function(t){return 1===t.rowspan()}),(function(){return en.getAt(t,e,0)}))}))},jr=function(t,e){if(e<0||e>=t.length-1)return d.none();var n=t[e].fold((function(){var n=function(t){var e=_.call(t,0);return e.reverse(),e}(t.slice(0,e));return j(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return d.some({value:t,delta:0})})),r=t[e+1].fold((function(){var n=t.slice(e+1);return j(n,(function(t,e){return t.map((function(t){return{value:t,delta:e+1}}))}))}),(function(t){return d.some({value:t,delta:1})}));return n.bind((function(t){return r.map((function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n}))}))},zr=function(){var t=Ft().browser;return t.isIE()||t.isEdge()},Hr=function(t,e,n){return function(t,e){var n=parseFloat(t);return isNaN(n)?e:n}(ce(t,e),n)},qr=function(t){return zr()?function(t){var e=t.dom().getBoundingClientRect().height;return"border-box"===ce(t,"box-sizing")?e:e-Hr(t,"padding-top",0)-Hr(t,"padding-bottom",0)-(Hr(t,"border-top-width",0)+Hr(t,"border-bottom-width",0))}(t):Hr(t,"height",yr(t))},Ur=function(t){return zr()?function(t){var e=t.dom().getBoundingClientRect().width;return"border-box"===ce(t,"box-sizing")?e:e-Hr(t,"padding-left",0)-Hr(t,"padding-right",0)-(Hr(t,"border-left-width",0)+Hr(t,"border-right-width",0))}(t):Hr(t,"width",xr(t))},Wr=/(\d+(\.\d+)?)(\w|%)*/,Vr=/(\d+(\.\d+)?)%/,$r=/(\d+(\.\d+)?)px|em/,Gr=function(t,e){var n,r=(n=t,d.from(n.dom().offsetParent).map(vt.fromDom)).getOr(ae(Vt(t)));return e(t)/e(r)*100},Yr=function(t,e){ue(t,"width",e+"px")},Kr=function(t,e){ue(t,"width",e+"%")},Zr=function(t,e){ue(t,"height",e+"px")},Xr=function(t,e,n,r){var o=parseInt(t,10);return dt(t,"%")&&"table"!==Y(e)?function(t,e,n,r){var o=Ke(t).map((function(t){var r=n(t);return Math.floor(e/100*r)})).getOr(e);return r(t,o),o}(e,o,n,r):o},Jr=function(t){var e=function(t){return de(t,"height").getOrThunk((function(){return qr(t)+"px"}))}(t);return e?Xr(e,t,yr,Zr):yr(t)},Qr=function(t){return de(t,"width").fold((function(){return d.from(it(t,"width"))}),(function(t){return d.some(t)}))},to=function(t,e){return t/e.pixelWidth()*100},eo=function(t,e){return Qr(t).fold((function(){var n=xr(t);return to(n,e)}),(function(n){return function(t,e,n){var r=Vr.exec(e);if(null!==r)return parseFloat(r[1]);var o=Ur(t);return to(o,n)}(t,n,e)}))},no=function(t,e){return Qr(t).fold((function(){return Ur(t)}),(function(n){return function(t,e,n){var r=$r.exec(e);if(null!==r)return parseInt(r[1],10);var o=Vr.exec(e);return null!==o?function(t,e){return t/100*e.pixelWidth()}(parseFloat(o[1]),n):Ur(t)}(t,n,e)}))},ro=function(t){return function(t,e,n){return n(t)/je(t,e)}(t,"rowspan",Jr)},oo=function(t,e,n){ue(t,"width",e+n)},io=function(t){return Gr(t,xr)+"%"},ao=r(Vr),so=r($r),uo=function(t,e,n){return de(t,e).fold((function(){return n(t)+"px"}),(function(t){return t}))},lo=function(t,e){return uo(t,"width",(function(t){return no(t,e)}))},co=function(t){return uo(t,"height",ro)},fo=function(t,e,n,r,o){var i=Ir(t),s=O(i,(function(t){return t.map(e.edge)}));return O(i,(function(t,e){return t.filter(a(ze)).fold((function(){var t=jr(s,e);return r(t)}),(function(t){return n(t,o)}))}))},ho=function(t){return t.map((function(t){return t+"px"})).getOr("")},po=function(t,e,n){return fo(t,e,eo,(function(t){return t.fold((function(){return n.minCellWidth()}),(function(t){return t/n.pixelWidth()*100}))}),n)},mo=function(t,e,n){return fo(t,e,no,(function(t){return t.getOrThunk(n.minCellWidth)}),n)},go=function(t,e,n,r){var o=Fr(t),i=O(o,(function(t){return t.map(e.edge)}));return O(o,(function(t,e){return t.filter(a(He)).fold((function(){var t=jr(i,e);return r(t)}),(function(t){return n(t)}))}))},vo=Xn([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),yo=function(t,e,n){var r=n.substring(0,n.length-t.length),o=parseFloat(r);return r===o.toString()?e(o):vo.invalid(n)},bo=yt(yt({},vo),{from:function(t){return dt(t,"%")?yo("%",vo.percent,t):dt(t,"px")?yo("px",vo.pixels,t):vo.invalid(t)}}),wo=function(t,e,n){return t.fold((function(){return e}),(function(t){return function(t,e,n){var r=n/e;return O(t,(function(t){return bo.from(t).fold((function(){return t}),(function(t){return t*r+"px"}),(function(t){return t/100*n+"px"}))}))}(e,n,t)}),(function(t){return function(t,e){return O(t,(function(t){return bo.from(t).fold((function(){return t}),(function(t){return t/e*100+"%"}),(function(t){return t+"%"}))}))}(e,n)}))},xo=function(t,e,n){var o=bo.from(n),i=B(t,(function(t){return"0px"===t}))?function(t,e){var n=t.fold((function(){return r("")}),(function(t){return r(t/e+"px")}),(function(t){return r(t/e+"px")}));return E(e,n)}(o,t.length):wo(o,t,e);return Co(i)},_o=function(t,e){return 0===t.length?e:N(t,(function(t,e){return bo.from(e).fold(r(0),o,o)+t}),0)},ko=function(t,e){return bo.from(t).fold(r(t),(function(t){return t+e+"px"}),(function(t){return t+e+"%"}))},Co=function(t){if(0===t.length)return t;var e=N(t,(function(t,e){var n=bo.from(e).fold((function(){return{value:e,remainder:0}}),(function(t){return function(t,e){var n=Math.floor(t);return{value:n+e,remainder:t-n}}(t,"px")}),(function(t){return{value:t+"%",remainder:0}}));return{output:[n.value].concat(t.output),remainder:t.remainder+n.remainder}}),{output:[],remainder:0}),n=e.output;return n.slice(0,n.length-1).concat([ko(n[n.length-1],Math.round(e.remainder))])},So=bo.from,To=function(t){return So(t).fold(r("px"),r("px"),r("%"))},Eo=function(t,e,n,r,o){var i=en.fromTable(t),a=i.all,s=en.justCells(i);e.each((function(e){var n=To(e),a=xr(t),u=function(t,e,n){return fo(t,e,lo,ho,n)}(i,r,o);!function(t,e,n){A(e,(function(e){var r=t.slice(e.column(),e.colspan()+e.column()),o=_o(r,Ue());ue(e.element(),"width",o+n)}))}(xo(u,a,e),s,n),ue(t,"width",e)})),n.each((function(e){var n=To(e),r=yr(t),o=function(t,e){return go(t,e,co,ho)}(i,Mr);!function(t,e,n,r){A(n,(function(e){var n=t.slice(e.row(),e.rowspan()+e.row()),o=_o(n,We());ue(e.element(),"height",o+r)})),A(e,(function(e,n){ue(e.element(),"height",t[n])}))}(xo(o,r,e),a,s,n),ue(t,"height",e)}))},Oo=function(t){return Qr(t).exists((function(t){return Vr.test(t)}))},Ao=function(t){return Qr(t).exists((function(t){return $r.test(t)}))},Do=function(t){return Qr(t).isNone()},No=io,Po={ltr:Lr,rtl:Rr},Mo=function(t){var e=function(e){return t(e).isRtl()?Po.rtl:Po.ltr};return{delta:function(t,n){return e(n).delta(t,n)},edge:function(t){return e(t).edge(t)},positions:function(t,n){return e(n).positions(t,n)}}},Lo=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var o={};return A(t,(function(t,n){o[t]=r(e[n])})),o}},Ro=function(t){var e=Lo.apply(null,t),n=[];return{bind:function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},unbind:function(t){n=D(n,(function(e){return e!==t}))},trigger:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(null,t);A(n,(function(t){t(o)}))}}},Io=function(t){return{registry:U(t,(function(t){return{bind:t.bind,unbind:t.unbind}})),trigger:U(t,(function(t){return t.trigger}))}},Bo=Xn([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Fo=yt({},Bo),jo=function(t,e,n,o){var i=t.slice(0),a=function(t,e){return 0===t.length?Fo.none():1===t.length?Fo.only(0):0===e?Fo.left(0,1):e===t.length-1?Fo.right(e-1,e):e>0&&e<t.length-1?Fo.middle(e-1,e,e+1):Fo.none()}(t,e),s=function(t){return O(t,r(0))},u=r(s(i)),l=function(t,e){if(n>=0){var r=Math.max(o.minCellWidth(),i[e]-n);return s(i.slice(0,t)).concat([n,r-i[e]]).concat(s(i.slice(e+1)))}var a=Math.max(o.minCellWidth(),i[t]+n),u=i[t]-a;return s(i.slice(0,t)).concat([a-i[t],u]).concat(s(i.slice(e+1)))},c=l;return a.fold(u,(function(t){return o.singleColumnWidth(i[t],n)}),c,(function(t,e,n){return l(e,n)}),(function(t,e){if(n>=0)return s(i.slice(0,e)).concat([n]);var r=Math.max(o.minCellWidth(),i[e]+n);return s(i.slice(0,e)).concat([r-i[e]])}))},zo=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},Ho=function(t,e){var n=en.justCells(t);return O(n,(function(t){var n=zo(t.column(),t.column()+t.colspan(),e);return{element:t.element(),width:n,colspan:t.colspan()}}))},qo=function(t,e){var n=en.justCells(t);return O(n,(function(t){var n=zo(t.row(),t.row()+t.rowspan(),e);return{element:t.element,height:r(n),rowspan:t.rowspan}}))},Uo=function(t,e,n,o){var i=en.fromTable(t),a=function(t,e){return go(t,e,ro,(function(t){return t.getOrThunk(We)}))}(i,o),s=O(a,(function(t,r){return n===r?Math.max(e+t,We()):t})),u=qo(i,s),l=function(t,e){return O(t.all,(function(t,n){return{element:t.element,height:r(e[n])}}))}(i,s);A(l,(function(t){Zr(t.element(),t.height())})),A(u,(function(t){Zr(t.element(),t.height())}));var c=N(s,(function(t,e){return t+e}),0);Zr(t,c)},Wo=function(t){var e,n,o=vt.fromDom(re(t).getOr(t.target)),i=function(){return t.stopPropagation()},a=function(){return t.preventDefault()},s=(e=a,n=i,function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e(n.apply(null,t))});return function(t,e,n,o,i,a,s){return{target:r(t),x:r(e),y:r(n),stop:o,prevent:i,kill:a,raw:r(s)}}(o,t.clientX,t.clientY,i,a,s,t)},Vo=function(t,e,n,r,o){var a=function(t,e){return function(n){t(n)&&e(Wo(n))}}(n,r);return t.dom().addEventListener(e,a,o),{unbind:i($o,t,e,a,o)}},$o=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Go=r(!0),Yo=function(t,e,n){return function(t,e,n,r){return Vo(t,e,n,r,!1)}(t,e,Go,n)},Ko=Wo,Zo=function(t,e){var n=it(t,e);return void 0===n||""===n?[]:n.split(" ")},Xo=function(t){return void 0!==t.dom().classList},Jo=function(t,e){return function(t,e,n){var r=Zo(t,e).concat([n]);return rt(t,e,r.join(" ")),!0}(t,"class",e)},Qo=function(t,e){Xo(t)?t.dom().classList.add(e):Jo(t,e)},ti=function(t,e){return Xo(t)&&t.dom().classList.contains(e)},ei=function(t){var e=t.replace(/\./g,"-");return{resolve:function(t){return e+"-"+t}}},ni=ei("ephox-dragster").resolve,ri=function(t){return t.slice(0).sort()},oi=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");var r;return function(t,e){if(!v(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");A(e,(function(e){if(!m(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))}("required",e),r=ri(e),M(r,(function(t,e){return e<r.length-1&&t===r[e+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+r.join(", ")+"].")})),function(r){var o=z(r);B(e,(function(t){return S(o,t)}))||function(t,e){throw new Error("All required keys ("+ri(t).join(", ")+") were not specified. Specified keys were: "+ri(e).join(", ")+".")}(e,o),t(e,o);var i=D(e,(function(t){return!n.validate(r[t],t)}));return i.length>0&&function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+ri(t).join(", ")+") were not.")}(i,n.label),r}},ii=function(t,e){var n=D(e,(function(e){return!S(t,e)}));n.length>0&&function(t){throw new Error("Unsupported keys for object: "+ri(t).join(", "))}(n)},ai=function(t){return function(t,e){return oi(t,e,{validate:w,label:"function"})}(ii,t)},si=ai(["compare","extract","mutate","sink"]),ui=ai(["element","start","stop","destroy"]),li=ai(["forceDrop","drop","move","delayDrop"]),ci=si({compare:function(t,e){return cr(e.left()-t.left(),e.top()-t.top())},extract:function(t){return d.some(cr(t.x(),t.y()))},sink:function(t,e){var n=function(t){var e=yt({layerClass:ni("blocker")},t),n=vt.fromTag("div");rt(n,"role","presentation"),le(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Qo(n,ni("blocker")),Qo(n,e.layerClass);return{element:function(){return n},destroy:function(){_e(n)}}}(e),r=Yo(n.element(),"mousedown",t.forceDrop),o=Yo(n.element(),"mouseup",t.drop),i=Yo(n.element(),"mousemove",t.move),a=Yo(n.element(),"mouseout",t.delayDrop);return ui({element:n.element,start:function(t){ve(t,n.element())},stop:function(){_e(n.element())},destroy:function(){n.destroy(),o.unbind(),i.unbind(),a.unbind(),r.unbind()}})},mutate:function(t,e){t.mutate(e.left(),e.top())}});function fi(){var t=d.none(),e=Io({move:Ro(["info"])});return{onEvent:function(n,r){r.extract(n).each((function(n){(function(e,n){var r=t.map((function(t){return e.compare(t,n)}));return t=d.some(n),r})(r,n).each((function(t){e.trigger.move(t)}))}))},reset:function(){t=d.none()},events:e.registry}}function di(){var t={onEvent:n,reset:n},e=fi(),r=t;return{on:function(){r.reset(),r=e},off:function(){r.reset(),r=t},isOn:function(){return r===e},onEvent:function(t,e){r.onEvent(t,e)},events:e.events}}var hi=function(e,n,r){var o,i,a,s=!1,u=Io({start:Ro([]),stop:Ro([])}),l=di(),c=function(){h.stop(),l.isOn()&&(l.off(),u.trigger.stop())},f=(o=c,i=200,a=null,{cancel:function(){null!==a&&(t.clearTimeout(a),a=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==a&&t.clearTimeout(a),a=t.setTimeout((function(){o.apply(null,e),a=null}),i)}});l.events.move.bind((function(t){n.mutate(e,t.info())}));var d=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s&&t.apply(null,e)}},h=n.sink(li({forceDrop:c,drop:d(c),move:d((function(t){f.cancel(),l.onEvent(t,n)})),delayDrop:d(f.throttle)}),r);return{element:h.element,go:function(t){h.start(t),l.on(),u.trigger.start()},on:function(){s=!0},off:function(){s=!1},destroy:function(){h.destroy()},events:u.registry}},pi=function(t){return"true"===it(t,"contenteditable")},mi=ei("ephox-snooker"),gi=mi.resolve,vi=function(){var t=Io({drag:Ro(["xDelta","yDelta","target"])}),e=d.none(),n=function(){var t=Io({drag:Ro(["xDelta","yDelta"])});return{mutate:function(e,n){t.trigger.drag(e,n)},events:t.registry}}();n.events.drag.bind((function(n){e.each((function(e){t.trigger.drag(n.xDelta(),n.yDelta(),e)}))}));return{assign:function(t){e=d.some(t)},get:function(){return e},mutate:n.mutate,events:t.registry}},yi=gi("resizer-bar"),bi=gi("resizer-rows"),wi=gi("resizer-cols"),xi=function(t){var e=Ne(t.parent(),"."+yi);A(e,_e)},_i=function(t,e,n){var r=t.origin();A(e,(function(e){e.each((function(e){var o=n(r,e);Qo(o,yi),ve(t.parent(),o)}))}))},ki=function(t,e,n,r){_i(t,e,(function(t,e){var o,i,a,s,u,l,c=(o=e.col,i=e.x-t.left(),a=n.top()-t.top(),s=7,u=r,l=vt.fromTag("div"),le(l,{position:"absolute",left:i-s/2+"px",top:a+"px",height:u+"px",width:s+"px"}),ot(l,{"data-column":o,role:"presentation"}),l);return Qo(c,wi),c}))},Ci=function(t,e,n,r){_i(t,e,(function(t,e){var o=function(t,e,n,r,o){var i=vt.fromTag("div");return le(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),ot(i,{"data-row":t,role:"presentation"}),i}(e.row,n.left()-t.left(),e.y-t.top(),r,7);return Qo(o,bi),o}))},Si=function(t,e,n,r){xi(t);var o=en.fromTable(e);!function(t,e,n,r,o,i){var a=dr(e),s=n.length>0?o.positions(n,e):[];Ci(t,s,a,_r(e));var u=r.length>0?i.positions(r,e):[];ki(t,u,a,br(e))}(t,e,Fr(o),Ir(o),n,r)},Ti=function(t,e){var n=Ne(t.parent(),"."+yi);A(n,e)},Ei=function(t){Ti(t,(function(t){ue(t,"display","none")}))},Oi=function(t){Ti(t,(function(t){ue(t,"display","block")}))},Ai=gi("resizer-bar-dragging"),Di=function(t,e,n){var r=vi(),o=function(t,e){void 0===e&&(e={});var n=void 0!==e.mode?e.mode:ci;return hi(t,n,e)}(r,{}),a=d.none(),s=function(t,e){return d.from(it(t,e))};r.events.drag.bind((function(t){s(t.target(),"data-row").each((function(e){var n=qe(t.target(),"top");ue(t.target(),"top",n+t.yDelta()+"px")})),s(t.target(),"data-column").each((function(e){var n=qe(t.target(),"left");ue(t.target(),"left",n+t.xDelta()+"px")}))}));var u=function(t,e){return qe(t,e)-Fe(t,"data-initial-"+e,0)};o.events.stop.bind((function(){r.get().each((function(r){a.each((function(o){s(r,"data-row").each((function(t){var e=u(r,"top");ut(r,"data-initial-top"),m.trigger.adjustHeight(o,e,parseInt(t,10))})),s(r,"data-column").each((function(t){var e=u(r,"left");ut(r,"data-initial-left"),m.trigger.adjustWidth(o,e,parseInt(t,10))})),Si(t,o,n,e)}))}))}));var l=function(e,n){m.trigger.startAdjust(),r.assign(e),rt(e,"data-initial-"+n,qe(e,n)),Qo(e,Ai),ue(e,"opacity","0.2"),o.go(t.parent())},c=Yo(t.parent(),"mousedown",(function(t){var e;e=t.target(),ti(e,bi)&&l(t.target(),"top"),function(t){return ti(t,wi)}(t.target())&&l(t.target(),"left")})),f=function(e){return Ht(e,t.view())},h=function(t){return Be(t,"table",f).filter((function(t){return function(t,e){return Be(t,"[contenteditable]",e)}(t,f).exists(pi)}))},p=Yo(t.view(),"mouseover",(function(r){h(r.target()).fold((function(){ie(r.target())&&xi(t)}),(function(r){a=d.some(r),Si(t,r,n,e)}))})),m=Io({adjustHeight:Ro(["table","delta","row"]),adjustWidth:Ro(["table","delta","column"]),startAdjust:Ro([])});return{destroy:function(){c.unbind(),p.unbind(),o.destroy(),xi(t)},refresh:function(r){Si(t,r,n,e)},on:o.on,off:o.off,hideBars:i(Ei,t),showBars:i(Oi,t),events:m.registry}},Ni=function(t,e,n){var r=Mr,o=Di(t,e,r),i=Io({beforeResize:Ro(["table"]),afterResize:Ro(["table"]),startDrag:Ro([])});return o.events.adjustHeight.bind((function(t){var e=t.table();i.trigger.beforeResize(e);var n=r.delta(t.delta(),e);Uo(e,n,t.row(),r),i.trigger.afterResize(e)})),o.events.startAdjust.bind((function(t){i.trigger.startDrag()})),o.events.adjustWidth.bind((function(t){var r=t.table();i.trigger.beforeResize(r);var o=e.delta(t.delta(),r),a=n(r);!function(t,e,n,r,o){var i=o.getCellDelta(e),a=en.fromTable(t),s=o.getWidths(a,r,o),u=jo(s,n,i,o),l=O(u,(function(t,e){return t+s[e]})),c=Ho(a,l);A(c,(function(t){o.setElementWidth(t.element,t.width)})),n===a.grid.columns()-1&&o.adjustTableWidth(i)}(r,o,t.column(),e,a),i.trigger.afterResize(r)})),{on:o.on,off:o.off,hideBars:o.hideBars,showBars:o.showBars,destroy:o.destroy,events:i.registry}},Pi=function(t,e){return t.fire("newrow",{node:e})},Mi=function(t,e){return t.fire("newcell",{node:e})},Li={"border-collapse":"collapse",width:"100%"},Ri={border:"1"},Ii=function(t){return t.getParam("table_sizing_mode","auto")},Bi=function(t){return t.getParam("table_responsive_width")},Fi=function(t){return t.getParam("table_default_attributes",Ri,"object")},ji=function(t){return t.getParam("table_default_styles",function(t){if(Vi(t)){var e=t.getBody().offsetWidth;return yt(yt({},Li),{width:e+"px"})}return $i(t)?V(Li,(function(t,e){return"width"!==e})):Li}(t),"object")},zi=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},Hi=function(t){return t.getParam("table_row_advtab",!0,"boolean")},qi=function(t){return t.getParam("table_advtab",!0,"boolean")},Ui=function(t){return t.getParam("table_style_by_css",!1,"boolean")},Wi=function(t){return"relative"===Ii(t)||!0===Bi(t)},Vi=function(t){return"fixed"===Ii(t)||!1===Bi(t)},$i=function(t){return"responsive"===Ii(t)},Gi=function(t){var e=t.getParam("table_header_type","section","string");return S(["section","cells","sectionCells","auto"],e)?e:"section"},Yi=function(t){var e=t.getParam("table_clone_elements");return m(e)?d.some(e.split(/[ ,]/)):Array.isArray(e)?d.some(e):d.none()},Ki=function(t){return t.nodeName.toLowerCase()},Zi=function(t){return vt.fromDom(t.getBody())},Xi=function(t){return t.getBoundingClientRect().width},Ji=function(t){return t.getBoundingClientRect().height},Qi=function(t){return function(e){return Ht(e,Zi(t))}},ta=function(t){return/^\d+(\.\d+)?$/.test(t)?t+"px":t},ea=function(t){ut(t,"data-mce-style"),A(Ye(t),(function(t){return ut(t,"data-mce-style")}))},na=function(t,e){var n=t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width");return d.from(n).filter(pt)},ra=function(t){return/^(\d+(\.\d+)?)%$/.test(t)},oa={isRtl:r(!1)},ia={isRtl:r(!0)},aa=function(t){return"rtl"===function(t){return"rtl"===ce(t,"direction")?"rtl":"ltr"}(t)?ia:oa},sa=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},ua=function(t){var e=function(){return xr(t)},o=r(0);return{width:e,pixelWidth:e,getWidths:mo,getCellDelta:o,singleColumnWidth:r([0]),minCellWidth:o,setElementWidth:n,adjustTableWidth:n,label:"none"}},la=function(t,e){var n=sa(parseFloat(t)),r=sa(xr(e));return{width:n.get,pixelWidth:r.get,getWidths:po,getCellDelta:function(t){return t/r.get()*100},singleColumnWidth:function(t,e){return[100-t]},minCellWidth:function(){return Ue()/r.get()*100},setElementWidth:Kr,adjustTableWidth:function(t){var o=n.get(),i=o+t/100*o;Kr(e,i),n.set(i),r.set(xr(e))},label:"percent"}},ca=function(t,e){var n=sa(t),r=n.get;return{width:r,pixelWidth:r,getWidths:mo,getCellDelta:o,singleColumnWidth:function(t,e){return[Math.max(Ue(),t+e)-t]},minCellWidth:Ue,setElementWidth:Yr,adjustTableWidth:function(t){var o=r()+t;Yr(e,o),n.set(o)},label:"pixel"}},fa=function(t){return Qr(t).fold((function(){return ua(t)}),(function(e){return function(t,e){var n=ao().exec(e);if(null!==n)return la(n[1],t);var r=so().exec(e);if(null!==r){var o=parseInt(r[1],10);return ca(o,t)}var i=xr(t);return ca(i,t)}(t,e)}))},da=ca,ha=la,pa=function(t,e){if(Wi(t)){var n=na(t,e.dom()).filter(ra).getOrThunk((function(){return No(e)}));return ha(n,e)}return Vi(t)?da(xr(e),e):fa(e)},ma=function(t){ut(t,"width")},ga=function(t,e,n){var r=function(t){return xr(t)+"px"}(t);Eo(t,d.some(r),d.none(),e,n),ma(t)},va=function(t,e){!function(t,e,n){var r=io(t);Eo(t,d.some(r),d.none(),e,n),ma(t)}(e,Mo(aa),pa(t,e))},ya=function(t,e){var n=Mo(aa),r=pa(t,e);ga(e,n,r)},ba=function(t){he(t,"width"),A(Ye(t),(function(t){he(t,"width"),ma(t)})),ma(t)},wa=function(){var e=vt.fromTag("div");return le(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ve(ae(vt.fromDom(t.document)),e),e},xa=function(t){var e,n,r=d.none(),o=d.none(),i=d.none(),a=function(t){return"TABLE"===t.nodeName},s=function(){return o};return t.on("init",(function(){var e=Mo(aa),n=function(t,e){return t.inline?mr(Zi(t),wa()):pr(vt.fromDom(t.getDoc()))}(t);if(i=d.some(n),function(t){var e=t.getParam("object_resizing",!0);return m(e)?"table"===e:e}(t)&&function(t){return t.getParam("table_resize_bars",!0,"boolean")}(t)){var a=Ni(n,e,(function(e){return pa(t,e)}));a.on(),a.events.startDrag.bind((function(e){r=d.some(t.selection.getRng())})),a.events.beforeResize.bind((function(e){var n=e.table().dom();!function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})}(t,n,Xi(n),Ji(n))})),a.events.afterResize.bind((function(e){var n=e.table(),o=n.dom();ea(n),r.each((function(e){t.selection.setRng(e),t.focus()})),function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})}(t,o,Xi(o),Ji(o)),t.undoManager.add()})),o=d.some(a)}})),t.on("ObjectResizeStart",(function(r){var o=r.target;if(a(o)){var i=vt.fromDom(o);!Ao(i)&&Vi(t)?ya(t,i):!Oo(i)&&Wi(t)&&va(t,i),e=r.width,n=na(t,o).getOr("")}})),t.on("ObjectResized",(function(r){var o=r.target;if(a(o)){var i=vt.fromDom(o);if(""===n||!ra(n)&&$i(t))va(t,i);else if(ra(n)){var s=parseFloat(n.replace("%","")),u=r.width*s/e;ue(i,"width",u+"%")}else!function(t){A(Ye(t),(function(t){var e=ce(t,"width");ue(t,"width",e),ut(t,"width")}))}(i);ea(i)}})),t.on("SwitchMode",(function(){s().each((function(e){t.mode.isReadOnly()?e.hideBars():e.showBars()}))})),{lazyResize:s,lazyWire:function(){return i.getOr(pr(vt.fromDom(t.getBody())))},destroy:function(){o.each((function(t){t.destroy()})),i.each((function(e){!function(t,e){t.inline&&_e(e.parent())}(t,e)}))}}},_a=function(t,e){return{element:r(t),offset:r(e)}},ka=function(t,e,n){return t.property().isText(e)&&0===t.property().getText(e).trim().length||t.property().isComment(e)?n(e).bind((function(e){return ka(t,e,n).orThunk((function(){return d.some(e)}))})):d.none()},Ca=function(t,e){return t.property().isText(e)?t.property().getText(e).length:t.property().children(e).length},Sa=function(t,e){var n=ka(t,e,t.query().prevSibling).getOr(e);if(t.property().isText(n))return _a(n,Ca(t,n));var r=t.property().children(n);return r.length>0?Sa(t,r[r.length-1]):_a(n,Ca(t,n))},Ta=Sa,Ea=Bn(),Oa=function(t,e){(function(t){return Qr(t).bind((function(t){var e=Wr.exec(t);return null!==e?d.some({width:r(parseFloat(e[1])),unit:r(e[3])}):d.none()}))})(t).each((function(n){var r=n.width()/2;oo(t,r,n.unit()),oo(e,r,n.unit())}))},Aa=function(t){return en.fromTable(t).grid},Da=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},Na=function(t,e,n,r){n===r?ut(t,e):rt(t,e,n)},Pa=function(t,e){var n=[],r=[],o=F(De(t,"caption,colgroup")).fold((function(){return i(ge,t)}),(function(t){return i(me,t)})),a=function(e,i){e.length>0?function(e,i){var a=Re(t,i).getOrThunk((function(){var e=vt.fromTag(i,Vt(t).dom());return"thead"===i?o(e):ve(t,e),e}));xe(a);var s=O(e,(function(t){t.isNew()&&n.push(t.element());var e=t.element();return xe(e),A(t.cells(),(function(t){t.isNew()&&r.push(t.element()),Na(t.element(),"colspan",t.colspan(),1),Na(t.element(),"rowspan",t.rowspan(),1),ve(e,t.element())})),e}));we(a,s)}(e,i):function(e){Re(t,e).each(_e)}(i)},s=[],u=[],l=[];return A(e,(function(t){switch(t.section()){case"thead":s.push(t);break;case"tbody":u.push(t);break;case"tfoot":l.push(t)}})),a(s,"thead"),a(u,"tbody"),a(l,"tfoot"),{newRows:n,newCells:r}},Ma=function(t,e,n){t.cells()[e]=n},La=function(t,e){return Ee(e,t.section())},Ra=function(t,e){var n=t.cells(),r=O(n,e);return Ee(r,t.section())},Ia=function(t,e){return t.cells()[e]},Ba=function(t,e){return Ia(t,e).element()},Fa=function(t){return t.cells().length},ja=function(t,e){if(0===t.length)return 0;var n=t[0];return L(t,(function(t){return!e(n.element(),t.element())})).fold((function(){return t.length}),(function(t){return t}))},za=function(t,e,n,r){var o=function(t,e){return t[e]}(t,e).cells().slice(n),i=ja(o,r),a=function(t,e){return O(t,(function(t){return Ia(t,e)}))}(t,n).slice(e);return{colspan:i,rowspan:ja(a,r)}},Ha=function(t,e){var n=O(t,(function(t){return O(t.cells(),(function(){return!1}))}));return O(t,(function(o,i){return function(t,e){return{details:r(t),section:r(e)}}(I(o.cells(),(function(o,a){if(!1===n[i][a]){var s=za(t,i,a,e);return function(t,e,r,o){for(var i=t;i<t+r;i++)for(var a=e;a<e+o;a++)n[i][a]=!0}(i,a,s.rowspan,s.colspan),[(u=o.element(),l=s.rowspan,c=s.colspan,f=o.isNew(),{element:r(u),rowspan:r(l),colspan:r(c),isNew:r(f)})]}return[];var u,l,c,f})),o.section())}))},qa=function(t,e,n){for(var r=[],o=0;o<t.grid.rows();o++){for(var i=[],a=0;a<t.grid.columns();a++){var s=en.getAt(t,o,a).map((function(t){return Te(t.element(),n)})).getOrThunk((function(){return Te(e.gap(),!0)}));i.push(s)}var u=Ee(i,t.all[o].section());r.push(u)}return r},Ua=function(t,e){return O(t,(function(t){var n=function(t){return j(t,(function(t){return $t(t.element()).map((function(t){var e=$t(t).isNone();return Te(t,e)}))})).getOrThunk((function(){return Te(e.row(),!0)}))}(t.details());return function(t,e,n,o){return{element:r(t),cells:r(e),section:r(n),isNew:r(o)}}(n.element(),t.details(),t.section(),n.isNew())}))},Wa=function(t,e){var n=Ha(t,Ht);return Ua(n,e)},Va=function(t,e){return j(t.all,(function(t){return M(t.cells(),(function(t){return Ht(e,t.element())}))}))},$a=function(t,e,n,o,i){return function(a,s,u,l,c,f){var h=en.fromTable(s);return e(h,u).map((function(e){var n=function(t,e){return qa(t,e,!1)}(h,l),o=t(n,e,Ht,i(l)),a=Wa(o.grid(),l);return{grid:r(a),cursor:o.cursor}})).fold((function(){return d.none()}),(function(t){var e=Pa(s,t.grid()),i=d.from(f).getOrThunk((function(){return fa(s)}));return n(s,t.grid(),c,i),o(s),Si(a,s,Mr,c),d.some({cursor:t.cursor,newRows:r(e.newRows),newCells:r(e.newCells)})}))}},Ga=function(t,e){return Ge(e.element()).bind((function(e){return Va(t,e)}))},Ya=function(t,e){var n=O(e.selection(),(function(e){return Ge(e).bind((function(e){return Va(t,e)}))})),r=Da(n);return r.length>0?d.some({cells:r,generators:e.generators,clipboard:e.clipboard}):d.none()},Ka=function(t,e){var n=O(e.selection(),(function(e){return Ge(e).bind((function(e){return Va(t,e)}))})),r=Da(n);return r.length>0?d.some(r):d.none()},Za=function(t,e,n,r){for(var o=!0,i=0;i<t.length;i++)for(var a=0;a<Fa(t[0]);a++){var s=n(Ba(t[i],a),e);!0===s&&!1===o?Ma(t[i],a,Te(r(),!0)):!0===s&&(o=!1)}return t},Xa=function(t,e,n,r){if(e>0&&e<t.length){var o=function(t,e){return P(t,(function(t,n){return T(t,(function(t){return e(t.element(),n.element())}))?t:t.concat([n])}),[])}(t[e-1].cells(),n);A(o,(function(o){for(var i=d.none(),a=function(e){for(var a=function(a){var s=t[e].cells()[a];n(s.element(),o.element())&&(i.isNone()&&(i=d.some(r())),i.each((function(n){Ma(t[e],a,Te(n,!0))})))},s=0;s<Fa(t[0]);s++)a(s)},s=e;s<t.length;s++)a(s)}))}return t},Ja=function(t){return{is:function(e){return t===e},isValue:u,isError:s,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(e){return Ja(t)},orThunk:function(e){return Ja(t)},fold:function(e,n){return n(t)},map:function(e){return Ja(e(t))},mapError:function(e){return Ja(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return d.some(t)}}},Qa=function(t){return{is:s,isValue:s,isError:u,getOr:o,getOrThunk:function(t){return t()},getOrDie:function(){return(e=String(t),function(){throw new Error(e)})();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Qa(t)},mapError:function(e){return Qa(e(t))},each:n,bind:function(e){return Qa(t)},exists:s,forall:u,toOption:d.none}},ts={value:Ja,error:Qa,fromOption:function(t,e){return t.fold((function(){return Qa(e)}),Ja)}},es=function(t,e){return{rowDelta:0,colDelta:Fa(t[0])-Fa(e[0])}},ns=function(t,e){return{rowDelta:t.length-e.length,colDelta:0}},rs=function(t,e){return O(t,(function(){return Te(e.cell(),!0)}))},os=function(t,e,n){return t.concat(E(e,(function(){return La(t[t.length-1],rs(t[t.length-1].cells(),n))})))},is=function(t,e,n){return O(t,(function(t){return La(t,t.cells().concat(rs(E(e,o),n)))}))},as=function(t,e,n){var r=e.colDelta<0?is:o;return(e.rowDelta<0?os:o)(r(t,Math.abs(e.colDelta),n),Math.abs(e.rowDelta),n)},ss=function(t,e,n,r){var o=i(r,Ia(t[e],n).element()),a=t[e];return t.length>1&&Fa(a)>1&&(n>0&&o(Ba(a,n-1))||n<a.cells().length-1&&o(Ba(a,n+1))||e>0&&o(Ba(t[e-1],n))||e<t.length-1&&o(Ba(t[e+1],n)))},us=function(t,e,n,r,o){return function(t,e,n){if(t.row()>=e.length||t.column()>Fa(e[0]))return ts.error("invalid start address out of table bounds, row: "+t.row()+", column: "+t.column());var r=e.slice(t.row()),o=r[0].cells().slice(t.column()),i=Fa(n[0]),a=n.length;return ts.value({rowDelta:r.length-a,colDelta:o.length-i})}(t,e,n).map((function(i){var a=as(e,i,r);return function(t,e,n,r,o){for(var i=t.row(),a=t.column(),s=i+n.length,u=a+Fa(n[0]),l=i;l<s;l++)for(var c=a;c<u;c++){ss(e,l,c,o)&&Za(e,Ba(e[l],c),o,r.cell);var f=Ba(n[l-i],c-a),d=r.replace(f);Ma(e[l],c,Te(d,!0))}return e}(t,a,n,r,o)}))},ls=function(t,e,n,r,o){!function(t,e,n,r){e>0&&e<t[0].cells().length&&A(t,(function(t){var o=t.cells()[e-1],i=t.cells()[e];n(i.element(),o.element())&&Ma(t,e,Te(r(),!0))}))}(e,t,o,r.cell);var i=ns(n,e),a=as(n,i,r),s=ns(e,a),u=as(e,s,r);return O(u,(function(e,n){var r=e.cells().slice(0,t).concat(a[n].cells()).concat(e.cells().slice(t,e.cells().length));return La(e,r)}))},cs=function(t,e,n,r,o){Xa(e,t,o,r.cell);var i=es(n,e),a=as(n,i,r),s=es(e,a),u=as(e,s,r);return u.slice(0,t).concat(a).concat(u.slice(t,u.length))},fs=function(t,e,n,r,o){var i=t.slice(0,e),a=t.slice(e),s=Ra(t[n],(function(n,i){return e>0&&e<t.length&&r(Ba(t[e-1],i),Ba(t[e],i))?Ia(t[e],i):Te(o(n.element(),r),!0)}));return i.concat([s]).concat(a)},ds=function(t,e,n,r,o){return O(t,(function(t){var i=e>0&&e<Fa(t)&&r(Ba(t,e-1),Ba(t,e))?Ia(t,e):Te(o(Ba(t,n),r),!0);return function(t,e,n){var r=t.cells(),o=r.slice(0,e),i=r.slice(e),a=o.concat([n]).concat(i);return La(t,a)}(t,e,i)}))},hs=function(t,e,n,r){return O(t,(function(t){return Ra(t,(function(t){return function(t){return T(e,(function(e){return n(t.element(),e.element())}))}(t)?Te(r(t.element(),n),!0):t}))}))},ps=function(t,e,n,r){return void 0!==Ba(t[e],n)&&e>0&&r(Ba(t[e-1],n),Ba(t[e],n))},ms=function(t,e,n){return e>0&&n(Ba(t,e-1),Ba(t,e))},gs=function(t,e,n,r){var o=I(t,(function(r,o){return ps(t,o,e,n)||ms(r,e,n)?[]:[Ia(r,e)]}));return hs(t,o,n,r)},vs=function(t,e,n,r){var o=t[e],i=I(o.cells(),(function(r,i){return ps(t,e,i,n)||ms(o,i,n)?[]:[r]}));return hs(t,i,n,r)},ys=ai(["cell","row","replace","gap"]),bs=function(t){var e=Fe(t,"colspan",1),n=Fe(t,"rowspan",1);return{element:r(t),colspan:r(e),rowspan:r(n)}},ws=function(t,e){void 0===e&&(e=bs),ys(t);var n=sa(d.none()),r=function(n){return function(e){return t.cell(e)}(e(n))},o=function(t){var e=r(t);return n.get().isNone()&&n.set(d.some(e)),i=d.some({item:t,replacement:e}),e},i=d.none();return{getOrInit:function(t,e){return i.fold((function(){return o(t)}),(function(n){return e(t,n.item)?n.replacement:o(t)}))},cursor:n.get}},xs=function(t,e){return function(n){var r=sa(d.none());ys(n);var o=[],i=function(i){var a={scope:t},s=n.replace(i,e,a);return o.push({item:i,sub:s}),r.get().isNone()&&r.set(d.some(s)),s};return{replaceOrInit:function(t,e){return function(t,e){return M(o,(function(n){return e(n.item,t)}))}(t,e).fold((function(){return i(t)}),(function(n){return e(t,n.item)?n.sub:i(t)}))},cursor:r.get}}},_s=function(t){ys(t);var e=sa(d.none());return{combine:function(n){return e.get().isNone()&&e.set(d.some(n)),function(){var e=t.cell({element:r(n),colspan:r(1),rowspan:r(1)});return he(e,"width"),he(n,"width"),e}},cursor:e.get}},ks=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Cs=Bn(),Ss=function(t){return function(t,e){var n=t.property().name(e);return S(ks,n)}(Cs,t)},Ts=function(t){return function(t,e){var n=t.property().name(e);return S(["ol","ul"],n)}(Cs,t)},Es=function(t){return function(t,e){return S(["br","img","hr","input"],t.property().name(e))}(Cs,t)},Os=function(t){var e,n=function(t){return"br"===Y(t)},r=function(t){return hn(t).bind((function(e){var r=Kt(e).map((function(t){return!!Ss(t)||!!Es(t)&&"img"!==Y(t)})).getOr(!1);return $t(e).map((function(o){return!0===r||function(t){return"li"===Y(t)||Me(t,Ts).isSome()}(o)||n(e)||Ss(o)&&!Ht(t,o)?[]:[vt.fromTag("br")]}))})).getOr([])},o=0===(e=I(t,(function(t){var e=Zt(t);return function(t){return B(t,(function(t){return n(t)||Q(t)&&0===an(t).trim().length}))}(e)?[]:e.concat(r(t))}))).length?[vt.fromTag("br")]:e;xe(t[0]),we(t[0],o)},As=function(t){0===Ye(t).length&&_e(t)},Ds=function(t,e){return{grid:r(t),cursor:r(e)}},Ns=function(t,e,n){return Ps(t,e,n).orThunk((function(){return Ps(t,0,0)}))},Ps=function(t,e,n){return d.from(t[e]).bind((function(t){return d.from(t.cells()[n]).bind((function(t){return d.from(t.element())}))}))},Ms=function(t,e,n){return Ds(t,Ps(t,e,n))},Ls=function(t){return P(t,(function(t,e){return T(t,(function(t){return t.row()===e.row()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.row()-e.row()}))},Rs=function(t){return P(t,(function(t,e){return T(t,(function(t){return t.column()===e.column()}))?t:t.concat([e])}),[]).sort((function(t,e){return t.column()-e.column()}))},Is=function(t,e,n){var r=function(t,e){return O(t,(function(t){var n=O(Ye(t),(function(t){var e=Fe(t,"rowspan",1),n=Fe(t,"colspan",1);return Ce(t,e,n)}));return Se(t,n,e.section())}))}(t,n),o=en.generate(r);return qa(o,e,!0)},Bs=function(t,e){var n=D(t,e);return 0===n.length?d.some("td"):n.length===t.length?d.some("th"):d.none()},Fs=function(t,e,n,r){var o=en.generate(e),i=r.getWidths(o,n,r),a=Ho(o,i);A(a,(function(t){r.setElementWidth(t.element,t.width)}))},js=$a((function(t,e,n,r){var o=e[0].row(),i=e[0].row(),a=Ls(e),s=P(a,(function(t,e){return fs(t,i,o,n,r.getOrInit)}),t);return Ms(s,i,e[0].column())}),Ka,n,n,ws),zs=$a((function(t,e,n,r){var o=Ls(e),i=o[o.length-1].row(),a=o[o.length-1].row()+o[o.length-1].rowspan(),s=P(o,(function(t,e){return fs(t,a,i,n,r.getOrInit)}),t);return Ms(s,a,e[0].column())}),Ka,n,n,ws),Hs=$a((function(t,e,n,r){var o=Rs(e),i=o[0].column(),a=o[0].column(),s=P(o,(function(t,e){return ds(t,a,i,n,r.getOrInit)}),t);return Ms(s,e[0].row(),a)}),Ka,Fs,n,ws),qs=$a((function(t,e,n,r){var o=e[e.length-1].column(),i=e[e.length-1].column()+e[e.length-1].colspan(),a=Rs(e),s=P(a,(function(t,e){return ds(t,i,o,n,r.getOrInit)}),t);return Ms(s,e[0].row(),i)}),Ka,Fs,n,ws),Us=$a((function(t,e,n,r){var o=Rs(e),i=function(t,e,n){var r=O(t,(function(t){var r=t.cells().slice(0,e).concat(t.cells().slice(n+1));return Ee(r,t.section())}));return D(r,(function(t){return t.cells().length>0}))}(t,o[0].column(),o[o.length-1].column()),a=Ns(i,e[0].row(),e[0].column());return Ds(i,a)}),Ka,Fs,As,ws),Ws=$a((function(t,e,n,r){var o=Ls(e),i=function(t,e,n){return t.slice(0,e).concat(t.slice(n+1))}(t,o[0].row(),o[o.length-1].row()),a=Ns(i,e[0].row(),e[0].column());return Ds(i,a)}),Ka,n,As,ws),Vs=$a((function(t,e,n,r){var o=gs(t,e.column(),n,r.replaceOrInit);return Ms(o,e.row(),e.column())}),Ga,n,n,xs("row","th")),$s=$a((function(t,e,n,r){var o=gs(t,e.column(),n,r.replaceOrInit);return Ms(o,e.row(),e.column())}),Ga,n,n,xs(null,"td")),Gs=($a((function(t,e,n,r){var o=vs(t,e.row(),n,r.replaceOrInit);return Ms(o,e.row(),e.column())}),Ga,n,n,xs("col","th")),$a((function(t,e,n,r){var o=vs(t,e.row(),n,r.replaceOrInit);return Ms(o,e.row(),e.column())}),Ga,n,n,xs(null,"td")),$a((function(t,e,n,o){var i=e.cells();Os(i);var a=function(t,e,n,r){if(0===t.length)return t;for(var o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)Ma(t[o],i,Te(r(),!1));return t}(t,e.bounds(),0,r(i[0]));return Ds(a,d.from(i[0]))}),(function(t,e){return e.mergable()}),n,n,_s)),Ys=$a((function(t,e,n,r){var o=N(e,(function(t,e){return Za(t,e,n,r.combine(e))}),t);return Ds(o,d.from(e[0]))}),(function(t,e){return e.unmergable()}),Fs,n,_s),Ks=$a((function(t,e,n,o){var i=function(t,e){var n=en.fromTable(t);return qa(n,e,!0)}(e.clipboard(),e.generators()),a=function(t,e){return{row:r(t),column:r(e)}}(e.row(),e.column());return us(a,t,i,e.generators(),n).fold((function(){return Ds(t,d.some(e.element()))}),(function(t){var n=Ns(t,e.row(),e.column());return Ds(t,n)}))}),(function(t,e){return Ge(e.element()).bind((function(n){return Va(t,n).map((function(t){return yt(yt({},t),{generators:e.generators,clipboard:e.clipboard})}))}))}),Fs,n,ws),Zs=$a((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[0].column(),a=Is(e.clipboard(),e.generators(),o),s=ls(i,t,a,e.generators(),n),u=Ns(s,e.cells[0].row(),e.cells[0].column());return Ds(s,u)}),Ya,n,n,ws),Xs=$a((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[e.cells.length-1].column()+e.cells[e.cells.length-1].colspan(),a=Is(e.clipboard(),e.generators(),o),s=ls(i,t,a,e.generators(),n),u=Ns(s,e.cells[0].row(),e.cells[0].column());return Ds(s,u)}),Ya,n,n,ws),Js=$a((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[0].row(),a=Is(e.clipboard(),e.generators(),o),s=cs(i,t,a,e.generators(),n),u=Ns(s,e.cells[0].row(),e.cells[0].column());return Ds(s,u)}),Ya,n,n,ws),Qs=$a((function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[e.cells.length-1].row()+e.cells[e.cells.length-1].rowspan(),a=Is(e.clipboard(),e.generators(),o),s=cs(i,t,a,e.generators(),n),u=Ns(s,e.cells[0].row(),e.cells[0].column());return Ds(s,u)}),Ya,n,n,ws),tu=function(t,e){var n=en.fromTable(t);return Ka(n,e).bind((function(t){var e=t[t.length-1],r=t[0].column(),o=e.column()+e.colspan(),i=R(O(n.all,(function(t){return D(t.cells(),(function(t){return t.column()>=r&&t.column()<o}))})));return Bs(i,(function(t){return"th"===Y(t.element())}))})).getOr("")},eu=function(t){return Ki(t.parentNode)},nu=function(t,e){var n="thead"===eu(e),r=!T(e.cells,(function(t){return"th"!==Ki(t)}));return n||r?d.some({thead:n,ths:r}):d.none()},ru=function(t,e){return"thead"===(n=nu(0,e).fold((function(){return eu(e)}),(function(t){return"thead"})))?"header":"tfoot"===n?"footer":"body";var n},ou=function(t,e,n){var r=t.getParent(e,"table"),o=e.parentNode,i=Ki(o);if(n!==i){var a=t.select(n,r)[0];if(!a){a=t.create(n);var s=r.firstChild;"thead"===n?F(De(vt.fromDom(r),"caption,colgroup")).fold((function(){return r.insertBefore(a,s)}),(function(e){return t.insertAfter(a,e.dom())})):r.appendChild(a)}"tbody"===n&&"thead"===i&&a.firstChild?a.insertBefore(e,a.firstChild):a.appendChild(e),o.hasChildNodes()||t.remove(o)}},iu=function(t,e,n,r){return A(e,(function(e){var o=Ki(e)!==n?t.rename(e,n):e;t.setAttrib(o,"scope",r)}))},au=function(t,e,n){var r,o=t.dom;if("header"===n){var i=Gi(t),a="auto"===i?(r=Ke(vt.fromDom(e.cells[0])).map((function(t){return Ze(t)})).getOr([]),j(r,(function(t){return nu(0,t.dom())})).map((function(t){return t.thead&&t.ths?"sectionCells":t.thead?"section":"cells"})).getOr("section")):i;iu(o,e.cells,"section"===a?"td":"th","col"),ou(o,e,"cells"===a?"tbody":"thead")}else iu(o,e.cells,"td",null),ou(o,e,"footer"===n?"tfoot":"tbody")},su=function(t){return{get:function(){var e,n,r=Zi(t);return(e=r,n="td[data-mce-selected],th[data-mce-selected]",$n(e,n)).fold((function(){return void 0===t.selection.getStart()?tr():nr(t.selection)}),(function(t){return er(t)}))}}},uu=function(t){return function(e){return d.from(e.dom.getParent(e.selection.getStart(),t)).map((function(t){return vt.fromDom(t)}))}},lu=uu("th,td"),cu=uu("th,td,caption"),fu=function(t){return lu(t).map((function(e){return rr(e,su(t))})).map((function(t){return O(t,(function(t){return t.dom()}))})).getOr([])},du=function(t){var e,n,r,o=lu(t),i=o.bind((function(t){return Ke(t)})).map((function(t){return Ze(t)})).map((function(t){return O(t,(function(t){return t.dom()}))}));return(e=o,n=i,r=function(e,n){return D(n,(function(n){return T(n.cells,(function(n){return"1"===t.dom.getAttrib(n,"data-mce-selected")||n===e.dom()}))}))},e.isSome()&&n.isSome()?d.some(r(e.getOrDie(),n.getOrDie())):d.none()).getOr([])},hu=function(t,e){var r=function(t){return"table"===Y(Zi(t))},o=Yi(t),i=function(e,n,r,i){return function(a,s){ea(a);var u=i(),l=vt.fromDom(t.getDoc()),c=Mo(aa),f=kn(r,l,o),h=pa(t,a);return n(a)?e(u,a,s,f,c,h).bind((function(e){return A(e.newRows(),(function(e){Pi(t,e.dom())})),A(e.newCells(),(function(e){Mi(t,e.dom())})),e.cursor().map((function(e){var n=Ta(Ea,e),r=t.dom.createRng();return r.setStart(n.element().dom(),n.offset()),r.setEnd(n.element().dom(),n.offset()),r}))})):d.none()}},a=i(Ws,(function(e){return!1===r(t)||Aa(e).rows()>1}),n,e),s=i(Us,(function(e){return!1===r(t)||Aa(e).columns()>1}),n,e),l=i(js,u,n,e),c=i(zs,u,n,e),f=i(Hs,u,Oa,e),h=i(qs,u,Oa,e),p=i(Gs,u,n,e),m=i(Ys,u,n,e),g=i(Zs,u,n,e),v=i(Xs,u,n,e),y=i(Js,u,n,e),b=i(Qs,u,n,e),w=i(Ks,u,n,e),x=function(t,e){return $(t,"type").filter((function(t){return S(e,t)}))};return{deleteRow:a,deleteColumn:s,insertRowsBefore:l,insertRowsAfter:c,insertColumnsBefore:f,insertColumnsAfter:h,mergeCells:p,unmergeCells:m,pasteColsBefore:g,pasteColsAfter:v,pasteRowsBefore:y,pasteRowsAfter:b,pasteCells:w,setTableCellType:function(t,e){return x(e,["td","th"]).each((function(e){iu(t.dom,fu(t),e,null)}))},setTableRowType:function(t,e){return x(e,["header","body","footer"]).each((function(e){O(du(t),(function(n){return au(t,n,e)}))}))},makeColumnHeader:i(Vs,u,n,e),unmakeColumnHeader:i($s,u,n,e),getTableRowType:function(t){var e=du(t);if(e.length>0){var n=O(e,(function(t){return ru(0,t)})),r=S(n,"header"),o=S(n,"footer");if(r||o){var i=S(n,"body");return!r||i||o?r||i||!o?"":"footer":"header"}return"body"}},getTableCellType:function(t){return Bs(fu(t),(function(t){return"th"===Ki(t)})).getOr("")},getTableColType:tu}},pu={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"}},mu=function(t,e,n,r){return E(t,(function(t){return function(t,e,n,r){for(var o=vt.fromTag("tr"),i=0;i<t;i++){var a=r<e||i<n?vt.fromTag("th"):vt.fromTag("td");i<n&&rt(a,"scope","row"),r<e&&rt(a,"scope","col"),ve(a,vt.fromTag("br")),ve(o,a)}return o}(e,n,r,t)}))},gu=function(t,e){t.selection.select(e.dom(),!0),t.selection.collapse(!0)},vu=function(t,e,n,r,o){var a=ji(t),s={styles:a,attributes:Fi(t)},u=function(t,e,n,r,o,i){void 0===i&&(i=pu);var a=vt.fromTag("table"),s="cells"!==o;le(a,i.styles),ot(a,i.attributes);var u=Math.min(t,n);if(s&&n>0){var l=vt.fromTag("thead");ve(a,l);var c=mu(n,e,"sectionCells"===o?u:0,r);we(l,c)}var f=vt.fromTag("tbody");ve(a,f);var d=mu(s?t-u:t,e,s?0:n,r);return we(f,d),a}(n,e,o,r,Gi(t),s);rt(u,"data-mce-id","__mce");var l=function(t){var e=vt.fromTag("div"),n=vt.fromDom(t.dom().cloneNode(!0));return ve(e,n),function(t){return t.dom().innerHTML}(e)}(u);return t.insertContent(l),Ie(Zi(t),'table[data-mce-id="__mce"]').map((function(e){var n;return Vi(t)?ya(t,e):$i(t)?ba(e):(Wi(t)||(n=a.width,m(n)&&-1!==n.indexOf("%")))&&va(t,e),ea(e),ut(e,"data-mce-id"),function(t,e){A(Ne(e,"tr"),(function(e){Pi(t,e.dom()),A(Ne(e,"th,td"),(function(e){Mi(t,e.dom())}))}))}(t,e),function(t,e){Ie(e,"td,th").each(i(gu,t))}(t,e),e.dom()})).getOr(null)},yu=function(t,e,n,r,o){void 0===r&&(r={});var i=function(t){return x(t)&&t>0};if(i(e)&&i(n)){var a=r.headerRows||0,s=r.headerColumns||0;return vu(t,n,e,s,a)}return null},bu=function(t){return function(){return t().fold((function(){return[]}),(function(t){return O(t,(function(t){return t.dom()}))}))}},wu=function(t){return function(e){var n=e.length>0?d.some(O(e,vt.fromDom)):d.none();t(n)}},xu=function(t,e){var n=en.fromTable(t);return Ka(n,e).map((function(t){var e=t[t.length-1],r=t[0].column(),o=e.column()+e.colspan();return O(n.all,(function(t){var e=D(t.cells(),(function(t){return t.column()>=r&&t.column()<o})),n=O(e,(function(t){var e=vn(t.element());return function(t,e,n){var r=je(t,e);1===n||r<=1?ut(t,e):rt(t,e,Math.min(n,r))}(e,"colspan",o-r),e})),i=vt.fromTag("tr");return we(i,n),i}))}))},_u=function(t,e,n){var r=en.fromTable(t);return Ka(r,e).map((function(t){var e=qa(r,n,!1).slice(t[0].row(),t[t.length-1].row()+t[t.length-1].rowspan());return function(t){return O(t,(function(t){var e=gn(t.element());return A(t.cells(),(function(t){var n=vn(t.element());Na(n,"colspan",t.colspan(),1),Na(n,"rowspan",t.rowspan(),1),ve(e,n)})),e}))}(Wa(e,n))}))},ku=tinymce.util.Tools.resolve("tinymce.util.Tools"),Cu=function(t,e,n){return function(e,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],n);if(void 0===e&&(e=i),e!==i)return""}return e}(void 0,t.select("td,th",e))},Su=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},Tu=function(t,e){ku.each("left center right".split(" "),(function(n){t.formatter.remove("align"+n,{},e)}))},Eu=function(t,e){var n;return n=t,(e||[]).concat(O(n,(function(t){return{text:t.text||t.title,value:t.value}})))},Ou=function(t){return function(e){return ct(e,"rgb",0)?t.toHex(e):e}},Au=function(t,e){var n=vt.fromDom(e);return{borderwidth:de(n,"border-width").getOr(""),borderstyle:de(n,"border-style").getOr(""),bordercolor:de(n,"border-color").map(Ou(t)).getOr(""),backgroundcolor:de(n,"background-color").map(Ou(t)).getOr("")}},Du=function(t){var e=t[0],n=t.slice(1);return A(n,(function(t){A(z(e),(function(n){q(t,(function(t,r){var o=e[n];""!==o&&n===r&&o!==t&&(e[n]="")}))}))})),e},Nu=function(t){var e=[{name:"borderstyle",type:"selectbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(e):e}},Pu=function(t,e,n,r){return M(t,(function(t){return n.formatter.matchNode(r,e+t)})).getOr("")},Mu=i(Pu,["left","center","right"],"align"),Lu=i(Pu,["top","middle","bottom"],"valign"),Ru=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"selectbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"selectbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"selectbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"selectbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Iu=function(t){return function(t){var e=Eu(function(t){return t.getParam("table_cell_class_list",[],"array")}(t));return e.length>0?d.some({name:"class",type:"selectbox",label:"Class",items:e}):d.none()}(t).fold((function(){return Ru}),(function(t){return Ru.concat(t)}))},Bu=function(t){return function(e,n){var r=e.dom;return{setAttrib:function(e,o){t&&!o||r.setAttrib(n,e,o)},setStyle:function(e,o){t&&!o||r.setStyle(n,e,o)},setFormat:function(r,o){t&&!o||(""===o?e.formatter.remove(r,{value:null},n,!0):e.formatter.apply(r,{value:o},n))}}}},Fu={normal:Bu(!1),ifTruthy:Bu(!0)},ju=function(t,e,n){var r=t.dom,o=1===e.length;A(e,(function(e){var i=n.celltype&&Ki(e)!==n.celltype?r.rename(e,n.celltype):e,a=o?Fu.normal(t,i):Fu.ifTruthy(t,i);!function(t,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("width",ta(e.width)),t.setStyle("height",ta(e.height))}(a,n),zi(t)&&function(t,e){t.setFormat("tablecellbackgroundcolor",e.backgroundcolor),t.setFormat("tablecellbordercolor",e.bordercolor),t.setFormat("tablecellborderstyle",e.borderstyle),t.setFormat("tablecellborderwidth",ta(e.borderwidth))}(a,n),o&&(Tu(t,i),function(t,e){ku.each("top middle bottom".split(" "),(function(n){t.formatter.remove("valign"+n,{},e)}))}(t,i)),n.halign&&Su(t,i,n.halign),n.valign&&function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)}(t,i,n.valign)}))},zu=function(t,e,n){var r=n.getData();n.close(),t.undoManager.transact((function(){ju(t,e,r),t.focus()}))},Hu=function(t){var e=fu(t);if(0!==e.length){var n=O(e,(function(e){return function(t,e,n){var r=t.dom;return yt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),celltype:Ki(e),class:r.getAttrib(e,"class",""),halign:Mu(t,e),valign:Lu(t,e)},n?Au(r,e):{})}(t,e,zi(t))})),r=Du(n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Iu(t)},Nu("cell")]},a={type:"panel",items:[{type:"grid",columns:2,items:Iu(t)}]};t.windowManager.open({title:"Cell Properties",size:"normal",body:zi(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(zu,t,e)})}},qu=[{type:"selectbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Uu=function(t){return function(t){var e=Eu(function(t){return t.getParam("table_row_class_list",[],"array")}(t));return e.length>0?d.some({name:"class",type:"selectbox",label:"Class",items:e}):d.none()}(t).fold((function(){return qu}),(function(t){return qu.concat(t)}))},Wu=function(t,e,n,r){var o=1===e.length;A(e,(function(e){r.type!==Ki(e.parentNode)&&au(t,e,r.type);var i=o?Fu.normal(t,e):Fu.ifTruthy(t,e);!function(t,e){t.setAttrib("scope",e.scope),t.setAttrib("class",e.class),t.setStyle("height",ta(e.height))}(i,r),Hi(t)&&function(t,e){t.setStyle("background-color",e.backgroundcolor),t.setStyle("border-color",e.bordercolor),t.setStyle("border-style",e.borderstyle)}(i,r),r.align!==n.align&&(Tu(t,e),Su(t,e,r.align))}))},Vu=function(t,e,n,r){var o=r.getData();r.close(),t.undoManager.transact((function(){Wu(t,e,n,o),t.focus()}))},$u=function(t){var e=du(t);if(0!==e.length){var n=O(e,(function(e){return function(t,e,n){var r=t.dom;return yt({height:r.getStyle(e,"height")||r.getAttrib(e,"height"),scope:r.getAttrib(e,"scope"),class:r.getAttrib(e,"class",""),type:ru(0,e),align:Mu(t,e)},n?Au(r,e):{})}(t,e,Hi(t))})),r=Du(n),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Uu(t)},Nu("row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Uu(t)}]};t.windowManager.open({title:"Row Properties",size:"normal",body:Hi(t)?o:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onSubmit:i(Vu,t,e,r)})}},Gu=tinymce.util.Tools.resolve("tinymce.Env"),Yu=function(t,e,n){var r=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],o=function(t){return t.getParam("table_appearance_options",!0,"boolean")}(t)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],i=e.length>0?[{type:"selectbox",name:"class",label:"Class",items:e}]:[];return r.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(o).concat([{type:"selectbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(i)},Ku=function(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)m(n)?t.setStyle(e,n,r):t.setStyle(e,n);else if(e.children)for(var o=0;o<e.children.length;o++)Ku(t,e.children[o],n,r)},Zu=function(t,e,n){var r,o=t.dom,i=n.getData();n.close(),""===i.class&&delete i.class,t.undoManager.transact((function(){if(!e){var n=parseInt(i.cols,10)||1,a=parseInt(i.rows,10)||1;e=vu(t,n,a,0,0)}!function(t,e,n){var r,o=t.dom,i={},a={};if(i.class=n.class,a.height=ta(n.height),o.getAttrib(e,"width")&&!Ui(t)?i.width=(r=n.width)?r.replace(/px$/,""):"":a.width=ta(n.width),Ui(t)?(a["border-width"]=ta(n.border),a["border-spacing"]=ta(n.cellspacing)):(i.border=n.border,i.cellpadding=n.cellpadding,i.cellspacing=n.cellspacing),Ui(t)&&e.children)for(var s=0;s<e.children.length;s++)Ku(o,e.children[s],{"border-width":ta(n.border),padding:ta(n.cellpadding)}),qi(t)&&Ku(o,e.children[s],{"border-color":n.bordercolor});qi(t)&&(a["background-color"]=n.backgroundcolor,a["border-color"]=n.bordercolor,a["border-style"]=n.borderstyle),i.style=o.serializeStyle(yt(yt({},ji(t)),a)),o.setAttribs(e,yt(yt({},Fi(t)),i))}(t,e,i),(r=o.select("caption",e)[0])&&!i.caption&&o.remove(r),!r&&i.caption&&((r=o.create("caption")).innerHTML=Gu.ie?" ":'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),""===i.align?Tu(t,e):Su(t,e,i.align),t.focus(),t.addVisual()}))},Xu=function(t,e){var n,r=t.dom,o=function(t,e){var n,r,o,i,a=ji(t),s=Fi(t),u=e?(n=t.dom,{borderstyle:$(a,"border-style").getOr(""),bordercolor:Ou(n)($(a,"border-color").getOr("")),backgroundcolor:Ou(n)($(a,"background-color").getOr(""))}):{};return yt(yt(yt(yt(yt(yt({},{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""}),a),s),u),(i=a["border-width"],Ui(t)&&i?{border:i}:$(s,"border").fold((function(){return{}}),(function(t){return{border:t}})))),(r=$(a,"border-spacing").or($(s,"cellspacing")).fold((function(){return{}}),(function(t){return{cellspacing:t}})),o=$(a,"border-padding").or($(s,"cellpadding")).fold((function(){return{}}),(function(t){return{cellpadding:t}})),yt(yt({},r),o)))}(t,qi(t));!1===e?(n=r.getParent(t.selection.getStart(),"table"))?o=function(t,e,n){var r=t.dom;return yt({width:r.getStyle(e,"width")||r.getAttrib(e,"width"),height:r.getStyle(e,"height")||r.getAttrib(e,"height"),cellspacing:r.getStyle(e,"border-spacing")||r.getAttrib(e,"cellspacing"),cellpadding:r.getAttrib(e,"cellpadding")||Cu(t.dom,e,"padding"),border:function(e,n){var r=de(vt.fromDom(n),"border-width");return Ui(t)&&r.isSome()?r.getOr(""):e.getAttrib(n,"border")||Cu(t.dom,n,"border-width")||Cu(t.dom,n,"border")}(r,e),caption:!!r.select("caption",e)[0],class:r.getAttrib(e,"class",""),align:Mu(t,e)},n?Au(r,e):{})}(t,n,qi(t)):qi(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""):(o.cols="1",o.rows="1",qi(t)&&(o.borderstyle="",o.bordercolor="",o.backgroundcolor=""));var a=Eu(function(t){return t.getParam("table_class_list",[],"array")}(t));a.length>0&&o.class&&(o.class=o.class.replace(/\s*mce\-item\-table\s*/g,""));var s={type:"grid",columns:2,items:Yu(t,a,e)},u=qi(t)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},Nu("table")]}:{type:"panel",items:[s]};t.windowManager.open({title:"Table Properties",size:"normal",body:u,onSubmit:i(Zu,t,n),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o})},Ju=function(t,e,o,s,u){var l=Qi(t),c=function(t){return Ke(t,l)},f=function(e){return lu(t).each((function(n){c(n).each((function(r){var i=sr(s,r,n);e(r,i).each((function(e){t.selection.setRng(e),t.focus(),o.clear(r),ea(r)}))}))}))},h=function(){return lu(t).map((function(e){return c(e).bind((function(r){var o=sr(s,r,e),i=kn(n,vt.fromDom(t.getDoc()),d.none());return _u(r,o,i)}))}))},p=function(){return lu(t).map((function(t){return c(t).bind((function(e){var n=sr(s,e,t);return xu(e,n)}))}))},v=function(e,n){return n().each((function(n){var i=O(n,(function(t){return vn(t)}));lu(t).each((function(n){return c(n).each((function(a){var u=Cn(vt.fromDom(t.getDoc())),l=function(t,e,n,o){return{selection:r(rr(e,t)),clipboard:r(n),generators:r(o)}}(s,n,i,u);e(a,l).each((function(e){t.selection.setRng(e),t.focus(),o.clear(a)}))}))}))}))};q({mceTableSplitCells:function(){return f(e.unmergeCells)},mceTableMergeCells:function(){return f(e.mergeCells)},mceTableInsertRowBefore:function(){return f(e.insertRowsBefore)},mceTableInsertRowAfter:function(){return f(e.insertRowsAfter)},mceTableInsertColBefore:function(){return f(e.insertColumnsBefore)},mceTableInsertColAfter:function(){return f(e.insertColumnsAfter)},mceTableDeleteCol:function(){return f(e.deleteColumn)},mceTableDeleteRow:function(){return f(e.deleteRow)},mceTableCutCol:function(t){return p().each((function(t){u.setColumns(t),f(e.deleteColumn)}))},mceTableCutRow:function(t){return h().each((function(t){u.setRows(t),f(e.deleteRow)}))},mceTableCopyCol:function(t){return p().each((function(t){return u.setColumns(t)}))},mceTableCopyRow:function(t){return h().each((function(t){return u.setRows(t)}))},mceTablePasteColBefore:function(t){return v(e.pasteColsBefore,u.getColumns)},mceTablePasteColAfter:function(t){return v(e.pasteColsAfter,u.getColumns)},mceTablePasteRowBefore:function(t){return v(e.pasteRowsBefore,u.getRows)},mceTablePasteRowAfter:function(t){return v(e.pasteRowsAfter,u.getRows)},mceTableDelete:function(){return cu(t).each((function(e){Ke(e,l).filter(a(l)).each((function(e){var n=vt.fromText("");if(me(e,n),_e(e),t.dom.isEmpty(t.getBody()))t.setContent(""),t.selection.setCursorLocation();else{var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r),t.nodeChanged()}}))}))},mceTableSizingMode:function(e,n){return function(e){return cu(t).each((function(n){$i(t)||Vi(t)||Wi(t)||Ke(n,l).each((function(n){"relative"!==e||Oo(n)?"fixed"!==e||Ao(n)?"responsive"!==e||Do(n)||ba(n):ya(t,n):va(t,n),ea(n)}))}))}(n)}},(function(e,n){return t.addCommand(n,e)})),q({mceTableCellType:function(n,r){return e.setTableCellType(t,r)},mceTableRowType:function(n,r){return e.setTableRowType(t,r)}},(function(e,n){return t.addCommand(n,e)})),t.addCommand("mceTableColType",(function(t,n){return $(n,"type").each((function(t){return f("th"===t?e.makeColumnHeader:e.unmakeColumnHeader)}))})),q({mceTableProps:i(Xu,t,!1),mceTableRowProps:i($u,t),mceTableCellProps:i(Hu,t)},(function(e,n){return t.addCommand(n,(function(){return e()}))})),t.addCommand("mceInsertTable",(function(e,n){g(n)&&z(n).length>0?yu(t,n.rows,n.columns,n.options):Xu(t,!0)})),t.addCommand("mceTableApplyCellStyle",(function(e,n){if(g(n)){var r=fu(t);0!==r.length&&q(n,(function(e,n){var o="tablecell"+n.toLowerCase().replace("-","");t.formatter.has(o)&&m(e)&&A(r,(function(n){Fu.normal(t,n).setFormat(o,e)}))}))}}))},Qu=function(t,e,n){var r=Qi(t);q({mceTableRowType:function(){return e.getTableRowType(t)},mceTableCellType:function(){return e.getTableCellType(t)},mceTableColType:function(){return lu(t).bind((function(t){return function(t){return Ke(t,r)}(t).map((function(r){var o=sr(n,r,t);return e.getTableColType(r,o)}))})).getOr("")}},(function(e,n){return t.addQueryValueHandler(n,e)}))},tl=Xn([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),el=yt(yt({},tl),{none:function(t){return void 0===t&&(t=void 0),tl.none(t)}}),nl=function(t,e){return Ke(t,e).bind((function(e){var n=Ye(e);return L(n,(function(e){return Ht(t,e)})).map((function(t){return{index:t,all:n}}))}))},rl=function(t,e,n,o){return{start:r(t),soffset:r(e),finish:r(n),foffset:r(o)}},ol=Xn([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),il={before:ol.before,on:ol.on,after:ol.after,cata:function(t,e,n,r){return t.fold(e,n,r)},getStart:function(t){return t.fold(o,o,o)}},al=Xn([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),sl={domRange:al.domRange,relative:al.relative,exact:al.exact,exactFromRange:function(t){return al.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e,n=function(t){return t.match({domRange:function(t){return vt.fromDom(t.startContainer)},relative:function(t,e){return il.getStart(t)},exact:function(t,e,n,r){return t}})}(t);return e=n,vt.fromDom(e.dom().ownerDocument.defaultView)},range:rl},ul=function(t,e){return t.selectNodeContents(e.dom())},ll=function(t,e,n){var r,o=t.document.createRange();return r=o,e.fold((function(t){r.setStartBefore(t.dom())}),(function(t,e){r.setStart(t.dom(),e)}),(function(t){r.setStartAfter(t.dom())})),function(t,e){e.fold((function(e){t.setEndBefore(e.dom())}),(function(e,n){t.setEnd(e.dom(),n)}),(function(e){t.setEndAfter(e.dom())}))}(o,n),o},cl=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},fl=function(t){return{left:r(t.left),top:r(t.top),right:r(t.right),bottom:r(t.bottom),width:r(t.width),height:r(t.height)}},dl=Xn([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),hl=function(t,e,n){return e(vt.fromDom(n.startContainer),n.startOffset,vt.fromDom(n.endContainer),n.endOffset)},pl=function(t,e){return function(t,e){var n=e.ltr();return n.collapsed?e.rtl().filter((function(t){return!1===t.collapsed})).map((function(t){return dl.rtl(vt.fromDom(t.endContainer),t.endOffset,vt.fromDom(t.startContainer),t.startOffset)})).getOrThunk((function(){return hl(0,dl.ltr,n)})):hl(0,dl.ltr,n)}(0,function(t,e){return e.match({domRange:function(t){return{ltr:r(t),rtl:d.none}},relative:function(e,n){return{ltr:bt((function(){return ll(t,e,n)})),rtl:bt((function(){return d.some(ll(t,n,e))}))}},exact:function(e,n,r,o){return{ltr:bt((function(){return cl(t,e,n,r,o)})),rtl:bt((function(){return d.some(cl(t,r,o,e,n))}))}}})}(t,e))},ml=function(t,e){return pl(t,e).match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})},gl=(dl.ltr,dl.rtl,function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}),vl=function(t,e,n,r,o){var i=function(n){var r=t.dom().createRange();return r.setStart(e.dom(),n),r.collapse(!0),r},a=an(e).length,s=function(t,e,n,r,o){if(0===o)return 0;if(e===r)return o-1;for(var i=r,a=1;a<o;a++){var s=t(a),u=Math.abs(e-s.left);if(n<=s.bottom){if(n<s.top||u>i)return a-1;i=u}}return 0}((function(t){return i(t).getBoundingClientRect()}),n,r,o.right,a);return i(s)},yl=function(t,e,n,r){return Q(e)?function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getClientRects();return j(i,(function(t){return gl(t,n,r)?d.some(t):d.none()})).map((function(o){return vl(t,e,n,r,o)}))}(t,e,n,r):function(t,e,n,r){var o=t.dom().createRange(),i=Zt(e);return j(i,(function(e){return o.selectNode(e.dom()),gl(o.getBoundingClientRect(),n,r)?yl(t,e,n,r):d.none()}))}(t,e,n,r)},bl=function(t,e){return e-t.left<t.right-e},wl=function(t,e,n){var r=t.dom().createRange();return r.selectNode(e.dom()),r.collapse(n),r},xl=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=bl(o,n);return(!0===i?dn:hn)(e).map((function(e){return wl(t,e,i)}))},_l=function(t,e,n){var r=e.dom().getBoundingClientRect(),o=bl(r,n);return d.some(wl(t,e,o))},kl=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect();return function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),a=Math.max(i.left,Math.min(i.right,n)),s=Math.max(i.top,Math.min(i.bottom,r));return yl(t,e,a,s)}(t,e,Math.max(i.left,Math.min(i.right,n)),Math.max(i.top,Math.min(i.bottom,r)))},Cl=document.caretPositionFromPoint?function(t,e,n){return d.from(t.dom().caretPositionFromPoint(e,n)).bind((function(e){if(null===e.offsetNode)return d.none();var n=t.dom().createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),d.some(n)}))}:document.caretRangeFromPoint?function(t,e,n){return d.from(t.dom().caretRangeFromPoint(e,n))}:function(t,e,n){return vt.fromPoint(t,e,n).bind((function(r){var o=function(){return function(t,e,n){return(0===Zt(e).length?_l:xl)(t,e,n)}(t,r,e)};return 0===Zt(r).length?o():kl(t,r,e,n).orThunk(o)}))},Sl=function(t,e){var n=Y(t);return"input"===n?il.after(t):S(["br","img"],n)?0===e?il.before(t):il.after(t):il.on(t,e)},Tl=function(t,e){var n=t.fold(il.before,Sl,il.after),r=e.fold(il.before,Sl,il.after);return sl.relative(n,r)},El=function(t,e,n,r){var o=Sl(t,e),i=Sl(n,r);return sl.relative(o,i)},Ol=function(t,e,n,r){var o=function(t,e,n,r){var o=Vt(t).dom().createRange();return o.setStart(t.dom(),e),o.setEnd(n.dom(),r),o}(t,e,n,r),i=Ht(t,n)&&e===r;return o.collapsed&&!i},Al=function(t,e){d.from(t.getSelection()).each((function(t){t.removeAllRanges(),t.addRange(e)}))},Dl=function(t,e,n,r,o){var i=cl(t,e,n,r,o);Al(t,i)},Nl=function(t,e){return pl(t,e).match({ltr:function(e,n,r,o){Dl(t,e,n,r,o)},rtl:function(e,n,r,o){var i=t.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom(),n,r.dom(),o);else if(i.extend)try{!function(t,e,n,r,o,i){e.collapse(n.dom(),r),e.extend(o.dom(),i)}(0,i,e,n,r,o)}catch(i){Dl(t,r,o,e,n)}else Dl(t,r,o,e,n)}})},Pl=function(t,e,n,r,o){var i=El(e,n,r,o);Nl(t,i)},Ml=function(t,e,n){var r=Tl(e,n);Nl(t,r)},Ll=function(t){var e=sl.getWin(t).dom(),n=function(t,n,r,o){return cl(e,t,n,r,o)},r=function(t){return t.match({domRange:function(t){var e=vt.fromDom(t.startContainer),n=vt.fromDom(t.endContainer);return El(e,t.startOffset,n,t.endOffset)},relative:Tl,exact:El})}(t);return pl(e,r).match({ltr:n,rtl:n})},Rl=function(t){var e=vt.fromDom(t.anchorNode),n=vt.fromDom(t.focusNode);return Ol(e,t.anchorOffset,n,t.focusOffset)?d.some(rl(e,t.anchorOffset,n,t.focusOffset)):function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return d.some(rl(vt.fromDom(e.startContainer),e.startOffset,vt.fromDom(n.endContainer),n.endOffset))}return d.none()}(t)},Il=function(t,e){var n=function(t,e){var n=t.document.createRange();return ul(n,e),n}(t,e);Al(t,n)},Bl=function(t){return function(t){return d.from(t.getSelection()).filter((function(t){return t.rangeCount>0})).bind(Rl)}(t).map((function(t){return sl.exact(t.start(),t.soffset(),t.finish(),t.foffset())}))},Fl=function(t,e){return function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?d.some(n).map(fl):d.none()}(ml(t,e))},jl=function(t,e,n){return function(t,e,n){var r=vt.fromDom(t.document);return Cl(r,e,n).map((function(t){return rl(vt.fromDom(t.startContainer),t.startOffset,vt.fromDom(t.endContainer),t.endOffset)}))}(t,e,n)},zl=tinymce.util.Tools.resolve("tinymce.util.VK"),Hl=function(t,e,n,r){return Wl(t,e,function(t,e){return nl(t,e).fold((function(){return el.none(t)}),(function(e){return e.index+1<e.all.length?el.middle(t,e.all[e.index+1]):el.last(t)}))}(n),r)},ql=function(t,e,n,r){return Wl(t,e,function(t,e){return nl(t,e).fold((function(){return el.none()}),(function(e){return e.index-1>=0?el.middle(t,e.all[e.index-1]):el.first(t)}))}(n),r)},Ul=function(t,e){var n=sl.exact(e,0,e,0);return Ll(n)},Wl=function(t,e,n,r,o){return n.fold(d.none,d.none,(function(t,e){return dn(e).map((function(t){return Ul(0,t)}))}),(function(n){return Ke(n,e).bind((function(e){var o=ar(n);return t.undoManager.transact((function(){r.insertRowsAfter(e,o)})),function(t,e){var n=Ne(e,"tr");return F(n).bind((function(t){return Ie(t,"td,th").map((function(t){return Ul(0,t)}))}))}(0,e)}))}))},Vl=["table","li","dl"],$l=function(t,e){return{selection:r(t),kill:r(e)}},Gl=function(t,e,n,o){return{start:r(il.on(t,e)),finish:r(il.on(n,o))}},Yl=function(t,e){var n=ml(t,e);return rl(vt.fromDom(n.startContainer),n.startOffset,vt.fromDom(n.endContainer),n.endOffset)},Kl=Gl,Zl=function(t,e,n,r,o){return Ht(n,r)?d.none():Vn(n,r,e).bind((function(e){var r=e.boxes.getOr([]);return r.length>0?(o(t,r,e.start,e.finish),d.some($l(d.some(Kl(n,0,n,ln(n))),!0))):d.none()}))},Xl=function(t,e){return{item:r(t),mode:r(e)}},Jl=function(t,e,n,r){return void 0===r&&(r=Ql),t.property().parent(e).map((function(t){return Xl(t,r)}))},Ql=function(t,e,n,r){return void 0===r&&(r=tc),n.sibling(t,e).map((function(t){return Xl(t,r)}))},tc=function(t,e,n,r){void 0===r&&(r=tc);var o=t.property().children(e);return n.first(o).map((function(t){return Xl(t,r)}))},ec=[{current:Jl,next:Ql,fallback:d.none()},{current:Ql,next:tc,fallback:d.some(Jl)},{current:tc,next:tc,fallback:d.some(Ql)}],nc=function(t,e,n,r,o){return void 0===o&&(o=ec),M(o,(function(t){return t.current===n})).bind((function(n){return n.current(t,e,r,n.next).orThunk((function(){return n.fallback.bind((function(n){return nc(t,e,n,r)}))}))}))},rc=function(){return{sibling:function(t,e){return t.query().prevSibling(e)},first:function(t){return t.length>0?d.some(t[t.length-1]):d.none()}}},oc=function(){return{sibling:function(t,e){return t.query().nextSibling(e)},first:function(t){return t.length>0?d.some(t[0]):d.none()}}},ic=function(t,e,n,r,o,i){return nc(t,e,r,o).bind((function(e){return i(e.item())?d.none():n(e.item())?d.some(e.item()):ic(t,e.item(),n,e.mode(),o,i)}))},ac=function(t){return function(e){return 0===t.property().children(e).length}},sc=function(t,e,n,r){return ic(t,e,n,Ql,rc(),r)},uc=function(t,e,n,r){return ic(t,e,n,Ql,oc(),r)},lc=Bn(),cc=function(t,e){return function(t,e,n){return sc(t,e,ac(t),n)}(lc,t,e)},fc=function(t,e){return function(t,e,n){return uc(t,e,ac(t),n)}(lc,t,e)},dc=Xn([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),hc=function(t){return Be(t,"tr")},pc=yt(yt({},dc),{verify:function(t,e,n,r,o,i,a){return Be(r,"td,th",a).bind((function(n){return Be(e,"td,th",a).map((function(e){return Ht(n,e)?Ht(r,n)&&ln(n)===o?i(e):dc.none("in same cell"):Un(hc,[n,e]).fold((function(){return function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right}(t,e,n)?dc.success():i(e)}),(function(t){return i(e)}))}))})).getOr(dc.none("default"))},cata:function(t,e,n,r,o){return t.fold(e,n,r,o)}}),mc=function(t){return $t(t).bind((function(e){var n=Zt(e);return gc(n,t).map((function(o){return function(t,e,n,o){return{parent:r(t),children:r(e),element:r(n),index:r(o)}}(e,n,t,o)}))}))},gc=function(t,e){return L(t,i(Ht,e))},vc=function(t){return"br"===Y(t)},yc=function(t,e,n){return e(t,n).bind((function(t){return Q(t)&&0===an(t).trim().length?yc(t,e,n):d.some(t)}))},bc=function(t,e,n,r){return function(t,e){return Xt(t,e).filter(vc).orThunk((function(){return Xt(t,e-1).filter(vc)}))}(e,n).bind((function(e){return r.traverse(e).fold((function(){return yc(e,r.gather,t).map(r.relative)}),(function(t){return mc(t).map((function(t){return il.on(t.parent(),t.index())}))}))}))},wc=function(t,e,n,o){return(vc(e)?function(t,e,n){return n.traverse(e).orThunk((function(){return yc(e,n.gather,t)})).map(n.relative)}(t,e,o):bc(t,e,n,o)).map((function(t){return{start:r(t),finish:r(t)}}))},xc=function(t,e){return{left:t.left,top:t.top+e,right:t.right,bottom:t.bottom+e}},_c=function(t,e){return{left:t.left,top:t.top-e,right:t.right,bottom:t.bottom-e}},kc=function(t,e,n){return{left:t.left+e,top:t.top+n,right:t.right+e,bottom:t.bottom+n}},Cc=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}},Sc=function(t,e){return d.some(t.getRect(e))},Tc=function(t,e,n){return J(e)?Sc(t,e).map(Cc):Q(e)?function(t,e,n){return n>=0&&n<ln(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):d.none()}(t,e,n).map(Cc):d.none()},Ec=function(t,e){return J(e)?Sc(t,e).map(Cc):Q(e)?t.getRangedRect(e,0,e,ln(e)).map(Cc):d.none()},Oc=Xn([{none:[]},{retry:["caret"]}]),Ac=function(t,e,n){return(o=e,i=Ss,Pe((function(t,e){return e(t)}),Me,o,i,a)).fold(r(!1),(function(e){return Ec(t,e).exists((function(t){return function(t,e){return t.left<e.left||Math.abs(e.right-t.left)<1||t.left>e.right}(n,t)}))}));var o,i,a},Dc={point:function(t){return t.bottom},adjuster:function(t,e,n,r,o){var i=xc(o,5);return Math.abs(n.bottom-r.bottom)<1||n.top>o.bottom?Oc.retry(i):n.top===o.bottom?Oc.retry(xc(o,1)):Ac(t,e,o)?Oc.retry(kc(i,5,0)):Oc.none()},move:xc,gather:fc},Nc=function(t,e,n,r,o){return 0===o?d.some(r):function(t,e,n){return t.elementFromPoint(e,n).filter((function(t){return"table"===Y(t)})).isSome()}(t,r.left,e.point(r))?function(t,e,n,r,o){return Nc(t,e,n,e.move(r,5),o)}(t,e,n,r,o-1):t.situsFromPoint(r.left,e.point(r)).bind((function(i){return i.start().fold(d.none,(function(i){return Ec(t,i).bind((function(a){return e.adjuster(t,i,a,n,r).fold(d.none,(function(r){return Nc(t,e,n,r,o-1)}))})).orThunk((function(){return d.some(r)}))}),d.none)}))},Pc=function(t,e,n){var r=t.move(n,5),o=Nc(e,t,n,r,100).getOr(r);return function(t,e,n){return t.point(e)>n.getInnerHeight()?d.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?d.some(-t.point(e)):d.none()}(t,o,e).fold((function(){return e.situsFromPoint(o.left,t.point(o))}),(function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left,t.point(o)-n)}))},Mc={tryUp:i(Pc,{point:function(t){return t.top},adjuster:function(t,e,n,r,o){var i=_c(o,5);return Math.abs(n.top-r.top)<1||n.bottom<o.top?Oc.retry(i):n.bottom===o.top?Oc.retry(_c(o,1)):Ac(t,e,o)?Oc.retry(kc(i,5,0)):Oc.none()},move:_c,gather:cc}),tryDown:i(Pc,Dc),ieTryUp:function(t,e){return t.situsFromPoint(e.left,e.top-5)},ieTryDown:function(t,e){return t.situsFromPoint(e.left,e.bottom+5)},getJumpSize:r(5)},Lc=function(t,e,n){return t.getSelection().bind((function(r){return wc(e,r.finish(),r.foffset(),n).fold((function(){return d.some(_a(r.finish(),r.foffset()))}),(function(o){var i=t.fromSitus(o);return function(t){return pc.cata(t,(function(t){return d.none()}),(function(){return d.none()}),(function(t){return d.some(_a(t,0))}),(function(t){return d.some(_a(t,ln(t)))}))}(pc.verify(t,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,e))}))}))},Rc=function(t,e,n,r,o,i){return 0===i?d.none():Fc(t,e,n,r,o).bind((function(a){var s=t.fromSitus(a),u=pc.verify(t,n,r,s.finish(),s.foffset(),o.failure,e);return pc.cata(u,(function(){return d.none()}),(function(){return d.some(a)}),(function(a){return Ht(n,a)&&0===r?Ic(t,n,r,_c,o):Rc(t,e,a,0,o,i-1)}),(function(a){return Ht(n,a)&&r===ln(a)?Ic(t,n,r,xc,o):Rc(t,e,a,ln(a),o,i-1)}))}))},Ic=function(t,e,n,r,o){return Tc(t,e,n).bind((function(e){return Bc(t,o,r(e,Mc.getJumpSize()))}))},Bc=function(t,e,n){var r=Ft().browser;return r.isChrome()||r.isSafari()||r.isFirefox()||r.isEdge()?e.otherRetry(t,n):r.isIE()?e.ieRetry(t,n):d.none()},Fc=function(t,e,n,r,o){return Tc(t,n,r).bind((function(e){return Bc(t,o,e)}))},jc=function(t,e){return Me(t,(function(t){return $t(t).exists((function(t){return Ht(t,e)}))}),n).isSome();var n},zc=function(t,e,n,o,i){return Be(o,"td,th",e).bind((function(o){return Be(o,"table",e).bind((function(a){return jc(i,a)?function(t,e,n){return Lc(t,e,n).bind((function(r){return Rc(t,e,r.element(),r.offset(),n,20).map(t.fromSitus)}))}(t,e,n).bind((function(t){return Be(t.finish(),"td,th",e).map((function(e){return{start:r(o),finish:r(e),range:r(t)}}))})):d.none()}))}))},Hc=function(t,e,n,r,o,i){return Ft().browser.isIE()?d.none():i(r,e).orThunk((function(){return zc(t,e,n,r,o).map((function(t){var e=t.range();return $l(d.some(Kl(e.start(),e.soffset(),e.finish(),e.foffset())),!0)}))}))},qc=function(t,e){return Be(t,"tr",e).bind((function(t){return Be(t,"table",e).bind((function(n){var r=Ne(n,"tr");return Ht(t,r[0])?function(t,e,n){return sc(lc,t,e,n)}(n,(function(t){return hn(t).isSome()}),e).map((function(t){var e=ln(t);return $l(d.some(Kl(t,e,t,e)),!0)})):d.none()}))}))},Uc=function(t,e){return Be(t,"tr",e).bind((function(t){return Be(t,"table",e).bind((function(n){var r=Ne(n,"tr");return Ht(t,r[r.length-1])?function(t,e,n){return uc(lc,t,e,n)}(n,(function(t){return dn(t).isSome()}),e).map((function(t){return $l(d.some(Kl(t,0,t,0)),!0)})):d.none()}))}))},Wc=function(t,e,n,r,o,i,a){return zc(t,n,r,o,i).bind((function(t){return Zl(e,n,t.start(),t.finish(),a)}))},Vc=function(t,e){return Be(t,"td,th",e)};var $c={traverse:Kt,gather:fc,relative:il.before,otherRetry:Mc.tryDown,ieRetry:Mc.ieTryDown,failure:pc.failedDown},Gc={traverse:Yt,gather:cc,relative:il.before,otherRetry:Mc.tryUp,ieRetry:Mc.ieTryUp,failure:pc.failedUp},Yc=function(t){return function(e){return e===t}},Kc=Yc(38),Zc=Yc(40),Xc=function(t){return t>=37&&t<=40},Jc={isBackward:Yc(37),isForward:Yc(39)},Qc={isBackward:Yc(39),isForward:Yc(37)},tf=function(t){return{left:t.left(),top:t.top(),right:t.right(),bottom:t.bottom(),width:t.width(),height:t.height()}},ef=function(e){return{elementFromPoint:function(t,n){return vt.fromPoint(vt.fromDom(e.document),t,n)},getRect:function(t){return t.dom().getBoundingClientRect()},getRangedRect:function(t,n,r,o){var i=sl.exact(t,n,r,o);return Fl(e,i).map(tf)},getSelection:function(){return Bl(e).map((function(t){return Yl(e,t)}))},fromSitus:function(t){var n=sl.relative(t.start(),t.finish());return Yl(e,n)},situsFromPoint:function(t,n){return jl(e,t,n).map((function(t){return Gl(t.start(),t.soffset(),t.finish(),t.foffset())}))},clearSelection:function(){!function(t){t.getSelection().removeAllRanges()}(e)},collapseSelection:function(t){void 0===t&&(t=!1),Bl(e).each((function(n){return n.fold((function(e){return e.collapse(t)}),(function(n,r){var o=t?n:r;Ml(e,o,o)}),(function(n,r,o,i){var a=t?n:o,s=t?r:i;Pl(e,a,s,a,s)}))}))},setSelection:function(t){Pl(e,t.start(),t.soffset(),t.finish(),t.foffset())},setRelativeSelection:function(t,n){Ml(e,t,n)},selectContents:function(t){Il(e,t)},getInnerHeight:function(){return e.innerHeight},getScrollY:function(){var n,r,o,i;return(n=vt.fromDom(e.document),r=void 0!==n?n.dom():t.document,o=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop,cr(o,i)).top()},scrollBy:function(n,r){!function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollBy(e,n)}(n,r,vt.fromDom(e.document))}}},nf=function(t,e){return{rows:t,cols:e}},rf=function(t,e,n,r){var o=function(t,e,n,r){var o=d.none(),i=function(){o=d.none()};return{mousedown:function(t){r.clear(e),o=Vc(t.target(),n)},mouseover:function(i){o.each((function(o){r.clearBeforeUpdate(e),Vc(i.target(),n).each((function(i){Vn(o,i,n).each((function(n){var a=n.boxes.getOr([]);(a.length>1||1===a.length&&!Ht(o,i))&&(r.selectRange(e,a,n.start,n.finish),t.selectContents(i))}))}))}))},mouseup:function(t){o.each(i)}}}(ef(t),e,n,r);return{mousedown:o.mousedown,mouseover:o.mouseover,mouseup:o.mouseup}},of=function(t,e,n,r){var o=ef(t),a=function(){return r.clear(e),d.none()};return{keydown:function(t,s,u,l,c,f){var h=t.raw(),p=h.which,m=!0===h.shiftKey;return $n(e,r.selectedSelector).fold((function(){return Zc(p)&&m?i(Wc,o,e,n,$c,l,s,r.selectRange):Kc(p)&&m?i(Wc,o,e,n,Gc,l,s,r.selectRange):Zc(p)?i(Hc,o,n,$c,l,s,Uc):Kc(p)?i(Hc,o,n,Gc,l,s,qc):d.none}),(function(t){var n=function(n){return function(){return j(n,(function(n){return function(t,e,n,r,o){return Yn(r,t,e,o.firstSelectedSelector,o.lastSelectedSelector).map((function(t){return o.clearBeforeUpdate(n),o.selectRange(n,t.boxes,t.start,t.finish),t.boxes}))}(n.rows,n.cols,e,t,r)})).fold((function(){return Gn(e,r.firstSelectedSelector,r.lastSelectedSelector).map((function(t){var n=Zc(p)||f.isForward(p)?il.after:il.before;return o.setRelativeSelection(il.on(t.first(),0),n(t.table())),r.clear(e),$l(d.none(),!0)}))}),(function(t){return d.some($l(d.none(),!0))}))}};return Zc(p)&&m?n([nf(1,0)]):Kc(p)&&m?n([nf(-1,0)]):f.isBackward(p)&&m?n([nf(0,-1),nf(-1,0)]):f.isForward(p)&&m?n([nf(0,1),nf(1,0)]):Xc(p)&&!1===m?a:d.none}))()},keyup:function(t,o,i,a,s){return $n(e,r.selectedSelector).fold((function(){var u=t.raw(),l=u.which;return!1===(!0===u.shiftKey)?d.none():Xc(l)?function(t,e,n,r,o,i,a){return Ht(n,o)&&r===i?d.none():Be(n,"td,th",e).bind((function(n){return Be(o,"td,th",e).bind((function(r){return Zl(t,e,n,r,a)}))}))}(e,n,o,i,a,s,r.selectRange):d.none()}),d.none)}}},af=function(t,e,n){var r=function(e){ut(e,t.selected),ut(e,t.firstSelected),ut(e,t.lastSelected)},o=function(e){rt(e,t.selected,"1")},i=function(t){a(t),n()},a=function(e){var n=Ne(e,t.selectedSelector);A(n,r)};return{clearBeforeUpdate:a,clear:i,selectRange:function(n,r,a,s){i(n),A(r,o),rt(a,t.firstSelected,"1"),rt(s,t.lastSelected,"1"),e(r,a,s)},selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},sf=function(t,e,n){var r=en.fromTable(t);return Ka(r,e).map((function(t){var e=qa(r,n,!1);return{upOrLeftCells:function(t,e,n){var r=t.slice(0,e[e.length-1].row()+1),o=Wa(r,n);return I(o,(function(t){var n=t.cells().slice(0,e[e.length-1].column()+1);return O(n,(function(t){return t.element()}))}))}(e,t,n),downOrRightCells:function(t,e,n){var r=t.slice(e[0].row()+e[0].rowspan()-1,t.length),o=Wa(r,n);return I(o,(function(t){var n=t.cells().slice(e[0].column()+e[0].colspan()-1,+t.cells().length);return O(n,(function(t){return t.element()}))}))}(e,t,n)}}))},uf=function(t){return!1===ti(vt.fromDom(t.target),"ephox-snooker-resizer-bar")};function lf(t,e,r){var o=af(Zn,(function(e,o,i){r.targets().each((function(r){Ke(o).each((function(a){var s=Yi(t),u=kn(n,vt.fromDom(t.getDoc()),s),l=sf(a,r,u);!function(t,e,n,r,o){t.fire("TableSelectionChange",{cells:e,start:n,finish:r,otherCells:o})}(t,e,o,i,l)}))}))}),(function(){return function(t){t.fire("TableSelectionClear")}(t)}));return t.on("init",(function(r){var i=t.getWin(),a=Zi(t),s=Qi(t),u=rf(i,a,s,o),l=of(i,a,s,o),c=function(t,e,n,r){var o=ef(t);return function(t,i){r.clearBeforeUpdate(e),Vn(t,i,n).each((function(t){var n=t.boxes.getOr([]);r.selectRange(e,n,t.start,t.finish),o.selectContents(i),o.collapseSelection()}))}}(i,a,s,o);t.on("TableSelectorChange",(function(t){return c(t.start,t.finish)}));var f,d,h=function(e,n){(function(t){return!0===t.raw().shiftKey})(e)&&(n.kill()&&e.kill(),n.selection().each((function(e){var n=sl.relative(e.start(),e.finish()),r=ml(i,n);t.selection.setRng(r)})))},p=function(t){return 0===t.button},m=(f=sa(vt.fromDom(a)),d=sa(0),{touchEnd:function(t){var e=vt.fromDom(t.target);if("td"===Y(e)||"th"===Y(e)){var n=f.get(),r=d.get();Ht(n,e)&&t.timeStamp-r<300&&(t.preventDefault(),c(e,e))}f.set(e),d.set(t.timeStamp)}});t.on("mousedown",(function(t){p(t)&&uf(t)&&u.mousedown(Ko(t))})),t.on("mouseover",(function(t){var e;(void 0===(e=t).buttons||Gu.browser.isEdge()&&0===e.buttons||0!=(1&e.buttons))&&uf(t)&&u.mouseover(Ko(t))})),t.on("mouseup",(function(t){p(t)&&uf(t)&&u.mouseup(Ko(t))})),t.on("touchend",m.touchEnd),t.on("keyup",(function(e){var n=Ko(e);if(n.raw().shiftKey&&Xc(n.raw().which)){var r=t.selection.getRng(),o=vt.fromDom(r.startContainer),i=vt.fromDom(r.endContainer);l.keyup(n,o,r.startOffset,i,r.endOffset).each((function(t){h(n,t)}))}})),t.on("keydown",(function(n){var r=Ko(n);e().each((function(t){return t.hideBars()}));var o=t.selection.getRng(),i=vt.fromDom(t.selection.getStart()),a=vt.fromDom(o.startContainer),s=vt.fromDom(o.endContainer),u=aa(i).isRtl()?Qc:Jc;l.keydown(r,a,o.startOffset,s,o.endOffset,u).each((function(t){h(r,t)})),e().each((function(t){return t.showBars()}))})),t.on("NodeChange",(function(){var e=t.selection,r=vt.fromDom(e.getStart()),i=vt.fromDom(e.getEnd());Un(Ke,[r,i]).fold((function(){return o.clear(a)}),n)}))})),{clear:o.clear}}var cf=function(t,e){var n=sa(d.none()),r=sa([]),o=function(){return cu(t).bind((function(t){var n=Ke(t);return n.map((function(n){return"caption"===Y(t)?ar(t):sr(e,n,t)}))}))},i=function(){n.set(bt(o)()),A(r.get(),(function(t){return t()}))},a=function(t,e){var o=function(){return n.get().fold((function(){t.setDisabled(!0)}),(function(n){t.setDisabled(e(n))}))};return o(),r.set(r.get().concat([o])),function(){r.set(D(r.get(),(function(t){return t!==o})))}};return t.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:function(t){return a(t,(function(t){return!1}))},onSetupCellOrRow:function(t){return a(t,(function(t){return"caption"===Y(t.element())}))},onSetupPasteable:function(t){return function(e){return a(e,(function(e){return"caption"===Y(e.element())||t().isNone()}))}},onSetupMergeable:function(t){return a(t,(function(t){return t.mergable().isNone()}))},onSetupUnmergeable:function(t){return a(t,(function(t){return t.unmergable().isNone()}))},resetTargets:i,targets:function(){return n.get()}}},ff={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}};function df(t){var e=su(t),n=cf(t,e),r=xa(t),o=lf(t,r.lazyResize,n),i=hu(t,r.lazyWire),a=function(){var t=sa(d.none()),e=sa(d.none()),n=function(t){t.set(d.none())};return{getRows:t.get,setRows:function(r){t.set(r),n(e)},clearRows:function(){return n(t)},getColumns:e.get,setColumns:function(r){e.set(r),n(t)},clearColumns:function(){return n(e)}}}();return Ju(t,i,o,e,a),Qu(t,i,e),ur(t,e,i,o),function(t,e,n){var r=function(e){return function(){return t.execCommand(e)}},o=function(e){var n=e.numRows,r=e.numColumns;t.undoManager.transact((function(){vu(t,r,n,0,0)})),t.addVisual()},i={text:"Table properties",onSetup:e.onSetupTable,onAction:r("mceTableProps")},a={text:"Delete table",icon:"table-delete-table",onSetup:e.onSetupTable,onAction:r("mceTableDelete")};t.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:r("mceTableInsertRowBefore"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:r("mceTableInsertRowAfter"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:r("mceTableDeleteRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:r("mceTableRowProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)});t.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:r("mceTableInsertColBefore"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:r("mceTableInsertColAfter"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:r("mceTableDeleteCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)});t.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:r("mceTableCellProps"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:r("mceTableMergeCells"),onSetup:e.onSetupMergeable}),t.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:r("mceTableSplitCells"),onSetup:e.onSetupUnmergeable});!1===function(t){return t.getParam("table_grid",!0,"boolean")}(t)?t.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:r("mceInsertTable")}):t.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:o}]}}),t.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:r("mceInsertTable")}),t.ui.registry.addMenuItem("tableprops",i),t.ui.registry.addMenuItem("deletetable",a),t.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}}),t.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn"}}),t.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}}),t.ui.registry.addContextMenu("table",{update:function(){return e.resetTargets(),e.targets().fold((function(){return""}),(function(t){return"caption"===Y(t.element())?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"}))}})}(t,n,a),function(t,e,n){t.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(t){return t("inserttable | cell row column | advtablesort | tableprops deletetable")}});var r=function(e){return function(){return t.execCommand(e)}};t.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:r("mceTableProps"),icon:"table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:r("mceTableDelete"),icon:"table-delete-table",onSetup:e.onSetupTable}),t.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:r("mceTableCellProps"),icon:"table-cell-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:r("mceTableMergeCells"),icon:"table-merge-cells",onSetup:e.onSetupMergeable}),t.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:r("mceTableSplitCells"),icon:"table-split-cells",onSetup:e.onSetupUnmergeable}),t.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:r("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:r("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:r("mceTableDeleteRow"),icon:"table-delete-row",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:r("mceTableRowProps"),icon:"table-row-properties",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:r("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:r("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:r("mceTableDeleteCol"),icon:"table-delete-column",onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:r("mceTableCutRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:r("mceTableCopyRow"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:r("mceTablePasteRowBefore"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:r("mceTablePasteRowAfter"),onSetup:e.onSetupPasteable(n.getRows)}),t.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:r("mceTableCutCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:r("mceTableCopyCol"),onSetup:e.onSetupCellOrRow}),t.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:r("mceTablePasteColBefore"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:r("mceTablePasteColAfter"),onSetup:e.onSetupPasteable(n.getColumns)}),t.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:r("mceInsertTable"),icon:"table"})}(t,n,a),function(t){var e=function(t){return t.getParam("table_toolbar","tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")}(t);e.length>0&&t.ui.registry.addContextToolbar("table",{predicate:function(e){return t.dom.is(e,"table")&&t.getBody().contains(e)},items:e,scope:"node",position:"node"})}(t),t.on("PreInit",(function(){t.serializer.addTempAttr("data-mce-first-selected"),t.serializer.addTempAttr("data-mce-last-selected"),function(t){t.formatter.register(ff)}(t)})),function(t){return t.getParam("table_tab_navigation",!0,"boolean")}(t)&&t.on("keydown",(function(e){!function(t,e,n,r){if(t.keyCode===zl.TAB){var o=Zi(e),i=function(t){var e=Y(t);return Ht(t,o)||S(Vl,e)},a=e.selection.getRng();if(a.collapsed){var s=vt.fromDom(a.startContainer);Ge(s,i).each((function(o){t.preventDefault(),(t.shiftKey?ql:Hl)(e,i,o,n,r).each((function(t){e.selection.setRng(t)}))}))}}}(e,t,i,r.lazyWire)})),t.on("remove",(function(){r.destroy()})),function(t,e,n,r){return{insertTable:function(e,n,r){return void 0===r&&(r={}),yu(t,n,e,r)},setClipboardRows:wu(e.setRows),getClipboardRows:bu(e.getRows),setClipboardCols:wu(e.setColumns),getClipboardCols:bu(e.getColumns),resizeHandler:n,selectionTargets:r}}(t,a,r,n)}e.add("table",df)}(window)},lZu9:function(t,e,n){!function(t){"use strict";t.defineMode("markdown",(function(e,n){var r=t.getMode(e,"text/html"),o="null"==r.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain"),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var i={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var a in i)i.hasOwnProperty(a)&&n.tokenTypeOverrides[a]&&(i[a]=n.tokenTypeOverrides[a]);var s=/^([*\-_])(?:\s*\1){2,}\s*$/,u=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,l=/^\[(x| )\](?=\s)/i,c=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,f=/^ {0,3}(?:\={1,}|-{2,})\s*$/,d=/^[^#!\[\]*_\\<>` "'(~:]+/,h=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,p=/^\s*\[[^\]]+?\]:.*$/,m=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/;function g(t,e,n){return e.f=e.inline=n,n(t,e)}function v(t,e,n){return e.f=e.block=n,n(t,e)}function y(e){if(e.linkTitle=!1,e.linkHref=!1,e.linkText=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,e.f==w){var n=o;if(!n){var i=t.innerMode(r,e.htmlState);n="xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText}n&&(e.f=C,e.block=b,e.htmlState=null)}return e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine={stream:null},null}function b(r,o){var a,d=r.column()===o.indentation,m=!(a=o.prevLine.stream)||!/\S/.test(a.string),v=o.indentedCode,y=o.prevLine.hr,b=!1!==o.list,w=(o.listStack[o.listStack.length-1]||0)+3;o.indentedCode=!1;var k=o.indentation;if(null===o.indentationDiff&&(o.indentationDiff=o.indentation,b)){for(o.list=null;k<o.listStack[o.listStack.length-1];)o.listStack.pop(),o.listStack.length?o.indentation=o.listStack[o.listStack.length-1]:o.list=!1;!1!==o.list&&(o.indentationDiff=k-o.listStack[o.listStack.length-1])}var C=!(m||y||o.prevLine.header||b&&v||o.prevLine.fencedCodeEnd),S=(!1===o.list||y||m)&&o.indentation<=w&&r.match(s),T=null;if(o.indentationDiff>=4&&(v||o.prevLine.fencedCodeEnd||o.prevLine.header||m))return r.skipToEnd(),o.indentedCode=!0,i.code;if(r.eatSpace())return null;if(d&&o.indentation<=w&&(T=r.match(c))&&T[1].length<=6)return o.quote=0,o.header=T[1].length,o.thisLine.header=!0,n.highlightFormatting&&(o.formatting="header"),o.f=o.inline,_(o);if(o.indentation<=w&&r.eat(">"))return o.quote=d?1:o.quote+1,n.highlightFormatting&&(o.formatting="quote"),r.eatSpace(),_(o);if(!S&&!o.setext&&d&&o.indentation<=w&&(T=r.match(u))){var E=T[1]?"ol":"ul";return o.indentation=k+r.current().length,o.list=!0,o.quote=0,o.listStack.push(o.indentation),o.em=!1,o.strong=!1,o.code=!1,o.strikethrough=!1,n.taskLists&&r.match(l,!1)&&(o.taskList=!0),o.f=o.inline,n.highlightFormatting&&(o.formatting=["list","list-"+E]),_(o)}return d&&o.indentation<=w&&(T=r.match(h,!0))?(o.quote=0,o.fencedEndRE=new RegExp(T[1]+"+ *$"),o.localMode=n.fencedCodeBlockHighlighting&&function(n){if(t.findModeByName){var r=t.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var o=t.getMode(e,n);return"null"==o.name?null:o}(T[2]||n.fencedCodeBlockDefaultMode),o.localMode&&(o.localState=t.startState(o.localMode)),o.f=o.block=x,n.highlightFormatting&&(o.formatting="code-block"),o.code=-1,_(o)):o.setext||!(C&&b||o.quote||!1!==o.list||o.code||S||p.test(r.string))&&(T=r.lookAhead(1))&&(T=T.match(f))?(o.setext?(o.header=o.setext,o.setext=0,r.skipToEnd(),n.highlightFormatting&&(o.formatting="header")):(o.header="="==T[0].charAt(0)?1:2,o.setext=o.header),o.thisLine.header=!0,o.f=o.inline,_(o)):S?(r.skipToEnd(),o.hr=!0,o.thisLine.hr=!0,i.hr):"["===r.peek()?g(r,o,O):g(r,o,o.inline)}function w(e,n){var i=r.token(e,n.htmlState);if(!o){var a=t.innerMode(r,n.htmlState);("xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText||n.md_inside&&e.current().indexOf(">")>-1)&&(n.f=C,n.block=b,n.htmlState=null)}return i}function x(t,e){var r,o=e.listStack[e.listStack.length-1]||0,a=e.indentation<o,s=o+3;return e.fencedEndRE&&e.indentation<=s&&(a||t.match(e.fencedEndRE))?(n.highlightFormatting&&(e.formatting="code-block"),a||(r=_(e)),e.localMode=e.localState=null,e.block=b,e.f=C,e.fencedEndRE=null,e.code=0,e.thisLine.fencedCodeEnd=!0,a?v(t,e,e.block):r):e.localMode?e.localMode.token(t,e.localState):(t.skipToEnd(),i.code)}function _(t){var e=[];if(t.formatting){e.push(i.formatting),"string"==typeof t.formatting&&(t.formatting=[t.formatting]);for(var r=0;r<t.formatting.length;r++)e.push(i.formatting+"-"+t.formatting[r]),"header"===t.formatting[r]&&e.push(i.formatting+"-"+t.formatting[r]+"-"+t.header),"quote"===t.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=t.quote?e.push(i.formatting+"-"+t.formatting[r]+"-"+t.quote):e.push("error"))}if(t.taskOpen)return e.push("meta"),e.length?e.join(" "):null;if(t.taskClosed)return e.push("property"),e.length?e.join(" "):null;if(t.linkHref?e.push(i.linkHref,"url"):(t.strong&&e.push(i.strong),t.em&&e.push(i.em),t.strikethrough&&e.push(i.strikethrough),t.emoji&&e.push(i.emoji),t.linkText&&e.push(i.linkText),t.code&&e.push(i.code),t.image&&e.push(i.image),t.imageAltText&&e.push(i.imageAltText,"link"),t.imageMarker&&e.push(i.imageMarker)),t.header&&e.push(i.header,i.header+"-"+t.header),t.quote&&(e.push(i.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=t.quote?e.push(i.quote+"-"+t.quote):e.push(i.quote+"-"+n.maxBlockquoteDepth)),!1!==t.list){var o=(t.listStack.length-1)%3;o?1===o?e.push(i.list2):e.push(i.list3):e.push(i.list1)}return t.trailingSpaceNewLine?e.push("trailing-space-new-line"):t.trailingSpace&&e.push("trailing-space-"+(t.trailingSpace%2?"a":"b")),e.length?e.join(" "):null}function k(t,e){if(t.match(d,!0))return _(e)}function C(e,o){var a=o.text(e,o);if(void 0!==a)return a;if(o.list)return o.list=null,_(o);if(o.taskList)return" "===e.match(l,!0)[1]?o.taskOpen=!0:o.taskClosed=!0,n.highlightFormatting&&(o.formatting="task"),o.taskList=!1,_(o);if(o.taskOpen=!1,o.taskClosed=!1,o.header&&e.match(/^#+$/,!0))return n.highlightFormatting&&(o.formatting="header"),_(o);var s=e.next();if(o.linkTitle){o.linkTitle=!1;var u=s;"("===s&&(u=")");var c="^\\s*(?:[^"+(u=(u+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+u;if(e.match(new RegExp(c),!0))return i.linkHref}if("`"===s){var f=o.formatting;n.highlightFormatting&&(o.formatting="code"),e.eatWhile("`");var d=e.current().length;if(0!=o.code||o.quote&&1!=d){if(d==o.code){var h=_(o);return o.code=0,h}return o.formatting=f,_(o)}return o.code=d,_(o)}if(o.code)return _(o);if("\\"===s&&(e.next(),n.highlightFormatting)){var p=_(o),g=i.formatting+"-escape";return p?p+" "+g:g}if("!"===s&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return o.imageMarker=!0,o.image=!0,n.highlightFormatting&&(o.formatting="image"),_(o);if("["===s&&o.imageMarker&&e.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return o.imageMarker=!1,o.imageAltText=!0,n.highlightFormatting&&(o.formatting="image"),_(o);if("]"===s&&o.imageAltText){n.highlightFormatting&&(o.formatting="image");var p=_(o);return o.imageAltText=!1,o.image=!1,o.inline=o.f=T,p}if("["===s&&!o.image)return o.linkText&&e.match(/^.*?\]/)||(o.linkText=!0,n.highlightFormatting&&(o.formatting="link")),_(o);if("]"===s&&o.linkText){n.highlightFormatting&&(o.formatting="link");var p=_(o);return o.linkText=!1,o.inline=o.f=e.match(/\(.*?\)| ?\[.*?\]/,!1)?T:C,p}if("<"===s&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=S,n.highlightFormatting&&(o.formatting="link"),(p=_(o))?p+=" ":p="",p+i.linkInline;if("<"===s&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=S,n.highlightFormatting&&(o.formatting="link"),(p=_(o))?p+=" ":p="",p+i.linkEmail;if(n.xml&&"<"===s&&e.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var y=e.string.indexOf(">",e.pos);if(-1!=y){var b=e.string.substring(e.start,y);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(b)&&(o.md_inside=!0)}return e.backUp(1),o.htmlState=t.startState(r),v(e,o,w)}if(n.xml&&"<"===s&&e.match(/^\/\w*?>/))return o.md_inside=!1,"tag";if("*"===s||"_"===s){for(var x=1,k=1==e.pos?" ":e.string.charAt(e.pos-2);x<3&&e.eat(s);)x++;var E=e.peek()||" ",O=!/\s/.test(E)&&(!m.test(E)||/\s/.test(k)||m.test(k)),A=!/\s/.test(k)&&(!m.test(k)||/\s/.test(E)||m.test(E)),D=null,N=null;if(x%2&&(o.em||!O||"*"!==s&&A&&!m.test(k)?o.em!=s||!A||"*"!==s&&O&&!m.test(E)||(D=!1):D=!0),x>1&&(o.strong||!O||"*"!==s&&A&&!m.test(k)?o.strong!=s||!A||"*"!==s&&O&&!m.test(E)||(N=!1):N=!0),null!=N||null!=D)return n.highlightFormatting&&(o.formatting=null==D?"strong":null==N?"em":"strong em"),!0===D&&(o.em=s),!0===N&&(o.strong=s),h=_(o),!1===D&&(o.em=!1),!1===N&&(o.strong=!1),h}else if(" "===s&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return _(o);e.backUp(1)}if(n.strikethrough)if("~"===s&&e.eatWhile(s)){if(o.strikethrough)return n.highlightFormatting&&(o.formatting="strikethrough"),h=_(o),o.strikethrough=!1,h;if(e.match(/^[^\s]/,!1))return o.strikethrough=!0,n.highlightFormatting&&(o.formatting="strikethrough"),_(o)}else if(" "===s&&e.match(/^~~/,!0)){if(" "===e.peek())return _(o);e.backUp(2)}if(n.emoji&&":"===s&&e.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){o.emoji=!0,n.highlightFormatting&&(o.formatting="emoji");var P=_(o);return o.emoji=!1,P}return" "===s&&(e.match(/^ +$/,!1)?o.trailingSpace++:o.trailingSpace&&(o.trailingSpaceNewLine=!0)),_(o)}function S(t,e){if(">"===t.next()){e.f=e.inline=C,n.highlightFormatting&&(e.formatting="link");var r=_(e);return r?r+=" ":r="",r+i.linkInline}return t.match(/^[^>]+/,!0),i.linkInline}function T(t,e){if(t.eatSpace())return null;var r,o=t.next();return"("===o||"["===o?(e.f=e.inline=(r="("===o?")":"]",function(t,e){if(t.next()===r){e.f=e.inline=C,n.highlightFormatting&&(e.formatting="link-string");var o=_(e);return e.linkHref=!1,o}return t.match(E[r]),e.linkHref=!0,_(e)}),n.highlightFormatting&&(e.formatting="link-string"),e.linkHref=!0,_(e)):"error"}var E={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function O(t,e){return t.match(/^([^\]\\]|\\.)*\]:/,!1)?(e.f=A,t.next(),n.highlightFormatting&&(e.formatting="link"),e.linkText=!0,_(e)):g(t,e,C)}function A(t,e){if(t.match(/^\]:/,!0)){e.f=e.inline=D,n.highlightFormatting&&(e.formatting="link");var r=_(e);return e.linkText=!1,r}return t.match(/^([^\]\\]|\\.)+/,!0),i.linkText}function D(t,e){return t.eatSpace()?null:(t.match(/^[^\s]+/,!0),void 0===t.peek()?e.linkTitle=!0:t.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),e.f=e.inline=C,i.linkHref+" url")}var N={startState:function(){return{f:b,prevLine:{stream:null},thisLine:{stream:null},block:b,htmlState:null,indentation:0,inline:C,text:k,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&t.copyState(r,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?t.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkText:e.linkText,linkTitle:e.linkTitle,linkHref:e.linkHref,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,emoji:e.emoji,header:e.header,setext:e.setext,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedEndRE:e.fencedEndRE}},token:function(t,e){if(e.formatting=!1,t!=e.thisLine.stream){if(e.header=0,e.hr=!1,t.match(/^\s*$/,!0))return y(e),null;if(e.prevLine=e.thisLine,e.thisLine={stream:t},e.taskList=!1,e.trailingSpace=0,e.trailingSpaceNewLine=!1,!e.localState&&(e.f=e.block,e.f!=w)){var n=t.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(e.indentation=n,e.indentationDiff=null,n>0)return null}}return e.f(t,e)},innerMode:function(t){return t.block==w?{state:t.htmlState,mode:r}:t.localState?{state:t.localState,mode:t.localMode}:{state:t,mode:N}},indent:function(e,n,o){return e.block==w&&r.indent?r.indent(e.htmlState,n,o):e.localState&&e.localMode.indent?e.localMode.indent(e.localState,n,o):t.Pass},blankLine:y,getType:_,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return N}),"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")}(n("VrN/"),n("1eCo"),n("8EBN"))},lk1c:function(t,e,n){t.exports=function(){"use strict";return function(t){return void 0===t&&(t={}),function(e){var n,r,o,i="",a={onParseConfig:function(){e.config.mode="range",i=e.config.altInput?e.config.altFormat:e.config.dateFormat},onReady:function(){!function(){if(t.input){if(!(n=t.input instanceof Element?t.input:window.document.querySelector(t.input)))return void e.config.errorHandler(new Error("Invalid input element specified"));e.config.wrap&&(n=n.querySelector("[data-input]"))}else(n=e._input.cloneNode()).removeAttribute("id"),n._flatpickr=void 0;if(n.value){var o=e.parseDate(n.value);o&&e.selectedDates.push(o)}n.setAttribute("data-fp-omit",""),e._bind(n,["focus","click"],(function(){e.selectedDates[1]&&(e.latestSelectedDateObj=e.selectedDates[1],e._setHoursFromDate(e.selectedDates[1]),e.jumpToDate(e.selectedDates[1])),r=!0,e.isOpen=!1,e.open(void 0,"left"===t.position?e._input:n)})),e._bind(e._input,["focus","click"],(function(t){t.preventDefault(),e.isOpen=!1,e.open()})),e.config.allowInput&&e._bind(n,"keydown",(function(t){"Enter"===t.key&&(e.setDate([e.selectedDates[0],n.value],!0,i),n.click())})),t.input||e._input.parentNode&&e._input.parentNode.insertBefore(n,e._input.nextSibling)}(),e.config.ignoredFocusElements.push(n),e.config.allowInput?(e._input.removeAttribute("readonly"),n.removeAttribute("readonly")):n.setAttribute("readonly","readonly"),e._bind(e._input,"focus",(function(){e.latestSelectedDateObj=e.selectedDates[0],e._setHoursFromDate(e.selectedDates[0]),r=!1,e.jumpToDate(e.selectedDates[0])})),e.config.allowInput&&e._bind(e._input,"keydown",(function(t){"Enter"===t.key&&e.setDate([e._input.value,e.selectedDates[1]],!0,i)})),e.setDate(e.selectedDates,!1),a.onValueUpdate(e.selectedDates),e.loadedPlugins.push("range")},onPreCalendarPosition:function(){r&&(e._positionElement=n,setTimeout((function(){e._positionElement=e._input}),0))},onChange:function(){e.selectedDates.length||setTimeout((function(){e.selectedDates.length||(n.value="",o=[])}),10),r&&setTimeout((function(){n.focus()}),0)},onDestroy:function(){t.input||n.parentNode&&n.parentNode.removeChild(n)},onValueUpdate:function(t){var a,s,u;if(n){if((o=!o||t.length>=o.length?t.slice():o).length>t.length){var l=t[0],c=r?[o[0],l]:[l,o[1]];e.setDate(c,!1),o=c.slice()}s=(a=e.selectedDates.map((function(t){return e.formatDate(t,i)})))[0],e._input.value=void 0===s?"":s,u=a[1],n.value=void 0===u?"":u}}};return a}}}()},mUiM:function(t,e,n){!function(t){"use strict";function e(t){t.state.markedSelection&&t.operation((function(){!function(t){if(!t.somethingSelected())return a(t);if(t.listSelections().length>1)return s(t);var e=t.getCursor("start"),n=t.getCursor("end"),r=t.state.markedSelection;if(!r.length)return i(t,e,n);var u=r[0].find(),l=r[r.length-1].find();if(!u||!l||n.line-e.line<=8||o(e,l.to)>=0||o(n,u.from)<=0)return s(t);for(;o(e,u.from)>0;)r.shift().clear(),u=r[0].find();for(o(e,u.from)<0&&(u.to.line-e.line<8?(r.shift().clear(),i(t,e,u.to,0)):i(t,e,u.from,0));o(n,l.to)<0;)r.pop().clear(),l=r[r.length-1].find();o(n,l.to)>0&&(n.line-l.from.line<8?(r.pop().clear(),i(t,l.from,n)):i(t,l.to,n))}(t)}))}function n(t){t.state.markedSelection&&t.state.markedSelection.length&&t.operation((function(){a(t)}))}t.defineOption("styleSelectedText",!1,(function(r,o,i){var u=i&&i!=t.Init;o&&!u?(r.state.markedSelection=[],r.state.markedSelectionStyle="string"==typeof o?o:"CodeMirror-selectedtext",s(r),r.on("cursorActivity",e),r.on("change",n)):!o&&u&&(r.off("cursorActivity",e),r.off("change",n),a(r),r.state.markedSelection=r.state.markedSelectionStyle=null)}));var r=t.Pos,o=t.cmpPos;function i(t,e,n,i){if(0!=o(e,n))for(var a=t.state.markedSelection,s=t.state.markedSelectionStyle,u=e.line;;){var l=u==e.line?e:r(u,0),c=u+8,f=c>=n.line,d=f?n:r(c,0),h=t.markText(l,d,{className:s});if(null==i?a.push(h):a.splice(i++,0,h),f)break;u=c}}function a(t){for(var e=t.state.markedSelection,n=0;n<e.length;++n)e[n].clear();e.length=0}function s(t){a(t);for(var e=t.listSelections(),n=0;n<e.length;n++)i(t,e[n].from(),e[n].to())}}(n("VrN/"))},mVcw:function(t,e){!function(){"use strict";function t(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function e(t){var e=t.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function n(t){return null===t.offsetParent}function r(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function o(t){return t.titleHeight+t.margins.top+t.paddings.top}function i(t){return t.margins.left+t.paddings.left}function a(t){return t.margins.top+t.margins.bottom+t.paddings.top+t.paddings.bottom+t.titleHeight+t.legendHeight}function s(t){return t.margins.left+t.margins.right+t.paddings.left+t.paddings.right}function u(t){return parseFloat(t.toFixed(2))}function l(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n||(n=r?t[0]:t[t.length-1]);var o=new Array(Math.abs(e)).fill(n);return r?o.concat(t):t.concat(o)}function c(t,e){return(t+"").length*e}function f(t,e){return{x:Math.sin(t*xt)*e,y:Math.cos(t*xt)*e}}function d(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(Number.isNaN(t)||void 0===t||!Number.isFinite(t)||e&&t<0)}function h(t,e){var n=void 0,r=void 0;return t<=e?(n=e-t,r=t):(n=t-e,r=e),[n,r]}function p(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-t.length;return n>0?t=l(t,n):e=l(e,n),[t,e]}function m(t,e){if(t)return t.length>e?t.slice(0,e-3)+"...":t}function g(t){var e=void 0;if("number"==typeof t)e=t;else if("string"==typeof t&&(e=Number(t),Number.isNaN(e)))return t;var n=Math.floor(Math.log10(Math.abs(e)));if(n<=2)return e;var r=Math.floor(n/3),o=Math.pow(10,n-3*r)*+(e/Math.pow(10,n)).toFixed(1);return Math.round(100*o)/100+" "+["","K","M","B","T"][r]}function v(t,e){for(var n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);var o=function(t,e,n,r){var o=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return{length:Math.sqrt(Math.pow(n,2)+Math.pow(r,2)),angle:Math.atan2(r,n)}}(e||t,n||t),i=o.angle+(r?Math.PI:0),a=.2*o.length;return[t[0]+Math.cos(i)*a,t[1]+Math.sin(i)*a]};return function(t,e){return t.reduce((function(t,e,n,r){return 0===n?e[0]+","+e[1]:t+" "+function(t,e,n){var r=o(n[e-1],n[e-2],t),i=o(t,n[e-1],n[e+1],!0);return"C "+r[0]+","+r[1]+" "+i[0]+","+i[1]+" "+t[0]+","+t[1]}(e,n,r)}),"")}(n)}function y(t){return t>255?255:t<0?0:t}function b(t,e){var n=Ct(t),r=!1;"#"==n[0]&&(n=n.slice(1),r=!0);var o=parseInt(n,16),i=y((o>>16)+e),a=y((o>>8&255)+e);return(r?"#":"")+(y((255&o)+e)|a<<8|i<<16).toString(16)}function w(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function x(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e){var o=e[r];if("inside"===r)w(o).appendChild(n);else if("around"===r){var i=w(o);i.parentNode.insertBefore(n,i),n.appendChild(i)}else"styles"===r?"object"===(void 0===o?"undefined":st(o))&&Object.keys(o).map((function(t){n.style[t]=o[t]})):("className"===r&&(r="class"),"innerHTML"===r?n.textContent=o:n.setAttribute(r,o))}return n}function _(t,e){return x("linearGradient",{inside:t,id:e,x1:0,x2:0,y1:0,y2:1})}function k(t,e,n,r){return x("stop",{inside:t,style:"stop-color: "+n,offset:e,"stop-opacity":r})}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={className:t,transform:e};return n&&(r.inside=n),x("g",r)}function S(t){return x("path",{className:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d:t,styles:{stroke:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",fill:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none","stroke-width":arguments.length>4&&void 0!==arguments[4]?arguments[4]:2}})}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="path-fill-gradient-"+e+"-"+(n?"lighter":"default"),o=_(t,r),i=[1,.6,.2];return n&&(i=[.4,.2,0]),k(o,"0%",e,i[0]),k(o,"50%",e,i[1]),k(o,"100%",e,i[2]),r}function E(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s={className:t,x:e,y:n,width:r,height:r,rx:o,fill:i};return Object.keys(a).map((function(t){s[t]=a[t]})),x("rect",s)}function O(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=o.fontSize||Ot;return x("text",{className:t,x:e,y:n,dy:(void 0!==o.dy?o.dy:i/2)+"px","font-size":i+"px",fill:o.fill||Dt,"text-anchor":o.textAnchor||"start",innerHTML:r})}function A(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.stroke||(o.stroke=At);var i=x("line",{className:"line-vertical "+o.className,x1:0,x2:0,y1:n,y2:r,styles:{stroke:o.stroke}}),a=x("text",{x:0,y:n>r?n+Tt:n-Tt-Ot,dy:Ot+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:e+""}),s=x("g",{transform:"translate("+t+", 0)"});return s.appendChild(i),s.appendChild(a),s}function D(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};o.stroke||(o.stroke=At),o.lineType||(o.lineType=""),o.shortenNumbers&&(e=g(e));var i=x("line",{className:"line-horizontal "+o.className+("dashed"===o.lineType?"dashed":""),x1:n,x2:r,y1:0,y2:0,styles:{stroke:o.stroke}}),a=x("text",{x:n<r?n-Tt:n+Tt,y:0,dy:Ot/2-2+"px","font-size":Ot+"px","text-anchor":n<r?"end":"start",innerHTML:e+""}),s=x("g",{transform:"translate(0, "+t+")","stroke-opacity":1});return 0!==a&&"0"!==a||(s.style.stroke="rgba(27, 31, 35, 0.6)"),s.appendChild(i),s.appendChild(a),s}function N(t,e,n,r){var o="string"==typeof e?e:e.join(", ");return[t,{transform:n.join(", ")},r,Bt,"translate",{transform:o}]}function P(t,e,n){return N(t,[0,n],[0,e],Rt)}function M(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=h(n,(arguments.length>5&&void 0!==arguments[5]?arguments[5]:{}).zeroLine),a=ht(i,2),s=a[0],u=a[1];return u-=o,"rect"!==t.nodeName?[[t.childNodes[0],{width:r,height:s},Mt,Bt],N(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],Rt)]:[[t,{width:r,height:s,x:e,y:u},Mt,Bt]]}function L(t,e){return[t,{d:e},Mt,Bt]}function R(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"linear",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=t.cloneNode(!0),s=t.cloneNode(!0);for(var u in e){var l=void 0;l="transform"===u?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var c=i[u]||t.getAttribute(u),f=e[u],d={attributeName:u,from:c,to:f,begin:"0s",dur:n/1e3+"s",values:c+";"+f,keySplines:Ft[r],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};for(var h in o&&(d.type=o),d)l.setAttribute(h,d[h]);a.appendChild(l),o?s.setAttribute(u,"translate("+f+")"):s.setAttribute(u,f)}return[a,s]}function I(t,e){t.style.transform=e,t.style.webkitTransform=e,t.style.msTransform=e,t.style.mozTransform=e,t.style.oTransform=e}function B(t,e){var n=[],r=[];e.map((function(t){var e,o,i=t[0],a=i.parentNode;t[0]=i;var s=R.apply(void 0,pt(t)),u=ht(s,2);e=u[0],o=u[1],n.push(o),r.push([e,a]),a.replaceChild(e,i)}));var o=t.cloneNode(!0);return r.map((function(t,r){t[1].replaceChild(n[r],t[0]),e[r][0]=n[r]})),o}function F(t,e,n){if(0!==n.length){var r=B(e,n);e.parentNode==t&&(t.removeChild(e),t.appendChild(r)),setTimeout((function(){r.parentNode==t&&(t.removeChild(r),t.appendChild(e))}),It)}}function j(e){var n=e.cloneNode(!0);n.classList.add("chart-container"),n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var r=t.create("style",{innerHTML:jt});n.insertBefore(r,n.firstChild);var o=t.create("div");return o.appendChild(n),o.innerHTML}function z(t){var e=new Date(t);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function H(t){var e=t.getDate(),n=t.getMonth()+1;return[t.getFullYear(),(n>9?"":"0")+n,(e>9?"":"0")+e].join("-")}function q(t){return new Date(t.getTime())}function U(t,e){var n=G(t);return Math.ceil(function(t,e){var n=Wt*Ut;return(z(e)-z(t))/n}(n,e)/qt)}function W(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function V(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Vt[t];return e?n.slice(0,3):n}function $(t,e){return new Date(e,t+1,0)}function G(t){var e=q(t),n=e.getDay();return 0!==n&&Y(e,-1*n),e}function Y(t,e){t.setDate(t.getDate()+e)}function K(t,e,n){var r=Object.keys(Yt).filter((function(e){return t.includes(e)})),o=Yt[r[0]];return Object.assign(o,{constants:e,getData:n}),new Gt(o)}function Z(t){if(0===t)return[0,0];if(isNaN(t))return{mantissa:-6755399441055744,exponent:972};var e=t>0?1:-1;if(!isFinite(t))return{mantissa:4503599627370496*e,exponent:972};t=Math.abs(t);var n=Math.floor(Math.log10(t));return[e*(t/Math.pow(10,n)),n]}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.ceil(t),r=Math.floor(e),o=n-r,i=o,a=1;o>5&&(o%2!=0&&(o=++n-r),i=o/2,a=2),o<=2&&(a=o/(i=4)),0===o&&(i=5,a=1);for(var s=[],u=0;u<=i;u++)s.push(r+a*u);return s}function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Z(t),r=ht(n,2),o=r[0],i=r[1],a=e?e/Math.pow(10,i):0,s=X(o=o.toFixed(6),a);return s.map((function(t){return t*Math.pow(10,i)}))}function Q(t){function e(t,e){for(var n=J(t),r=n[1]-n[0],o=0,i=1;o<e;i++)o+=r,n.unshift(-1*o);return n}var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Math.max.apply(Math,pt(t)),o=Math.min.apply(Math,pt(t)),i=[];if(r>=0&&o>=0)Z(r)[1],i=n?J(r,o):J(r);else if(r>0&&o<0){var a=Math.abs(o);r>=a?(Z(r)[1],i=e(r,a)):(Z(a)[1],i=e(a,r).map((function(t){return-1*t})))}else if(r<=0&&o<=0){var s=Math.abs(o),u=Math.abs(r);Z(s)[1],i=(i=n?J(s,u):J(s)).reverse().map((function(t){return-1*t}))}return i}function tt(t){var e=et(t);return t.indexOf(0)>=0?t.indexOf(0):t[0]>0?-1*t[0]/e:-1*t[t.length-1]/e+(t.length-1)}function et(t){return t[1]-t[0]}function nt(t){return t[t.length-1]-t[0]}function rt(t,e){return u(e.zeroLine-t*e.scaleMultiplier)}function ot(t,e){return e.filter((function(e){return e<t})).length}function it(t,e){t.labels=t.labels||[];var n=t.labels.length,r=t.datasets,o=new Array(n).fill(0);return r||(r=[{values:o}]),r.map((function(t){if(t.values){var r=t.values;r=(r=r.map((function(t){return isNaN(t)?0:t}))).length>n?r.slice(0,n):l(r,n-r.length,0)}else t.values=o;t.chartType||(gt.includes(e),t.chartType=e)})),t.yRegions&&t.yRegions.map((function(t){if(t.end<t.start){var e=[t.end,t.start];t.start=e[0],t.end=e[1]}})),t}function at(t){var e=t.labels.length,n=new Array(e).fill(0),r={labels:t.labels.slice(0,-1),datasets:t.datasets.map((function(t){return{name:"",values:n.slice(0,-1),chartType:t.chartType}}))};return t.yMarkers&&(r.yMarkers=[{value:0,label:""}]),t.yRegions&&(r.yRegions=[{start:0,end:0,label:""}]),r}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}('.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}');var st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut=(function(){function t(t){this.value=t}function e(e){function n(o,i){try{var a=e[o](i),s=a.value;s instanceof t?Promise.resolve(s.value).then((function(t){n("next",t)}),(function(t){n("throw",t)})):r(a.done?"return":"normal",a.value)}catch(t){r("throw",t)}}function r(t,e){switch(t){case"return":o.resolve({value:e,done:!0});break;case"throw":o.reject(e);break;default:o.resolve({value:e,done:!1})}(o=o.next)?n(o.key,o.arg):i=null}var o,i;this._invoke=function(t,e){return new Promise((function(r,a){var s={key:t,arg:e,resolve:r,reject:a,next:null};i?i=i.next=s:(o=i=s,n(t,e))}))},"function"!=typeof e.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),lt=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ct=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},ft=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},dt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},ht=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},pt=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};t.create=function(e,n){var r=document.createElement(e);for(var o in n){var i=n[o];if("inside"===o)t(i).appendChild(r);else if("around"===o){var a=t(i);a.parentNode.insertBefore(r,a),r.appendChild(a)}else"styles"===o?"object"===(void 0===i?"undefined":st(i))&&Object.keys(i).map((function(t){r.style[t]=i[t]})):o in r?r[o]=i:r.setAttribute(o,i)}return r};var mt={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},gt=["line","bar"],vt=2,yt=7,bt=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],wt={bar:bt,line:bt,pie:bt,percentage:bt,heatmap:["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],donut:bt},xt=Math.PI/180,_t=function(){function e(t){var n=t.parent,r=void 0===n?null:n,o=t.colors,i=void 0===o?[]:o;ut(this,e),this.parent=r,this.colors=i,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return lt(e,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=t.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:'<span class="title"></span>\n\t\t\t\t<ul class="data-point-list"></ul>\n\t\t\t\t<div class="svg-pointer"></div>'}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",(function(){e.hideTip()}))}},{key:"fill",value:function(){var e,n=this;this.index&&this.container.setAttribute("data-point-index",this.index),e=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=e,this.dataPointList.innerHTML="",this.listValues.map((function(e,r){var o=n.colors[r]||"black",i=0===e.formatted||e.formatted?e.formatted:e.value,a=t.create("li",{styles:{"border-top":"3px solid "+o},innerHTML:'<strong style="display: block;">'+(0===i||i?i:"")+"</strong>\n\t\t\t\t\t"+(e.title?e.title:"")});n.dataPointList.appendChild(a)}))}},{key:"calcPosition",value:function(){var t=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-5,this.left=this.x-t/2;var e=this.parent.offsetWidth-t,n=this.container.querySelector(".svg-pointer");if(this.left<0)n.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>e){var r="calc(50% + "+(this.left-e)+"px)";n.style.left=r,this.left=e}else n.style.left="50%"}},{key:"setValues",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1;this.titleName=n.name,this.titleValue=n.value,this.listValues=r,this.x=t,this.y=e,this.titleValueFirst=n.valueFirst||0,this.index=o,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),e}(),kt={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},Ct=function(t){return kt[t]||t},St=6,Tt=4,Et=15,Ot=10,At="#dadada",Dt="#555b51",Nt={bar:function(t){var e=void 0;"rect"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode();return n.style.fill="#000000",n.style.opacity="0.4",e&&n.setAttribute("transform",e),n},dot:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),r=t.getAttribute("r"),o=t.getAttribute("fill");return n.setAttribute("r",parseInt(r)+4),n.setAttribute("fill",o),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n},heat_square:function(t){var e=void 0;"circle"!==t.nodeName&&(e=t.getAttribute("transform"),t=t.childNodes[0]);var n=t.cloneNode(),r=t.getAttribute("r"),o=t.getAttribute("fill");return n.setAttribute("r",parseInt(r)+4),n.setAttribute("fill",o),n.style.opacity="0.6",e&&n.setAttribute("transform",e),n}},Pt={bar:function(t,e){var n=void 0;"rect"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["x","y","width","height"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},dot:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["cx","cy"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)},heat_square:function(t,e){var n=void 0;"circle"!==t.nodeName&&(n=t.getAttribute("transform"),t=t.childNodes[0]);var r=["cx","cy"];Object.values(t.attributes).filter((function(t){return r.includes(t.name)&&t.specified})).map((function(t){e.setAttribute(t.name,t.nodeValue)})),n&&e.setAttribute("transform",n)}},Mt=350,Lt=350,Rt=Mt,It=250,Bt="easein",Ft={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},jt=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",zt=function(){function e(t,n){if(ut(this,e),this.parent="string"==typeof t?document.querySelector(t):t,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=n,this.title=n.title||"",this.type=n.type||"",this.realData=this.prepareData(n.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(n.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:n.isNavigable||0,animate:void 0!==n.animate?n.animate:1,truncateLegends:n.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(mt));var r=this.measures;this.setMeasures(n),this.title.length||(r.titleHeight=0),this.config.showLegend||(r.legendHeight=0),this.argHeight=n.height||r.baseHeight,this.state={},this.options={},this.initTimeout=700,this.config.isNavigable&&(this.overlays=[]),this.configure(n)}return lt(e,[{key:"prepareData",value:function(t){return t}},{key:"prepareFirstData",value:function(t){return t}},{key:"validateColors",value:function(t,e){var n=[];return(t=(t||[]).concat(wt[e])).forEach((function(t){var e=Ct(t);!function(t){return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(t)||/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i.test(t)}(e)||n.push(e)})),n}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var t=this,e=this.argHeight;this.baseHeight=e,this.height=e-a(this.measures),this.boundDrawFn=function(){return t.draw(!0)},window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=t.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new _t({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&n(this.parent)||(this.updateWidth(),this.calc(e),this.makeChartArea(),this.setupComponents(),this.components.forEach((function(e){return e.setup(t.drawArea)})),this.render(this.components,!1),r&&(this.data=this.realData,setTimeout((function(){t.update(t.data)}),this.initTimeout)),this.renderLegend(),this.setupNavigation(r))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return t.clientWidth-n}(this.parent),this.width=this.baseWidth-s(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var t=this.measures;this.svg=function(t,e,n,r){return x("svg",{className:e,inside:t,width:n,height:r})}(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=function(t){return x("defs",{inside:t})}(this.svg),this.title.length&&(this.titleEL=O("title",t.margins.left,t.margins.top,this.title,{fontSize:t.titleFontSize,fill:"#666666",dy:t.titleFontSize}));var e=o(t);this.drawArea=C(this.type+"-chart chart-draw-area","translate("+i(t)+", "+e+")"),this.config.showLegend&&(e+=this.height+t.paddings.bottom,this.legendArea=C("chart-legend","translate("+i(t)+", "+e+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(i(t),o(t))}},{key:"updateTipOffset",value:function(t,e){this.tip.offset={x:t,y:e}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(t){this.data=this.prepareData(t),this.calc(),this.render(this.components,this.config.animate)}},{key:"render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.components,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.config.isNavigable&&this.overlays.map((function(t){return t.parentNode.removeChild(t)}));var r=[];e.forEach((function(t){r=r.concat(t.update(n))})),r.length>0?(F(this.container,this.svg,r),setTimeout((function(){e.forEach((function(t){return t.make()})),t.updateNav()}),400)):(e.forEach((function(t){return t.make()})),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.config.isNavigable&&e&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",(function(e){r(t.container)&&(e=e||window.event,t.keyActions[e.keyCode]&&t.keyActions[e.keyCode]())})))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var t=j(this.svg);!function(t,e){var n=document.createElement("a");n.style="display: none";var r=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),o=window.URL.createObjectURL(r);n.href=o,n.download=t,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)}),300)}(this.title||"Chart",[t])}}]),e}(),Ht=function(t){function e(t,n){return ut(this,e),dt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return ft(e,t),lt(e,[{key:"configure",value:function(t){ct(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,e=this.state,n=this.config.maxSlices;e.sliceTotals=[];var r=this.data.labels.map((function(e,n){var r=0;return t.data.datasets.map((function(t){r+=t.values[n]})),[r,e]})).filter((function(t){return t[0]>=0})),o=r;if(r.length>n){r.sort((function(t,e){return e[0]-t[0]})),o=r.slice(0,n-1);var i=0;r.slice(n-1).map((function(t){i+=t[0]})),o.push([i,"Rest"]),this.colors[n-1]="grey"}e.labels=[],o.map((function(t){e.sliceTotals.push(t[0]),e.labels.push(t[1])})),e.grandTotal=e.sliceTotals.reduce((function(t,e){return t+e}),0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,e=this.state;this.legendArea.textContent="",this.legendTotals=e.sliceTotals.slice(0,this.config.maxLegendPoints);var n=0,r=0;this.legendTotals.map((function(o,i){var a=150,u=Math.floor((t.width-s(t.measures))/a);t.legendTotals.length<u&&(a=t.width/t.legendTotals.length),n>u&&(n=0,r+=20);var l=a*n+5,c=t.config.truncateLegends?m(e.labels[i],a/10):e.labels[i],f=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments[4];o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?m(o,Et):o;var i={className:"legend-dot",cx:0,cy:0,r:n,fill:r},a=x("text",{className:"legend-dataset-text",x:0,y:0,dx:Ot+"px",dy:Ot/3+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Dt,innerHTML:o}),s=x("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(x("circle",i)),s.appendChild(a),s}(l,r,5,t.colors[i],c+": "+o,!1);t.legendArea.appendChild(f),n++}))}}]),e}(zt),qt=7,Ut=1e3,Wt=86400,Vt=["January","February","March","April","May","June","July","August","September","October","November","December"],$t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Gt=function(){function t(e){var n=e.layerClass,r=void 0===n?"":n,o=e.layerTransform,i=void 0===o?"":o,a=e.constants,s=e.getData,u=e.makeElements,l=e.animateElements;ut(this,t),this.layerTransform=i,this.constants=a,this.makeElements=u,this.getData=s,this.animateElements=l,this.store=[],this.labels=[],this.layerClass=r,this.layerClass="function"==typeof this.layerClass?this.layerClass():this.layerClass,this.refresh()}return lt(t,[{key:"refresh",value:function(t){this.data=t||this.getData()}},{key:"setup",value:function(t){this.layer=C(this.layerClass,this.layerTransform,t)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(t){var e=this;this.store=this.makeElements(t),this.layer.textContent="",this.store.forEach((function(t){e.layer.appendChild(t)})),this.labels.forEach((function(t){e.layer.appendChild(t)}))}},{key:"update",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.refresh();var e=[];return t&&(e=this.animateElements(this.data)||[]),e}}]),t}(),Yt={donutSlices:{layerClass:"donut-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var r=S(e,"donut-path",t.colors[n],"none",t.strokeWidth);return r.style.transition="transform .3s;",r}))},animateElements:function(t){return this.store.map((function(e,n){return L(e,t.sliceStrings[n])}))}},pieSlices:{layerClass:"pie-slices",makeElements:function(t){return t.sliceStrings.map((function(e,n){var r=S(e,"pie-path","none",t.colors[n]);return r.style.transition="transform .3s;",r}))},animateElements:function(t){return this.store.map((function(e,n){return L(e,t.sliceStrings[n])}))}},percentageBars:{layerClass:"percentage-bars",makeElements:function(t){var e=this;return t.xPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:vt,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"none";return x("rect",{className:"percentage-bar",x:t,y:e,width:n,height:r,fill:i,styles:{stroke:b(i,-25),"stroke-dasharray":"0, "+(r+n)+", "+n+", "+r,"stroke-width":o}})}(n,0,t.widths[r],e.constants.barHeight,e.constants.barDepth,t.colors[r])}))},animateElements:function(t){if(t)return[]}},yAxis:{layerClass:"y axis",makeElements:function(t){var e=this;return t.positions.map((function(n,r){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d(t)||(t=0),r.pos||(r.pos="left"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=At),r.className||(r.className="");var o=-1*St,i="span"===r.mode?n+St:0;return"tick"===r.mode&&"right"===r.pos&&(o=n+St,i=n),D(t,e,o+=r.offset,i+=r.offset,{stroke:r.stroke,className:r.className,lineType:r.lineType,shortenNumbers:r.shortenNumbers})}(n,t.labels[r],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})}))},animateElements:function(t){var e=t.positions,n=t.labels,r=this.oldData.positions,o=this.oldData.labels,i=p(r,e),a=ht(i,2);r=a[0],e=a[1];var s=p(o,n),u=ht(s,2);return o=u[0],n=u[1],this.render({positions:r,labels:n}),this.store.map((function(t,n){return P(t,e[n],r[n])}))}},xAxis:{layerClass:"x axis",makeElements:function(t){var e=this;return t.positions.map((function(n,r){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};d(t)||(t=0),r.pos||(r.pos="bottom"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=At),r.className||(r.className="");var o=n+St,i="span"===r.mode?-1*St:n;return"tick"===r.mode&&"top"===r.pos&&(o=-1*St,i=0),A(t,e,o,i,{stroke:r.stroke,className:r.className,lineType:r.lineType})}(n,t.calcLabels[r],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})}))},animateElements:function(t){var e=t.positions,n=t.calcLabels,r=this.oldData.positions,o=this.oldData.calcLabels,i=p(r,e),a=ht(i,2);r=a[0],e=a[1];var s=p(o,n),u=ht(s,2);return o=u[0],n=u[1],this.render({positions:r,calcLabels:n}),this.store.map((function(t,n){return function(t,e,n){return N(t,[n,0],[e,0],Rt)}(t,e[n],r[n])}))}},yMarkers:{layerClass:"y-markers",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.labelPos||(r.labelPos="right");var o=x("text",{className:"chart-label",x:"left"===r.labelPos?Tt:n-c(e,5)-Tt,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:e+""}),i=D(t,"",0,n,{stroke:r.stroke||At,className:r.className||"",lineType:r.lineType});return i.appendChild(o),i}(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})}))},animateElements:function(t){var e=p(this.oldData,t),n=ht(e,2);this.oldData=n[0];var r=(t=n[1]).map((function(t){return t.position})),o=t.map((function(t){return t.label})),i=t.map((function(t){return t.options})),a=this.oldData.map((function(t){return t.position}));return this.render(a.map((function(t,e){return{position:a[e],label:o[e],options:i[e]}}))),this.store.map((function(t,e){return P(t,r[e],a[e])}))}},yRegions:{layerClass:"y-regions",makeElements:function(t){var e=this;return t.map((function(t){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=t-e,a=x("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:At,"stroke-dasharray":n+", "+i},x:0,y:0,width:n,height:i});o.labelPos||(o.labelPos="right");var s=x("text",{className:"chart-label",x:"left"===o.labelPos?Tt:n-c(r+"",4.5)-Tt,y:0,dy:Ot/-2+"px","font-size":Ot+"px","text-anchor":"start",innerHTML:r+""}),u=x("g",{transform:"translate(0, "+e+")"});return u.appendChild(a),u.appendChild(s),u}(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})}))},animateElements:function(t){var e=p(this.oldData,t),n=ht(e,2);this.oldData=n[0];var r=(t=n[1]).map((function(t){return t.endPos})),o=t.map((function(t){return t.label})),i=t.map((function(t){return t.startPos})),a=t.map((function(t){return t.options})),s=this.oldData.map((function(t){return t.endPos})),u=this.oldData.map((function(t){return t.startPos}));this.render(s.map((function(t,e){return{startPos:u[e],endPos:s[e],label:o[e],options:a[e]}})));var l=[];return this.store.map((function(t,e){l=l.concat(function(t,e,n,r){var o=e-n,i=t.childNodes[0];return[[i,{height:o,"stroke-dasharray":i.getAttribute("width")+", "+o},Rt,Bt],N(t,[0,r],[0,n],Rt)]}(t,i[e],r[e],s[e]))})),l}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(t){var e=this,n=this.constants,r=n.index,o=n.colWidth,i=n.rowHeight,a=n.squareSize,s=n.radius,u=n.xTranslate,l=0;return this.serializedSubDomains=[],t.cols.map((function(t,n){1===n&&e.labels.push(O("domain-name",u,-12,V(r,!0).toUpperCase(),{fontSize:9})),t.map((function(t,n){if(t.fill){var r={"data-date":t.yyyyMmDd,"data-value":t.dataValue,"data-day":n},o=E("day",u,l,a,s,t.fill,r);e.serializedSubDomains.push(o)}l+=i})),l=0,u+=o})),this.serializedSubDomains},animateElements:function(t){if(t)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="bar",this.units=t.yPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=h(e,s.zeroLine),l=ht(u,2),c=l[0],f=l[1];f-=a,0===c&&(c=s.minHeight,f-=s.minHeight),d(t)||(t=0),d(f)||(f=0),d(c,!0)||(c=0),d(n,!0)||(n=0);var p=x("rect",{className:"bar mini",style:"fill: "+r,"data-point-index":i,x:t,y:f,width:n,height:c});if((o+="")||o.length){p.setAttribute("y",0),p.setAttribute("x",0);var m=x("text",{className:"data-point-value",x:n/2,y:0,dy:Ot/2*-1+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:o}),g=x("g",{"data-point-index":i,transform:"translate("+t+", "+f+")"});return g.appendChild(p),g.appendChild(m),g}return p}(t.xPositions[r],n,t.barWidth,e.color,t.labels[r],r,t.offsets[r],{zeroLine:t.zeroLine,barsWidth:t.barsWidth,minHeight:e.minHeight})})),this.units},animateElements:function(t){var e=t.xPositions,n=t.yPositions,r=t.offsets,o=t.labels,i=this.oldData.xPositions,a=this.oldData.yPositions,s=this.oldData.offsets,u=this.oldData.labels,l=p(i,e),c=ht(l,2);i=c[0],e=c[1];var f=p(a,n),d=ht(f,2);a=d[0],n=d[1];var h=p(s,r),m=ht(h,2);s=m[0],r=m[1];var g=p(u,o),v=ht(g,2);u=v[0],o=v[1],this.render({xPositions:i,yPositions:a,offsets:s,labels:o,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var y=[];return this.store.map((function(o,i){y=y.concat(M(o,e[i],n[i],t.barWidth,r[i],{zeroLine:t.zeroLine}))})),y}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(t){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=e.map((function(e,n){return t[n]+","+e})).join("L");r.spline&&(i=v(t,e));var a=S("M"+i,"line-graph-path",n);if(r.heatline){var s=T(o.svgDefs,n);a.style.stroke="url(#"+s+")"}var u={path:a};if(r.regionFill){var l=T(o.svgDefs,n,!0),c="M"+t[0]+","+o.zeroLine+"L"+i+"L"+t.slice(-1)[0]+","+o.zeroLine;u.region=S(c,"region-fill","none","url(#"+l+")")}return u}(t.xPositions,t.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:t.zeroLine})),this.units=[],e.hideDots||(this.units=t.yPositions.map((function(n,r){return function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=x("circle",{style:"fill: "+r,"data-point-index":i,cx:t,cy:e,r:n});if((o+="")||o.length){a.setAttribute("cy",0),a.setAttribute("cx",0);var s=x("text",{className:"data-point-value",x:0,y:0,dy:Ot/2*-1-n+"px","font-size":Ot+"px","text-anchor":"middle",innerHTML:o}),u=x("g",{"data-point-index":i,transform:"translate("+t+", "+e+")"});return u.appendChild(a),u.appendChild(s),u}return a}(t.xPositions[r],n,t.radius,e.color,e.valuesOverPoints?t.values[r]:"",r)}))),Object.values(this.paths).concat(this.units)},animateElements:function(t){var e=t.xPositions,n=t.yPositions,r=t.values,o=this.oldData.xPositions,i=this.oldData.yPositions,a=this.oldData.values,s=p(o,e),u=ht(s,2);o=u[0],e=u[1];var l=p(i,n),c=ht(l,2);i=c[0],n=c[1];var f=p(a,r),d=ht(f,2);a=d[0],r=d[1],this.render({xPositions:o,yPositions:i,values:r,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var h=[];return Object.keys(this.paths).length&&(h=h.concat(function(t,e,n,r,o){var i=[],a=n.map((function(t,n){return e[n]+","+t})).join("L");o&&(a=v(e,n));var s=[t.path,{d:"M"+a},Lt,Bt];if(i.push(s),t.region){var u=e[0]+","+r+"L",l="L"+e.slice(-1)[0]+", "+r,c=[t.region,{d:"M"+u+a+l},Lt,Bt];i.push(c)}return i}(this.paths,e,n,t.zeroLine,this.constants.spline))),this.units.length&&this.units.map((function(t,r){h=h.concat(function(t,e,n){return"circle"!==t.nodeName?[N(t,t.getAttribute("transform").split("(")[1].slice(0,-1),[e,n],Rt)]:[[t,{cx:e,cy:n},Mt,Bt]]}(t,e[r],n[r]))})),h}}},Kt=function(t){function n(t,e){ut(this,n);var r=dt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return r.type="percentage",r.setup(),r}return ft(n,t),lt(n,[{key:"setMeasures",value:function(t){var e=this.measures;this.barOptions=t.barOptions||{};var n=this.barOptions;n.height=n.height||20,n.depth=n.depth||vt,e.paddings.right=30,e.legendHeight=60,e.baseHeight=8*(n.height+.5*n.depth)}},{key:"setupComponents",value:function(){var t=this.state,e=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=K.apply(void 0,pt(t));return[t[0],e]})))}},{key:"calc",value:function(){var t=this;ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calc",this).call(this);var e=this.state;e.xPositions=[],e.widths=[];var r=0;e.sliceTotals.map((function(n){var o=t.width*n/e.grandTotal;e.widths.push(o),e.xPositions.push(r),r+=o}))}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,n=this.state;this.container.addEventListener("mousemove",(function(r){var o=t.components.get("percentageBars").store,i=r.target;if(o.includes(i)){var a=o.indexOf(i),s=e(t.container),u=e(i),l=u.left-s.left+parseInt(i.getAttribute("width"))/2,c=u.top-s.top,f=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[a]:t.state.labels[a])+": ",d=n.sliceTotals[a]/n.grandTotal;t.tip.setValues(l,c,{name:f,value:(100*d).toFixed(1)+"%"}),t.tip.showTip()}}))}}]),n}(Ht),Zt=function(t){function n(t,e){ut(this,n);var r=dt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return r.type="pie",r.initTimeout=0,r.init=1,r.setup(),r}return ft(n,t),lt(n,[{key:"configure",value:function(t){ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calc",this).call(this);var e=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var r=this.radius,o=this.clockWise,i=e.slicesProperties||[];e.sliceStrings=[],e.slicesProperties=[];var a=180-this.config.startAngle;e.sliceTotals.map((function(n,s){var u=a,l=n/e.grandTotal*360,c=l>180?1:0,d=o?-l:l,h=a+=d,p=f(u,r),m=f(h,r),g=t.init&&i[s],v=void 0,y=void 0;t.init?(v=g?g.startPosition:p,y=g?g.endPosition:p):(v=p,y=m);var b=360===l?function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=2*n.y,c=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+" z\n\t\tL"+a+" "+l+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+c+" z"}(v,y,t.center,t.radius,o,c):function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=n.y+e.y;return"M"+n.x+" "+n.y+"\n\t\tL"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+" z"}(v,y,t.center,t.radius,o,c);e.sliceStrings.push(b),e.slicesProperties.push({startPosition:p,endPosition:m,value:n,total:e.grandTotal,startAngle:u,endAngle:h,angle:d})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["pieSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}.bind(this)]];this.components=new Map(e.map((function(t){var e=K.apply(void 0,pt(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,r=f(t.startAngle+t.angle/2,e);return"translate3d("+r.x*n+"px,"+r.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,n,r,o){if(t){var i=this.colors[n];if(r){I(t,this.calTranslateByAngle(this.state.slicesProperties[n])),t.style.fill=b(i,50);var a=e(this.svg),s=o.pageX-a.left+10,u=o.pageY-a.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[n]:this.state.labels[n])+": ",c=(100*this.state.sliceTotals[n]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,u,{name:l,value:c+"%"}),this.tip.showTip()}else I(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=i}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("pieSlices").store,r=this.curActiveSliceIndex,o=this.curActiveSlice;if(n.includes(e)){var i=n.indexOf(e);this.hoverSlice(o,r,!1),this.curActiveSlice=e,this.curActiveSliceIndex=i,this.hoverSlice(e,i,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),n}(Ht),Xt=function(t){function e(t,n){ut(this,e);var r=dt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.type="heatmap",r.countLabel=n.countLabel||"";var o=["Sunday","Monday"],i=o.includes(n.startSubDomain)?n.startSubDomain:"Sunday";return r.startSubDomainIndex=o.indexOf(i),r.setup(),r}return ft(e,t),lt(e,[{key:"setMeasures",value:function(t){var e=this.measures;this.discreteDomains=0===t.discreteDomains?0:1,e.paddings.top=36,e.paddings.bottom=0,e.legendHeight=24,e.baseHeight=12*qt+a(e);var n=this.data,r=this.discreteDomains?12:0;this.independentWidth=12*(U(n.start,n.end)+r)+s(e)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?12:0,e=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=12*(e+t)+s(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var e={};Object.keys(t.dataPoints).forEach((function(n){var r=new Date(n*Ut);e[H(r)]=t.dataPoints[n]})),t.dataPoints=e}return t}},{key:"calc",value:function(){var t=this.state;t.start=q(this.data.start),t.end=q(this.data.end),t.firstWeekStart=q(t.start),t.noOfWeeks=U(t.start,t.end),t.distribution=function(t,e){for(var n=Math.max.apply(Math,pt(t)),r=1/(e-1),o=[],i=0;i<e;i++){var a=n*(r*i);o.push(a)}return o}(Object.values(this.data.dataPoints),5),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,e=this.state,n=this.discreteDomains?0:1,r=e.domainConfigs.map((function(r,o){return["heatDomain",{index:r.index,colWidth:12,rowHeight:12,squareSize:10,radius:t.rawChartArgs.radius||0,xTranslate:12*e.domainConfigs.filter((function(t,e){return e<o})).map((function(t){return t.cols.length-n})).reduce((function(t,e){return t+e}),0)},function(){return e.domainConfigs[o]}.bind(t)]}));this.components=new Map(r.map((function(t,e){var n=K.apply(void 0,pt(t));return[t[0]+"-"+e,n]})));var o=0;$t.forEach((function(e,n){if([1,3,5].includes(n)){var r=O("subdomain-name",-6,o,e,{fontSize:10,dy:8,textAnchor:"end"});t.drawArea.appendChild(r)}o+=12}))}},{key:"update",value:function(t){this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(e){t.components.forEach((function(n){var r=n.store,o=e.target;if(r.includes(o)){var i=o.getAttribute("data-value"),a=o.getAttribute("data-date").split("-"),s=V(parseInt(a[1])-1,!0),u=t.container.getBoundingClientRect(),l=o.getBoundingClientRect(),c=parseInt(e.target.getAttribute("width")),f=l.left-u.left+c/2,d=l.top-u.top,h=i+" "+t.countLabel,p=" on "+s+" "+a[0]+", "+a[2];t.tip.setValues(f,d,{name:p,value:h,valueFirst:1},[]),t.tip.showTip()}}))}))}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var e=0,n=this.rawChartArgs.radius||0,r=O("subdomain-name",e,12,"Less",{fontSize:11,dy:9});e=30,this.legendArea.appendChild(r),this.colors.slice(0,5).map((function(r,o){var i=E("heatmap-legend-unit",e+15*o,12,10,n,r);t.legendArea.appendChild(i)}));var o=O("subdomain-name",e+75+3,12,"More",{fontSize:11,dy:9});this.legendArea.appendChild(o)}},{key:"getDomains",value:function(){for(var t=this.state,e=[t.start.getMonth(),t.start.getFullYear()],n=e[0],r=e[1],o=[t.end.getMonth(),t.end.getFullYear()],i=o[0]-n+1+12*(o[1]-r),a=[],s=q(t.start),u=0;u<i;u++){var l=t.end;if(!W(s,t.end)){var c=[s.getMonth(),s.getFullYear()];l=$(c[0],c[1])}a.push(this.getDomainConfig(s,l)),Y(l,1),s=l}return a}},{key:"getDomainConfig",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=[t.getMonth(),t.getFullYear()],r=n[0],o=n[1],i=G(t),a={index:r,cols:[]};Y(e=q(e)||$(r,o),1);for(var s=U(i,e),u=[],l=void 0,c=0;c<s;c++)l=this.getCol(i,r),u.push(l),Y(i=new Date(l[qt-1].yyyyMmDd),1);return void 0!==l[qt-1].dataValue&&(Y(i,1),u.push(this.getCol(i,r,!0))),a.cols=u,a}},{key:"getCol",value:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state,o=q(t),i=[],a=0;a<qt;a++,Y(o,1)){var s={},u=o>=r.start&&o<=r.end;n||o.getMonth()!==e||!u?s.yyyyMmDd=H(o):s=this.getSubDomainConfig(o),i.push(s)}return i}},{key:"getSubDomainConfig",value:function(t){var e=H(t),n=this.data.dataPoints[e];return{yyyyMmDd:e,dataValue:n||0,fill:this.colors[ot(n,this.state.distribution)]}}}]),e}(zt),Jt=function(t){function n(t,e){ut(this,n);var r=dt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return r.barOptions=e.barOptions||{},r.lineOptions=e.lineOptions||{},r.type=e.type||"line",r.init=1,r.setup(),r}return ft(n,t),lt(n,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return it(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return at(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),"line"===this.type),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,e=this.data.labels;t.datasetLength=e.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:e,positions:e.map((function(e,n){return u(t.xOffset+n*t.unitWidth)}))}}},{key:"calcYAxisParameters",value:function(t){var e=Q(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"false"),n=this.height/nt(e),r=et(e)*n,o=this.height-tt(e)*r;this.state.yAxis={labels:e,positions:e.map((function(t){return o-t*n})),scaleMultiplier:n,zeroLine:o},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,e=function(e){return e.map((function(e){return rt(e,t.yAxis)}))};t.datasets=this.data.datasets.map((function(t,n){var r=t.values,o=t.cumulativeYs||[];return{name:t.name,index:n,chartType:t.chartType,values:r,yPositions:e(r),cumulativeYs:o,cumulativeYPos:e(o)}}))}},{key:"calcYExtremes",value:function(){var t=this.state;this.barOptions.stacked?t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos:(t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map((function(e){e.yPositions.map((function(e,n){e<t.yExtremes[n]&&(t.yExtremes[n]=e)}))})))}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map((function(e){return e.position=rt(e.value,t.yAxis),e.options||(e.options={}),e}))),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map((function(e){return e.startPos=rt(e.start,t.yAxis),e.endPos=rt(e.end,t.yAxis),e.options||(e.options={}),e})))}},{key:"getAllYValues",value:function(){var t,e=this,n="values";if(this.barOptions.stacked){n="cumulativeYs";var r=new Array(this.state.datasetLength).fill(0);this.data.datasets.map((function(t,o){var i=e.data.datasets[o].values;t[n]=r=r.map((function(t,e){return t+i[e]}))}))}var o=this.data.datasets.map((function(t){return t[n]}));return this.data.yMarkers&&o.push(this.data.yMarkers.map((function(t){return t.value}))),this.data.yRegions&&this.data.yRegions.map((function(t){o.push([t.end,t.start])})),(t=[]).concat.apply(t,pt(o))}},{key:"setupComponents",value:function(){var t=this,e=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},function(){return this.state.yAxis}.bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},function(){var t=this.state;return t.xAxis.calcLabels=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t/e.length;r<=0&&(r=1);var o=r/yt,i=void 0;if(n){var a=Math.max.apply(Math,pt(e.map((function(t){return t.length}))));i=Math.ceil(a/o)}return e.map((function(t,e){return(t+="").length>o&&(n?e%i!=0&&(t=""):t=o-3>0?t.slice(0,o-3)+" ...":t.slice(0,o)+".."),t}))}(this.width,t.xAxis.labels,this.config.xIsSeries),t.xAxis}.bind(this)],["yRegions",{width:this.width,pos:"right"},function(){return this.state.yRegions}.bind(this)]],n=this.state.datasets.filter((function(t){return"bar"===t.chartType})),r=this.state.datasets.filter((function(t){return"line"===t.chartType})),o=n.map((function(e){var r=e.index;return["barGraph-"+e.index,{index:r,color:t.colors[r],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:0*t.height},function(){var t=this.state,e=t.datasets[r],o=this.barOptions.stacked,i=this.barOptions.spaceRatio||.5,a=t.unitWidth*(1-i),s=a/(o?1:n.length),u=t.xAxis.positions.map((function(t){return t-a/2}));o||(u=u.map((function(t){return t+s*r})));var l=new Array(t.datasetLength).fill("");this.config.valuesOverPoints&&(l=o&&e.index===t.datasets.length-1?e.cumulativeYs:e.values);var c=new Array(t.datasetLength).fill(0);return o&&(c=e.yPositions.map((function(t,n){return t-e.cumulativeYPos[n]}))),{xPositions:u,yPositions:e.yPositions,offsets:c,labels:l,zeroLine:t.yAxis.zeroLine,barsWidth:a,barWidth:s}}.bind(t)]})),i=r.map((function(e){var n=e.index;return["lineGraph-"+e.index,{index:n,color:t.colors[n],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},function(){var t=this.state,e=t.datasets[n],r=t.yAxis.positions[0]<t.yAxis.zeroLine?t.yAxis.positions[0]:t.yAxis.zeroLine;return{xPositions:t.xAxis.positions,yPositions:e.yPositions,values:e.values,zeroLine:r,radius:this.lineOptions.dotSize||4}}.bind(t)]})),a=[["yMarkers",{width:this.width,pos:"right"},function(){return this.state.yMarkers}.bind(this)]];e=e.concat(o,i,a);var s=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(e.filter((function(e){return!s.includes(e[0])||t.state[e[0]]})).map((function(e){var n=K.apply(void 0,pt(e));return(e[0].includes("lineGraph")||e[0].includes("barGraph"))&&t.dataUnitComponents.push(n),[e[0],n]})))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var e=this.state,n=this.config.formatTooltipX,r=this.config.formatTooltipY;e.xAxis.labels.map((function(o,i){var a=t.state.datasets.map((function(e,n){var o=e.values[i];return{title:e.name,value:o,yPos:e.yPositions[i],color:t.colors[n],formatted:r?r(o):o}}));t.dataByIndex[i]={label:o,formattedLabel:n?n(o):o,xPos:e.xAxis.positions[i],values:a,yExtreme:e.yExtremes[i]}}))}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",(function(n){var r=t.measures,a=e(t.container),s=n.pageX-a.left-i(r),u=n.pageY-a.top;u<t.height+o(r)&&u>o(r)?t.mapTooltipXPosition(s):t.tip.hideTip()}))}},{key:"mapTooltipXPosition",value:function(t){var e=this.state;if(e.yExtremes){var n=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}),[]);return n?e.indexOf(r):r}(t,e.xAxis.positions,!0);if(n>=0){var r=this.dataByIndex[n];this.tip.setValues(r.xPos+this.tip.offset.x,r.yExtreme+this.tip.offset.y,{name:r.formattedLabel,value:""},r.values,n),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,e=this.data;e.datasets.length>1&&(this.legendArea.textContent="",e.datasets.map((function(e,n){var r=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",o=arguments[4];o=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?m(o,Et):o;var i={className:"legend-bar",x:0,y:0,width:n,height:"2px",fill:r},a=x("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Ot+"px","font-size":1.2*Ot+"px","text-anchor":"start",fill:Dt,innerHTML:o}),s=x("g",{transform:"translate("+t+", "+e+")"});return s.appendChild(x("rect",i)),s.appendChild(a),s}(100*n,"0",100,t.colors[n],e.name,t.config.truncateLegends);t.legendArea.appendChild(r)})))}},{key:"makeOverlay",value:function(){var t=this;this.init?this.init=0:(this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)})),this.overlayGuides=this.dataUnitComponents.map((function(t){return{type:t.unitType,overlay:void 0,units:t.units}})),void 0===this.state.currentIndex&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];e.overlay=Nt[e.type](n),t.drawArea.appendChild(e.overlay)})))}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach((function(t){var e=t.overlay;e.parentNode.removeChild(e)}))}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",(function(){t.updateOverlay()}))}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map((function(e){e.units.map((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-point-index");t.setCurrentDataPoint(n)}))}))})),this.tip.container.addEventListener("click",(function(){var e=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(e)}))}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map((function(e){var n=e.units[t.state.currentIndex];Pt[e.type](n,e.overlay)}))}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.currentIndex,e=this.state;return{index:t,label:e.xAxis.labels[t],values:e.datasets.map((function(e){return e.values[t]}))}}},{key:"setCurrentDataPoint",value:function(t){var e=this.state;(t=parseInt(t))<0&&(t=0),t>=e.xAxis.labels.length&&(t=e.xAxis.labels.length-1),t!==e.currentIndex&&(e.currentIndex=t,function(t,e,n){var r=document.createEvent("HTMLEvents");for(var o in r.initEvent(e,!0,!0),n)r[o]=n[o];t.dispatchEvent(r)}(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.datasetLength;ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"addDataPoint",this).call(this,t,e,r),this.data.labels.splice(r,0,t),this.data.datasets.map((function(t,n){t.values.splice(r,0,e[n])})),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map((function(e){e.values.splice(t,1)})),this.update(this.data))}},{key:"updateDataset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.data.datasets[e].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map((function(e,n){t[n]&&(e.values=t[n])})),this.update(this.data)}}]),n}(zt),Qt=function(t){function n(t,e){ut(this,n);var r=dt(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e));return r.type="donut",r.initTimeout=0,r.init=1,r.setup(),r}return ft(n,t),lt(n,[{key:"configure",value:function(t){ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;ct(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"calc",this).call(this);var e=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var r=this.radius,o=this.clockWise,i=e.slicesProperties||[];e.sliceStrings=[],e.slicesProperties=[];var a=180-this.config.startAngle;e.sliceTotals.map((function(n,s){var u=a,l=n/e.grandTotal*360,c=l>180?1:0,d=o?-l:l,h=a+=d,p=f(u,r),m=f(h,r),g=t.init&&i[s],v=void 0,y=void 0;t.init?(v=g?g.startPosition:p,y=g?g.endPosition:p):(v=p,y=m);var b=360===l?function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=2*r+s,c=n.y+t.y;return"M"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l+"\n\t\tM"+a+" "+l+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+c}(v,y,t.center,t.radius,t.clockWise,c):function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=n.x+t.x,s=n.y+t.y,u=n.x+e.x,l=n.y+e.y;return"M"+a+" "+s+"\n\t\tA "+r+" "+r+" 0 "+i+" "+(o?1:0)+"\n\t\t"+u+" "+l}(v,y,t.center,t.radius,t.clockWise,c);e.sliceStrings.push(b),e.slicesProperties.push({startPosition:p,endPosition:m,value:n,total:e.grandTotal,startAngle:u,endAngle:h,angle:d})})),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,e=[["donutSlices",{},function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}.bind(this)]];this.components=new Map(e.map((function(t){var e=K.apply(void 0,pt(t));return[t[0],e]})))}},{key:"calTranslateByAngle",value:function(t){var e=this.radius,n=this.hoverRadio,r=f(t.startAngle+t.angle/2,e);return"translate3d("+r.x*n+"px,"+r.y*n+"px,0)"}},{key:"hoverSlice",value:function(t,n,r,o){if(t){var i=this.colors[n];if(r){I(t,this.calTranslateByAngle(this.state.slicesProperties[n])),t.style.stroke=b(i,50);var a=e(this.svg),s=o.pageX-a.left+10,u=o.pageY-a.top-10,l=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[n]:this.state.labels[n])+": ",c=(100*this.state.sliceTotals[n]/this.state.grandTotal).toFixed(1);this.tip.setValues(s,u,{name:l,value:c+"%"}),this.tip.showTip()}else I(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=i}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var e=t.target,n=this.components.get("donutSlices").store,r=this.curActiveSliceIndex,o=this.curActiveSlice;if(n.includes(e)){var i=n.indexOf(e);this.hoverSlice(o,r,!1),this.curActiveSlice=e,this.curActiveSliceIndex=i,this.hoverSlice(e,i,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),n}(Ht),te={bar:Jt,line:Jt,percentage:Kt,heatmap:Xt,pie:Zt,donut:Qt},ee=Object.freeze({Chart:function t(e,n){return ut(this,t),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"line",e=arguments[1],n=arguments[2];return"axis-mixed"===t?(n.type="line",new Jt(e,n)):te[t]?new te[t](e,n):void 0}(n.type,e,n)},PercentageChart:Kt,PieChart:Zt,Heatmap:Xt,AxisChart:Jt}),ne={NAME:"Frappe Charts",VERSION:"1.5.2"};Object.assign({},ne,ee)}()},nrkQ:function(t,e,n){!function(t){"use strict";t.overlayMode=function(e,n,r){return{startState:function(){return{base:t.startState(e),overlay:t.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:t.copyState(e,r.base),overlay:t.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(t,o){return(t!=o.streamSeen||Math.min(o.basePos,o.overlayPos)<t.start)&&(o.streamSeen=t,o.basePos=o.overlayPos=t.start),t.start==o.basePos&&(o.baseCur=e.token(t,o.base),o.basePos=t.pos),t.start==o.overlayPos&&(t.pos=t.start,o.overlayCur=n.token(t,o.overlay),o.overlayPos=t.pos),t.pos=Math.min(o.basePos,o.overlayPos),null==o.overlayCur?o.baseCur:null!=o.baseCur&&o.overlay.combineTokens||r&&null==o.overlay.combineTokens?o.baseCur+" "+o.overlayCur:o.overlayCur},indent:e.indent&&function(t,n,r){return e.indent(t.base,n,r)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(t){var o,i;return e.blankLine&&(o=e.blankLine(t.base)),n.blankLine&&(i=n.blankLine(t.overlay)),null==i?o:r&&null!=o?o+" "+i:i}}}}(n("VrN/"))},o3aJ:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t){return t.getParam("insertdatetime_timeformat",t.translate("%H:%M:%S"))},n=function(t){return t.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},r="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),o="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),i="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="January February March April May June July August September October November December".split(" "),s=function(t,e){if((t=""+t).length<e)for(var n=0;n<e-t.length;n++)t="0"+t;return t},u=function(t,e,n){return n=n||new Date,e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",s(n.getMonth()+1,2))).replace("%d",s(n.getDate(),2))).replace("%H",""+s(n.getHours(),2))).replace("%M",""+s(n.getMinutes(),2))).replace("%S",""+s(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+t.translate(a[n.getMonth()]))).replace("%b",""+t.translate(i[n.getMonth()]))).replace("%A",""+t.translate(o[n.getDay()]))).replace("%a",""+t.translate(r[n.getDay()]))).replace("%%","%")},l=function(t,e){if(function(t){return t.getParam("insertdatetime_element",!1)}(t)){var n=u(t,e),r=void 0;r=/%[HMSIp]/.test(e)?u(t,"%Y-%m-%dT%H:%M"):u(t,"%Y-%m-%d");var o=t.dom.getParent(t.selection.getStart(),"time");o?function(t,e,n,r){var o=t.dom.create("time",{datetime:n},r);e.parentNode.insertBefore(o,e),t.dom.remove(e),t.selection.select(o,!0),t.selection.collapse(!1)}(t,o,r,n):t.insertContent('<time datetime="'+r+'">'+n+"</time>")}else t.insertContent(u(t,e))},c=tinymce.util.Tools.resolve("tinymce.util.Tools"),f=function(t){var r,o,i=n(t),a=(r=function(t){var r=n(t);return r.length>0?r[0]:e(t)}(t),o=r,{get:function(){return o},set:function(t){o=t}});t.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(t){return t===a.get()},fetch:function(e){e(c.map(i,(function(e){return{type:"choiceitem",text:u(t,e),value:e}})))},onAction:function(e){l(t,a.get())},onItemAction:function(e,n){a.set(n),l(t,n)}});var s=function(e){return function(){a.set(e),l(t,e)}};t.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return c.map(i,(function(e){return{type:"menuitem",text:u(t,e),onAction:s(e)}}))}})};t.add("insertdatetime",(function(t){!function(t){t.addCommand("mceInsertDate",(function(){l(t,function(t){return t.getParam("insertdatetime_dateformat",t.translate("%Y-%m-%d"))}(t))})),t.addCommand("mceInsertTime",(function(){l(t,e(t))}))}(t),f(t)}))}()},qkdH:function(t,e,n){"use strict";n.r(e),function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){o(t,e,n[e])}))}return t}function s(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function u(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(e,"MultiDrag",(function(){return be})),n.d(e,"Sortable",(function(){return zt})),n.d(e,"Swap",(function(){return ue}));function l(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var c=l(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),f=l(/Edge/i),d=l(/firefox/i),h=l(/safari/i)&&!l(/chrome/i)&&!l(/android/i),p=l(/iP(ad|od|hone)/i),m=l(/chrome/i)&&l(/android/i),g={capture:!1,passive:!1};function v(t,e,n){t.addEventListener(e,n,!c&&g)}function y(t,e,n){t.removeEventListener(e,n,!c&&g)}function b(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function w(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function x(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&b(t,e):b(t,e))||r&&t===n)return t;if(t===n)break}while(t=w(t))}return null}var _,k=/\s+/g;function C(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(k," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(k," ")}}function S(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function T(t,e){var n="";if("string"==typeof t)n=t;else do{var r=S(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function E(t,e,n){if(t){var r=t.getElementsByTagName(e),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function O(){var t=document.scrollingElement;return t||document.documentElement}function A(t,e,n,r,o){if(t.getBoundingClientRect||t===window){var i,a,s,u,l,f,d;if(t!==window&&t!==O()?(a=(i=t.getBoundingClientRect()).top,s=i.left,u=i.bottom,l=i.right,f=i.height,d=i.width):(a=0,s=0,u=window.innerHeight,l=window.innerWidth,f=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!c))do{if(o&&o.getBoundingClientRect&&("none"!==S(o,"transform")||n&&"static"!==S(o,"position"))){var h=o.getBoundingClientRect();a-=h.top+parseInt(S(o,"border-top-width")),s-=h.left+parseInt(S(o,"border-left-width")),u=a+i.height,l=s+i.width;break}}while(o=o.parentNode);if(r&&t!==window){var p=T(o||t),m=p&&p.a,g=p&&p.d;p&&(u=(a/=g)+(f/=g),l=(s/=m)+(d/=m))}return{top:a,left:s,bottom:u,right:l,width:d,height:f}}}function D(t,e,n){for(var r=R(t,!0),o=A(t)[e];r;){var i=A(r)[n];if(!("top"===n||"left"===n?o>=i:o<=i))return r;if(r===O())break;r=R(r,!1)}return!1}function N(t,e,n){for(var r=0,o=0,i=t.children;o<i.length;){if("none"!==i[o].style.display&&i[o]!==zt.ghost&&i[o]!==zt.dragged&&x(i[o],n.draggable,t,!1)){if(r===e)return i[o];r++}o++}return null}function P(t,e){for(var n=t.lastElementChild;n&&(n===zt.ghost||"none"===S(n,"display")||e&&!b(n,e));)n=n.previousElementSibling;return n||null}function M(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===zt.clone||e&&!b(t,e)||n++;return n}function L(t){var e=0,n=0,r=O();if(t)do{var o=T(t),i=o.a,a=o.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function R(t,e){if(!t||!t.getBoundingClientRect)return O();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=S(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return O();if(r||e)return n;r=!0}}}while(n=n.parentNode);return O()}function I(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function B(t,e){return function(){if(!_){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),_=setTimeout((function(){_=void 0}),e)}}}function F(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function j(e){var n=window.Polymer,r=t||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function z(t,e){S(t,"position","absolute"),S(t,"top",e.top),S(t,"left",e.left),S(t,"width",e.width),S(t,"height",e.height)}function H(t){S(t,"position",""),S(t,"top",""),S(t,"left",""),S(t,"width",""),S(t,"height","")}var q="Sortable"+(new Date).getTime();function U(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==S(t,"display")&&t!==zt.ghost){e.push({target:t,rect:A(t)});var n=a({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=T(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var o=!1,i=0;e.forEach((function(t){var e=0,n=t.target,a=n.fromRect,s=A(n),u=n.prevFromRect,l=n.prevToRect,c=t.rect,f=T(n,!0);f&&(s.top-=f.f,s.left-=f.e),n.toRect=s,n.thisAnimationDuration&&I(u,s)&&!I(a,s)&&(c.top-s.top)/(c.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(c,u,l,r.options)),I(s,a)||(n.prevFromRect=a,n.prevToRect=s,e||(e=r.options.animation),r.animate(n,c,s,e)),e&&(o=!0,i=Math.max(i,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),o?t=setTimeout((function(){"function"==typeof n&&n()}),i):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){S(t,"transition",""),S(t,"transform","");var o=T(this.el),i=o&&o.a,a=o&&o.d,s=(e.left-n.left)/(i||1),u=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!u,S(t,"transform","translate3d("+s+"px,"+u+"px,0)"),function(t){t.offsetWidth}(t),S(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),S(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){S(t,"transition",""),S(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var W=[],V={initializeByDefault:!0},$={mount:function(t){for(var e in V)V.hasOwnProperty(e)&&!(e in t)&&(t[e]=V[e]);W.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=t+"Global";W.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][o]&&e[r.pluginName][o](a({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](a({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var o in W.forEach((function(r){var o=r.pluginName;if(t.options[o]||r.initializeByDefault){var a=new r(t,e,t.options);a.sortable=t,a.options=t.options,t[o]=a,i(n,a.defaults)}})),t.options)if(t.options.hasOwnProperty(o)){var a=this.modifyOption(t,o,t.options[o]);void 0!==a&&(t.options[o]=a)}},getEventProperties:function(t,e){var n={};return W.forEach((function(r){"function"==typeof r.eventProperties&&i(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return W.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(r=o.optionListeners[e].call(t[o.pluginName],n))})),r}};function G(t){var e=t.sortable,n=t.rootEl,r=t.name,o=t.targetEl,i=t.cloneEl,s=t.toEl,u=t.fromEl,l=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,p=t.newDraggableIndex,m=t.originalEvent,g=t.putSortable,v=t.extraEventProperties;if(e=e||n&&n[q]){var y,b=e.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||c||f?(y=document.createEvent("Event")).initEvent(r,!0,!0):y=new CustomEvent(r,{bubbles:!0,cancelable:!0}),y.to=s||n,y.from=u||n,y.item=o||n,y.clone=i,y.oldIndex=l,y.newIndex=d,y.oldDraggableIndex=h,y.newDraggableIndex=p,y.originalEvent=m,y.pullMode=g?g.lastPutMode:void 0;var x=a({},v,$.getEventProperties(r,e));for(var _ in x)y[_]=x[_];n&&n.dispatchEvent(y),b[w]&&b[w].call(e,y)}}var Y=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,o=s(n,["evt"]);$.pluginEvent.bind(zt)(t,e,a({dragEl:Z,parentEl:X,ghostEl:J,rootEl:Q,nextEl:tt,lastDownEl:et,cloneEl:nt,cloneHidden:rt,dragStarted:gt,putSortable:lt,activeSortable:zt.active,originalEvent:r,oldIndex:ot,oldDraggableIndex:at,newIndex:it,newDraggableIndex:st,hideGhostForTarget:It,unhideGhostForTarget:Bt,cloneNowHidden:function(){rt=!0},cloneNowShown:function(){rt=!1},dispatchSortableEvent:function(t){K({sortable:e,name:t,originalEvent:r})}},o))};function K(t){G(a({putSortable:lt,cloneEl:nt,targetEl:Z,rootEl:Q,oldIndex:ot,oldDraggableIndex:at,newIndex:it,newDraggableIndex:st},t))}var Z,X,J,Q,tt,et,nt,rt,ot,it,at,st,ut,lt,ct,ft,dt,ht,pt,mt,gt,vt,yt,bt,wt,xt=!1,_t=!1,kt=[],Ct=!1,St=!1,Tt=[],Et=!1,Ot=[],At="undefined"!=typeof document,Dt=p,Nt=f||c?"cssFloat":"float",Pt=At&&!m&&!p&&"draggable"in document.createElement("div"),Mt=function(){if(At){if(c)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Lt=function(t,e){var n=S(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=N(t,0,e),i=N(t,1,e),a=o&&S(o),s=i&&S(i),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(o).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+A(i).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var c="left"===a.float?"left":"right";return!i||"both"!==s.clear&&s.clear!==c?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=r&&"none"===n[Nt]||i&&"none"===n[Nt]&&u+l>r)?"vertical":"horizontal"},Rt=function(t){function e(t,n){return function(r,o,i,a){var s=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,o,i,a),n)(r,o,i,a);var u=(n?r:o).options.group.name;return!0===t||"string"==typeof t&&t===u||t.join&&t.indexOf(u)>-1}}var n={},o=t.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},It=function(){!Mt&&J&&S(J,"display","none")},Bt=function(){!Mt&&J&&S(J,"display","")};At&&document.addEventListener("click",(function(t){if(_t)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),_t=!1,!1}),!0);var Ft=function(t){if(Z){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,i=t.clientY,kt.some((function(t){if(!P(t)){var e=A(t),n=t[q].options.emptyInsertThreshold,r=o>=e.left-n&&o<=e.right+n,s=i>=e.top-n&&i<=e.bottom+n;return n&&r&&s?a=t:void 0}})),a);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[q]._onDragOver(n)}}var o,i,a},jt=function(t){Z&&Z.parentNode[q]._isOutsideThisEl(t.target)};function zt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=i({},e),t[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==zt.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in $.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var o in Rt(e),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!e.forceFallback&&Pt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?v(t,"pointerdown",this._onTapStart):(v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),kt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),i(this,U())}function Ht(t,e,n,r,o,i,a,s){var u,l,d=t[q],h=d.options.onMove;return!window.CustomEvent||c||f?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=r,u.related=o||e,u.relatedRect=i||A(e),u.willInsertAfter=s,u.originalEvent=a,t.dispatchEvent(u),h&&(l=h.call(d,u,a)),l}function qt(t){t.draggable=!1}function Ut(){Et=!1}function Wt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Vt(t){return setTimeout(t,0)}function $t(t){return clearTimeout(t)}zt.prototype={constructor:zt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(vt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Z):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,o=r.preventOnFilter,i=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,l=r.filter;if(function(t){Ot.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&Ot.push(r)}}(n),!Z&&!(/mousedown|pointerdown/.test(i)&&0!==t.button||r.disabled||u.isContentEditable||(s=x(s,r.draggable,n,!1))&&s.animated||et===s)){if(ot=M(s),at=M(s,r.draggable),"function"==typeof l){if(l.call(this,t,s,this))return K({sortable:e,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),Y("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(l&&(l=l.split(",").some((function(r){if(r=x(u,r.trim(),n,!1))return K({sortable:e,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Y("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());r.handle&&!x(u,r.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var r,o=this,i=o.el,a=o.options,s=i.ownerDocument;if(n&&!Z&&n.parentNode===i){var u=A(n);if(Q=i,X=(Z=n).parentNode,tt=Z.nextSibling,et=n,ut=a.group,zt.dragged=Z,ct={target:Z,clientX:(e||t).clientX,clientY:(e||t).clientY},pt=ct.clientX-u.left,mt=ct.clientY-u.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Z.style["will-change"]="all",r=function(){Y("delayEnded",o,{evt:t}),zt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!d&&o.nativeDraggable&&(Z.draggable=!0),o._triggerDragStart(t,e),K({sortable:o,name:"choose",originalEvent:t}),C(Z,a.chosenClass,!0))},a.ignore.split(",").forEach((function(t){E(Z,t.trim(),qt)})),v(s,"dragover",Ft),v(s,"mousemove",Ft),v(s,"touchmove",Ft),v(s,"mouseup",o._onDrop),v(s,"touchend",o._onDrop),v(s,"touchcancel",o._onDrop),d&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),Y("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(f||c))r();else{if(zt.eventCanceled)return void this._onDrop();v(s,"mouseup",o._disableDelayedDrag),v(s,"touchend",o._disableDelayedDrag),v(s,"touchcancel",o._disableDelayedDrag),v(s,"mousemove",o._delayedDragTouchMoveHandler),v(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&v(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&qt(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._disableDelayedDrag),y(t,"touchend",this._disableDelayedDrag),y(t,"touchcancel",this._disableDelayedDrag),y(t,"mousemove",this._delayedDragTouchMoveHandler),y(t,"touchmove",this._delayedDragTouchMoveHandler),y(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?v(document,"pointermove",this._onTouchMove):v(document,e?"touchmove":"mousemove",this._onTouchMove):(v(Z,"dragend",this),v(Q,"dragstart",this._onDragStart));try{document.selection?Vt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(xt=!1,Q&&Z){Y("dragStarted",this,{evt:e}),this.nativeDraggable&&v(document,"dragover",jt);var n=this.options;!t&&C(Z,n.dragClass,!1),C(Z,n.ghostClass,!0),zt.active=this,t&&this._appendGhost(),K({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ft){this._lastX=ft.clientX,this._lastY=ft.clientY,It();for(var t=document.elementFromPoint(ft.clientX,ft.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ft.clientX,ft.clientY))!==e;)e=t;if(Z.parentNode[q]._isOutsideThisEl(t),e)do{if(e[q]){if(e[q]._onDragOver({clientX:ft.clientX,clientY:ft.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Bt()}},_onTouchMove:function(t){if(ct){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,o=t.touches?t.touches[0]:t,i=J&&T(J,!0),a=J&&i&&i.a,s=J&&i&&i.d,u=Dt&&wt&&L(wt),l=(o.clientX-ct.clientX+r.x)/(a||1)+(u?u[0]-Tt[0]:0)/(a||1),c=(o.clientY-ct.clientY+r.y)/(s||1)+(u?u[1]-Tt[1]:0)/(s||1);if(!zt.active&&!xt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(J){i?(i.e+=l-(dt||0),i.f+=c-(ht||0)):i={a:1,b:0,c:0,d:1,e:l,f:c};var f="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");S(J,"webkitTransform",f),S(J,"mozTransform",f),S(J,"msTransform",f),S(J,"transform",f),dt=l,ht=c,ft=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!J){var t=this.options.fallbackOnBody?document.body:Q,e=A(Z,!0,Dt,!0,t),n=this.options;if(Dt){for(wt=t;"static"===S(wt,"position")&&"none"===S(wt,"transform")&&wt!==document;)wt=wt.parentNode;wt!==document.body&&wt!==document.documentElement?(wt===document&&(wt=O()),e.top+=wt.scrollTop,e.left+=wt.scrollLeft):wt=O(),Tt=L(wt)}C(J=Z.cloneNode(!0),n.ghostClass,!1),C(J,n.fallbackClass,!0),C(J,n.dragClass,!0),S(J,"transition",""),S(J,"transform",""),S(J,"box-sizing","border-box"),S(J,"margin",0),S(J,"top",e.top),S(J,"left",e.left),S(J,"width",e.width),S(J,"height",e.height),S(J,"opacity","0.8"),S(J,"position",Dt?"absolute":"fixed"),S(J,"zIndex","100000"),S(J,"pointerEvents","none"),zt.ghost=J,t.appendChild(J),S(J,"transform-origin",pt/parseInt(J.style.width)*100+"% "+mt/parseInt(J.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,o=n.options;Y("dragStart",this,{evt:t}),zt.eventCanceled?this._onDrop():(Y("setupClone",this),zt.eventCanceled||((nt=j(Z)).draggable=!1,nt.style["will-change"]="",this._hideClone(),C(nt,this.options.chosenClass,!1),zt.clone=nt),n.cloneId=Vt((function(){Y("clone",n),zt.eventCanceled||(n.options.removeCloneOnHide||Q.insertBefore(nt,Z),n._hideClone(),K({sortable:n,name:"clone"}))})),!e&&C(Z,o.dragClass,!0),e?(_t=!0,n._loopId=setInterval(n._emulateDragOver,50)):(y(document,"mouseup",n._onDrop),y(document,"touchend",n._onDrop),y(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,Z)),v(document,"drop",n),S(Z,"transform","translateZ(0)")),xt=!0,n._dragStartId=Vt(n._dragStarted.bind(n,e,t)),v(document,"selectstart",n),gt=!0,h&&S(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,o,i=this.el,s=t.target,u=this.options,l=u.group,c=zt.active,f=ut===l,d=u.sort,h=lt||c,p=this,m=!1;if(!Et){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=x(s,u.draggable,i,!0),I("dragOver"),zt.eventCanceled)return m;if(Z.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return j(!1);if(_t=!1,c&&!u.disabled&&(f?d||(r=!Q.contains(Z)):lt===this||(this.lastPutMode=ut.checkPull(this,c,Z,t))&&l.checkPut(this,c,Z,t))){if(o="vertical"===this._getDirection(t,s),e=A(Z),I("dragOverValid"),zt.eventCanceled)return m;if(r)return X=Q,B(),this._hideClone(),I("revert"),zt.eventCanceled||(tt?Q.insertBefore(Z,tt):Q.appendChild(Z)),j(!0);var g=P(i,u.draggable);if(!g||function(t,e,n){var r=A(P(n.el,n.options.draggable));return e?t.clientX>r.right+10||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+10}(t,o,this)&&!g.animated){if(g===Z)return j(!1);if(g&&i===t.target&&(s=g),s&&(n=A(s)),!1!==Ht(Q,i,Z,e,s,n,t,!!s))return B(),i.appendChild(Z),X=i,z(),j(!0)}else if(s.parentNode===i){n=A(s);var v,y,b,w=Z.parentNode!==i,_=!function(t,e,n){var r=n?t.left:t.top,o=n?t.right:t.bottom,i=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,u=n?e.width:e.height;return r===a||o===s||r+i/2===a+u/2}(Z.animated&&Z.toRect||e,s.animated&&s.toRect||n,o),k=o?"top":"left",T=D(s,"top","top")||D(Z,"top","top"),E=T?T.scrollTop:void 0;if(vt!==s&&(y=n[k],Ct=!1,St=!_&&u.invertSwap||w),0!==(v=function(t,e,n,r,o,i,a,s){var u=r?t.clientY:t.clientX,l=r?n.height:n.width,c=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!a)if(s&&bt<l*o){if(!Ct&&(1===yt?u>c+l*i/2:u<f-l*i/2)&&(Ct=!0),Ct)d=!0;else if(1===yt?u<c+bt:u>f-bt)return-yt}else if(u>c+l*(1-o)/2&&u<f-l*(1-o)/2)return function(t){return M(Z)<M(t)?1:-1}(e);if((d=d||a)&&(u<c+l*i/2||u>f-l*i/2))return u>c+l/2?1:-1;return 0}(t,s,n,o,_?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,St,vt===s))){var O=M(Z);do{O-=v,b=X.children[O]}while(b&&("none"===S(b,"display")||b===J))}if(0===v||b===s)return j(!1);vt=s,yt=v;var N=s.nextElementSibling,L=!1,R=Ht(Q,i,Z,e,s,n,t,L=1===v);if(!1!==R)return 1!==R&&-1!==R||(L=1===R),Et=!0,setTimeout(Ut,30),B(),L&&!N?i.appendChild(Z):s.parentNode.insertBefore(Z,L?N:s),T&&F(T,0,E-T.scrollTop),X=Z.parentNode,void 0===y||St||(bt=Math.abs(y-A(s)[k])),z(),j(!0)}if(i.contains(Z))return j(!1)}return!1}function I(u,l){Y(u,p,a({evt:t,isOwner:f,axis:o?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:d,fromSortable:h,target:s,completed:j,onMove:function(n,r){return Ht(Q,i,Z,e,n,A(n),t,r)},changed:z},l))}function B(){I("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function j(e){return I("dragOverCompleted",{insertion:e}),e&&(f?c._hideClone():c._showClone(p),p!==h&&(C(Z,lt?lt.options.ghostClass:c.options.ghostClass,!1),C(Z,u.ghostClass,!0)),lt!==p&&p!==zt.active?lt=p:p===zt.active&&lt&&(lt=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){I("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===Z&&!Z.animated||s===i&&!s.animated)&&(vt=null),u.dragoverBubble||t.rootEl||s===document||(Z.parentNode[q]._isOutsideThisEl(t.target),!e&&Ft(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function z(){it=M(Z),st=M(Z,u.draggable),K({sortable:p,name:"change",toEl:i,newIndex:it,newDraggableIndex:st,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){y(document,"mousemove",this._onTouchMove),y(document,"touchmove",this._onTouchMove),y(document,"pointermove",this._onTouchMove),y(document,"dragover",Ft),y(document,"mousemove",Ft),y(document,"touchmove",Ft)},_offUpEvents:function(){var t=this.el.ownerDocument;y(t,"mouseup",this._onDrop),y(t,"touchend",this._onDrop),y(t,"pointerup",this._onDrop),y(t,"touchcancel",this._onDrop),y(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;it=M(Z),st=M(Z,n.draggable),Y("drop",this,{evt:t}),X=Z&&Z.parentNode,it=M(Z),st=M(Z,n.draggable),zt.eventCanceled||(xt=!1,St=!1,Ct=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$t(this.cloneId),$t(this._dragStartId),this.nativeDraggable&&(y(document,"drop",this),y(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h&&S(document.body,"user-select",""),S(Z,"transform",""),t&&(gt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Q===X||lt&&"clone"!==lt.lastPutMode)&&nt&&nt.parentNode&&nt.parentNode.removeChild(nt),Z&&(this.nativeDraggable&&y(Z,"dragend",this),qt(Z),Z.style["will-change"]="",gt&&!xt&&C(Z,lt?lt.options.ghostClass:this.options.ghostClass,!1),C(Z,this.options.chosenClass,!1),K({sortable:this,name:"unchoose",toEl:X,newIndex:null,newDraggableIndex:null,originalEvent:t}),Q!==X?(it>=0&&(K({rootEl:X,name:"add",toEl:X,fromEl:Q,originalEvent:t}),K({sortable:this,name:"remove",toEl:X,originalEvent:t}),K({rootEl:X,name:"sort",toEl:X,fromEl:Q,originalEvent:t}),K({sortable:this,name:"sort",toEl:X,originalEvent:t})),lt&&lt.save()):it!==ot&&it>=0&&(K({sortable:this,name:"update",toEl:X,originalEvent:t}),K({sortable:this,name:"sort",toEl:X,originalEvent:t})),zt.active&&(null!=it&&-1!==it||(it=ot,st=at),K({sortable:this,name:"end",toEl:X,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),Q=Z=X=J=tt=nt=et=rt=ct=ft=gt=it=st=ot=at=vt=yt=lt=ut=zt.dragged=zt.ghost=zt.clone=zt.active=null,Ot.forEach((function(t){t.checked=!0})),Ot.length=dt=ht=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Z&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)x(t=n[r],i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Wt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var o=n.children[r];x(o,this.options.draggable,n,!1)&&(e[t]=o)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return x(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=$.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&Rt(n)},destroy:function(){Y("destroy",this);var t=this.el;t[q]=null,y(t,"mousedown",this._onTapStart),y(t,"touchstart",this._onTapStart),y(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(y(t,"dragover",this),y(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),kt.splice(kt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!rt){if(Y("hideClone",this),zt.eventCanceled)return;S(nt,"display","none"),this.options.removeCloneOnHide&&nt.parentNode&&nt.parentNode.removeChild(nt),rt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(rt){if(Y("showClone",this),zt.eventCanceled)return;Q.contains(Z)&&!this.options.group.revertClone?Q.insertBefore(nt,Z):tt?Q.insertBefore(nt,tt):Q.appendChild(nt),this.options.group.revertClone&&this.animate(Z,nt),S(nt,"display",""),rt=!1}}else this._hideClone()}},At&&v(document,"touchmove",(function(t){(zt.active||xt)&&t.cancelable&&t.preventDefault()})),zt.utils={on:v,off:y,css:S,find:E,is:function(t,e){return!!x(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:B,closest:x,toggleClass:C,clone:j,index:M,nextTick:Vt,cancelNextTick:$t,detectDirection:Lt,getChild:N},zt.get=function(t){return t[q]},zt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(zt.utils=a({},zt.utils,t.utils)),$.mount(t)}))},zt.create=function(t,e){return new zt(t,e)},zt.version="1.10.2";var Gt,Yt,Kt,Zt,Xt,Jt,Qt=[],te=!1;function ee(){Qt.forEach((function(t){clearInterval(t.pid)})),Qt=[]}function ne(){clearInterval(Jt)}var re,oe=B((function(t,e,n,r){if(e.scroll){var o,i=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,u=e.scrollSpeed,l=O(),c=!1;Yt!==n&&(Yt=n,ee(),Gt=e.scroll,o=e.scrollFn,!0===Gt&&(Gt=R(n,!0)));var f=0,d=Gt;do{var h=d,p=A(h),m=p.top,g=p.bottom,v=p.left,y=p.right,b=p.width,w=p.height,x=void 0,_=void 0,k=h.scrollWidth,C=h.scrollHeight,T=S(h),E=h.scrollLeft,D=h.scrollTop;h===l?(x=b<k&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),_=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(x=b<k&&("auto"===T.overflowX||"scroll"===T.overflowX),_=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY));var N=x&&(Math.abs(y-i)<=s&&E+b<k)-(Math.abs(v-i)<=s&&!!E),P=_&&(Math.abs(g-a)<=s&&D+w<C)-(Math.abs(m-a)<=s&&!!D);if(!Qt[f])for(var M=0;M<=f;M++)Qt[M]||(Qt[M]={});Qt[f].vx==N&&Qt[f].vy==P&&Qt[f].el===h||(Qt[f].el=h,Qt[f].vx=N,Qt[f].vy=P,clearInterval(Qt[f].pid),0==N&&0==P||(c=!0,Qt[f].pid=setInterval(function(){r&&0===this.layer&&zt.active._onTouchMove(Xt);var e=Qt[this.layer].vy?Qt[this.layer].vy*u:0,n=Qt[this.layer].vx?Qt[this.layer].vx*u:0;"function"==typeof o&&"continue"!==o.call(zt.dragged.parentNode[q],n,e,t,Xt,Qt[this.layer].el)||F(Qt[this.layer].el,n,e)}.bind({layer:f}),24))),f++}while(e.bubbleScroll&&d!==l&&(d=R(d,!1)));te=c}}),30),ie=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,o=t.activeSortable,i=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var u=n||o;a();var l=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,c=document.elementFromPoint(l.clientX,l.clientY);s(),u&&!u.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ae(){}function se(){}function ue(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;re=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,o=t.activeSortable,i=t.changed,a=t.cancel;if(o.options.swap){var s=this.sortable.el,u=this.options;if(n&&n!==s){var l=re;!1!==r(n)?(C(n,u.swapClass,!0),re=n):re=null,l&&l!==re&&C(l,u.swapClass,!1)}i(),e(!0),a()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,o=n||this.sortable,i=this.options;re&&C(re,i.swapClass,!1),re&&(i.swap||n&&n.options.swap)&&r!==re&&(o.captureAnimationState(),o!==e&&e.captureAnimationState(),function(t,e){var n,r,o=t.parentNode,i=e.parentNode;if(!o||!i||o.isEqualNode(e)||i.isEqualNode(t))return;n=M(t),r=M(e),o.isEqualNode(i)&&n<r&&r++;o.insertBefore(e,o.children[n]),i.insertBefore(t,i.children[r])}(r,re),o.animateAll(),o!==e&&e.animateAll())},nulling:function(){re=null}},i(t,{pluginName:"swap",eventProperties:function(){return{swapItem:re}}})}ae.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=N(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ie},i(ae,{pluginName:"revertOnSpill"}),se.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ie},i(se,{pluginName:"removeOnSpill"});var le,ce,fe,de,he,pe=[],me=[],ge=!1,ve=!1,ye=!1;function be(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?v(document,"pointerup",this._deselectMultiDrag):(v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag)),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var r="";pe.length&&ce===t?pe.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;fe=e},delayEnded:function(){this.isMultiDrag=~pe.indexOf(fe)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var r=0;r<pe.length;r++)me.push(j(pe[r])),me[r].sortableIndex=pe[r].sortableIndex,me[r].draggable=!1,me[r].style["will-change"]="",C(me[r],this.options.selectedClass,!1),pe[r]===fe&&C(me[r],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,o=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||pe.length&&ce===e&&(we(!0,n),r("clone"),o()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(we(!1,n),me.forEach((function(t){S(t,"display","")})),e(),he=!1,r())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),r=t.cancel;this.isMultiDrag&&(me.forEach((function(t){S(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),he=!0,r())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&ce&&ce.multiDrag._deselectMultiDrag(),pe.forEach((function(t){t.sortableIndex=M(t)})),pe=pe.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),ye=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){pe.forEach((function(t){t!==fe&&S(t,"position","absolute")}));var r=A(fe,!1,!0,!0);pe.forEach((function(t){t!==fe&&z(t,r)})),ve=!0,ge=!0}n.animateAll((function(){ve=!1,ge=!1,e.options.animation&&pe.forEach((function(t){H(t)})),e.options.sort&&xe()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;ve&&~pe.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,o=t.dragRect;pe.length>1&&(pe.forEach((function(t){r.addAnimationState({target:t,rect:ve?A(t):o}),H(t),t.fromRect=o,e.removeAnimationState(t)})),ve=!1,function(t,e){pe.forEach((function(n,r){var o=e.children[n.sortableIndex+(t?Number(r):0)];o?e.insertBefore(n,o):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,o=t.activeSortable,i=t.parentEl,a=t.putSortable,s=this.options;if(r){if(n&&o._hideClone(),ge=!1,s.animation&&pe.length>1&&(ve||!n&&!o.options.sort&&!a)){var u=A(fe,!1,!0,!0);pe.forEach((function(t){t!==fe&&(z(t,u),i.appendChild(t))})),ve=!0}if(!n)if(ve||xe(),pe.length>1){var l=he;o._showClone(e),o.options.animation&&!he&&l&&me.forEach((function(t){o.addAnimationState({target:t,rect:de}),t.fromRect=de,t.thisAnimationDuration=null}))}else o._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(pe.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){de=i({},e);var o=T(fe,!0);de.top-=o.f,de.left-=o.e}},dragOverAnimationComplete:function(){ve&&(ve=!1,xe())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,o=t.sortable,i=t.dispatchSortableEvent,a=t.oldIndex,s=t.putSortable,u=s||this.sortable;if(e){var l=this.options,c=r.children;if(!ye)if(l.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),C(fe,l.selectedClass,!~pe.indexOf(fe)),~pe.indexOf(fe))pe.splice(pe.indexOf(fe),1),le=null,G({sortable:o,rootEl:n,name:"deselect",targetEl:fe,originalEvt:e});else{if(pe.push(fe),G({sortable:o,rootEl:n,name:"select",targetEl:fe,originalEvt:e}),e.shiftKey&&le&&o.el.contains(le)){var f,d,h=M(le),p=M(fe);if(~h&&~p&&h!==p)for(p>h?(d=h,f=p):(d=p,f=h+1);d<f;d++)~pe.indexOf(c[d])||(C(c[d],l.selectedClass,!0),pe.push(c[d]),G({sortable:o,rootEl:n,name:"select",targetEl:c[d],originalEvt:e}))}else le=fe;ce=u}if(ye&&this.isMultiDrag){if((r[q].options.sort||r!==n)&&pe.length>1){var m=A(fe),g=M(fe,":not(."+this.options.selectedClass+")");if(!ge&&l.animation&&(fe.thisAnimationDuration=null),u.captureAnimationState(),!ge&&(l.animation&&(fe.fromRect=m,pe.forEach((function(t){if(t.thisAnimationDuration=null,t!==fe){var e=ve?A(t):m;t.fromRect=e,u.addAnimationState({target:t,rect:e})}}))),xe(),pe.forEach((function(t){c[g]?r.insertBefore(t,c[g]):r.appendChild(t),g++})),a===M(fe))){var v=!1;pe.forEach((function(t){t.sortableIndex===M(t)||(v=!0)})),v&&i("update")}pe.forEach((function(t){H(t)})),u.animateAll()}ce=u}(n===r||s&&"clone"!==s.lastPutMode)&&me.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=ye=!1,me.length=0},destroyGlobal:function(){this._deselectMultiDrag(),y(document,"pointerup",this._deselectMultiDrag),y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ye&&ye||ce!==this.sortable||t&&x(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;pe.length;){var e=pe[0];C(e,this.options.selectedClass,!1),pe.shift(),G({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},i(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[q];e&&e.options.multiDrag&&!~pe.indexOf(t)&&(ce&&ce!==e&&(ce.multiDrag._deselectMultiDrag(),ce=e),C(t,e.options.selectedClass,!0),pe.push(t))},deselect:function(t){var e=t.parentNode[q],n=pe.indexOf(t);e&&e.options.multiDrag&&~n&&(C(t,e.options.selectedClass,!1),pe.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return pe.forEach((function(r){var o;e.push({multiDragElement:r,index:r.sortableIndex}),o=ve&&r!==fe?-1:ve?M(r,":not(."+t.options.selectedClass+")"):M(r),n.push({multiDragElement:r,index:o})})),{items:u(pe),clones:[].concat(me),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function we(t,e){me.forEach((function(n,r){var o=e.children[n.sortableIndex+(t?Number(r):0)];o?e.insertBefore(n,o):e.appendChild(n)}))}function xe(){pe.forEach((function(t){t!==fe&&t.parentNode&&t.parentNode.removeChild(t)}))}zt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):this.options.supportPointer?v(document,"pointermove",this._handleFallbackAutoScroll):e.touches?v(document,"touchmove",this._handleFallbackAutoScroll):v(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):(y(document,"pointermove",this._handleFallbackAutoScroll),y(document,"touchmove",this._handleFallbackAutoScroll),y(document,"mousemove",this._handleFallbackAutoScroll)),ne(),ee(),clearTimeout(_),_=void 0},nulling:function(){Xt=Yt=Gt=te=Jt=Kt=Zt=null,Qt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,i=document.elementFromPoint(r,o);if(Xt=t,e||f||c||h){oe(t,this.options,i,e);var a=R(i,!0);!te||Jt&&r===Kt&&o===Zt||(Jt&&ne(),Jt=setInterval((function(){var i=R(document.elementFromPoint(r,o),!0);i!==a&&(a=i,ee()),oe(t,n.options,i,e)}),10),Kt=r,Zt=o)}else{if(!this.options.bubbleScroll||R(i,!0)===O())return void ee();oe(t,this.options,R(i,!1),!1)}}},i(t,{pluginName:"scroll",initializeByDefault:!0})}),zt.mount(se,ae),e.default=zt}.call(this,n("EVdn"))},tQ2B:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("Rn+g"),i=n("MLWZ"),a=n("g7np"),s=n("w0Vi"),u=n("OTTw"),l=n("LYNF");t.exports=function(t){return new Promise((function(e,c){var f=t.data,d=t.headers;r.isFormData(f)&&delete d["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+btoa(p+":"+m)}var g=a(t.baseURL,t.url);if(h.open(t.method.toUpperCase(),i(g,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};o(e,c,r),h=null}},h.onabort=function(){h&&(c(l("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){c(l("Network Error",t,null,h)),h=null},h.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),c(l(e,t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n("eqyj"),y=(t.withCredentials||u(g))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(d[t.xsrfHeaderName]=y)}if("setRequestHeader"in h&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:h.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){h&&(h.abort(),c(t),h=null)})),void 0===f&&(f=null),h.send(f)}))}},tjlA:function(t,e,n){"use strict";(function(t){var r=n("H7XF"),o=n("kVK+"),i=n("49sm");function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&i(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(c(e),t=s(t,e<0?0:0|h(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function v(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var c=-1;for(i=n;i<s;i++)if(l(t,i)===l(e,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var f=!0,d=0;d<u;d++)if(l(t,i+d)!==l(e,d)){f=!1;break}if(f)return i}return-1}function b(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return q(z(e,t.length-n),t,n,r)}function x(t,e,n,r){return q(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function _(t,e,n,r){return x(t,e,n,r)}function k(t,e,n,r){return q(H(e),t,n,r)}function C(t,e,n,r){return q(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,l=t[o],c=null,f=l>239?4:l>223?3:l>191?2:1;if(o+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return f(null,t)},u.allocUnsafeSlow=function(t){return f(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),l=this.slice(r,o),c=t.slice(e,n),f=0;f<s;++f)if(l[f]!==c[f]){i=l[f],a=c[f];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function A(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=j(t[i]);return o}function D(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function M(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function R(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,r,i){return i||R(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||R(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);P(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:z(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function j(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(F,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function q(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n("yLpj"))},urRO:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u="undefined"!=typeof window&&void 0!==window.document,l=u?window:{},c=!(!u||!l.document.documentElement)&&"ontouchstart"in l.document.documentElement,f=!!u&&"PointerEvent"in l,d="".concat("cropper","-crop"),h="".concat("cropper","-disabled"),p="".concat("cropper","-hidden"),m="".concat("cropper","-hide"),g="".concat("cropper","-invisible"),v="".concat("cropper","-modal"),y="".concat("cropper","-move"),b="".concat("cropper","Action"),w="".concat("cropper","Preview"),x=c?"touchstart":"mousedown",_=c?"touchmove":"mousemove",k=c?"touchend touchcancel":"mouseup",C=f?"pointerdown":x,S=f?"pointermove":_,T=f?"pointerup pointercancel":k,E=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,O=/^data:/,A=/^data:image\/jpeg;base64,/,D=/^img|canvas$/i,N={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},P=Number.isNaN||l.isNaN;function M(t){return"number"==typeof t&&!P(t)}var L=function(t){return t>0&&t<1/0};function R(t){return void 0===t}function I(e){return"object"===t(e)&&null!==e}var B=Object.prototype.hasOwnProperty;function F(t){if(!I(t))return!1;try{var e=t.constructor,n=e.prototype;return e&&n&&B.call(n,"isPrototypeOf")}catch(t){return!1}}function j(t){return"function"==typeof t}var z=Array.prototype.slice;function H(t){return Array.from?Array.from(t):z.call(t)}function q(t,e){return t&&j(e)&&(Array.isArray(t)||M(t.length)?H(t).forEach((function(n,r){e.call(t,n,r,t)})):I(t)&&Object.keys(t).forEach((function(n){e.call(t,t[n],n,t)}))),t}var U=Object.assign||function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return I(t)&&n.length>0&&n.forEach((function(e){I(e)&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t},W=/\.\d*(?:0|9){12}\d*$/;function V(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return W.test(t)?Math.round(t*e)/e:t}var $=/^width|height|left|top|marginLeft|marginTop$/;function G(t,e){var n=t.style;q(e,(function(t,e){$.test(e)&&M(t)&&(t="".concat(t,"px")),n[e]=t}))}function Y(t,e){if(e)if(M(t.length))q(t,(function(t){Y(t,e)}));else if(t.classList)t.classList.add(e);else{var n=t.className.trim();n?n.indexOf(e)<0&&(t.className="".concat(n," ").concat(e)):t.className=e}}function K(t,e){e&&(M(t.length)?q(t,(function(t){K(t,e)})):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function Z(t,e,n){e&&(M(t.length)?q(t,(function(t){Z(t,e,n)})):n?Y(t,e):K(t,e))}var X=/([a-z\d])([A-Z])/g;function J(t){return t.replace(X,"$1-$2").toLowerCase()}function Q(t,e){return I(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(J(e)))}function tt(t,e,n){I(n)?t[e]=n:t.dataset?t.dataset[e]=n:t.setAttribute("data-".concat(J(e)),n)}var et=/\s\s*/,nt=function(){var t=!1;if(u){var e=!1,n=function(){},r=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});l.addEventListener("test",n,r),l.removeEventListener("test",n,r)}return t}();function rt(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(et).forEach((function(e){if(!nt){var i=t.listeners;i&&i[e]&&i[e][n]&&(o=i[e][n],delete i[e][n],0===Object.keys(i[e]).length&&delete i[e],0===Object.keys(i).length&&delete t.listeners)}t.removeEventListener(e,o,r)}))}function ot(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n;e.trim().split(et).forEach((function(e){if(r.once&&!nt){var i=t.listeners,a=void 0===i?{}:i;o=function(){delete a[e][n],t.removeEventListener(e,o,r);for(var i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];n.apply(t,s)},a[e]||(a[e]={}),a[e][n]&&t.removeEventListener(e,a[e][n],r),a[e][n]=o,t.listeners=a}t.addEventListener(e,o,r)}))}function it(t,e,n){var r;return j(Event)&&j(CustomEvent)?r=new CustomEvent(e,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(r)}function at(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var st=l.location,ut=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function lt(t){var e=t.match(ut);return null!==e&&(e[1]!==st.protocol||e[2]!==st.hostname||e[3]!==st.port)}function ct(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function ft(t){var e=t.rotate,n=t.scaleX,r=t.scaleY,o=t.translateX,i=t.translateY,a=[];M(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),M(i)&&0!==i&&a.push("translateY(".concat(i,"px)")),M(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),M(n)&&1!==n&&a.push("scaleX(".concat(n,")")),M(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function dt(t,e){var n=t.pageX,r=t.pageY,o={endX:n,endY:r};return e?o:i({startX:n,startY:r},o)}function ht(t){var e=t.aspectRatio,n=t.height,r=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",i=L(r),a=L(n);if(i&&a){var s=n*e;"contain"===o&&s>r||"cover"===o&&s<r?n=r/e:r=n*e}else i?n=r/e:a&&(r=n*e);return{width:r,height:n}}function pt(t,e,n,r){var o=e.aspectRatio,i=e.naturalWidth,s=e.naturalHeight,u=e.rotate,l=void 0===u?0:u,c=e.scaleX,f=void 0===c?1:c,d=e.scaleY,h=void 0===d?1:d,p=n.aspectRatio,m=n.naturalWidth,g=n.naturalHeight,v=r.fillColor,y=void 0===v?"transparent":v,b=r.imageSmoothingEnabled,w=void 0===b||b,x=r.imageSmoothingQuality,_=void 0===x?"low":x,k=r.maxWidth,C=void 0===k?1/0:k,S=r.maxHeight,T=void 0===S?1/0:S,E=r.minWidth,O=void 0===E?0:E,A=r.minHeight,D=void 0===A?0:A,N=document.createElement("canvas"),P=N.getContext("2d"),M=ht({aspectRatio:p,width:C,height:T}),L=ht({aspectRatio:p,width:O,height:D},"cover"),R=Math.min(M.width,Math.max(L.width,m)),I=Math.min(M.height,Math.max(L.height,g)),B=ht({aspectRatio:o,width:C,height:T}),F=ht({aspectRatio:o,width:O,height:D},"cover"),j=Math.min(B.width,Math.max(F.width,i)),z=Math.min(B.height,Math.max(F.height,s)),H=[-j/2,-z/2,j,z];return N.width=V(R),N.height=V(I),P.fillStyle=y,P.fillRect(0,0,R,I),P.save(),P.translate(R/2,I/2),P.rotate(l*Math.PI/180),P.scale(f,h),P.imageSmoothingEnabled=w,P.imageSmoothingQuality=_,P.drawImage.apply(P,[t].concat(a(H.map((function(t){return Math.floor(V(t))}))))),P.restore(),N}var mt=String.fromCharCode,gt=/^data:.*,/;function vt(t){var e,n=new DataView(t);try{var r,o,i;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){o=s;break}s+=1}if(o){var u=o+10;if("Exif"===function(t,e,n){var r="";n+=e;for(var o=e;o<n;o+=1)r+=mt(t.getUint8(o));return r}(n,o+4,4)){var l=n.getUint16(u);if(((r=18761===l)||19789===l)&&42===n.getUint16(u+2,r)){var c=n.getUint32(u+4,r);c>=8&&(i=u+c)}}}if(i){var f,d,h=n.getUint16(i,r);for(d=0;d<h;d+=1)if(f=i+12*d+2,274===n.getUint16(f,r)){f+=8,e=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(t){e=1}return e}var yt={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,n=this.container,r=this.cropper;Y(r,p),K(t,p);var o={width:Math.max(n.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(n.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=o,G(r,{width:o.width,height:o.height}),Y(t,p),K(r,p)},initCanvas:function(){var t=this.containerData,e=this.imageData,n=this.options.viewMode,r=Math.abs(e.rotate)%180==90,o=r?e.naturalHeight:e.naturalWidth,i=r?e.naturalWidth:e.naturalHeight,a=o/i,s=t.width,u=t.height;t.height*a>t.width?3===n?s=t.height*a:u=t.width/a:3===n?u=t.width/a:s=t.height*a;var l={aspectRatio:a,naturalWidth:o,naturalHeight:i,width:s,height:u};l.left=(t.width-s)/2,l.top=(t.height-u)/2,l.oldLeft=l.left,l.oldTop=l.top,this.canvasData=l,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImageData=U({},e),this.initialCanvasData=U({},l)},limitCanvas:function(t,e){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=n.viewMode,s=o.aspectRatio,u=this.cropped&&i;if(t){var l=Number(n.minCanvasWidth)||0,c=Number(n.minCanvasHeight)||0;a>1?(l=Math.max(l,r.width),c=Math.max(c,r.height),3===a&&(c*s>l?l=c*s:c=l/s)):a>0&&(l?l=Math.max(l,u?i.width:0):c?c=Math.max(c,u?i.height:0):u&&(l=i.width,(c=i.height)*s>l?l=c*s:c=l/s));var f=ht({aspectRatio:s,width:l,height:c});l=f.width,c=f.height,o.minWidth=l,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(a>(u?0:1)){var d=r.width-o.width,h=r.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,h),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,h),u&&this.limited&&(o.minLeft=Math.min(i.left,i.left+(i.width-o.width)),o.minTop=Math.min(i.top,i.top+(i.height-o.height)),o.maxLeft=i.left,o.maxTop=i.top,2===a&&(o.width>=r.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=r.height&&(o.minTop=Math.min(0,h),o.maxTop=Math.max(0,h))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=r.width,o.maxTop=r.height},renderCanvas:function(t,e){var n=this.canvasData,r=this.imageData;if(e){var o=function(t){var e=t.width,n=t.height,r=t.degree;if(90==(r=Math.abs(r)%180))return{width:n,height:e};var o=r%90*Math.PI/180,i=Math.sin(o),a=Math.cos(o),s=e*a+n*i,u=e*i+n*a;return r>90?{width:u,height:s}:{width:s,height:u}}({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),i=o.width,a=o.height,s=n.width*(i/n.naturalWidth),u=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(u-n.height)/2,n.width=s,n.height=u,n.aspectRatio=i/a,n.naturalWidth=i,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,G(this.canvas,U({width:n.width,height:n.height},ft({translateX:n.left,translateY:n.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,n=this.imageData,r=n.naturalWidth*(e.width/e.naturalWidth),o=n.naturalHeight*(e.height/e.naturalHeight);U(n,{width:r,height:o,left:(e.width-r)/2,top:(e.height-o)/2}),G(this.image,U({width:n.width,height:n.height},ft(U({translateX:n.left,translateY:n.top},n)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,n=t.aspectRatio||t.initialAspectRatio,r=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};n&&(e.height*n>e.width?o.height=o.width/n:o.width=o.height*n),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*r),o.height=Math.max(o.minHeight,o.height*r),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=U({},o)},limitCropBox:function(t,e){var n=this.options,r=this.containerData,o=this.canvasData,i=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(t){var u=Number(n.minCropBoxWidth)||0,l=Number(n.minCropBoxHeight)||0,c=a?Math.min(r.width,o.width,o.width+o.left,r.width-o.left):r.width,f=a?Math.min(r.height,o.height,o.height+o.top,r.height-o.top):r.height;u=Math.min(u,r.width),l=Math.min(l,r.height),s&&(u&&l?l*s>u?l=u/s:u=l*s:u?l=u/s:l&&(u=l*s),f*s>c?f=c/s:c=f*s),i.minWidth=Math.min(u,c),i.minHeight=Math.min(l,f),i.maxWidth=c,i.maxHeight=f}e&&(a?(i.minLeft=Math.max(0,o.left),i.minTop=Math.max(0,o.top),i.maxLeft=Math.min(r.width,o.left+o.width)-i.width,i.maxTop=Math.min(r.height,o.top+o.height)-i.height):(i.minLeft=0,i.minTop=0,i.maxLeft=r.width-i.width,i.maxTop=r.height-i.height))},renderCropBox:function(){var t=this.options,e=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&tt(this.face,b,n.width>=e.width&&n.height>=e.height?"move":"all"),G(this.cropBox,U({width:n.width,height:n.height},ft({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),it(this.element,"crop",this.getData())}},bt={initPreview:function(){var t=this.element,e=this.crossOrigin,n=this.options.preview,r=e?this.crossOriginUrl:this.url,o=t.alt||"The image to preview",i=document.createElement("img");if(e&&(i.crossOrigin=e),i.src=r,i.alt=o,this.viewBox.appendChild(i),this.viewBoxImage=i,n){var a=n;"string"==typeof n?a=t.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,q(a,(function(t){var n=document.createElement("img");tt(t,w,{width:t.offsetWidth,height:t.offsetHeight,html:t.innerHTML}),e&&(n.crossOrigin=e),n.src=r,n.alt=o,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',t.innerHTML="",t.appendChild(n)}))}},resetPreview:function(){q(this.previews,(function(t){var e=Q(t,w);G(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(I(t[e]))try{delete t[e]}catch(n){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(n){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(J(e)))}(t,w)}))},preview:function(){var t=this.imageData,e=this.canvasData,n=this.cropBoxData,r=n.width,o=n.height,i=t.width,a=t.height,s=n.left-e.left-t.left,u=n.top-e.top-t.top;this.cropped&&!this.disabled&&(G(this.viewBoxImage,U({width:i,height:a},ft(U({translateX:-s,translateY:-u},t)))),q(this.previews,(function(e){var n=Q(e,w),l=n.width,c=n.height,f=l,d=c,h=1;r&&(d=o*(h=l/r)),o&&d>c&&(f=r*(h=c/o),d=c),G(e,{width:f,height:d}),G(e.getElementsByTagName("img")[0],U({width:i*h,height:a*h},ft(U({translateX:-s*h,translateY:-u*h},t))))})))}},wt={bind:function(){var t=this.element,e=this.options,n=this.cropper;j(e.cropstart)&&ot(t,"cropstart",e.cropstart),j(e.cropmove)&&ot(t,"cropmove",e.cropmove),j(e.cropend)&&ot(t,"cropend",e.cropend),j(e.crop)&&ot(t,"crop",e.crop),j(e.zoom)&&ot(t,"zoom",e.zoom),ot(n,C,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&ot(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&ot(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),ot(t.ownerDocument,S,this.onCropMove=this.cropMove.bind(this)),ot(t.ownerDocument,T,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&ot(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,n=this.cropper;j(e.cropstart)&&rt(t,"cropstart",e.cropstart),j(e.cropmove)&&rt(t,"cropmove",e.cropmove),j(e.cropend)&&rt(t,"cropend",e.cropend),j(e.crop)&&rt(t,"crop",e.crop),j(e.zoom)&&rt(t,"zoom",e.zoom),rt(n,C,this.onCropStart),e.zoomable&&e.zoomOnWheel&&rt(n,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&rt(n,"dblclick",this.onDblclick),rt(t.ownerDocument,S,this.onCropMove),rt(t.ownerDocument,T,this.onCropEnd),e.responsive&&rt(window,"resize",this.onResize)}},xt={resize:function(){if(!this.disabled){var t,e,n=this.options,r=this.container,o=this.containerData,i=r.offsetWidth/o.width;1===i&&r.offsetHeight===o.height||(n.restore&&(t=this.getCanvasData(),e=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(q(t,(function(e,n){t[n]=e*i}))),this.setCropBoxData(q(e,(function(t,n){e[n]=t*i})))))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=d,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,n=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50),t.deltaY?r=t.deltaY>0?1:-1:t.wheelDelta?r=-t.wheelDelta/120:t.detail&&(r=t.detail>0?1:-1),this.zoom(-r*n,t)))},cropStart:function(t){var e=t.buttons,n=t.button;if(!(this.disabled||("mousedown"===t.type||"pointerdown"===t.type&&"mouse"===t.pointerType)&&(M(e)&&1!==e||M(n)&&0!==n||t.ctrlKey))){var r,o=this.options,i=this.pointers;t.changedTouches?q(t.changedTouches,(function(t){i[t.identifier]=dt(t)})):i[t.pointerId||0]=dt(t),r=Object.keys(i).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":Q(t.target,b),E.test(r)&&!1!==it(this.element,"cropstart",{originalEvent:t,action:r})&&(t.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,Y(this.dragBox,v)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var n=this.pointers;t.preventDefault(),!1!==it(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?q(t.changedTouches,(function(t){U(n[t.identifier]||{},dt(t,!0))})):U(n[t.pointerId||0]||{},dt(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,n=this.pointers;t.changedTouches?q(t.changedTouches,(function(t){delete n[t.identifier]})):delete n[t.pointerId||0],e&&(t.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Z(this.dragBox,v,this.cropped&&this.options.modal)),it(this.element,"cropend",{originalEvent:t,action:e}))}}},_t={change:function(t){var e,n=this.options,r=this.canvasData,o=this.containerData,a=this.cropBoxData,s=this.pointers,u=this.action,l=n.aspectRatio,c=a.left,f=a.top,d=a.width,h=a.height,m=c+d,g=f+h,v=0,y=0,b=o.width,w=o.height,x=!0;!l&&t.shiftKey&&(l=d&&h?d/h:1),this.limited&&(v=a.minLeft,y=a.minTop,b=v+Math.min(o.width,r.width,r.left+r.width),w=y+Math.min(o.height,r.height,r.top+r.height));var _=s[Object.keys(s)[0]],k={x:_.endX-_.startX,y:_.endY-_.startY},C=function(t){switch(t){case"e":m+k.x>b&&(k.x=b-m);break;case"w":c+k.x<v&&(k.x=v-c);break;case"n":f+k.y<y&&(k.y=y-f);break;case"s":g+k.y>w&&(k.y=w-g)}};switch(u){case"all":c+=k.x,f+=k.y;break;case"e":if(k.x>=0&&(m>=b||l&&(f<=y||g>=w))){x=!1;break}C("e"),(d+=k.x)<0&&(u="w",c-=d=-d),l&&(h=d/l,f+=(a.height-h)/2);break;case"n":if(k.y<=0&&(f<=y||l&&(c<=v||m>=b))){x=!1;break}C("n"),h-=k.y,f+=k.y,h<0&&(u="s",f-=h=-h),l&&(d=h*l,c+=(a.width-d)/2);break;case"w":if(k.x<=0&&(c<=v||l&&(f<=y||g>=w))){x=!1;break}C("w"),d-=k.x,c+=k.x,d<0&&(u="e",c-=d=-d),l&&(h=d/l,f+=(a.height-h)/2);break;case"s":if(k.y>=0&&(g>=w||l&&(c<=v||m>=b))){x=!1;break}C("s"),(h+=k.y)<0&&(u="n",f-=h=-h),l&&(d=h*l,c+=(a.width-d)/2);break;case"ne":if(l){if(k.y<=0&&(f<=y||m>=b)){x=!1;break}C("n"),h-=k.y,f+=k.y,d=h*l}else C("n"),C("e"),k.x>=0?m<b?d+=k.x:k.y<=0&&f<=y&&(x=!1):d+=k.x,k.y<=0?f>y&&(h-=k.y,f+=k.y):(h-=k.y,f+=k.y);d<0&&h<0?(u="sw",f-=h=-h,c-=d=-d):d<0?(u="nw",c-=d=-d):h<0&&(u="se",f-=h=-h);break;case"nw":if(l){if(k.y<=0&&(f<=y||c<=v)){x=!1;break}C("n"),h-=k.y,f+=k.y,d=h*l,c+=a.width-d}else C("n"),C("w"),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y<=0&&f<=y&&(x=!1):(d-=k.x,c+=k.x),k.y<=0?f>y&&(h-=k.y,f+=k.y):(h-=k.y,f+=k.y);d<0&&h<0?(u="se",f-=h=-h,c-=d=-d):d<0?(u="ne",c-=d=-d):h<0&&(u="sw",f-=h=-h);break;case"sw":if(l){if(k.x<=0&&(c<=v||g>=w)){x=!1;break}C("w"),d-=k.x,c+=k.x,h=d/l}else C("s"),C("w"),k.x<=0?c>v?(d-=k.x,c+=k.x):k.y>=0&&g>=w&&(x=!1):(d-=k.x,c+=k.x),k.y>=0?g<w&&(h+=k.y):h+=k.y;d<0&&h<0?(u="ne",f-=h=-h,c-=d=-d):d<0?(u="se",c-=d=-d):h<0&&(u="nw",f-=h=-h);break;case"se":if(l){if(k.x>=0&&(m>=b||g>=w)){x=!1;break}C("e"),h=(d+=k.x)/l}else C("s"),C("e"),k.x>=0?m<b?d+=k.x:k.y>=0&&g>=w&&(x=!1):d+=k.x,k.y>=0?g<w&&(h+=k.y):h+=k.y;d<0&&h<0?(u="nw",f-=h=-h,c-=d=-d):d<0?(u="sw",c-=d=-d):h<0&&(u="ne",f-=h=-h);break;case"move":this.move(k.x,k.y),x=!1;break;case"zoom":this.zoom(function(t){var e=i({},t),n=[];return q(t,(function(t,r){delete e[r],q(e,(function(e){var r=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),i=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(r*r+o*o),u=(Math.sqrt(i*i+a*a)-s)/s;n.push(u)}))})),n.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),n[0]}(s),t),x=!1;break;case"crop":if(!k.x||!k.y){x=!1;break}e=at(this.cropper),c=_.startX-e.left,f=_.startY-e.top,d=a.minWidth,h=a.minHeight,k.x>0?u=k.y>0?"se":"ne":k.x<0&&(c-=d,u=k.y>0?"sw":"nw"),k.y<0&&(f-=h),this.cropped||(K(this.cropBox,p),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(a.width=d,a.height=h,a.left=c,a.top=f,this.action=u,this.renderCropBox()),q(s,(function(t){t.startX=t.endX,t.startY=t.endY}))}},kt={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Y(this.dragBox,v),K(this.cropBox,p),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=U({},this.initialImageData),this.canvasData=U({},this.initialCanvasData),this.cropBoxData=U({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(U(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),K(this.dragBox,v),Y(this.cropBox,p)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,q(this.previews,(function(e){e.getElementsByTagName("img")[0].src=t})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,K(this.cropper,h)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Y(this.cropper,h)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=n.left,o=n.top;return this.moveTo(R(t)?t:r+Number(t),R(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.canvasData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(M(t)&&(n.left=t,r=!0),M(e)&&(n.top=e,r=!0),r&&this.renderCanvas(!0)),this},zoom:function(t,e){var n=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,null,e)},zoomTo:function(t,e,n){var r=this.options,o=this.canvasData,i=o.width,a=o.height,s=o.naturalWidth,u=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&r.zoomable){var l=s*t,c=u*t;if(!1===it(this.element,"zoom",{ratio:t,oldRatio:i/s,originalEvent:n}))return this;if(n){var f=this.pointers,d=at(this.cropper),h=f&&Object.keys(f).length?function(t){var e=0,n=0,r=0;return q(t,(function(t){var o=t.startX,i=t.startY;e+=o,n+=i,r+=1})),{pageX:e/=r,pageY:n/=r}}(f):{pageX:n.pageX,pageY:n.pageY};o.left-=(l-i)*((h.pageX-d.left-o.left)/i),o.top-=(c-a)*((h.pageY-d.top-o.top)/a)}else F(e)&&M(e.x)&&M(e.y)?(o.left-=(l-i)*((e.x-o.left)/i),o.top-=(c-a)*((e.y-o.top)/a)):(o.left-=(l-i)/2,o.top-=(c-a)/2);o.width=l,o.height=c,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return M(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,M(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(M(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.imageData,r=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(M(t)&&(n.scaleX=t,r=!0),M(e)&&(n.scaleY=e,r=!0),r&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,r=this.imageData,o=this.canvasData,i=this.cropBoxData;if(this.ready&&this.cropped){t={x:i.left-o.left,y:i.top-o.top,width:i.width,height:i.height};var a=r.width/r.naturalWidth;if(q(t,(function(e,n){t[n]=e/a})),e){var s=Math.round(t.y+t.height),u=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=u-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return n.rotatable&&(t.rotate=r.rotate||0),n.scalable&&(t.scaleX=r.scaleX||1,t.scaleY=r.scaleY||1),t},setData:function(t){var e=this.options,n=this.imageData,r=this.canvasData,o={};if(this.ready&&!this.disabled&&F(t)){var i=!1;e.rotatable&&M(t.rotate)&&t.rotate!==n.rotate&&(n.rotate=t.rotate,i=!0),e.scalable&&(M(t.scaleX)&&t.scaleX!==n.scaleX&&(n.scaleX=t.scaleX,i=!0),M(t.scaleY)&&t.scaleY!==n.scaleY&&(n.scaleY=t.scaleY,i=!0)),i&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;M(t.x)&&(o.left=t.x*a+r.left),M(t.y)&&(o.top=t.y*a+r.top),M(t.width)&&(o.width=t.width*a),M(t.height)&&(o.height=t.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?U({},this.containerData):{}},getImageData:function(){return this.sized?U({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&q(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){e[n]=t[n]})),e},setCanvasData:function(t){var e=this.canvasData,n=e.aspectRatio;return this.ready&&!this.disabled&&F(t)&&(M(t.left)&&(e.left=t.left),M(t.top)&&(e.top=t.top),M(t.width)?(e.width=t.width,e.height=t.width/n):M(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,n,r=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&F(t)&&(M(t.left)&&(r.left=t.left),M(t.top)&&(r.top=t.top),M(t.width)&&t.width!==r.width&&(e=!0,r.width=t.width),M(t.height)&&t.height!==r.height&&(n=!0,r.height=t.height),o&&(e?r.height=r.width/o:n&&(r.width=r.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,n=pt(this.image,this.imageData,e,t);if(!this.cropped)return n;var r=this.getData(),o=r.x,i=r.y,s=r.width,u=r.height,l=n.width/Math.floor(e.naturalWidth);1!==l&&(o*=l,i*=l,s*=l,u*=l);var c=s/u,f=ht({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=ht({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),h=ht({aspectRatio:c,width:t.width||(1!==l?n.width:s),height:t.height||(1!==l?n.height:u)}),p=h.width,m=h.height;p=Math.min(f.width,Math.max(d.width,p)),m=Math.min(f.height,Math.max(d.height,m));var g=document.createElement("canvas"),v=g.getContext("2d");g.width=V(p),g.height=V(m),v.fillStyle=t.fillColor||"transparent",v.fillRect(0,0,p,m);var y=t.imageSmoothingEnabled,b=void 0===y||y,w=t.imageSmoothingQuality;v.imageSmoothingEnabled=b,w&&(v.imageSmoothingQuality=w);var x,_,k,C,S,T,E=n.width,O=n.height,A=o,D=i;A<=-s||A>E?(A=0,x=0,k=0,S=0):A<=0?(k=-A,A=0,S=x=Math.min(E,s+A)):A<=E&&(k=0,S=x=Math.min(s,E-A)),x<=0||D<=-u||D>O?(D=0,_=0,C=0,T=0):D<=0?(C=-D,D=0,T=_=Math.min(O,u+D)):D<=O&&(C=0,T=_=Math.min(u,O-D));var N=[A,D,x,_];if(S>0&&T>0){var P=p/s;N.push(k*P,C*P,S*P,T*P)}return v.drawImage.apply(v,[n].concat(a(N.map((function(t){return Math.floor(V(t))}))))),g},setAspectRatio:function(t){var e=this.options;return this.disabled||R(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,n=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var o="crop"===t,i=e.movable&&"move"===t;t=o||i?t:"none",e.dragMode=t,tt(n,b,t),Z(n,d,o),Z(n,y,i),e.cropBoxMovable||(tt(r,b,t),Z(r,d,o),Z(r,y,i))}return this}},Ct=l.Cropper,St=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,t),!n||!D.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.options=U({},N,F(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var r,o,i;return r=t,i=[{key:"noConflict",value:function(){return window.Cropper=Ct,t}},{key:"setDefaults",value:function(t){U(N,F(t)&&t)}}],(o=[{key:"init",value:function(){var t,e=this.element,n=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===n){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===n&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var n=this.element,r=this.options;if(r.rotatable||r.scalable||(r.checkOrientation=!1),r.checkOrientation&&window.ArrayBuffer)if(O.test(t))A.test(t)?this.read((o=t.replace(gt,""),i=atob(o),a=new ArrayBuffer(i.length),q(s=new Uint8Array(a),(function(t,e){s[e]=i.charCodeAt(e)})),a)):this.clone();else{var o,i,a,s,u=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=u,u.onabort=l,u.onerror=l,u.ontimeout=l,u.onprogress=function(){"image/jpeg"!==u.getResponseHeader("content-type")&&u.abort()},u.onload=function(){e.read(u.response)},u.onloadend=function(){e.reloading=!1,e.xhr=null},r.checkCrossOrigin&&lt(t)&&n.crossOrigin&&(t=ct(t)),u.open("GET",t),u.responseType="arraybuffer",u.withCredentials="use-credentials"===n.crossOrigin,u.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,n=this.imageData,r=vt(t),o=0,i=1,a=1;if(r>1){this.url=function(t,e){for(var n=[],r=new Uint8Array(t);r.length>0;)n.push(mt.apply(null,H(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(n.join("")))}(t,"image/jpeg");var s=function(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:r}}(r);o=s.rotate,i=s.scaleX,a=s.scaleY}e.rotatable&&(n.rotate=o),e.scalable&&(n.scaleX=i,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var t=this.element,e=this.url,n=t.crossOrigin,r=e;this.options.checkCrossOrigin&&lt(e)&&(n||(n="anonymous"),r=ct(e)),this.crossOrigin=n,this.crossOriginUrl=r;var o=document.createElement("img");n&&(o.crossOrigin=n),o.src=r||e,o.alt=t.alt||"The image to crop",this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),Y(o,m),t.parentNode.insertBefore(o,t.nextSibling)}},{key:"start",value:function(){var t=this,e=this.image;e.onload=null,e.onerror=null,this.sizing=!0;var n=l.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(l.navigator.userAgent),r=function(e,n){U(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||n){var o=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){r(o.width,o.height),n||i.removeChild(o)},o.src=e.src,n||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(o))}else r(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,n=this.image,r=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var i=o.querySelector(".".concat("cropper","-container")),a=i.querySelector(".".concat("cropper","-canvas")),s=i.querySelector(".".concat("cropper","-drag-box")),u=i.querySelector(".".concat("cropper","-crop-box")),l=u.querySelector(".".concat("cropper","-face"));this.container=r,this.cropper=i,this.canvas=a,this.dragBox=s,this.cropBox=u,this.viewBox=i.querySelector(".".concat("cropper","-view-box")),this.face=l,a.appendChild(n),Y(t,p),r.insertBefore(i,t.nextSibling),this.isImg||K(n,m),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,Y(u,p),e.guides||Y(u.getElementsByClassName("".concat("cropper","-dashed")),p),e.center||Y(u.getElementsByClassName("".concat("cropper","-center")),p),e.background&&Y(i,"".concat("cropper","-bg")),e.highlight||Y(l,g),e.cropBoxMovable&&(Y(l,y),tt(l,b,"all")),e.cropBoxResizable||(Y(u.getElementsByClassName("".concat("cropper","-line")),p),Y(u.getElementsByClassName("".concat("cropper","-point")),p)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),j(e.ready)&&ot(t,"ready",e.ready,{once:!0}),it(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),K(this.element,p))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&n(r.prototype,o),i&&n(r,i),t}();return U(St.prototype,yt,bt,wt,xt,_t,kt),St}()},v31x:function(t,e,n){var r=n("VrN/");r.commands.tabAndIndentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentMore");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}},r.commands.shiftTabAndUnindentMarkdownList=function(t){var e=t.listSelections()[0].head;if(!1!==t.getStateAfter(e.line).list)t.execCommand("indentLess");else if(t.options.indentWithTabs)t.execCommand("insertTab");else{var n=Array(t.options.tabSize+1).join(" ");t.replaceSelection(n)}}},vDqi:function(t,e,n){t.exports=n("zuR4")},vFQT:function(t,e,n){n("fE+E")},"vn/0":function(t,e){!function(t){"use strict";var e,n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.VK"),o=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},i=function(t){return function(e){return typeof e===t}},a=o("string"),s=o("array"),u=(e=null,function(t){return e===t}),l=i("boolean"),c=i("function"),f=function(t){var e=t.getParam("link_assume_external_targets",!1);return l(e)&&e?1:!a(e)||"http"!==e&&"https"!==e?0:e},d=function(t){return t.getParam("default_link_target")},h=function(t){return t.getParam("target_list",!0)},p=function(t){return t.getParam("rel_list",[],"array")},m=function(t){return t.getParam("link_title",!0,"boolean")},g=function(t){return t.getParam("allow_unsafe_link_target",!1,"boolean")},v=function(t){return t.getParam("link_default_protocol","http","string")},y=function(){},b=function(t){return function(){return t}},w=b(!1),x=b(!0),_=function(){return k},k=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:w,isSome:w,isNone:x,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:b(null),getOrUndefined:b(void 0),or:n,orThunk:e,map:_,each:y,bind:_,exists:w,forall:x,filter:_,equals:t,equals_:t,toArray:function(){return[]},toString:b("none()")}}(),C=function(t){var e=b(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:x,isNone:w,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return C(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:k},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(w,(function(e){return n(t,e)}))}};return o},S={some:C,none:_,from:function(t){return null==t?k:C(t)}},T=Array.prototype.indexOf,E=Array.prototype.push,O=function(t,e){return function(t,e){return T.call(t,e)}(t,e)>-1},A=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!s(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);E.apply(e,t[n])}return e},D=function(t,e){return A(function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r}(t,e))},N=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return S.none()},P=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},M=tinymce.util.Tools.resolve("tinymce.util.Tools"),L=function(t){return a(t.value)?t.value:""},R=function(t){return void 0===t&&(t=L),function(e){return S.from(e).map((function(e){return function(t,e){var n=[];return M.each(t,(function(t){var r=a(t.text)?t.text:a(t.title)?t.title:"";if(void 0!==t.menu);else{var o=e(t);n.push({text:r,value:o})}})),n}(e,t)}))}},I={sanitize:function(t){return R(L)(t)},sanitizeWith:R,createUi:function(t,e){return function(n){return{name:t,type:"selectbox",label:e,items:n}}},getValue:L},B=function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},F=Object.keys,j=function(t,e,n,r){return function(t,e){for(var n=F(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(t,(function(t,o){(e(t,o)?n:r)(t,o)})),{}},z=function(t){return!(!/(^|[ ,])rtc([, ]|$)/.test(t.getParam("plugins","","string"))||!n.get("rtc"))},H=function(t){return/^\w+:/i.test(t)},q=function(t){var e=t.getAttribute("data-mce-href");return e||t.getAttribute("href")},U=function(t,e){var n=["noopener"],r=t?t.split(/\s+/):[],o=function(t){return t.filter((function(t){return-1===M.inArray(n,t)}))},i=e?function(t){return(t=o(t)).length>0?t.concat(n):n}(r):o(r);return i.length>0?function(t){return M.trim(t.sort().join(" "))}(i):""},W=function(t,e){return e=e||t.selection.getNode(),K(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")},V=function(t,e){return function(t){return t.replace(/\uFEFF/g,"")}(e?e.innerText||e.textContent:t.getContent({format:"text"}))},$=function(t){return t&&"A"===t.nodeName&&!!q(t)},G=function(t){return M.grep(t,$).length>0},Y=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},K=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},Z=function(t,e){var n=B({},e);if(!(p(t).length>0)&&!1===g(t)){var r=U(n.rel,"_blank"===n.target);n.rel=r||null}return S.from(n.target).isNone()&&!1===h(t)&&(n.target=d(t)),n.href=function(t,e){return"http"!==e&&"https"!==e||H(t)?t:e+"://"+t}(n.href,f(t)),n},X=function(t,e,n){var r=t.selection.getNode(),o=W(t,r),i=Z(t,function(t){return function(t,e,n){return function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}}(t,(function(t){n=e(n,t)})),n}(["title","rel","class","target"],(function(e,n){return t[n].each((function(t){e[n]=t.length>0?t:null})),e}),{href:t.href})}(n));t.undoManager.transact((function(){n.href===e.href&&e.attach(),o?(t.focus(),function(t,e,n,r){n.each((function(t){e.hasOwnProperty("innerText")?e.innerText=t:e.textContent=t})),t.dom.setAttribs(e,r),t.selection.select(e)}(t,o,n.text,i)):function(t,e,n,r){K(e)?nt(t,e,r):n.fold((function(){t.execCommand("mceInsertLink",!1,r)}),(function(e){t.insertContent(t.dom.createHTML("a",r,t.dom.encode(e)))}))}(t,r,n.text,i)}))},J=function(t){var e=t.class,n=t.href,r=t.rel,o=t.target,i=t.text,a=t.title;return function(t,e){var n,r={};return j(t,e,(n=r,function(t,e){n[e]=t}),y),r}({class:e.getOrNull(),href:n,rel:r.getOrNull(),target:o.getOrNull(),text:i.getOrNull(),title:a.getOrNull()},(function(t,e){return!1===u(t)}))},Q=function(t,e,n){z(t)?t.execCommand("createlink",!1,J(n)):X(t,e,n)},tt=function(t){z(t)?t.execCommand("unlink"):function(t){t.undoManager.transact((function(){var e=t.selection.getNode();if(K(e))et(t,e);else{var n=t.dom.getParent(e,"a[href]",t.getBody());n&&t.dom.remove(n,!0)}t.focus()}))}(t)},et=function(t,e){var n=t.dom.select("img",e)[0];if(n){var r=t.dom.getParents(n,"a[href]",e)[0];r&&(r.parentNode.insertBefore(n,r),t.dom.remove(r))}},nt=function(t,e,n){var r=t.dom.select("img",e)[0];if(r){var o=t.dom.create("a",n);r.parentNode.insertBefore(o,r),o.appendChild(r)}},rt=function(t,e,n,r){var o=r[e],i=t.length>0;return void 0!==o?function(t,e){return N(e,(function(e){return S.some(e).filter((function(e){return e.value===t}))}))}(o,n).map((function(e){return{url:{value:e.value,meta:{text:i?t:e.text,attach:y}},text:i?t:e.text}})):S.none()},ot=function(t,e){var n,r,o=(n=t.text,r=n,{get:function(){return r},set:function(t){r=t}}),i=function(t,n){var r,i,a=(r=e,i=n.name,"link"===i?r.catalogs.link:"anchor"===i?r.catalogs.anchor:S.none()).getOr([]);return rt(o.get(),n.name,a,t)};return{onChange:function(t,e){return"url"===e.name?function(t){if(o.get().length<=0){var e=void 0!==t.url.meta.text?t.url.meta.text:t.url.value,n=void 0!==t.url.meta.title?t.url.meta.title:"";return S.some({text:e,title:n})}return S.none()}(t()):O(["anchor","link"],e.name)?i(t(),e):"text"===e.name?(o.set(t().text),S.none()):S.none()}}},it=tinymce.util.Tools.resolve("tinymce.util.Delay"),at=tinymce.util.Tools.resolve("tinymce.util.Promise"),st=function(t){var e=t.href;return e.indexOf("@")>0&&-1===e.indexOf("/")&&-1===e.indexOf("mailto:")?S.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(t){return B(B({},t),{href:"mailto:"+e})}}):S.none()},ut=function(t,e){return function(n){var r=n.href;return 1===t&&!H(r)||0===t&&/^\s*www[\.|\d\.]/i.test(r)?S.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+e+":// prefix?",preprocess:function(t){return B(B({},t),{href:e+"://"+r})}}):S.none()}},lt=function(t,e){return N([st,ut(f(t),v(t))],(function(t){return t(e)})).fold((function(){return at.resolve(e)}),(function(n){return new at((function(r){!function(t,e,n){var r=t.selection.getRng();it.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(r),n(e)}))}))}(t,n.message,(function(t){r(t?n.preprocess(e):e)}))}))}))},ct=function(t){var e=t.dom.select("a:not([href])"),n=D(e,(function(t){var e=t.name||t.id;return e?[{text:e,value:"#"+e}]:[]}));return n.length>0?S.some([{text:"None",value:""}].concat(n)):S.none()},ft=function(t){var e=function(t){return t.getParam("link_class_list",[],"array")}(t);return e.length>0?I.sanitize(e):S.none()},dt=tinymce.util.Tools.resolve("tinymce.util.XHR"),ht=function(t){var e=function(e){return t.convertURL(e.value||e.url,"href")},n=function(t){return t.getParam("link_list")}(t);return new at((function(t){a(n)?dt.send({url:n,success:function(e){return t(function(t){try{return S.some(JSON.parse(t))}catch(t){return S.none()}}(e))},error:function(e){return t(S.none())}}):c(n)?n((function(e){return t(S.some(e))})):t(S.from(n))})).then((function(t){return t.bind(I.sanitizeWith(e)).map((function(t){return t.length>0?[{text:"None",value:""}].concat(t):t}))}))},pt=function(t,e){var n=p(t);if(n.length>0){var r=e.is("_blank");return(!1===g(t)?I.sanitizeWith((function(t){return U(I.getValue(t),r)})):I.sanitize)(n)}return S.none()},mt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],gt=function(t){var e=h(t);return s(e)?I.sanitize(e).orThunk((function(){return S.some(mt)})):!1===e?S.none():S.some(mt)},vt=function(t,e,n){var r=t.getAttrib(e,n);return null!==r&&r.length>0?S.some(r):S.none()},yt=function(t,e){return ht(t).then((function(n){var r=function(t,e){var n=t.dom,r=Y(t.selection.getContent())?S.some(V(t.selection,e)):S.none(),o=e?S.some(n.getAttrib(e,"href")):S.none(),i=e?S.from(n.getAttrib(e,"target")):S.none(),a=vt(n,e,"rel"),s=vt(n,e,"class");return{url:o,text:r,title:vt(n,e,"title"),target:i,rel:a,linkClass:s}}(t,e);return{anchor:r,catalogs:{targets:gt(t),rels:pt(t,r.target),classes:ft(t),anchor:ct(t),link:n},optNode:S.from(e),flags:{titleEnabled:m(t)}}}))},bt=function(t){(function(t){var e=W(t);return yt(t,e)})(t).then((function(e){var n=function(t,e){return function(n){var r=n.getData();if(!r.url.value)return tt(t),void n.close();var o=function(t){return S.from(r[t]).filter((function(n){return!e.anchor[t].is(n)}))},i={href:r.url.value,text:o("text"),target:o("target"),rel:o("rel"),class:o("linkClass"),title:o("title")},a={href:r.url.value,attach:void 0!==r.url.meta&&r.url.meta.attach?r.url.meta.attach:function(){}};lt(t,i).then((function(e){Q(t,a,e)})),n.close()}}(t,e);return function(t,e,n){var r=t.anchor.text.map((function(){return{name:"text",type:"input",label:"Text to display"}})).toArray(),o=t.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],i=function(t,e){return{url:{value:t.anchor.url.getOr(""),meta:{attach:function(){},text:t.anchor.url.fold((function(){return""}),(function(){return t.anchor.text.getOr("")})),original:{value:t.anchor.url.getOr("")}}},text:t.anchor.text.getOr(""),title:t.anchor.title.getOr(""),anchor:t.anchor.url.getOr(""),link:t.anchor.url.getOr(""),rel:t.anchor.rel.getOr(""),target:t.anchor.target.or(e).getOr(""),linkClass:t.anchor.linkClass.getOr("")}}(t,S.from(d(n))),a=ot(i,t),s=t.catalogs;return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:A([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],r,o,P([s.anchor.map(I.createUi("anchor","Anchors")),s.rels.map(I.createUi("rel","Rel")),s.targets.map(I.createUi("target","Open link in...")),s.link.map(I.createUi("link","Link list")),s.classes.map(I.createUi("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:i,onChange:function(t,e){var n=e.name;a.onChange(t.getData,{name:n}).each((function(e){t.setData(e)}))},onSubmit:e}}(e,n,t)})).then((function(e){t.windowManager.open(e)}))},wt=function(e){var n=t.document.createElement("a");n.target="_blank",n.href=e,n.rel="noreferrer noopener";var r=t.document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(e,n){t.document.body.appendChild(e),e.dispatchEvent(n),t.document.body.removeChild(e)}(n,r)},xt=function(t,e){return t.dom.getParent(e,"a[href]")},_t=function(t){return xt(t,t.selection.getStart())},kt=function(t,e){if(e){var n=q(e);if(/^#/.test(n)){var r=t.$(n);r.length&&t.selection.scrollIntoView(r[0],!0)}else wt(e.href)}},Ct=function(t){return function(){bt(t)}},St=function(t){return function(){kt(t,_t(t))}},Tt=function(t){return function(e){var n=function(n){return e.setActive(!t.mode.isReadOnly()&&!!W(t,n.element))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}},Et=function(t){return function(e){var n=t.dom.getParents(t.selection.getStart());e.setDisabled(!G(n));var r=function(t){return e.setDisabled(!G(t.parents))};return t.on("NodeChange",r),function(){return t.off("NodeChange",r)}}};n.add("link",(function(t){!function(t){t.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ct(t),onSetup:Tt(t)}),t.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:St(t),onSetup:Et(t)}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return tt(t)},onSetup:Et(t)})}(t),function(t){t.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:St(t),onSetup:Et(t)}),t.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ct(t)}),t.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return tt(t)},onSetup:Et(t)})}(t),function(t){t.ui.registry.addContextMenu("link",{update:function(e){return G(t.dom.getParents(e,"a"))?"link unlink openlink":"link"}})}(t),function(t){var e=function(e){var n=t.selection.getNode();return e.setDisabled(!W(t,n)),function(){}};t.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Tt(t)},label:"Link",predicate:function(e){return!!W(t,e)&&function(t){return t.getParam("link_context_toolbar",!1,"boolean")}(t)},initValue:function(){var e=W(t);return e?q(e):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(e){var n=t.selection.getNode();return e.setActive(!!W(t,n)),Tt(t)(e)},onAction:function(e){var n=W(t),r=e.getValue();if(n)t.undoManager.transact((function(){t.dom.setAttrib(n,"href",r),function(t){t.selection.collapse(!1)}(t),e.hide()}));else{var o={href:r,attach:function(){}},i=Y(t.selection.getContent())?S.some(V(t.selection,n)).filter((function(t){return t.length>0})).or(S.from(r)):S.none();Q(t,o,{href:r,text:i,title:S.none(),rel:S.none(),target:S.none(),class:S.none()}),e.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:e,onAction:function(e){tt(t),e.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:e,onAction:function(e){St(t)(),e.hide()}}]})}(t),function(t){t.on("click",(function(e){var n=xt(t,e.target);n&&r.metaKeyPressed(e)&&(e.preventDefault(),kt(t,n))})),t.on("keydown",(function(e){var n=_t(t);n&&13===e.keyCode&&function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey}(e)&&(e.preventDefault(),kt(t,n))}))}(t),function(t){t.addCommand("mceLink",(function(){!function(t){return t.getParam("link_quicklink",!1,"boolean")}(t)?Ct(t)():t.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}))}(t),function(t){t.addShortcut("Meta+K","",(function(){t.execCommand("mceLink")}))}(t)}))}(window)},w0Vi:function(t,e,n){"use strict";var r=n("xTJ+"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},w2Ga:function(t,e){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},n=function(t,n){var r=function(t){return t.getParam("nonbreaking_wrap",!0,"boolean")}(t)||t.plugins.visualchars?'<span class="'+(function(t){return!!t.plugins.visualchars&&t.plugins.visualchars.isEnabled()}(t)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+e("&nbsp;",n)+"</span>":e("&nbsp;",n);t.undoManager.transact((function(){return t.insertContent(r)}))},r=tinymce.util.Tools.resolve("tinymce.util.VK");t.add("nonbreaking",(function(t){!function(t){t.addCommand("mceNonBreaking",(function(){n(t,1)}))}(t),function(t){t.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return t.execCommand("mceNonBreaking")}}),t.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return t.execCommand("mceNonBreaking")}})}(t),function(t){var e=function(t){var e=t.getParam("nonbreaking_force_tab",0);return"boolean"==typeof e?!0===e?3:0:e}(t);e>0&&t.on("keydown",(function(o){if(o.keyCode===r.TAB&&!o.isDefaultPrevented()){if(o.shiftKey)return;o.preventDefault(),o.stopImmediatePropagation(),n(t,e)}}))}(t)}))}()},"w9f+":function(t,e,n){n("FvG+")},xAGQ:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},"xTJ+":function(t,e,n){"use strict";var r=n("HSsa"),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},"y/pk":function(t,e,n){!function(t){"use strict";var e=function(){return(e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},r={weekdays:{shorthand:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],longhand:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},months:{shorthand:["1","2","3","4","5","6","7","8","9","10","11","12"],longhand:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},rangeSeparator:" - "};n.l10ns.ar=r,n.l10ns;var o="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},i={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken"};o.l10ns.at=i,o.l10ns;var a="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},s={weekdays:{shorthand:["Baz","BzE","ÇAx","Çər","CAx","Cüm","Şən"],longhand:["Bazar","Bazar ertəsi","Çərşənbə axşamı","Çərşənbə","Cümə axşamı","Cümə","Şənbə"]},months:{shorthand:["Yan","Fev","Mar","Apr","May","İyn","İyl","Avq","Sen","Okt","Noy","Dek"],longhand:["Yanvar","Fevral","Mart","Aprel","May","İyun","İyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artırmaq üçün sürüşdürün",toggleTitle:"Aç / Bağla",amPM:["GƏ","GS"],time_24hr:!0};a.l10ns.az=s,a.l10ns;var u="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},l={weekdays:{shorthand:["Нд","Пн","Аў","Ср","Чц","Пт","Сб"],longhand:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"]},months:{shorthand:["Сту","Лют","Сак","Кра","Тра","Чэр","Ліп","Жні","Вер","Кас","Ліс","Сне"],longhand:["Студзень","Люты","Сакавік","Красавік","Травень","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Тыд.",scrollTitle:"Пракруціце для павелічэння",toggleTitle:"Націсніце для пераключэння",amPM:["ДП","ПП"],yearAriaLabel:"Год",time_24hr:!0};u.l10ns.be=l,u.l10ns;var c="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},f={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Juni","Juli","Avgust","Septembar","Oktobar","Novembar","Decembar"]},time_24hr:!0};c.l10ns.bs=f,c.l10ns;var d="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},h={weekdays:{shorthand:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Неделя","Понеделник","Вторник","Сряда","Четвъртък","Петък","Събота"]},months:{shorthand:["Яну","Фев","Март","Апр","Май","Юни","Юли","Авг","Сеп","Окт","Ное","Дек"],longhand:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"]},time_24hr:!0,firstDayOfWeek:1};d.l10ns.bg=h,d.l10ns;var p="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},m={weekdays:{shorthand:["রবি","সোম","মঙ্গল","বুধ","বৃহস্পতি","শুক্র","শনি"],longhand:["রবিবার","সোমবার","মঙ্গলবার","বুধবার","বৃহস্পতিবার","শুক্রবার","শনিবার"]},months:{shorthand:["জানু","ফেব্রু","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগ","সেপ্টে","অক্টো","নভে","ডিসে"],longhand:["জানুয়ারী","ফেব্রুয়ারী","মার্চ","এপ্রিল","মে","জুন","জুলাই","আগস্ট","সেপ্টেম্বর","অক্টোবর","নভেম্বর","ডিসেম্বর"]}};p.l10ns.bn=m,p.l10ns;var g="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},v={weekdays:{shorthand:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],longhand:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},months:{shorthand:["Gen","Febr","Març","Abr","Maig","Juny","Jul","Ag","Set","Oct","Nov","Des"],longhand:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"]},ordinal:function(t){var e=t%100;if(e>3&&e<21)return"è";switch(e%10){case 1:return"r";case 2:return"n";case 3:return"r";case 4:return"t";default:return"è"}},firstDayOfWeek:1,time_24hr:!0};g.l10ns.cat=v,g.l10ns;var y="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},b={weekdays:{shorthand:["Ne","Po","Út","St","Čt","Pá","So"],longhand:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"]},months:{shorthand:["Led","Ún","Bře","Dub","Kvě","Čer","Čvc","Srp","Zář","Říj","Lis","Pro"],longhand:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" do ",weekAbbreviation:"Týd.",scrollTitle:"Rolujte pro změnu",toggleTitle:"Přepnout dopoledne/odpoledne",amPM:["dop.","odp."],yearAriaLabel:"Rok",time_24hr:!0};y.l10ns.cs=b,y.l10ns;var w="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},x={weekdays:{shorthand:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],longhand:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"]},months:{shorthand:["Ion","Chwef","Maw","Ebr","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longhand:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},firstDayOfWeek:1,ordinal:function(t){return 1===t?"af":2===t?"ail":3===t||4===t?"ydd":5===t||6===t?"ed":t>=7&&t<=10||12==t||15==t||18==t||20==t?"fed":11==t||13==t||14==t||16==t||17==t||19==t?"eg":t>=21&&t<=39?"ain":""},time_24hr:!0};w.l10ns.cy=x,w.l10ns;var _="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},k={weekdays:{shorthand:["søn","man","tir","ons","tors","fre","lør"],longhand:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"]},months:{shorthand:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longhand:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"uge",time_24hr:!0};_.l10ns.da=k,_.l10ns;var C="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},S={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum Ändern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};C.l10ns.de=S,C.l10ns;var T={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},E="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},O={firstDayOfWeek:1,rangeSeparator:" ĝis ",weekAbbreviation:"Sem",scrollTitle:"Rulumu por pligrandigi la valoron",toggleTitle:"Klaku por ŝalti",weekdays:{shorthand:["Dim","Lun","Mar","Mer","Ĵaŭ","Ven","Sab"],longhand:["dimanĉo","lundo","mardo","merkredo","ĵaŭdo","vendredo","sabato"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aŭg","Sep","Okt","Nov","Dec"],longhand:["januaro","februaro","marto","aprilo","majo","junio","julio","aŭgusto","septembro","oktobro","novembro","decembro"]},ordinal:function(){return"-a"},time_24hr:!0};E.l10ns.eo=O,E.l10ns;var A="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},D={weekdays:{shorthand:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],longhand:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return"º"},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};A.l10ns.es=D,A.l10ns;var N="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},P={weekdays:{shorthand:["P","E","T","K","N","R","L"],longhand:["Pühapäev","Esmaspäev","Teisipäev","Kolmapäev","Neljapäev","Reede","Laupäev"]},months:{shorthand:["Jaan","Veebr","Märts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],longhand:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"]},firstDayOfWeek:1,ordinal:function(){return"."},weekAbbreviation:"Näd",rangeSeparator:" kuni ",scrollTitle:"Keri, et suurendada",toggleTitle:"Klõpsa, et vahetada",time_24hr:!0};N.l10ns.et=P,N.l10ns;var M="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},L={weekdays:{shorthand:["یک","دو","سه","چهار","پنج","جمعه","شنبه"],longhand:["یک‌شنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنچ‌شنبه","جمعه","شنبه"]},months:{shorthand:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],longhand:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"]},firstDayOfWeek:6,ordinal:function(){return""}};M.l10ns.fa=L,M.l10ns;var R="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},I={firstDayOfWeek:1,weekdays:{shorthand:["Su","Ma","Ti","Ke","To","Pe","La"],longhand:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]},months:{shorthand:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],longhand:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"]},ordinal:function(){return"."},time_24hr:!0};R.l10ns.fi=I,R.l10ns;var B="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},F={weekdays:{shorthand:["Sun","Mán","Týs","Mik","Hós","Frí","Ley"],longhand:["Sunnudagur","Mánadagur","Týsdagur","Mikudagur","Hósdagur","Fríggjadagur","Leygardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","Apríl","Mai","Juni","Juli","August","Septembur","Oktobur","Novembur","Desembur"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",scrollTitle:"Rulla fyri at broyta",toggleTitle:"Trýst fyri at skifta",yearAriaLabel:"Ár",time_24hr:!0};B.l10ns.fo=F,B.l10ns;var j="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},z={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","févr","mars","avr","mai","juin","juil","août","sept","oct","nov","déc"],longhand:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},ordinal:function(t){return t>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Défiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};j.l10ns.fr=z,j.l10ns;var H="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},q={weekdays:{shorthand:["Κυ","Δε","Τρ","Τε","Πέ","Πα","Σά"],longhand:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Σάββατο"]},months:{shorthand:["Ιαν","Φεβ","Μάρ","Απρ","Μάι","Ιού","Ιού","Αύγ","Σεπ","Οκτ","Νοέ","Δεκ"],longhand:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"]},firstDayOfWeek:1,ordinal:function(){return""},weekAbbreviation:"Εβδ",rangeSeparator:" έως ",scrollTitle:"Μετακυλήστε για προσαύξηση",toggleTitle:"Κάντε κλικ για αλλαγή",amPM:["ΠΜ","ΜΜ"]};H.l10ns.gr=q,H.l10ns;var U="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},W={weekdays:{shorthand:["א","ב","ג","ד","ה","ו","ש"],longhand:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"]},months:{shorthand:["ינו׳","פבר׳","מרץ","אפר׳","מאי","יוני","יולי","אוג׳","ספט׳","אוק׳","נוב׳","דצמ׳"],longhand:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"]},rangeSeparator:" אל ",time_24hr:!0};U.l10ns.he=W,U.l10ns;var V="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},$={weekdays:{shorthand:["रवि","सोम","मंगल","बुध","गुरु","शुक्र","शनि"],longhand:["रविवार","सोमवार","मंगलवार","बुधवार","गुरुवार","शुक्रवार","शनिवार"]},months:{shorthand:["जन","फर","मार्च","अप्रेल","मई","जून","जूलाई","अग","सित","अक्ट","नव","दि"],longhand:["जनवरी ","फरवरी","मार्च","अप्रेल","मई","जून","जूलाई","अगस्त ","सितम्बर","अक्टूबर","नवम्बर","दिसम्बर"]}};V.l10ns.hi=$,V.l10ns;var G="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Y={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"]},months:{shorthand:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],longhand:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"]},time_24hr:!0};G.l10ns.hr=Y,G.l10ns;var K="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Z={firstDayOfWeek:1,weekdays:{shorthand:["V","H","K","Sz","Cs","P","Szo"],longhand:["Vasárnap","Hétfő","Kedd","Szerda","Csütörtök","Péntek","Szombat"]},months:{shorthand:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Szep","Okt","Nov","Dec"],longhand:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"]},ordinal:function(){return"."},weekAbbreviation:"Hét",scrollTitle:"Görgessen",toggleTitle:"Kattintson a váltáshoz",rangeSeparator:" - ",time_24hr:!0};K.l10ns.hu=Z,K.l10ns;var X="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},J={weekdays:{shorthand:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],longhand:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longhand:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0,rangeSeparator:" - "};X.l10ns.id=J,X.l10ns;var Q="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},tt={weekdays:{shorthand:["Sun","Mán","Þri","Mið","Fim","Fös","Lau"],longhand:["Sunnudagur","Mánudagur","Þriðjudagur","Miðvikudagur","Fimmtudagur","Föstudagur","Laugardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maí","Jún","Júl","Ágú","Sep","Okt","Nóv","Des"],longhand:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",yearAriaLabel:"Ár",time_24hr:!0};Q.l10ns.is=tt,Q.l10ns;var et="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},nt={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return"°"},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};et.l10ns.it=nt,et.l10ns;var rt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},ot={weekdays:{shorthand:["日","月","火","水","木","金","土"],longhand:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},months:{shorthand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],longhand:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},time_24hr:!0,rangeSeparator:" から ",firstDayOfWeek:1};rt.l10ns.ja=ot,rt.l10ns;var it="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},at={weekdays:{shorthand:["კვ","ორ","სა","ოთ","ხუ","პა","შა"],longhand:["კვირა","ორშაბათი","სამშაბათი","ოთხშაბათი","ხუთშაბათი","პარასკევი","შაბათი"]},months:{shorthand:["იან","თებ","მარ","აპრ","მაი","ივნ","ივლ","აგვ","სექ","ოქტ","ნოე","დეკ"],longhand:["იანვარი","თებერვალი","მარტი","აპრილი","მაისი","ივნისი","ივლისი","აგვისტო","სექტემბერი","ოქტომბერი","ნოემბერი","დეკემბერი"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"კვ.",scrollTitle:"დასქროლეთ გასადიდებლად",toggleTitle:"დააკლიკეთ გადართვისთვის",amPM:["AM","PM"],yearAriaLabel:"წელი",time_24hr:!0};it.l10ns.ka=at,it.l10ns;var st="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},ut={weekdays:{shorthand:["일","월","화","수","목","금","토"],longhand:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},months:{shorthand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],longhand:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},ordinal:function(){return"일"},rangeSeparator:" ~ "};st.l10ns.ko=ut,st.l10ns;var lt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},ct={weekdays:{shorthand:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស.","សុក្រ","សៅរ៍"],longhand:["អាទិត្យ","ចន្ទ","អង្គារ","ពុធ","ព្រហស្បតិ៍","សុក្រ","សៅរ៍"]},months:{shorthand:["មករា","កុម្ភះ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"],longhand:["មករា","កុម្ភះ","មីនា","មេសា","ឧសភា","មិថុនា","កក្កដា","សីហា","កញ្ញា","តុលា","វិច្ឆិកា","ធ្នូ"]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:" ដល់ ",weekAbbreviation:"សប្តាហ៍",scrollTitle:"រំកិលដើម្បីបង្កើន",toggleTitle:"ចុចដើម្បីផ្លាស់ប្ដូរ",yearAriaLabel:"ឆ្នាំ",time_24hr:!0};lt.l10ns.km=ct,lt.l10ns;var ft="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},dt={weekdays:{shorthand:["Жс","Дс","Сc","Ср","Бс","Жм","Сб"],longhand:["Жексенбi","Дүйсенбi","Сейсенбi","Сәрсенбi","Бейсенбi","Жұма","Сенбi"]},months:{shorthand:["Қаң","Ақп","Нау","Сәу","Мам","Мау","Шiл","Там","Қыр","Қаз","Қар","Жел"],longhand:["Қаңтар","Ақпан","Наурыз","Сәуiр","Мамыр","Маусым","Шiлде","Тамыз","Қыркүйек","Қазан","Қараша","Желтоқсан"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Апта",scrollTitle:"Үлкейту үшін айналдырыңыз",toggleTitle:"Ауыстыру үшін басыңыз",amPM:["ТД","ТК"],yearAriaLabel:"Жыл"};ft.l10ns.kz=dt,ft.l10ns;var ht="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},pt={weekdays:{shorthand:["S","Pr","A","T","K","Pn","Š"],longhand:["Sekmadienis","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienis"]},months:{shorthand:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longhand:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis"]},firstDayOfWeek:1,ordinal:function(){return"-a"},weekAbbreviation:"Sav",scrollTitle:"Keisti laiką pelės rateliu",toggleTitle:"Perjungti laiko formatą",time_24hr:!0};ht.l10ns.lt=pt,ht.l10ns;var mt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},gt={firstDayOfWeek:1,weekdays:{shorthand:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],longhand:["Svētdiena","Pirmdiena","Otrdiena","Trešdiena","Ceturtdiena","Piektdiena","Sestdiena"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jūn","Jūl","Aug","Sep","Okt","Nov","Dec"],longhand:["Janvāris","Februāris","Marts","Aprīlis","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"]},rangeSeparator:" līdz ",time_24hr:!0};mt.l10ns.lv=gt,mt.l10ns;var vt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},yt={weekdays:{shorthand:["Не","По","Вт","Ср","Че","Пе","Са"],longhand:["Недела","Понеделник","Вторник","Среда","Четврток","Петок","Сабота"]},months:{shorthand:["Јан","Фев","Мар","Апр","Мај","Јун","Јул","Авг","Сеп","Окт","Ное","Дек"],longhand:["Јануари","Февруари","Март","Април","Мај","Јуни","Јули","Август","Септември","Октомври","Ноември","Декември"]},firstDayOfWeek:1,weekAbbreviation:"Нед.",rangeSeparator:" до ",time_24hr:!0};vt.l10ns.mk=yt,vt.l10ns;var bt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},wt={firstDayOfWeek:1,weekdays:{shorthand:["Да","Мя","Лх","Пү","Ба","Бя","Ня"],longhand:["Даваа","Мягмар","Лхагва","Пүрэв","Баасан","Бямба","Ням"]},months:{shorthand:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],longhand:["Нэгдүгээр сар","Хоёрдугаар сар","Гуравдугаар сар","Дөрөвдүгээр сар","Тавдугаар сар","Зургаадугаар сар","Долдугаар сар","Наймдугаар сар","Есдүгээр сар","Аравдугаар сар","Арваннэгдүгээр сар","Арванхоёрдугаар сар"]},rangeSeparator:"-с ",time_24hr:!0};bt.l10ns.mn=wt,bt.l10ns;var xt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}};xt.l10ns;var _t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},kt={weekdays:{shorthand:["နွေ","လာ","ဂါ","ဟူး","ကြာ","သော","နေ"],longhand:["တနင်္ဂနွေ","တနင်္လာ","အင်္ဂါ","ဗုဒ္ဓဟူး","ကြာသပတေး","သောကြာ","စနေ"]},months:{shorthand:["ဇန်","ဖေ","မတ်","ပြီ","မေ","ဇွန်","လိုင်","သြ","စက်","အောက်","နို","ဒီ"],longhand:["ဇန်နဝါရီ","ဖေဖော်ဝါရီ","မတ်","ဧပြီ","မေ","ဇွန်","ဇူလိုင်","သြဂုတ်","စက်တင်ဘာ","အောက်တိုဘာ","နိုဝင်ဘာ","ဒီဇင်ဘာ"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0};_t.l10ns.my=kt,_t.l10ns;var Ct="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},St={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" tot ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(t){return 1===t||8===t||t>=20?"ste":"de"}};Ct.l10ns.nl=St,Ct.l10ns;var Tt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Et={weekdays:{shorthand:["Søn","Man","Tir","Ons","Tor","Fre","Lør"],longhand:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"Uke",scrollTitle:"Scroll for å endre",toggleTitle:"Klikk for å veksle",time_24hr:!0,ordinal:function(){return"."}};Tt.l10ns.no=Et,Tt.l10ns;var Ot="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},At={weekdays:{shorthand:["ਐਤ","ਸੋਮ","ਮੰਗਲ","ਬੁੱਧ","ਵੀਰ","ਸ਼ੁੱਕਰ","ਸ਼ਨਿੱਚਰ"],longhand:["ਐਤਵਾਰ","ਸੋਮਵਾਰ","ਮੰਗਲਵਾਰ","ਬੁੱਧਵਾਰ","ਵੀਰਵਾਰ","ਸ਼ੁੱਕਰਵਾਰ","ਸ਼ਨਿੱਚਰਵਾਰ"]},months:{shorthand:["ਜਨ","ਫ਼ਰ","ਮਾਰ","ਅਪ੍ਰੈ","ਮਈ","ਜੂਨ","ਜੁਲਾ","ਅਗ","ਸਤੰ","ਅਕ","ਨਵੰ","ਦਸੰ"],longhand:["ਜਨਵਰੀ","ਫ਼ਰਵਰੀ","ਮਾਰਚ","ਅਪ੍ਰੈਲ","ਮਈ","ਜੂਨ","ਜੁਲਾਈ","ਅਗਸਤ","ਸਤੰਬਰ","ਅਕਤੂਬਰ","ਨਵੰਬਰ","ਦਸੰਬਰ"]},time_24hr:!0};Ot.l10ns.pa=At,Ot.l10ns;var Dt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Nt={weekdays:{shorthand:["Nd","Pn","Wt","Śr","Cz","Pt","So"],longhand:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"]},months:{shorthand:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],longhand:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"]},rangeSeparator:" do ",weekAbbreviation:"tydz.",scrollTitle:"Przewiń, aby zwiększyć",toggleTitle:"Kliknij, aby przełączyć",firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return"."}};Dt.l10ns.pl=Nt,Dt.l10ns;var Pt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Mt={weekdays:{shorthand:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],longhand:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"]},months:{shorthand:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longhand:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},rangeSeparator:" até ",time_24hr:!0};Pt.l10ns.pt=Mt,Pt.l10ns;var Lt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Rt={weekdays:{shorthand:["Dum","Lun","Mar","Mie","Joi","Vin","Sâm"],longhand:["Duminică","Luni","Marți","Miercuri","Joi","Vineri","Sâmbătă"]},months:{shorthand:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Noi","Dec"],longhand:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"]},firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return""}};Lt.l10ns.ro=Rt,Lt.l10ns;var It="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Bt={weekdays:{shorthand:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"]},months:{shorthand:["Янв","Фев","Март","Апр","Май","Июнь","Июль","Авг","Сен","Окт","Ноя","Дек"],longhand:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" — ",weekAbbreviation:"Нед.",scrollTitle:"Прокрутите для увеличения",toggleTitle:"Нажмите для переключения",amPM:["ДП","ПП"],yearAriaLabel:"Год",time_24hr:!0};It.l10ns.ru=Bt,It.l10ns;var Ft="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},jt={weekdays:{shorthand:["ඉ","ස","අ","බ","බ්‍ර","සි","සෙ"],longhand:["ඉරිදා","සඳුදා","අඟහරුවාදා","බදාදා","බ්‍රහස්පතින්දා","සිකුරාදා","සෙනසුරාදා"]},months:{shorthand:["ජන","පෙබ","මාර්","අප්‍රේ","මැයි","ජුනි","ජූලි","අගෝ","සැප්","ඔක්","නොවැ","දෙසැ"],longhand:["ජනවාරි","පෙබරවාරි","මාර්තු","අප්‍රේල්","මැයි","ජුනි","ජූලි","අගෝස්තු","සැප්තැම්බර්","ඔක්තෝබර්","නොවැම්බර්","දෙසැම්බර්"]},time_24hr:!0};Ft.l10ns.si=jt,Ft.l10ns;var zt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Ht={weekdays:{shorthand:["Ned","Pon","Ut","Str","Štv","Pia","Sob"],longhand:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],longhand:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};zt.l10ns.sk=Ht,zt.l10ns;var qt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Ut={weekdays:{shorthand:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"],longhand:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};qt.l10ns.sl=Ut,qt.l10ns;var Wt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Vt={weekdays:{shorthand:["Di","Hë","Ma","Më","En","Pr","Sh"],longhand:["E Diel","E Hënë","E Martë","E Mërkurë","E Enjte","E Premte","E Shtunë"]},months:{shorthand:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nën","Dhj"],longhand:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nëntor","Dhjetor"]},time_24hr:!0};Wt.l10ns.sq=Vt,Wt.l10ns;var $t="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Gt={weekdays:{shorthand:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],longhand:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"]},firstDayOfWeek:1,weekAbbreviation:"Ned.",rangeSeparator:" do ",time_24hr:!0};$t.l10ns.sr=Gt,$t.l10ns;var Yt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Kt={firstDayOfWeek:1,weekAbbreviation:"v",weekdays:{shorthand:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],longhand:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],longhand:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"]},time_24hr:!0,ordinal:function(){return"."}};Yt.l10ns.sv=Kt,Yt.l10ns;var Zt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Xt={weekdays:{shorthand:["อา","จ","อ","พ","พฤ","ศ","ส"],longhand:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"]},months:{shorthand:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],longhand:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"]},firstDayOfWeek:1,rangeSeparator:" ถึง ",scrollTitle:"เลื่อนเพื่อเพิ่มหรือลด",toggleTitle:"คลิกเพื่อเปลี่ยน",time_24hr:!0,ordinal:function(){return""}};Zt.l10ns.th=Xt,Zt.l10ns;var Jt="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},Qt={weekdays:{shorthand:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],longhand:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},months:{shorthand:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],longhand:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artırmak için kaydırın",toggleTitle:"Aç/Kapa",amPM:["ÖÖ","ÖS"],time_24hr:!0};Jt.l10ns.tr=Qt,Jt.l10ns;var te="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},ee={firstDayOfWeek:1,weekdays:{shorthand:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],longhand:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"]},months:{shorthand:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],longhand:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"]},time_24hr:!0};te.l10ns.uk=ee,te.l10ns;var ne="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},re={weekdays:{shorthand:["CN","T2","T3","T4","T5","T6","T7"],longhand:["Chủ nhật","Thứ hai","Thứ ba","Thứ tư","Thứ năm","Thứ sáu","Thứ bảy"]},months:{shorthand:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],longhand:["Tháng một","Tháng hai","Tháng ba","Tháng tư","Tháng năm","Tháng sáu","Tháng bảy","Tháng tám","Tháng chín","Tháng mười","Tháng 11","Tháng 12"]},firstDayOfWeek:1,rangeSeparator:" đến "};ne.l10ns.vn=re,ne.l10ns;var oe="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},ie={weekdays:{shorthand:["周日","周一","周二","周三","周四","周五","周六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"周",scrollTitle:"滚动切换",toggleTitle:"点击切换 12/24 小时时制"};oe.l10ns.zh=ie,oe.l10ns;var ae="undefined"!=typeof window&&void 0!==window.flatpickr?window.flatpickr:{l10ns:{}},se={weekdays:{shorthand:["週日","週一","週二","週三","週四","週五","週六"],longhand:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},months:{shorthand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],longhand:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},rangeSeparator:" 至 ",weekAbbreviation:"週",scrollTitle:"滾動切換",toggleTitle:"點擊切換 12/24 小時時制"};ae.l10ns.zh_tw=se,ae.l10ns;var ue={ar:r,at:i,az:s,be:l,bg:h,bn:m,bs:f,cat:v,cs:b,cy:x,da:k,de:S,default:e({},T),en:T,eo:O,es:D,et:P,fa:L,fi:I,fo:F,fr:z,gr:q,he:W,hi:$,hr:Y,hu:Z,id:J,is:tt,it:nt,ja:ot,ka:at,ko:ut,km:ct,kz:dt,lt:pt,lv:gt,mk:yt,mn:wt,ms:{weekdays:{shorthand:["Min","Isn","Sel","Rab","Kha","Jum","Sab"],longhand:["Minggu","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"]},months:{shorthand:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],longhand:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},firstDayOfWeek:1,ordinal:function(){return""}},my:kt,nl:St,no:Et,pa:At,pl:Nt,pt:Mt,ro:Rt,ru:Bt,si:jt,sk:Ht,sl:Ut,sq:Vt,sr:Gt,sv:Kt,th:Xt,tr:Qt,uk:ee,vn:re,zh:ie,zh_tw:se};t.default=ue,Object.defineProperty(t,"__esModule",{value:!0})}(e)},yK9s:function(t,e,n){"use strict";var r=n("xTJ+");t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},zdkC:function(t,e){!function(t){"use strict";var e,n,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(){},i=function(t){return function(){return t}},a=i(!1),s=i(!0),u=function(){return l},l=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t};return{fold:function(t,e){return t()},is:a,isSome:a,isNone:s,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:n,orThunk:e,map:u,each:o,bind:u,exists:a,forall:s,filter:u,equals:t,equals_:t,toArray:function(){return[]},toString:i("none()")}}(),c=function(t){var e=i(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:s,isNone:a,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return c(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:l},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(a,(function(e){return n(t,e)}))}};return o},f={some:c,none:u,from:function(t){return null==t?l:c(t)}},d=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}},h=function(t){return function(e){return typeof e===t}},p=d("string"),m=d("object"),g=d("array"),v=(e=null,function(t){return e===t}),y=h("boolean"),b=h("number"),w=Array.prototype.push,x=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!g(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);w.apply(e,t[n])}return e},_=Object.prototype.hasOwnProperty,k=(n=function(t,e){return m(t)&&m(e)?k(t,e):e},function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)_.call(i,a)&&(r[a]=n(r[a],i[a]))}return r}),C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},S=(void 0!==t.window?t.window:Function("return this;")(),function(e,n,r){!function(e,n,r){if(!(p(r)||y(r)||b(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)}),T=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:i(t)}},E={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return T(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return T(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return T(r)},fromDom:T,fromPoint:function(t,e,n){var r=t.dom();return f.from(r.elementFromPoint(e,n)).map(T)}},O=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.util.Promise"),D=tinymce.util.Tools.resolve("tinymce.util.XHR"),N=function(t){return t.getParam("image_dimensions",!0,"boolean")},P=function(t){return t.getParam("images_upload_url","","string")},M=function(t){return t.getParam("images_upload_handler",void 0,"function")},L=function(t,e){return Math.max(parseInt(t,10),parseInt(e,10))},R=function(t){return t&&(t=t.replace(/px$/,"")),t},I=function(t){return t.length>0&&/^[0-9]+$/.test(t)&&(t+="px"),t},B=function(t){if(t.margin){var e=String(t.margin).split(" ");switch(e.length){case 1:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[0],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[0];break;case 2:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[0],t["margin-left"]=t["margin-left"]||e[1];break;case 3:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[1];break;case 4:t["margin-top"]=t["margin-top"]||e[0],t["margin-right"]=t["margin-right"]||e[1],t["margin-bottom"]=t["margin-bottom"]||e[2],t["margin-left"]=t["margin-left"]||e[3]}delete t.margin}return t},F=function(t){return"IMG"===t.nodeName&&(t.hasAttribute("data-mce-object")||t.hasAttribute("data-mce-placeholder"))},j=O.DOM,z=function(t){return t.style.marginLeft&&t.style.marginRight&&t.style.marginLeft===t.style.marginRight?R(t.style.marginLeft):""},H=function(t){return t.style.marginTop&&t.style.marginBottom&&t.style.marginTop===t.style.marginBottom?R(t.style.marginTop):""},q=function(t){return t.style.borderWidth?R(t.style.borderWidth):""},U=function(t,e){return t.hasAttribute(e)?t.getAttribute(e):""},W=function(t,e){return t.style[e]?t.style[e]:""},V=function(t){return null!==t.parentNode&&"FIGURE"===t.parentNode.nodeName},$=function(t,e,n){""===n?t.removeAttribute(e):t.setAttribute(e,n)},G=function(t){V(t)?function(t){var e=t.parentNode;j.insertAfter(t,e),j.remove(e)}(t):function(t){var e=j.create("figure",{class:"image"});j.insertAfter(e,t),e.appendChild(t),e.appendChild(j.create("figcaption",{contentEditable:"true"},"Caption")),e.contentEditable="false"}(t)},Y=function(t,e){var n=t.getAttribute("style"),r=e(null!==n?n:"");r.length>0?(t.setAttribute("style",r),t.setAttribute("data-mce-style",r)):t.removeAttribute("style")},K=function(t,e){return function(t,n,r){t.style[n]?(t.style[n]=I(r),Y(t,e)):$(t,n,r)}},Z=function(t,e){return t.style[e]?R(t.style[e]):U(t,e)},X=function(t,e){var n=I(e);t.style.marginLeft=n,t.style.marginRight=n},J=function(t,e){var n=I(e);t.style.marginTop=n,t.style.marginBottom=n},Q=function(t,e){var n=I(e);t.style.borderWidth=n},tt=function(t,e){t.style.borderStyle=e},et=function(t){return"FIGURE"===t.nodeName},nt=function(t){return 0===j.getAttrib(t,"alt").length&&"presentation"===j.getAttrib(t,"role")},rt=function(t){return nt(t)?"":U(t,"alt")},ot=function(e,n){var r=t.document.createElement("img");return $(r,"style",n.style),(z(r)||""!==n.hspace)&&X(r,n.hspace),(H(r)||""!==n.vspace)&&J(r,n.vspace),(q(r)||""!==n.border)&&Q(r,n.border),(function(t){return W(t,"borderStyle")}(r)||""!==n.borderStyle)&&tt(r,n.borderStyle),e(r.getAttribute("style"))},it=function(t,e){return{src:U(e,"src"),alt:rt(e),title:U(e,"title"),width:Z(e,"width"),height:Z(e,"height"),class:U(e,"class"),style:t(U(e,"style")),caption:V(e),hspace:z(e),vspace:H(e),border:q(e),borderStyle:W(e,"borderStyle"),isDecorative:nt(e)}},at=function(t,e,n,r,o){n[r]!==e[r]&&o(t,r,n[r])},st=function(t,e,n){if(n){j.setAttrib(t,"role","presentation");var r=E.fromDom(t);S(r,"alt","")}else{if(v(e)){r=E.fromDom(t);o="alt",r.dom().removeAttribute(o)}else{r=E.fromDom(t);S(r,"alt",e)}"presentation"===j.getAttrib(t,"role")&&j.setAttrib(t,"role","")}var o},ut=function(t,e){return function(n,r,o){t(n,o),Y(n,e)}},lt=function(t,e,n){var r=it(t,n);at(n,r,e,"caption",(function(t,e,n){return G(t)})),at(n,r,e,"src",$),at(n,r,e,"title",$),at(n,r,e,"width",K(0,t)),at(n,r,e,"height",K(0,t)),at(n,r,e,"class",$),at(n,r,e,"style",ut((function(t,e){return $(t,"style",e)}),t)),at(n,r,e,"hspace",ut(X,t)),at(n,r,e,"vspace",ut(J,t)),at(n,r,e,"border",ut(Q,t)),at(n,r,e,"borderStyle",ut(tt,t)),function(t,e,n){n.alt===e.alt&&n.isDecorative===e.isDecorative||st(t,n.alt,n.isDecorative)}(n,r,e)},ct=function(t,e){var n=t.dom.styles.parse(e),r=B(n),o=t.dom.styles.parse(t.dom.styles.serialize(r));return t.dom.styles.serialize(o)},ft=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,"figure.image");return n?t.dom.select("img",n)[0]:e&&("IMG"!==e.nodeName||F(e))?null:e},dt=function(t,e){var n=t.dom,r=n.getParent(e.parentNode,(function(e){return!!t.schema.getTextBlockElements()[e.nodeName]}),t.getBody());return r?n.split(r,e):e},ht=function(e,n){var r=function(e,n){var r=t.document.createElement("img");if(lt(e,C(C({},n),{caption:!1}),r),st(r,n.alt,n.isDecorative),n.caption){var o=j.create("figure",{class:"image"});return o.appendChild(r),o.appendChild(j.create("figcaption",{contentEditable:"true"},"Caption")),o.contentEditable="false",o}return r}((function(t){return ct(e,t)}),n);e.dom.setAttrib(r,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(r.outerHTML);var o=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(o,"data-mce-id",null),et(o)){var i=dt(e,o);e.selection.select(i)}else e.selection.select(o)},pt=function(t,e){var n=ft(t);if(lt((function(e){return ct(t,e)}),e,n),function(t,e){t.dom.setAttrib(e,"src",e.getAttribute("src"))}(t,n),et(n.parentNode)){var r=n.parentNode;dt(t,r),t.selection.select(n.parentNode)}else t.selection.select(n),function(t,e,n){var r=function(){n.onload=n.onerror=null,t.selection&&(t.selection.select(n),t.nodeChanged())};n.onload=function(){e.width||e.height||!N(t)||t.dom.setAttribs(n,{width:String(n.clientWidth),height:String(n.clientHeight)}),r()},n.onerror=r}(t,e,n)},mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gt=function(t){return p(t.value)?t.value:""},vt=function(t,e){var n=[];return mt.each(t,(function(t){var r=p(t.text)?t.text:p(t.title)?t.title:"";if(void 0!==t.menu){var o=vt(t.menu,e);n.push({text:r,items:o})}else{var i=e(t);n.push({text:r,value:i})}})),n},yt=function(t){return void 0===t&&(t=gt),function(e){return e?f.from(e).map((function(e){return vt(e,t)})):f.none()}},bt=function(t,e){return function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return f.none()}(t,(function(t){return function(t){return Object.prototype.hasOwnProperty.call(t,"items")}(t)?bt(t.items,e):t.value===e?f.some(t):f.none()}))},wt=yt,xt=function(t){return yt(gt)(t)},_t=function(t,e){return t.bind((function(t){return bt(t,e)}))};function kt(e){var n=function(n,r,o,i){var a=new t.XMLHttpRequest;a.open("POST",e.url),a.withCredentials=e.credentials,a.upload.onprogress=function(t){i(t.loaded/t.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||a.status>=300)o("HTTP Error: "+a.status);else{var t,n,i=JSON.parse(a.responseText);if(i&&"string"==typeof i.location)r((t=e.basePath,n=i.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n));else o("Invalid JSON: "+a.responseText)}};var s=new t.FormData;s.append("file",n.blob(),n.filename()),a.send(s)};return e=mt.extend({credentials:!1,handler:n},e),{upload:function(t){return e.url||e.handler!==n?function(t,e){return new A((function(n,r){try{e(t,n,r,o)}catch(t){r(t.message)}}))}(t,e.handler):A.reject("Upload url missing from the settings.")}}}var Ct=function(t){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"selectbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},St=function(t){var e=wt((function(e){return t.convertURL(e.value||e.url,"src")})),n=new A((function(n){!function(t,e){var n=function(t){return t.getParam("image_list",!1)}(t);"string"==typeof n?D.send({url:n,success:function(t){e(JSON.parse(t))}}):"function"==typeof n?n(e):e(n)}(t,(function(t){n(e(t).map((function(t){return x([[{text:"None",value:""}],t])})))}))})),r=xt(function(t){return t.getParam("image_class_list")}(t)),o=function(t){return t.getParam("image_advtab",!1,"boolean")}(t),i=function(t){return t.getParam("image_uploadtab",!0,"boolean")}(t),a=function(t){return!!P(t)}(t),s=function(t){return!!M(t)}(t),u=function(t){var e=ft(t);return e?it((function(e){return ct(t,e)}),e):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}}(t),l=function(t){return t.getParam("image_description",!0,"boolean")}(t),c=function(t){return t.getParam("image_title",!1,"boolean")}(t),d=N(t),h=function(t){return t.getParam("image_caption",!1,"boolean")}(t),m=function(t){return t.getParam("a11y_advanced_options",!1,"boolean")}(t),g=P(t),v=function(t){return t.getParam("images_upload_base_path",void 0,"string")}(t),y=function(t){return t.getParam("images_upload_credentials",!1,"boolean")}(t),b=M(t),w=function(t){return t.getParam("automatic_uploads",!0,"boolean")}(t),_=f.some(function(t){return t.getParam("image_prepend_url","","string")}(t)).filter((function(t){return p(t)&&t.length>0}));return n.then((function(t){return{image:u,imageList:t,classList:r,hasAdvTab:o,hasUploadTab:i,hasUploadUrl:a,hasUploadHandler:s,hasDescription:l,hasImageTitle:c,hasDimensions:d,hasImageCaption:h,url:g,basePath:v,credentials:y,handler:b,prependURL:_,hasAccessibilityOptions:m,automaticUploads:w}}))},Tt=function(t){var e=t.imageList.map((function(t){return{name:"images",type:"selectbox",label:"Image list",items:t}})),n={name:"alt",type:"input",label:"Alternative description",disabled:t.hasAccessibilityOptions&&t.image.isDecorative},r=t.classList.map((function(t){return{name:"classes",type:"selectbox",label:"Class",items:t}}));return x([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],e.toArray(),t.hasAccessibilityOptions&&t.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],t.hasDescription?[n]:[],t.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],t.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{type:"grid",columns:2,items:x([r.toArray(),t.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]])},Et=function(t){return{title:"General",name:"general",items:Tt(t)}},Ot=Tt,At=function(t){return{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}},Dt=function(t){return{src:{value:t.src,meta:{}},images:t.src,alt:t.alt,title:t.title,dimensions:{width:t.width,height:t.height},classes:t.class,caption:t.caption,style:t.style,vspace:t.vspace,border:t.border,hspace:t.hspace,borderstyle:t.borderStyle,fileinput:[],isDecorative:t.isDecorative}},Nt=function(t,e){return{src:t.src.value,alt:0===t.alt.length&&e?null:t.alt,title:t.title,width:t.dimensions.width,height:t.dimensions.height,class:t.classes,style:t.style,caption:t.caption,hspace:t.hspace,vspace:t.vspace,border:t.border,borderStyle:t.borderstyle,isDecorative:t.isDecorative}},Pt=function(t,e){var n=e.getData();(function(t,e){return/^(?:[a-zA-Z]+:)?\/\//.test(e)?f.none():t.prependURL.bind((function(t){return e.substring(0,t.length)!==t?f.some(t+e):f.none()}))})(t,n.src.value).each((function(t){e.setData({src:{value:t,meta:n.src.meta}})}))},Mt=function(t,e){var n=e.getData(),r=n.src.meta;if(void 0!==r){var o=k({},n);!function(t,e,n){t.hasDescription&&p(n.alt)&&(e.alt=n.alt),t.hasAccessibilityOptions&&(e.isDecorative=n.isDecorative||e.isDecorative||!1),t.hasImageTitle&&p(n.title)&&(e.title=n.title),t.hasDimensions&&(p(n.width)&&(e.dimensions.width=n.width),p(n.height)&&(e.dimensions.height=n.height)),p(n.class)&&_t(t.classList,n.class).each((function(t){e.classes=t.value})),t.hasImageCaption&&y(n.caption)&&(e.caption=n.caption),t.hasAdvTab&&(p(n.style)&&(e.style=n.style),p(n.vspace)&&(e.vspace=n.vspace),p(n.border)&&(e.border=n.border),p(n.hspace)&&(e.hspace=n.hspace),p(n.borderstyle)&&(e.borderstyle=n.borderstyle))}(t,o,r),e.setData(o)}},Lt=function(t,e,n,r){Pt(e,r),Mt(e,r),function(t,e,n,r){var o=r.getData(),i=o.src.value,a=o.src.meta||{};a.width||a.height||!e.hasDimensions||t.imageSize(i).then((function(t){n.open&&r.setData({dimensions:t})}))}(t,e,n,r),function(t,e,n){var r=n.getData(),o=_t(t.imageList,r.src.value);e.prevImage=o,n.setData({images:o.map((function(t){return t.value})).getOr("")})}(e,n,r)},Rt=function(t,e,n){var r=B(t(n.style)),o=k({},n);return o.vspace=function(t){return t["margin-top"]&&t["margin-bottom"]&&t["margin-top"]===t["margin-bottom"]?R(String(t["margin-top"])):""}(r),o.hspace=function(t){return t["margin-right"]&&t["margin-left"]&&t["margin-right"]===t["margin-left"]?R(String(t["margin-right"])):""}(r),o.border=function(t){return t["border-width"]?R(String(t["border-width"])):""}(r),o.borderstyle=function(t){return t["border-style"]?String(t["border-style"]):""}(r),o.style=function(t,e,n){return e(t(e(n)))}(t,e,r),o},It=function(e,n,r,o){var i,a=o.getData();o.block("Uploading image"),(i=a.fileinput,0===i.length?f.none():f.some(i[0])).fold((function(){o.unblock()}),(function(i){var a,s=t.URL.createObjectURL(i),u=kt({url:n.url,basePath:n.basePath,credentials:n.credentials,handler:n.handler}),l=function(){o.unblock(),t.URL.revokeObjectURL(s)},c=function(t){o.setData({src:{value:t,meta:{}}}),o.showTab("general"),Lt(e,n,r,o)};(a=i,new A((function(e,n){var r=new t.FileReader;r.onload=function(){e(r.result)},r.onerror=function(){n(r.error.message)},r.readAsDataURL(a)}))).then((function(t){var r=e.createBlobCache(i,s,t);n.automaticUploads?u.upload(r).then((function(t){c(t),l()})).catch((function(t){l(),e.alertErr(t)})):(e.addToBlobCache(r),c(r.blobUri()),o.unblock())}))}))},Bt=function(t,e,n){return function(r,o){"src"===o.name?Lt(t,e,n,r):"images"===o.name?function(t,e,n,r){var o=r.getData(),i=_t(e.imageList,o.images);i.each((function(t){""===o.alt||n.prevImage.map((function(t){return t.text===o.alt})).getOr(!1)?""===t.value?r.setData({src:t,alt:n.prevAlt}):r.setData({src:t,alt:t.text}):r.setData({src:t})})),n.prevImage=i,Lt(t,e,n,r)}(t,e,n,r):"alt"===o.name?n.prevAlt=r.getData().alt:"style"===o.name?function(t,e){var n=e.getData(),r=Rt(t.parseStyle,t.serializeStyle,n);e.setData(r)}(t,r):"vspace"===o.name||"hspace"===o.name||"border"===o.name||"borderstyle"===o.name?function(t,e,n){var r=k(Dt(e.image),n.getData()),o=ot(t.normalizeCss,Nt(r,!1));n.setData({style:o})}(t,e,r):"fileinput"===o.name?It(t,e,n,r):"isDecorative"===o.name&&(r.getData().isDecorative?r.disable("alt"):r.enable("alt"))}},Ft=function(t){return function(){t.open=!1}},jt=function(t){return t.hasAdvTab||t.hasUploadUrl||t.hasUploadHandler?{type:"tabpanel",tabs:x([[Et(t)],t.hasAdvTab?[Ct(t)]:[],t.hasUploadTab&&(t.hasUploadUrl||t.hasUploadHandler)?[At(t)]:[]])}:{type:"panel",items:Ot(t)}},zt=function(t){return function(e){var n=function(t){return{prevImage:_t(t.imageList,t.image.src),prevAlt:t.image.alt,open:!0}}(e);return{title:"Insert/Edit Image",size:"normal",body:jt(e),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Dt(e.image),onSubmit:t.onSubmit(e),onChange:Bt(t,e,n),onClose:Ft(n)}}},Ht=function(t){return function(e){return function(n){var r=k(Dt(e.image),n.getData());t.execCommand("mceUpdateImage",!1,Nt(r,e.hasAccessibilityOptions)),t.editorUpload.uploadImagesAuto(),n.close()}}},qt=function(e){return function(n){return function(e){return new A((function(n){var r=t.document.createElement("img"),o=function(t){r.parentNode&&r.parentNode.removeChild(r),n(t)};r.onload=function(){var t={width:L(r.width,r.clientWidth),height:L(r.height,r.clientHeight)};o(A.resolve(t))},r.onerror=function(){o(A.reject("Failed to get image dimensions for: "+e))};var i=r.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",t.document.body.appendChild(r),r.src=e}))}(e.documentBaseURI.toAbsolute(n)).then((function(t){return{width:String(t.width),height:String(t.height)}}))}},Ut=function(t){return function(e,n,r){return t.editorUpload.blobCache.create({blob:e,blobUri:n,name:e.name?e.name.replace(/\.[^\.]+$/,""):null,base64:r.split(",")[1]})}},Wt=function(t){return function(e){t.editorUpload.blobCache.add(e)}},Vt=function(t){return function(e){t.windowManager.alert(e)}},$t=function(t){return function(e){return ct(t,e)}},Gt=function(t){return function(e){return t.dom.parseStyle(e)}},Yt=function(t){return function(e,n){return t.dom.serializeStyle(e,n)}},Kt=function(t){var e={onSubmit:Ht(t),imageSize:qt(t),addToBlobCache:Wt(t),createBlobCache:Ut(t),alertErr:Vt(t),normalizeCss:$t(t),parseStyle:Gt(t),serializeStyle:Yt(t)},n=function(){return St(t).then(zt(e)).then((function(e){return t.windowManager.open(e)}))};return{open:n,openLater:function(){n()}}},Zt=function(t){t.addCommand("mceImage",Kt(t).openLater),t.addCommand("mceUpdateImage",(function(e,n){t.undoManager.transact((function(){return function(t,e){var n=ft(t);if(n){var r=it((function(e){return ct(t,e)}),n),o=C(C({},r),e);o.src?pt(t,o):function(t,e){if(e){var n=t.dom.is(e.parentNode,"figure.image")?e.parentNode:e;t.dom.remove(n),t.focus(),t.nodeChanged(),t.dom.isEmpty(t.getBody())&&(t.setContent(""),t.selection.setCursorLocation())}}(t,n)}else e.src&&ht(t,C(C({},{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}),e))}(t,n)}))}))},Xt=function(t){var e=t.attr("class");return e&&/\bimage\b/.test(e)},Jt=function(t){return function(e){for(var n=e.length,r=function(e){e.attr("contenteditable",t?"true":null)};n--;){var o=e[n];Xt(o)&&(o.attr("contenteditable",t?"false":null),mt.each(o.getAll("figcaption"),r))}}};r.add("image",(function(t){!function(t){t.on("PreInit",(function(){t.parser.addNodeFilter("figure",Jt(!0)),t.serializer.addNodeFilter("figure",Jt(!1))}))}(t),function(t){t.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Kt(t).openLater,onSetup:function(e){return t.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",e.setActive).unbind}}),t.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Kt(t).openLater}),t.ui.registry.addContextMenu("image",{update:function(t){return et(t)||"IMG"===t.nodeName&&!F(t)?["image"]:[]}})}(t),Zt(t)}))}(window)},zuR4:function(t,e,n){"use strict";var r=n("xTJ+"),o=n("HSsa"),i=n("CgaS"),a=n("SntB");function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(n("JEQr"));u.Axios=i,u.create=function(t){return s(a(u.defaults,t))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(t){return Promise.all(t)},u.spread=n("DfZB"),t.exports=u,t.exports.default=u},zwY0:function(t,e,n){(function(e){t.exports=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],r={_disable:[],_enable:[],allowInput:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enable:[],enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&void 0},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},o={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},i=function(t){return("0"+t).slice(-2)},a=function(t){return!0===t?1:0};function s(t,e,n){var r;return void 0===n&&(n=!1),function(){var o=this,i=arguments;null!==r&&clearTimeout(r),r=window.setTimeout((function(){r=null,n||t.apply(o,i)}),e),n&&!r&&t.apply(o,i)}}var u=function(t){return t instanceof Array?t:[t]};function l(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function c(t,e,n){var r=window.document.createElement(t);return e=e||"",n=n||"",r.className=e,void 0!==n&&(r.textContent=n),r}function f(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function d(t,e){var n=c("div","numInputWrapper"),r=c("input","numInput "+t),o=c("span","arrowUp"),i=c("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?r.type="number":(r.type="text",r.pattern="\\d*"),void 0!==e)for(var a in e)r.setAttribute(a,e[a]);return n.appendChild(r),n.appendChild(o),n.appendChild(i),n}var h=function(){},p=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},m={D:h,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours(parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*a(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var r=parseInt(e),o=new Date(t.getFullYear(),0,2+7*(r-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours(parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:h,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:h,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},g={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},v={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[v.w(t,e,n)]},F:function(t,e,n){return p(v.n(t,e,n)-1,!1,e)},G:function(t,e,n){return i(v.h(t,e,n))},H:function(t){return i(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[a(t.getHours()>11)]},M:function(t,e){return p(t.getMonth(),!0,e)},S:function(t){return i(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return t.getFullYear()},d:function(t){return i(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return i(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return i(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},y=function(t){var e=t.config,n=void 0===e?r:e,i=t.l10n,a=void 0===i?o:i;return function(t,e,r){var o=r||a;return void 0!==n.formatDate?n.formatDate(t,e,o):e.split("").map((function(e,r,i){return v[e]&&"\\"!==i[r-1]?v[e](t,o,n):"\\"!==e?e:""})).join("")}},b=function(t){var e=t.config,n=void 0===e?r:e,i=t.l10n,a=void 0===i?o:i;return function(t,e,o,i){if(0===t||t){var s,u=i||a,l=t;if(t instanceof Date)s=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)s=new Date(t);else if("string"==typeof t){var c=e||(n||r).dateFormat,f=String(t).trim();if("today"===f)s=new Date,o=!0;else if(/Z$/.test(f)||/GMT$/.test(f))s=new Date(t);else if(n&&n.parseDate)s=n.parseDate(t,c);else{s=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);for(var d=void 0,h=[],p=0,v=0,y="";p<c.length;p++){var b=c[p],w="\\"===b,x="\\"===c[p-1]||w;if(g[b]&&!x){y+=g[b];var _=new RegExp(y).exec(t);_&&(d=!0)&&h["Y"!==b?"push":"unshift"]({fn:m[b],val:_[++v]})}else w||(y+=".");h.forEach((function(t){var e=t.fn,n=t.val;return s=e(s,n,u)||s}))}s=d?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===o&&s.setHours(0,0,0,0),s;n.errorHandler(new Error("Invalid date provided: "+l))}}};function w(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var x=864e5;function _(e,h){var m={config:t({},r,C.defaultConfig),l10n:o};function v(t){return t.bind(m)}function _(){var t=m.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==m.calendarContainer&&(m.calendarContainer.style.visibility="hidden",m.calendarContainer.style.display="block"),void 0!==m.daysContainer){var e=(m.days.offsetWidth+1)*t.showMonths;m.daysContainer.style.width=e+"px",m.calendarContainer.style.width=e+(void 0!==m.weekWrapper?m.weekWrapper.offsetWidth:0)+"px",m.calendarContainer.style.removeProperty("visibility"),m.calendarContainer.style.removeProperty("display")}}))}function k(t){0===m.selectedDates.length&&nt(),void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,n=t.target;void 0!==m.amPM&&t.target===m.amPM&&(m.amPM.textContent=m.l10n.amPM[a(m.amPM.textContent===m.l10n.amPM[0])]);var r=parseFloat(n.getAttribute("min")),o=parseFloat(n.getAttribute("max")),s=parseFloat(n.getAttribute("step")),u=parseInt(n.value,10),l=t.delta||(e?38===t.which?1:-1:0),c=u+s*l;if(void 0!==n.value&&2===n.value.length){var f=n===m.hourElement,d=n===m.minuteElement;c<r?(c=o+c+a(!f)+(a(f)&&a(!m.amPM)),d&&R(void 0,-1,m.hourElement)):c>o&&(c=n===m.hourElement?c-o-a(!m.amPM):r,d&&R(void 0,1,m.hourElement)),m.amPM&&f&&(1===s?c+u===23:Math.abs(c-u)>s)&&(m.amPM.textContent=m.l10n.amPM[a(m.amPM.textContent===m.l10n.amPM[0])]),n.value=i(c)}}(t);var e=m._input.value;S(),vt(),m._input.value!==e&&m._debouncedChange()}function S(){if(void 0!==m.hourElement&&void 0!==m.minuteElement){var t,e,n=(parseInt(m.hourElement.value.slice(-2),10)||0)%24,r=(parseInt(m.minuteElement.value,10)||0)%60,o=void 0!==m.secondElement?(parseInt(m.secondElement.value,10)||0)%60:0;void 0!==m.amPM&&(t=n,e=m.amPM.textContent,n=t%12+12*a(e===m.l10n.amPM[1]));var i=void 0!==m.config.minTime||m.config.minDate&&m.minDateHasTime&&m.latestSelectedDateObj&&0===w(m.latestSelectedDateObj,m.config.minDate,!0);if(void 0!==m.config.maxTime||m.config.maxDate&&m.maxDateHasTime&&m.latestSelectedDateObj&&0===w(m.latestSelectedDateObj,m.config.maxDate,!0)){var s=void 0!==m.config.maxTime?m.config.maxTime:m.config.maxDate;(n=Math.min(n,s.getHours()))===s.getHours()&&(r=Math.min(r,s.getMinutes())),r===s.getMinutes()&&(o=Math.min(o,s.getSeconds()))}if(i){var u=void 0!==m.config.minTime?m.config.minTime:m.config.minDate;(n=Math.max(n,u.getHours()))===u.getHours()&&(r=Math.max(r,u.getMinutes())),r===u.getMinutes()&&(o=Math.max(o,u.getSeconds()))}O(n,r,o)}}function T(t){var e=t||m.latestSelectedDateObj;e&&O(e.getHours(),e.getMinutes(),e.getSeconds())}function E(){var t=m.config.defaultHour,e=m.config.defaultMinute,n=m.config.defaultSeconds;if(void 0!==m.config.minDate){var r=m.config.minDate.getHours(),o=m.config.minDate.getMinutes();(t=Math.max(t,r))===r&&(e=Math.max(o,e)),t===r&&e===o&&(n=m.config.minDate.getSeconds())}if(void 0!==m.config.maxDate){var i=m.config.maxDate.getHours(),a=m.config.maxDate.getMinutes();(t=Math.min(t,i))===i&&(e=Math.min(a,e)),t===i&&e===a&&(n=m.config.maxDate.getSeconds())}O(t,e,n)}function O(t,e,n){void 0!==m.latestSelectedDateObj&&m.latestSelectedDateObj.setHours(t%24,e,n||0,0),m.hourElement&&m.minuteElement&&!m.isMobile&&(m.hourElement.value=i(m.config.time_24hr?t:(12+t)%12+12*a(t%12==0)),m.minuteElement.value=i(e),void 0!==m.amPM&&(m.amPM.textContent=m.l10n.amPM[a(t>=12)]),void 0!==m.secondElement&&(m.secondElement.value=i(n)))}function A(t){var e=parseInt(t.target.value)+(t.delta||0);(e/1e3>1||"Enter"===t.key&&!/[^\d]/.test(e.toString()))&&Z(e)}function D(t,e,n,r){return e instanceof Array?e.forEach((function(e){return D(t,e,n,r)})):t instanceof Array?t.forEach((function(t){return D(t,e,n,r)})):(t.addEventListener(e,n,r),void m._handlers.push({element:t,event:e,handler:n,options:r}))}function N(t){return function(e){1===e.which&&t(e)}}function P(){dt("onChange")}function M(t,e){var n=void 0!==t?m.parseDate(t):m.latestSelectedDateObj||(m.config.minDate&&m.config.minDate>m.now?m.config.minDate:m.config.maxDate&&m.config.maxDate<m.now?m.config.maxDate:m.now),r=m.currentYear,o=m.currentMonth;try{void 0!==n&&(m.currentYear=n.getFullYear(),m.currentMonth=n.getMonth())}catch(t){t.message="Invalid date supplied: "+n,m.config.errorHandler(t)}e&&m.currentYear!==r&&(dt("onYearChange"),q()),!e||m.currentYear===r&&m.currentMonth===o||dt("onMonthChange"),m.redraw()}function L(t){~t.target.className.indexOf("arrow")&&R(t,t.target.classList.contains("arrowUp")?1:-1)}function R(t,e,n){var r=t&&t.target,o=n||r&&r.parentNode&&r.parentNode.firstChild,i=ht("increment");i.delta=e,o&&o.dispatchEvent(i)}function I(t,e,n,r){var o=X(e,!0),i=c("span","flatpickr-day "+t,e.getDate().toString());return i.dateObj=e,i.$i=r,i.setAttribute("aria-label",m.formatDate(e,m.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===w(e,m.now)&&(m.todayDateElem=i,i.classList.add("today"),i.setAttribute("aria-current","date")),o?(i.tabIndex=-1,pt(e)&&(i.classList.add("selected"),m.selectedDateElem=i,"range"===m.config.mode&&(l(i,"startRange",m.selectedDates[0]&&0===w(e,m.selectedDates[0],!0)),l(i,"endRange",m.selectedDates[1]&&0===w(e,m.selectedDates[1],!0)),"nextMonthDay"===t&&i.classList.add("inRange")))):i.classList.add("flatpickr-disabled"),"range"===m.config.mode&&function(t){return!("range"!==m.config.mode||m.selectedDates.length<2)&&w(t,m.selectedDates[0])>=0&&w(t,m.selectedDates[1])<=0}(e)&&!pt(e)&&i.classList.add("inRange"),m.weekNumbers&&1===m.config.showMonths&&"prevMonthDay"!==t&&n%7==1&&m.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+m.config.getWeek(e)+"</span>"),dt("onDayCreate",i),i}function B(t){t.focus(),"range"===m.config.mode&&tt(t)}function F(t){for(var e=t>0?0:m.config.showMonths-1,n=t>0?m.config.showMonths:-1,r=e;r!=n;r+=t)for(var o=m.daysContainer.children[r],i=t>0?0:o.children.length-1,a=t>0?o.children.length:-1,s=i;s!=a;s+=t){var u=o.children[s];if(-1===u.className.indexOf("hidden")&&X(u.dateObj))return u}}function j(t,e){var n=J(document.activeElement||document.body),r=void 0!==t?t:n?document.activeElement:void 0!==m.selectedDateElem&&J(m.selectedDateElem)?m.selectedDateElem:void 0!==m.todayDateElem&&J(m.todayDateElem)?m.todayDateElem:F(e>0?1:-1);return void 0===r?m._input.focus():n?void function(t,e){for(var n=-1===t.className.indexOf("Month")?t.dateObj.getMonth():m.currentMonth,r=e>0?m.config.showMonths:-1,o=e>0?1:-1,i=n-m.currentMonth;i!=r;i+=o)for(var a=m.daysContainer.children[i],s=n-m.currentMonth===i?t.$i+e:e<0?a.children.length-1:0,u=a.children.length,l=s;l>=0&&l<u&&l!=(e>0?u:-1);l+=o){var c=a.children[l];if(-1===c.className.indexOf("hidden")&&X(c.dateObj)&&Math.abs(t.$i-l)>=Math.abs(e))return B(c)}m.changeMonth(o),j(F(o),0)}(r,e):B(r)}function z(t,e){for(var n=(new Date(t,e,1).getDay()-m.l10n.firstDayOfWeek+7)%7,r=m.utils.getDaysInMonth((e-1+12)%12),o=m.utils.getDaysInMonth(e),i=window.document.createDocumentFragment(),a=m.config.showMonths>1,s=a?"prevMonthDay hidden":"prevMonthDay",u=a?"nextMonthDay hidden":"nextMonthDay",l=r+1-n,f=0;l<=r;l++,f++)i.appendChild(I(s,new Date(t,e-1,l),l,f));for(l=1;l<=o;l++,f++)i.appendChild(I("",new Date(t,e,l),l,f));for(var d=o+1;d<=42-n&&(1===m.config.showMonths||f%7!=0);d++,f++)i.appendChild(I(u,new Date(t,e+1,d%o),d,f));var h=c("div","dayContainer");return h.appendChild(i),h}function H(){if(void 0!==m.daysContainer){f(m.daysContainer),m.weekNumbers&&f(m.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<m.config.showMonths;e++){var n=new Date(m.currentYear,m.currentMonth,1);n.setMonth(m.currentMonth+e),t.appendChild(z(n.getFullYear(),n.getMonth()))}m.daysContainer.appendChild(t),m.days=m.daysContainer.firstChild,"range"===m.config.mode&&1===m.selectedDates.length&&tt()}}function q(){if(!(m.config.showMonths>1||"dropdown"!==m.config.monthSelectorType)){var t=function(t){return!(void 0!==m.config.minDate&&m.currentYear===m.config.minDate.getFullYear()&&t<m.config.minDate.getMonth()||void 0!==m.config.maxDate&&m.currentYear===m.config.maxDate.getFullYear()&&t>m.config.maxDate.getMonth())};m.monthsDropdownContainer.tabIndex=-1,m.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var n=c("option","flatpickr-monthDropdown-month");n.value=new Date(m.currentYear,e).getMonth().toString(),n.textContent=p(e,m.config.shorthandCurrentMonth,m.l10n),n.tabIndex=-1,m.currentMonth===e&&(n.selected=!0),m.monthsDropdownContainer.appendChild(n)}}}function U(){var t,e=c("div","flatpickr-month"),n=window.document.createDocumentFragment();m.config.showMonths>1||"static"===m.config.monthSelectorType?t=c("span","cur-month"):(m.monthsDropdownContainer=c("select","flatpickr-monthDropdown-months"),D(m.monthsDropdownContainer,"change",(function(t){var e=t.target,n=parseInt(e.value,10);m.changeMonth(n-m.currentMonth),dt("onMonthChange")})),q(),t=m.monthsDropdownContainer);var r=d("cur-year",{tabindex:"-1"}),o=r.getElementsByTagName("input")[0];o.setAttribute("aria-label",m.l10n.yearAriaLabel),m.config.minDate&&o.setAttribute("min",m.config.minDate.getFullYear().toString()),m.config.maxDate&&(o.setAttribute("max",m.config.maxDate.getFullYear().toString()),o.disabled=!!m.config.minDate&&m.config.minDate.getFullYear()===m.config.maxDate.getFullYear());var i=c("div","flatpickr-current-month");return i.appendChild(t),i.appendChild(r),n.appendChild(i),e.appendChild(n),{container:e,yearElement:o,monthElement:t}}function W(){f(m.monthNav),m.monthNav.appendChild(m.prevMonthNav),m.config.showMonths&&(m.yearElements=[],m.monthElements=[]);for(var t=m.config.showMonths;t--;){var e=U();m.yearElements.push(e.yearElement),m.monthElements.push(e.monthElement),m.monthNav.appendChild(e.container)}m.monthNav.appendChild(m.nextMonthNav)}function V(){m.weekdayContainer?f(m.weekdayContainer):m.weekdayContainer=c("div","flatpickr-weekdays");for(var t=m.config.showMonths;t--;){var e=c("div","flatpickr-weekdaycontainer");m.weekdayContainer.appendChild(e)}return $(),m.weekdayContainer}function $(){if(m.weekdayContainer){var t=m.l10n.firstDayOfWeek,e=m.l10n.weekdays.shorthand.slice();t>0&&t<e.length&&(e=e.splice(t,e.length).concat(e.splice(0,t)));for(var n=m.config.showMonths;n--;)m.weekdayContainer.children[n].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function G(t,e){void 0===e&&(e=!0);var n=e?t:t-m.currentMonth;n<0&&!0===m._hidePrevMonthArrow||n>0&&!0===m._hideNextMonthArrow||(m.currentMonth+=n,(m.currentMonth<0||m.currentMonth>11)&&(m.currentYear+=m.currentMonth>11?1:-1,m.currentMonth=(m.currentMonth+12)%12,dt("onYearChange"),q()),H(),dt("onMonthChange"),mt())}function Y(t){return!(!m.config.appendTo||!m.config.appendTo.contains(t))||m.calendarContainer.contains(t)}function K(t){if(m.isOpen&&!m.config.inline){var e="function"==typeof(a=t).composedPath?a.composedPath()[0]:a.target,n=Y(e),r=e===m.input||e===m.altInput||m.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(m.input)||~t.path.indexOf(m.altInput)),o="blur"===t.type?r&&t.relatedTarget&&!Y(t.relatedTarget):!r&&!n&&!Y(t.relatedTarget),i=!m.config.ignoredFocusElements.some((function(t){return t.contains(e)}));o&&i&&(void 0!==m.timeContainer&&void 0!==m.minuteElement&&void 0!==m.hourElement&&k(),m.close(),"range"===m.config.mode&&1===m.selectedDates.length&&(m.clear(!1),m.redraw()))}var a}function Z(t){if(!(!t||m.config.minDate&&t<m.config.minDate.getFullYear()||m.config.maxDate&&t>m.config.maxDate.getFullYear())){var e=t,n=m.currentYear!==e;m.currentYear=e||m.currentYear,m.config.maxDate&&m.currentYear===m.config.maxDate.getFullYear()?m.currentMonth=Math.min(m.config.maxDate.getMonth(),m.currentMonth):m.config.minDate&&m.currentYear===m.config.minDate.getFullYear()&&(m.currentMonth=Math.max(m.config.minDate.getMonth(),m.currentMonth)),n&&(m.redraw(),dt("onYearChange"),q())}}function X(t,e){void 0===e&&(e=!0);var n=m.parseDate(t,void 0,e);if(m.config.minDate&&n&&w(n,m.config.minDate,void 0!==e?e:!m.minDateHasTime)<0||m.config.maxDate&&n&&w(n,m.config.maxDate,void 0!==e?e:!m.maxDateHasTime)>0)return!1;if(0===m.config.enable.length&&0===m.config.disable.length)return!0;if(void 0===n)return!1;for(var r=m.config.enable.length>0,o=r?m.config.enable:m.config.disable,i=0,a=void 0;i<o.length;i++){if("function"==typeof(a=o[i])&&a(n))return r;if(a instanceof Date&&void 0!==n&&a.getTime()===n.getTime())return r;if("string"==typeof a&&void 0!==n){var s=m.parseDate(a,void 0,!0);return s&&s.getTime()===n.getTime()?r:!r}if("object"==typeof a&&void 0!==n&&a.from&&a.to&&n.getTime()>=a.from.getTime()&&n.getTime()<=a.to.getTime())return r}return!r}function J(t){return void 0!==m.daysContainer&&-1===t.className.indexOf("hidden")&&m.daysContainer.contains(t)}function Q(t){var e=t.target===m._input,n=m.config.allowInput,r=m.isOpen&&(!n||!e),o=m.config.inline&&e&&!n;if(13===t.keyCode&&e){if(n)return m.setDate(m._input.value,!0,t.target===m.altInput?m.config.altFormat:m.config.dateFormat),t.target.blur();m.open()}else if(Y(t.target)||r||o){var i=!!m.timeContainer&&m.timeContainer.contains(t.target);switch(t.keyCode){case 13:i?(t.preventDefault(),k(),st()):ut(t);break;case 27:t.preventDefault(),st();break;case 8:case 46:e&&!m.config.allowInput&&(t.preventDefault(),m.clear());break;case 37:case 39:if(i||e)m.hourElement&&m.hourElement.focus();else if(t.preventDefault(),void 0!==m.daysContainer&&(!1===n||document.activeElement&&J(document.activeElement))){var a=39===t.keyCode?1:-1;t.ctrlKey?(t.stopPropagation(),G(a),j(F(1),0)):j(void 0,a)}break;case 38:case 40:t.preventDefault();var s=40===t.keyCode?1:-1;m.daysContainer&&void 0!==t.target.$i||t.target===m.input||t.target===m.altInput?t.ctrlKey?(t.stopPropagation(),Z(m.currentYear-s),j(F(1),0)):i||j(void 0,7*s):t.target===m.currentYearElement?Z(m.currentYear-s):m.config.enableTime&&(!i&&m.hourElement&&m.hourElement.focus(),k(t),m._debouncedChange());break;case 9:if(i){var u=[m.hourElement,m.minuteElement,m.secondElement,m.amPM].concat(m.pluginElements).filter((function(t){return t})),l=u.indexOf(t.target);if(-1!==l){var c=u[l+(t.shiftKey?-1:1)];t.preventDefault(),(c||m._input).focus()}}else!m.config.noCalendar&&m.daysContainer&&m.daysContainer.contains(t.target)&&t.shiftKey&&(t.preventDefault(),m._input.focus())}}if(void 0!==m.amPM&&t.target===m.amPM)switch(t.key){case m.l10n.amPM[0].charAt(0):case m.l10n.amPM[0].charAt(0).toLowerCase():m.amPM.textContent=m.l10n.amPM[0],S(),vt();break;case m.l10n.amPM[1].charAt(0):case m.l10n.amPM[1].charAt(0).toLowerCase():m.amPM.textContent=m.l10n.amPM[1],S(),vt()}(e||Y(t.target))&&dt("onKeyDown",t)}function tt(t){if(1===m.selectedDates.length&&(!t||t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled"))){for(var e=t?t.dateObj.getTime():m.days.firstElementChild.dateObj.getTime(),n=m.parseDate(m.selectedDates[0],void 0,!0).getTime(),r=Math.min(e,m.selectedDates[0].getTime()),o=Math.max(e,m.selectedDates[0].getTime()),i=!1,a=0,s=0,u=r;u<o;u+=x)X(new Date(u),!0)||(i=i||u>r&&u<o,u<n&&(!a||u>a)?a=u:u>n&&(!s||u<s)&&(s=u));for(var l=0;l<m.config.showMonths;l++)for(var c=m.daysContainer.children[l],f=function(r,o){var u,l,f,d=c.children[r],h=d.dateObj.getTime(),p=a>0&&h<a||s>0&&h>s;return p?(d.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((function(t){d.classList.remove(t)})),"continue"):i&&!p?"continue":(["startRange","inRange","endRange","notAllowed"].forEach((function(t){d.classList.remove(t)})),void(void 0!==t&&(t.classList.add(e<=m.selectedDates[0].getTime()?"startRange":"endRange"),n<e&&h===n?d.classList.add("startRange"):n>e&&h===n&&d.classList.add("endRange"),h>=a&&(0===s||h<=s)&&(l=n,f=e,(u=h)>Math.min(l,f)&&u<Math.max(l,f))&&d.classList.add("inRange"))))},d=0,h=c.children.length;d<h;d++)f(d)}}function et(){!m.isOpen||m.config.static||m.config.inline||it()}function nt(){m.setDate(void 0!==m.config.minDate?new Date(m.config.minDate.getTime()):new Date,!0),E(),vt()}function rt(t){return function(e){var n=m.config["_"+t+"Date"]=m.parseDate(e,m.config.dateFormat),r=m.config["_"+("min"===t?"max":"min")+"Date"];void 0!==n&&(m["min"===t?"minDateHasTime":"maxDateHasTime"]=n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0),m.selectedDates&&(m.selectedDates=m.selectedDates.filter((function(t){return X(t)})),m.selectedDates.length||"min"!==t||T(n),vt()),m.daysContainer&&(at(),void 0!==n?m.currentYearElement[t]=n.getFullYear().toString():m.currentYearElement.removeAttribute(t),m.currentYearElement.disabled=!!r&&void 0!==n&&r.getFullYear()===n.getFullYear())}}function ot(){"object"!=typeof m.config.locale&&void 0===C.l10ns[m.config.locale]&&m.config.errorHandler(new Error("flatpickr: invalid locale "+m.config.locale)),m.l10n=t({},C.l10ns.default,"object"==typeof m.config.locale?m.config.locale:"default"!==m.config.locale?C.l10ns[m.config.locale]:void 0),g.K="("+m.l10n.amPM[0]+"|"+m.l10n.amPM[1]+"|"+m.l10n.amPM[0].toLowerCase()+"|"+m.l10n.amPM[1].toLowerCase()+")",void 0===t({},h,JSON.parse(JSON.stringify(e.dataset||{}))).time_24hr&&void 0===C.defaultConfig.time_24hr&&(m.config.time_24hr=m.l10n.time_24hr),m.formatDate=y(m),m.parseDate=b({config:m.config,l10n:m.l10n})}function it(t){if(void 0!==m.calendarContainer){dt("onPreCalendarPosition");var e=t||m._positionElement,n=Array.prototype.reduce.call(m.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),r=m.calendarContainer.offsetWidth,o=m.config.position.split(" "),i=o[0],a=o.length>1?o[1]:null,s=e.getBoundingClientRect(),u=window.innerHeight-s.bottom,c="above"===i||"below"!==i&&u<n&&s.top>n,f=window.pageYOffset+s.top+(c?-n-2:e.offsetHeight+2);if(l(m.calendarContainer,"arrowTop",!c),l(m.calendarContainer,"arrowBottom",c),!m.config.inline){var d=window.pageXOffset+s.left-(null!=a&&"center"===a?(r-s.width)/2:0),h=window.document.body.offsetWidth-(window.pageXOffset+s.right),p=d+r>window.document.body.offsetWidth,g=h+r>window.document.body.offsetWidth;if(l(m.calendarContainer,"rightMost",p),!m.config.static)if(m.calendarContainer.style.top=f+"px",p)if(g){var v=document.styleSheets[0];if(void 0===v)return;var y=window.document.body.offsetWidth,b=Math.max(0,y/2-r/2),w=v.cssRules.length,x="{left:"+s.left+"px;right:auto;}";l(m.calendarContainer,"rightMost",!1),l(m.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+x,w),m.calendarContainer.style.left=b+"px",m.calendarContainer.style.right="auto"}else m.calendarContainer.style.left="auto",m.calendarContainer.style.right=h+"px";else m.calendarContainer.style.left=d+"px",m.calendarContainer.style.right="auto"}}}function at(){m.config.noCalendar||m.isMobile||(mt(),H())}function st(){m._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(m.close,0):m.close()}function ut(t){t.preventDefault(),t.stopPropagation();var e=function t(e,n){return n(e)?e:e.parentNode?t(e.parentNode,n):void 0}(t.target,(function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")}));if(void 0!==e){var n=e,r=m.latestSelectedDateObj=new Date(n.dateObj.getTime()),o=(r.getMonth()<m.currentMonth||r.getMonth()>m.currentMonth+m.config.showMonths-1)&&"range"!==m.config.mode;if(m.selectedDateElem=n,"single"===m.config.mode)m.selectedDates=[r];else if("multiple"===m.config.mode){var i=pt(r);i?m.selectedDates.splice(parseInt(i),1):m.selectedDates.push(r)}else"range"===m.config.mode&&(2===m.selectedDates.length&&m.clear(!1,!1),m.latestSelectedDateObj=r,m.selectedDates.push(r),0!==w(r,m.selectedDates[0],!0)&&m.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(S(),o){var a=m.currentYear!==r.getFullYear();m.currentYear=r.getFullYear(),m.currentMonth=r.getMonth(),a&&(dt("onYearChange"),q()),dt("onMonthChange")}if(mt(),H(),vt(),m.config.enableTime&&setTimeout((function(){return m.showTimeInput=!0}),50),o||"range"===m.config.mode||1!==m.config.showMonths?void 0!==m.selectedDateElem&&void 0===m.hourElement&&m.selectedDateElem&&m.selectedDateElem.focus():B(n),void 0!==m.hourElement&&void 0!==m.hourElement&&m.hourElement.focus(),m.config.closeOnSelect){var s="single"===m.config.mode&&!m.config.enableTime,u="range"===m.config.mode&&2===m.selectedDates.length&&!m.config.enableTime;(s||u)&&st()}P()}}m.parseDate=b({config:m.config,l10n:m.l10n}),m._handlers=[],m.pluginElements=[],m.loadedPlugins=[],m._bind=D,m._setHoursFromDate=T,m._positionCalendar=it,m.changeMonth=G,m.changeYear=Z,m.clear=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),m.input.value="",void 0!==m.altInput&&(m.altInput.value=""),void 0!==m.mobileInput&&(m.mobileInput.value=""),m.selectedDates=[],m.latestSelectedDateObj=void 0,!0===e&&(m.currentYear=m._initialDate.getFullYear(),m.currentMonth=m._initialDate.getMonth()),m.showTimeInput=!1,!0===m.config.enableTime&&E(),m.redraw(),t&&dt("onChange")},m.close=function(){m.isOpen=!1,m.isMobile||(void 0!==m.calendarContainer&&m.calendarContainer.classList.remove("open"),void 0!==m._input&&m._input.classList.remove("active")),dt("onClose")},m._createElement=c,m.destroy=function(){void 0!==m.config&&dt("onDestroy");for(var t=m._handlers.length;t--;){var e=m._handlers[t];e.element.removeEventListener(e.event,e.handler,e.options)}if(m._handlers=[],m.mobileInput)m.mobileInput.parentNode&&m.mobileInput.parentNode.removeChild(m.mobileInput),m.mobileInput=void 0;else if(m.calendarContainer&&m.calendarContainer.parentNode)if(m.config.static&&m.calendarContainer.parentNode){var n=m.calendarContainer.parentNode;if(n.lastChild&&n.removeChild(n.lastChild),n.parentNode){for(;n.firstChild;)n.parentNode.insertBefore(n.firstChild,n);n.parentNode.removeChild(n)}}else m.calendarContainer.parentNode.removeChild(m.calendarContainer);m.altInput&&(m.input.type="text",m.altInput.parentNode&&m.altInput.parentNode.removeChild(m.altInput),delete m.altInput),m.input&&(m.input.type=m.input._type,m.input.classList.remove("flatpickr-input"),m.input.removeAttribute("readonly"),m.input.value=""),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete m[t]}catch(t){}}))},m.isEnabled=X,m.jumpToDate=M,m.open=function(t,e){if(void 0===e&&(e=m._positionElement),!0===m.isMobile)return t&&(t.preventDefault(),t.target&&t.target.blur()),void 0!==m.mobileInput&&(m.mobileInput.focus(),m.mobileInput.click()),void dt("onOpen");if(!m._input.disabled&&!m.config.inline){var n=m.isOpen;m.isOpen=!0,n||(m.calendarContainer.classList.add("open"),m._input.classList.add("active"),dt("onOpen"),it(e)),!0===m.config.enableTime&&!0===m.config.noCalendar&&(0===m.selectedDates.length&&nt(),!1!==m.config.allowInput||void 0!==t&&m.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return m.hourElement.select()}),50))}},m.redraw=at,m.set=function(t,e){if(null!==t&&"object"==typeof t)for(var r in Object.assign(m.config,t),t)void 0!==lt[r]&&lt[r].forEach((function(t){return t()}));else m.config[t]=e,void 0!==lt[t]?lt[t].forEach((function(t){return t()})):n.indexOf(t)>-1&&(m.config[t]=u(e));m.redraw(),vt(!1)},m.setDate=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=m.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return m.clear(e);ct(t,n),m.showTimeInput=m.selectedDates.length>0,m.latestSelectedDateObj=m.selectedDates[m.selectedDates.length-1],m.redraw(),M(),T(),0===m.selectedDates.length&&m.clear(!1),vt(e),e&&dt("onChange")},m.toggle=function(t){if(!0===m.isOpen)return m.close();m.open(t)};var lt={locale:[ot,$],showMonths:[W,_,V],minDate:[M],maxDate:[M]};function ct(t,e){var n=[];if(t instanceof Array)n=t.map((function(t){return m.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)n=[m.parseDate(t,e)];else if("string"==typeof t)switch(m.config.mode){case"single":case"time":n=[m.parseDate(t,e)];break;case"multiple":n=t.split(m.config.conjunction).map((function(t){return m.parseDate(t,e)}));break;case"range":n=t.split(m.l10n.rangeSeparator).map((function(t){return m.parseDate(t,e)}))}else m.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));m.selectedDates=n.filter((function(t){return t instanceof Date&&X(t,!1)})),"range"===m.config.mode&&m.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function ft(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?m.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:m.parseDate(t.from,void 0),to:m.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function dt(t,e){if(void 0!==m.config){var n=m.config[t];if(void 0!==n&&n.length>0)for(var r=0;n[r]&&r<n.length;r++)n[r](m.selectedDates,m.input.value,m,e);"onChange"===t&&(m.input.dispatchEvent(ht("change")),m.input.dispatchEvent(ht("input")))}}function ht(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function pt(t){for(var e=0;e<m.selectedDates.length;e++)if(0===w(m.selectedDates[e],t))return""+e;return!1}function mt(){m.config.noCalendar||m.isMobile||!m.monthNav||(m.yearElements.forEach((function(t,e){var n=new Date(m.currentYear,m.currentMonth,1);n.setMonth(m.currentMonth+e),m.config.showMonths>1||"static"===m.config.monthSelectorType?m.monthElements[e].textContent=p(n.getMonth(),m.config.shorthandCurrentMonth,m.l10n)+" ":m.monthsDropdownContainer.value=n.getMonth().toString(),t.value=n.getFullYear().toString()})),m._hidePrevMonthArrow=void 0!==m.config.minDate&&(m.currentYear===m.config.minDate.getFullYear()?m.currentMonth<=m.config.minDate.getMonth():m.currentYear<m.config.minDate.getFullYear()),m._hideNextMonthArrow=void 0!==m.config.maxDate&&(m.currentYear===m.config.maxDate.getFullYear()?m.currentMonth+1>m.config.maxDate.getMonth():m.currentYear>m.config.maxDate.getFullYear()))}function gt(t){return m.selectedDates.map((function(e){return m.formatDate(e,t)})).filter((function(t,e,n){return"range"!==m.config.mode||m.config.enableTime||n.indexOf(t)===e})).join("range"!==m.config.mode?m.config.conjunction:m.l10n.rangeSeparator)}function vt(t){void 0===t&&(t=!0),void 0!==m.mobileInput&&m.mobileFormatStr&&(m.mobileInput.value=void 0!==m.latestSelectedDateObj?m.formatDate(m.latestSelectedDateObj,m.mobileFormatStr):""),m.input.value=gt(m.config.dateFormat),void 0!==m.altInput&&(m.altInput.value=gt(m.config.altFormat)),!1!==t&&dt("onValueUpdate")}function yt(t){var e=m.prevMonthNav.contains(t.target),n=m.nextMonthNav.contains(t.target);e||n?G(e?-1:1):m.yearElements.indexOf(t.target)>=0?t.target.select():t.target.classList.contains("arrowUp")?m.changeYear(m.currentYear+1):t.target.classList.contains("arrowDown")&&m.changeYear(m.currentYear-1)}return function(){m.element=m.input=e,m.isOpen=!1,function(){var o=["wrap","weekNumbers","allowInput","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=t({},h,JSON.parse(JSON.stringify(e.dataset||{}))),a={};m.config.parseDate=i.parseDate,m.config.formatDate=i.formatDate,Object.defineProperty(m.config,"enable",{get:function(){return m.config._enable},set:function(t){m.config._enable=ft(t)}}),Object.defineProperty(m.config,"disable",{get:function(){return m.config._disable},set:function(t){m.config._disable=ft(t)}});var s="time"===i.mode;if(!i.dateFormat&&(i.enableTime||s)){var l=C.defaultConfig.dateFormat||r.dateFormat;a.dateFormat=i.noCalendar||s?"H:i"+(i.enableSeconds?":S":""):l+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||s)&&!i.altFormat){var c=C.defaultConfig.altFormat||r.altFormat;a.altFormat=i.noCalendar||s?"h:i"+(i.enableSeconds?":S K":" K"):c+" h:i"+(i.enableSeconds?":S":"")+" K"}i.altInputClass||(m.config.altInputClass=m.input.className+" "+m.config.altInputClass),Object.defineProperty(m.config,"minDate",{get:function(){return m.config._minDate},set:rt("min")}),Object.defineProperty(m.config,"maxDate",{get:function(){return m.config._maxDate},set:rt("max")});var f=function(t){return function(e){m.config["min"===t?"_minTime":"_maxTime"]=m.parseDate(e,"H:i:S")}};Object.defineProperty(m.config,"minTime",{get:function(){return m.config._minTime},set:f("min")}),Object.defineProperty(m.config,"maxTime",{get:function(){return m.config._maxTime},set:f("max")}),"time"===i.mode&&(m.config.noCalendar=!0,m.config.enableTime=!0),Object.assign(m.config,a,i);for(var d=0;d<o.length;d++)m.config[o[d]]=!0===m.config[o[d]]||"true"===m.config[o[d]];for(n.filter((function(t){return void 0!==m.config[t]})).forEach((function(t){m.config[t]=u(m.config[t]||[]).map(v)})),m.isMobile=!m.config.disableMobile&&!m.config.inline&&"single"===m.config.mode&&!m.config.disable.length&&!m.config.enable.length&&!m.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),d=0;d<m.config.plugins.length;d++){var p=m.config.plugins[d](m)||{};for(var g in p)n.indexOf(g)>-1?m.config[g]=u(p[g]).map(v).concat(m.config[g]):void 0===i[g]&&(m.config[g]=p[g])}dt("onParseConfig")}(),ot(),m.input=m.config.wrap?e.querySelector("[data-input]"):e,m.input?(m.input._type=m.input.type,m.input.type="text",m.input.classList.add("flatpickr-input"),m._input=m.input,m.config.altInput&&(m.altInput=c(m.input.nodeName,m.config.altInputClass),m._input=m.altInput,m.altInput.placeholder=m.input.placeholder,m.altInput.disabled=m.input.disabled,m.altInput.required=m.input.required,m.altInput.tabIndex=m.input.tabIndex,m.altInput.type="text",m.input.setAttribute("type","hidden"),!m.config.static&&m.input.parentNode&&m.input.parentNode.insertBefore(m.altInput,m.input.nextSibling)),m.config.allowInput||m._input.setAttribute("readonly","readonly"),m._positionElement=m.config.positionElement||m._input):m.config.errorHandler(new Error("Invalid input element specified")),function(){m.selectedDates=[],m.now=m.parseDate(m.config.now)||new Date;var t=m.config.defaultDate||("INPUT"!==m.input.nodeName&&"TEXTAREA"!==m.input.nodeName||!m.input.placeholder||m.input.value!==m.input.placeholder?m.input.value:null);t&&ct(t,m.config.dateFormat),m._initialDate=m.selectedDates.length>0?m.selectedDates[0]:m.config.minDate&&m.config.minDate.getTime()>m.now.getTime()?m.config.minDate:m.config.maxDate&&m.config.maxDate.getTime()<m.now.getTime()?m.config.maxDate:m.now,m.currentYear=m._initialDate.getFullYear(),m.currentMonth=m._initialDate.getMonth(),m.selectedDates.length>0&&(m.latestSelectedDateObj=m.selectedDates[0]),void 0!==m.config.minTime&&(m.config.minTime=m.parseDate(m.config.minTime,"H:i")),void 0!==m.config.maxTime&&(m.config.maxTime=m.parseDate(m.config.maxTime,"H:i")),m.minDateHasTime=!!m.config.minDate&&(m.config.minDate.getHours()>0||m.config.minDate.getMinutes()>0||m.config.minDate.getSeconds()>0),m.maxDateHasTime=!!m.config.maxDate&&(m.config.maxDate.getHours()>0||m.config.maxDate.getMinutes()>0||m.config.maxDate.getSeconds()>0),Object.defineProperty(m,"showTimeInput",{get:function(){return m._showTimeInput},set:function(t){m._showTimeInput=t,m.calendarContainer&&l(m.calendarContainer,"showTimeInput",t),m.isOpen&&it()}})}(),m.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=m.currentMonth),void 0===e&&(e=m.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:m.l10n.daysInMonth[t]}},m.isMobile||function(){var t=window.document.createDocumentFragment();if(m.calendarContainer=c("div","flatpickr-calendar"),m.calendarContainer.tabIndex=-1,!m.config.noCalendar){if(t.appendChild((m.monthNav=c("div","flatpickr-months"),m.yearElements=[],m.monthElements=[],m.prevMonthNav=c("span","flatpickr-prev-month"),m.prevMonthNav.innerHTML=m.config.prevArrow,m.nextMonthNav=c("span","flatpickr-next-month"),m.nextMonthNav.innerHTML=m.config.nextArrow,W(),Object.defineProperty(m,"_hidePrevMonthArrow",{get:function(){return m.__hidePrevMonthArrow},set:function(t){m.__hidePrevMonthArrow!==t&&(l(m.prevMonthNav,"flatpickr-disabled",t),m.__hidePrevMonthArrow=t)}}),Object.defineProperty(m,"_hideNextMonthArrow",{get:function(){return m.__hideNextMonthArrow},set:function(t){m.__hideNextMonthArrow!==t&&(l(m.nextMonthNav,"flatpickr-disabled",t),m.__hideNextMonthArrow=t)}}),m.currentYearElement=m.yearElements[0],mt(),m.monthNav)),m.innerContainer=c("div","flatpickr-innerContainer"),m.config.weekNumbers){var e=function(){m.calendarContainer.classList.add("hasWeeks");var t=c("div","flatpickr-weekwrapper");t.appendChild(c("span","flatpickr-weekday",m.l10n.weekAbbreviation));var e=c("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),n=e.weekWrapper,r=e.weekNumbers;m.innerContainer.appendChild(n),m.weekNumbers=r,m.weekWrapper=n}m.rContainer=c("div","flatpickr-rContainer"),m.rContainer.appendChild(V()),m.daysContainer||(m.daysContainer=c("div","flatpickr-days"),m.daysContainer.tabIndex=-1),H(),m.rContainer.appendChild(m.daysContainer),m.innerContainer.appendChild(m.rContainer),t.appendChild(m.innerContainer)}m.config.enableTime&&t.appendChild(function(){m.calendarContainer.classList.add("hasTime"),m.config.noCalendar&&m.calendarContainer.classList.add("noCalendar"),m.timeContainer=c("div","flatpickr-time"),m.timeContainer.tabIndex=-1;var t=c("span","flatpickr-time-separator",":"),e=d("flatpickr-hour",{"aria-label":m.l10n.hourAriaLabel});m.hourElement=e.getElementsByTagName("input")[0];var n=d("flatpickr-minute",{"aria-label":m.l10n.minuteAriaLabel});if(m.minuteElement=n.getElementsByTagName("input")[0],m.hourElement.tabIndex=m.minuteElement.tabIndex=-1,m.hourElement.value=i(m.latestSelectedDateObj?m.latestSelectedDateObj.getHours():m.config.time_24hr?m.config.defaultHour:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(m.config.defaultHour)),m.minuteElement.value=i(m.latestSelectedDateObj?m.latestSelectedDateObj.getMinutes():m.config.defaultMinute),m.hourElement.setAttribute("step",m.config.hourIncrement.toString()),m.minuteElement.setAttribute("step",m.config.minuteIncrement.toString()),m.hourElement.setAttribute("min",m.config.time_24hr?"0":"1"),m.hourElement.setAttribute("max",m.config.time_24hr?"23":"12"),m.minuteElement.setAttribute("min","0"),m.minuteElement.setAttribute("max","59"),m.timeContainer.appendChild(e),m.timeContainer.appendChild(t),m.timeContainer.appendChild(n),m.config.time_24hr&&m.timeContainer.classList.add("time24hr"),m.config.enableSeconds){m.timeContainer.classList.add("hasSeconds");var r=d("flatpickr-second");m.secondElement=r.getElementsByTagName("input")[0],m.secondElement.value=i(m.latestSelectedDateObj?m.latestSelectedDateObj.getSeconds():m.config.defaultSeconds),m.secondElement.setAttribute("step",m.minuteElement.getAttribute("step")),m.secondElement.setAttribute("min","0"),m.secondElement.setAttribute("max","59"),m.timeContainer.appendChild(c("span","flatpickr-time-separator",":")),m.timeContainer.appendChild(r)}return m.config.time_24hr||(m.amPM=c("span","flatpickr-am-pm",m.l10n.amPM[a((m.latestSelectedDateObj?m.hourElement.value:m.config.defaultHour)>11)]),m.amPM.title=m.l10n.toggleTitle,m.amPM.tabIndex=-1,m.timeContainer.appendChild(m.amPM)),m.timeContainer}()),l(m.calendarContainer,"rangeMode","range"===m.config.mode),l(m.calendarContainer,"animate",!0===m.config.animate),l(m.calendarContainer,"multiMonth",m.config.showMonths>1),m.calendarContainer.appendChild(t);var o=void 0!==m.config.appendTo&&void 0!==m.config.appendTo.nodeType;if((m.config.inline||m.config.static)&&(m.calendarContainer.classList.add(m.config.inline?"inline":"static"),m.config.inline&&(!o&&m.element.parentNode?m.element.parentNode.insertBefore(m.calendarContainer,m._input.nextSibling):void 0!==m.config.appendTo&&m.config.appendTo.appendChild(m.calendarContainer)),m.config.static)){var s=c("div","flatpickr-wrapper");m.element.parentNode&&m.element.parentNode.insertBefore(s,m.element),s.appendChild(m.element),m.altInput&&s.appendChild(m.altInput),s.appendChild(m.calendarContainer)}m.config.static||m.config.inline||(void 0!==m.config.appendTo?m.config.appendTo:window.document.body).appendChild(m.calendarContainer)}(),function(){if(m.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(m.element.querySelectorAll("[data-"+t+"]"),(function(e){return D(e,"click",m[t])}))})),m.isMobile)!function(){var t=m.config.enableTime?m.config.noCalendar?"time":"datetime-local":"date";m.mobileInput=c("input",m.input.className+" flatpickr-mobile"),m.mobileInput.step=m.input.getAttribute("step")||"any",m.mobileInput.tabIndex=1,m.mobileInput.type=t,m.mobileInput.disabled=m.input.disabled,m.mobileInput.required=m.input.required,m.mobileInput.placeholder=m.input.placeholder,m.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",m.selectedDates.length>0&&(m.mobileInput.defaultValue=m.mobileInput.value=m.formatDate(m.selectedDates[0],m.mobileFormatStr)),m.config.minDate&&(m.mobileInput.min=m.formatDate(m.config.minDate,"Y-m-d")),m.config.maxDate&&(m.mobileInput.max=m.formatDate(m.config.maxDate,"Y-m-d")),m.input.type="hidden",void 0!==m.altInput&&(m.altInput.type="hidden");try{m.input.parentNode&&m.input.parentNode.insertBefore(m.mobileInput,m.input.nextSibling)}catch(t){}D(m.mobileInput,"change",(function(t){m.setDate(t.target.value,!1,m.mobileFormatStr),dt("onChange"),dt("onClose")}))}();else{var t=s(et,50);m._debouncedChange=s(P,300),m.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&D(m.daysContainer,"mouseover",(function(t){"range"===m.config.mode&&tt(t.target)})),D(window.document.body,"keydown",Q),m.config.inline||m.config.static||D(window,"resize",t),void 0!==window.ontouchstart?D(window.document,"touchstart",K):D(window.document,"mousedown",N(K)),D(window.document,"focus",K,{capture:!0}),!0===m.config.clickOpens&&(D(m._input,"focus",m.open),D(m._input,"mousedown",N(m.open))),void 0!==m.daysContainer&&(D(m.monthNav,"mousedown",N(yt)),D(m.monthNav,["keyup","increment"],A),D(m.daysContainer,"mousedown",N(ut))),void 0!==m.timeContainer&&void 0!==m.minuteElement&&void 0!==m.hourElement&&(D(m.timeContainer,["increment"],k),D(m.timeContainer,"blur",k,{capture:!0}),D(m.timeContainer,"mousedown",N(L)),D([m.hourElement,m.minuteElement],["focus","click"],(function(t){return t.target.select()})),void 0!==m.secondElement&&D(m.secondElement,"focus",(function(){return m.secondElement&&m.secondElement.select()})),void 0!==m.amPM&&D(m.amPM,"mousedown",N((function(t){k(t),P()}))))}}(),(m.selectedDates.length||m.config.noCalendar)&&(m.config.enableTime&&T(m.config.noCalendar?m.latestSelectedDateObj||m.config.minDate:void 0),vt(!1)),_(),m.showTimeInput=m.selectedDates.length>0||m.config.noCalendar;var o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!m.isMobile&&o&&it(),dt("onReady")}(),m}function k(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),r=[],o=0;o<n.length;o++){var i=n[o];try{if(null!==i.getAttribute("data-fp-omit"))continue;void 0!==i._flatpickr&&(i._flatpickr.destroy(),i._flatpickr=void 0),i._flatpickr=_(i,e||{}),r.push(i._flatpickr)}catch(t){}}return 1===r.length?r[0]:r}"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var r=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},o=0,i=e;o<i.length;o++){var a=i[o];r(a)}return t}),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return k(this,t)},HTMLElement.prototype.flatpickr=function(t){return k([this],t)});var C=function(t,e){return"string"==typeof t?k(window.document.querySelectorAll(t),e):t instanceof Node?k([t],e):k(t,e)};return C.defaultConfig={},C.l10ns={en:t({},o),default:t({},o)},C.localize=function(e){C.l10ns.default=t({},C.l10ns.default,e)},C.setDefaults=function(e){C.defaultConfig=t({},C.defaultConfig,e)},C.parseDate=b({}),C.formatDate=y({}),C.compareDates=w,void 0!==e&&void 0!==e.fn&&(e.fn.flatpickr=function(t){return k(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=C),C}()}).call(this,n("EVdn"))},zwj5:function(t,e){!function(t){"use strict";var e,n,r,o,i=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){},s=function(t){return function(){return t}},u=s(!1),l=s(!0),c=function(){return f},f=(e=function(t){return t.isNone()},{fold:function(t,e){return t()},is:u,isSome:u,isNone:l,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:s(null),getOrUndefined:s(void 0),or:r,orThunk:n,map:c,each:a,bind:c,exists:u,forall:l,filter:c,equals:e,equals_:e,toArray:function(){return[]},toString:s("none()")}),d=function(t){var e=s(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:l,isNone:u,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return d(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:f},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,(function(e){return n(t,e)}))}};return o},h=function(t){return null==t?f:d(t)},p=function(t){return function(e){return typeof e===t}},m=function(t){return function(e){return r=typeof(n=e),(null===n?"null":"object"===r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"===r&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":r)===t;var n,r}}("string"),g=p("boolean"),v=p("number"),y=function(t,e){for(var n=0,r=t.length;n<r;n++){e(t[n],n)}},b=Object.keys,w=function(t,e){for(var n=b(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}},x=(void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeValue}),_=(o=3,function(t){return function(t){return t.dom().nodeType}(t)===o}),k=function(e,n,r){!function(e,n,r){if(!(m(r)||g(r)||v(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")}(e.dom(),n,r)},C=function(t,e){t.dom().removeAttribute(e)},S=function(t,e){var n=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n}(t,e);return void 0===n||""===n?[]:n.split(" ")},T=function(t){return void 0!==t.dom().classList},E=function(t,e){return function(t,e,n){var r=S(t,e).concat([n]);return k(t,e,r.join(" ")),!0}(t,"class",e)},O=function(t,e){return function(t,e,n){var r=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n}(S(t,e),(function(t){return t!==n}));return r.length>0?k(t,e,r.join(" ")):C(t,e),!1}(t,"class",e)},A=function(t){0===(T(t)?t.dom().classList:function(t){return S(t,"class")}(t)).length&&C(t,"class")},D=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:s(t)}},N={fromHtml:function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return D(r.childNodes[0])},fromTag:function(e,n){var r=(n||t.document).createElement(e);return D(r)},fromText:function(e,n){var r=(n||t.document).createTextNode(e);return D(r)},fromDom:D,fromPoint:function(t,e,n){var r=t.dom();return h(r.elementFromPoint(e,n)).map(D)}},P={" ":"nbsp","­":"shy"},M=function(t,e){var n="";return w(t,(function(t,e){n+=e})),new RegExp("["+n+"]",e?"g":"")},L=M(P),R=M(P,!0),I=function(t){var e="";return w(t,(function(t){e&&(e+=","),e+="span.mce-"+t})),e}(P),B=function(t){return'<span data-mce-bogus="1" class="mce-'+P[t]+'">'+t+"</span>"},F=function(t){var e=x(t);return _(t)&&void 0!==e&&L.test(e)},j=function(t,e){var n=[],r=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r}(t.dom().childNodes,N.fromDom);return y(r,(function(t){e(t)&&(n=n.concat([t])),n=n.concat(j(t,e))})),n},z=function(t){return"span"===t.nodeName.toLowerCase()&&t.classList.contains("mce-nbsp-wrap")},H=function(t,e){var n=j(N.fromDom(e),F);y(n,(function(e){var n,r,o=e.dom().parentNode;if(z(o))n=N.fromDom(o),r="mce-nbsp",T(n)?n.dom().classList.add(r):E(n,r);else{for(var i=t.dom.encode(x(e)).replace(R,B),a=t.dom.create("div",null,i),s=void 0;s=a.lastChild;)t.dom.insertAfter(s,e.dom());t.dom.remove(e.dom())}}))},q=function(t,e){var n=t.dom.select(I,e);y(n,(function(e){z(e)?function(t,e){T(t)?t.dom().classList.remove(e):O(t,e);A(t)}(N.fromDom(e),"mce-nbsp"):t.dom.remove(e,!0)}))},U=function(t){var e=t.getBody(),n=t.selection.getBookmark(),r=function(t,e){for(;t.parentNode;){if(t.parentNode===e)return t;t=t.parentNode}}(t.selection.getNode(),e);q(t,r=void 0!==r?r:e),H(t,r),t.selection.moveToBookmark(n)},W=function(t,e){var n=t.getBody(),r=t.selection;e.set(!e.get()),function(t,e){t.fire("VisualChars",{state:e})}(t,e.get());var o=r.getBookmark();!0===e.get()?H(t,n):q(t,n),r.moveToBookmark(o)},V=tinymce.util.Tools.resolve("tinymce.util.Delay"),$=function(t,e){return function(n){n.setActive(e.get());var r=function(t){return n.setActive(t.state)};return t.on("VisualChars",r),function(){return t.off("VisualChars",r)}}};i.add("visualchars",(function(t){var e=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}}(!1);return function(t,e){t.addCommand("mceVisualChars",(function(){W(t,e)}))}(t,e),function(t,e){t.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return t.execCommand("mceVisualChars")},onSetup:$(t,e)}),t.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return t.execCommand("mceVisualChars")},onSetup:$(t,e)})}(t,e),function(t,e){var n=V.debounce((function(){U(t)}),300);(function(t){return!1!==t.getParam("forced_root_block")})(t)&&t.on("keydown",(function(r){!0===e.get()&&(13===r.keyCode?U(t):n())}))}(t,e),function(t,e){t.on("init",(function(){var n=!function(t){return t.getParam("visualchars_default_state",!1)}(t);e.set(n),W(t,e)}))}(t,e),function(t){return{isEnabled:function(){return t.get()}}}(e)}))}(window)}}]);